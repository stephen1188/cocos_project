window.__require = function e(i, t, a) {
function n(c, o) {
if (!t[c]) {
if (!i[c]) {
var h = c.split("/");
h = h[h.length - 1];
if (!i[h]) {
var r = "function" == typeof __require && __require;
if (!o && r) return r(h, !0);
if (s) return s(h, !0);
throw new Error("Cannot find module '" + c + "'");
}
}
var l = t[c] = {
exports: {}
};
i[c][0].call(l.exports, function(e) {
return n(i[c][1][e] || e);
}, l, l.exports, e, i, t, a);
}
return t[c].exports;
}
for (var s = "function" == typeof __require && __require, c = 0; c < a.length; c++) n(a[c]);
return n;
}({
AdminSet: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "4fd29MHS3xFkaU0+o5TZrLA", "AdminSet");
cc.Class({
extends: cc.Component,
properties: {
lblName: cc.Label,
lblID: cc.Label,
head: cc.Node,
toggle: cc.Toggle,
_job: 0,
_state: !1
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
"NormalUser" == this.node.name || (this.node.width = e);
}
},
init: function(e) {
this.lblName.string = e.name;
this.lblID.string = e.userid;
this.head.getComponent("ImageLoader").loadImg(e.headimg);
this._job = e.job;
if (this.toggle) {
this.toggle.isChecked = 2 === e.job;
this._state = this.toggle.isChecked;
}
},
check: function(e, i) {
this.toggle.isChecked = !this.toggle.isChecked;
cc.vv.audioMgr.click();
var t = 1;
this.toggle.isChecked && (t = 2);
this.resetJob(t);
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
var i = this;
switch (e.target.name) {
case "btn_del":
this.resetJob(0);
break;

case "detail":
cc.vv.popMgr.wait("正在查看成员胜点清单", function() {
cc.vv.net1.quick("club_pwb_list", {
club_id: cc.vv.userMgr.club_id,
player_id: i.lblID.string,
type: 0
});
});
}
},
resetJob: function(e) {
var i = this;
cc.vv.popMgr.wait("正在修改管理员设置", function() {
cc.vv.net1.quick("club_user_admin", {
club_id: cc.vv.userMgr.club_id,
user_id: i.lblID.string,
is_admin: e
});
});
}
});
cc._RF.pop();
}, {} ],
Alert: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f78eeuoQ6RPKKz+lmYGFHRy", "Alert");
cc.Class({
extends: cc.Component,
properties: {
_btnOK: null,
_btnBack: null,
_content: null,
_onok: null,
_oncancel: null
},
onLoad: function() {
this._content = this.node.getChildByName("content").getComponent(cc.Label);
this._btnOK = this.node.getChildByName("btns").getChildByName("btn_ok");
this._btnBack = this.node.getChildByName("btns").getChildByName("btn_back");
cc.vv.utils.addClickEvent(this._btnOK, this.node, "Alert", "onBtnClicked");
cc.vv.utils.addClickEvent(this._btnBack, this.node, "Alert", "onBtnClicked");
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
"btn_ok" == e.target.name ? this._onok && this._onok() : "btn_back" == e.target.name && this._oncancel && this._oncancel();
cc.vv.utils.popRemove(this.node);
},
show: function(e, i, t, a) {
this.node.active = !0;
this._onok = i;
this._oncancel = a;
this._content.string = e;
this._btnBack.active = !!t;
}
});
cc._RF.pop();
}, {} ],
ApplyManage: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "1c8919rT39BqZxZ+3KS22ft", "ApplyManage");
cc.Class({
extends: cc.Component,
properties: {
lblName: cc.Label,
lblID: cc.Label,
head: cc.Node,
friend: cc.Node,
master_id: cc.Label,
master_name: cc.Label
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
},
show: function(e) {
this.lblName.string = e.name;
this.lblID.string = e.userid;
this.head.getComponent("ImageLoader").loadImg(e.headimg);
this._masterid = e.master_id;
if (e.master_id) {
this.friend.active = !0;
this.master_id.string = e.master_id;
this.master_name.string = e.master_name;
}
},
onBtnClicked: function(e) {
var i = this._masterid ? "_" + this._masterid : "";
switch (e.target.name) {
case "btn_agree":
cc.vv.net1.quick("club_user_review", {
club_id: cc.vv.userMgr.club_id,
user_id: "" + this.lblID.string + i
});
this.node.destroy();
break;

case "btn_disagree":
cc.vv.net1.quick("club_user_refused", {
club_id: cc.vv.userMgr.club_id,
user_id: "" + this.lblID.string + i
});
this.node.destroy();
}
}
});
cc._RF.pop();
}, {} ],
AudioMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d07b3t/tjlPWJk6Y6z1NUuP", "AudioMgr");
cc.Class({
extends: cc.Component,
properties: {
bgmVolume: 1,
sfxVolume: 1,
bgmAudioID: -1
},
init: function() {
var e, i = this;
null != (e = cc.sys.localStorage.getItem("bgmVolume")) ? this.bgmVolume = parseFloat(e) : cc.sys.localStorage.setItem("bgmVolume", this.bgmVolume);
null != (e = cc.sys.localStorage.getItem("sfxVolume")) ? this.sfxVolume = parseFloat(e) : cc.sys.localStorage.setItem("sfxVolume", this.sfxVolume);
i.pauseTime = 0;
cc.game.on(cc.game.EVENT_HIDE, function() {
cc.audioEngine.pauseAll();
i.pauseTime = new Date().getTime();
});
cc.game.on(cc.game.EVENT_SHOW, function() {
cc.audioEngine.resumeAll();
});
cc.audioEngine.stopAll();
},
getUrl: function(e) {
return "sounds/" + e;
},
playBGM: function(e) {
var i = this, t = this.getUrl(e);
cc.vv.log3.debug(t);
this.bgmAudioID >= 0 && cc.audioEngine.stop(this.bgmAudioID);
cc.loader.loadRes(t, cc.AudioClip, function(e, t) {
e || (i.bgmAudioID = cc.audioEngine.play(t, !1, i.bgmVolume));
});
},
playSFX: function(e) {
var i = this, t = this.getUrl(e);
if (!(this.sfxVolume > 0)) return -1;
cc.loader.loadRes(t, cc.AudioClip, function(e, t) {
return e ? -1 : cc.audioEngine.play(t, !1, i.sfxVolume);
});
},
playSFXRepeat: function(e, i) {
var t = this, a = -1, n = this.getUrl(e);
if (this.sfxVolume > 0) cc.loader.loadRes(n, cc.AudioClip, function(e, n) {
e && (a = -1);
a = cc.audioEngine.play(n, !0, t.sfxVolume);
i && i(a);
}); else {
a = -1;
i && i(a);
}
},
stopSFX: function(e) {
this.sfxVolume > 0 && -1 != e && null != e && cc.audioEngine.stop(e);
},
click: function() {
this.playSFX("btn_click");
},
setSFXVolume: function(e) {
this.sfxVolume != e && (this.sfxVolume = e);
},
setBGMVolume: function(e, i) {
if (this.bgmAudioID >= 0 && (this.bgmVolume != e || i)) {
this.bgmVolume = e;
cc.audioEngine.setVolume(this.bgmAudioID, e);
}
},
pauseAll: function() {
cc.audioEngine.pauseAll();
},
resumeAll: function() {
cc.audioEngine.resumeAll();
}
});
cc._RF.pop();
}, {} ],
BZQBaiPai: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c625eZA+TVKBqltUfMUxYDI", "BZQBaiPai");
var a = [ cc.v2(-410, 304), cc.v2(-118, 304), cc.v2(250, 304) ], n = [ 75, 75, 75 ], s = [ 2, 3, 3 ];
cc.Class({
extends: cc.Component,
properties: {
itemPrefab: cc.Prefab
},
onLoad: function() {
this.noMove = !1;
this.sszGame = this.node.getComponent("BZQGame");
this.nodeBaiPai = this.node.getChildByName("ID_LAYOUT_BAIPAI");
this.nodeXuanPai = this.node.getChildByName("ID_LAYOUT_XUANPAI");
this.nodeHandList = this.nodeBaiPai.getChildByName("card_layout");
this.nodePaiBtn = this.nodeBaiPai.getChildByName("Pai_btn");
var e = this.nodeBaiPai.getComponent(cc.Button);
e.node.on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
e.node.on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
e.node.on(cc.Node.EventType.TOUCH_END, this.touchend, this);
this.vecCandSelect = [];
var i = this.nodeBaiPai.getChildByName("FdCardSelect"), t = this.nodeBaiPai.getChildByName("SdCardSelect"), a = this.nodeBaiPai.getChildByName("TdCardSelect");
this.vecCandSelect.push(i);
this.vecCandSelect.push(t);
this.vecCandSelect.push(a);
this.hideDaoCandSelect();
this.vecCardTypeTips = [];
var n = this.nodeBaiPai.getChildByName("FDCt"), s = this.nodeBaiPai.getChildByName("SDCt"), c = this.nodeBaiPai.getChildByName("TDCt");
this.vecCardTypeTips.push(n);
this.vecCardTypeTips.push(s);
this.vecCardTypeTips.push(c);
this.hideCardTypeTips(-1);
this.autoCheckOne = !0;
},
showDaoTypeTip: function(e, i) {
this.vecCardTypeTips[e].active = !0;
var t = null, a = this.sszGame.getCardTypeInfo(i), n = 1;
0 == e ? n = a.FD : 1 == e ? n = a.SD : 2 == e && (n = a.TD);
t = n > 1 ? "cardtype_specile_bg" : "cardtype_nomal_bg";
this.vecCardTypeTips[e].getComponent(cc.Sprite).spriteFrame = this.sszGame.getCardTypeBgSpriteFrame(t);
this.vecCardTypeTips[e].getChildByName("typeTitle").getComponent(cc.Sprite).spriteFrame = this.sszGame.getCardTypeSpriteFrame(i);
this.daoTypeVec[e][0] = i;
},
hideCardTypeTips: function(e) {
if (-1 == e) {
for (var i = 0; i < this.vecCardTypeTips.length; i++) this.vecCardTypeTips[i].active = !1;
this.daoTypeVec = [ [ -1, [] ], [ -1, [] ], [ -1, [] ] ];
} else {
this.vecCardTypeTips[e].active = !1;
this.daoTypeVec[e][0] = -1;
this.daoTypeVec[e][1] = [];
}
},
showDaoCandSelect: function(e) {
for (var i = 0; i < s.length; i++) s[i] == e && (this.vecCandSelect[i].active = !0);
},
hideDaoCandSelect: function() {
for (var e = 0; e < s.length; e++) this.vecCandSelect[e].active = !1;
},
selectCard: function(e, i) {
e.setSelect(i);
for (var t = this.getSelectPaiList(1), a = 0; a < s.length; a++) if (t.length == s[a]) {
0 == this.getDaoPaiList(a).length ? this.vecCandSelect[a].active = !0 : this.vecCandSelect[a].active = !1;
} else this.vecCandSelect[a].active = !1;
},
isInRect: function(e) {
for (var i = this.nodeHandList.childrenCount - 1; i > -1; --i) {
var t = this.nodeHandList.children[i];
if (t.getBoundingBox().contains(e)) {
t.color = new cc.Color(150, 150, 150);
t.isChiose = !0;
return t;
}
}
return null;
},
touchstart: function(e) {
if (this.noMove) return !1;
e.stopPropagation();
var i = this.nodeHandList.convertToNodeSpace(e.getLocation());
if (this.isInRect(i)) return !0;
this.setAllCardUnSelected();
return !1;
},
touchmove: function(e) {
if (!this.noMove) {
e.stopPropagation();
var i = this.nodeHandList.convertToNodeSpace(e.getLocation());
this.isInRect(i);
}
},
touchend: function(e) {
if (!this.noMove) {
for (var i = 0, t = 0; t < this.nodeHandList.childrenCount; ++t) {
var a = this.nodeHandList.children[t];
if (a.isChiose) {
i++;
a.color = new cc.Color(255, 255, 255);
var n = a.getComponent("SSZBaiPaiCard");
this.selectCard(n, n.isSelect() ? 0 : 1);
a.isChiose = !1;
}
}
i > 0 && cc.vv.audioMgr.click();
}
},
fisrtFaPai: function() {
var e = this;
this.noMove = !0;
var i = this.getDaoPaiList(-1);
this.showFunction(0 == i.length);
for (var t = e.nodePaiBtn.children, a = 0; a < t.length; ++a) t[a].getComponent(cc.Button).interactable = !1;
this.teshu = 0;
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("spcard").active = !1;
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("teshu").getComponent(cc.Button).interactable = !1;
var n = 0;
for (a = 0; a < i.length; a++) {
a % 2 == 0 && n++;
i[a].runAction(cc.sequence(cc.delayTime(.2 * n), cc.callFunc(function() {
12 != a && cc.vv.audioMgr.playSFX("sfx/flop");
}), cc.moveTo(.2, cc.v2(84 * a - 290)), cc.callFunc(function() {
this.zIndex = a;
e.fapaiOver();
}, this)));
}
this.setAllCardUnSelected();
},
fapaiOver: function() {
this.fapaiSum++;
if (8 == this.fapaiSum) {
this.noMove = !1;
for (var e = this.getDaoPaiList(-1), i = 0; i < e.length; i++) {
var t = e[i].getComponent("SSZBaiPaiCard");
t.setPai(this.baipaiHand[i]);
t.setMaPai(this.sszGame.mapai);
}
this.updatePaiBtn();
this.checkSpecialCard();
}
},
clearBaiPaiUi: function() {
this.nodeHandList.removeAllChildren();
this.hideCardTypeTips(-1);
this.showFunction(!1);
},
initBaiPaiList: function() {
this.nodeHandList.removeAllChildren();
this.selectHand = [ [ 0, 0 ], [ 0, 0, 0 ], [ 0, 0, 0 ] ];
this.daoTypeVec = [ [ -1, [] ], [ -1, [] ], [ -1, [] ] ];
this.hideCardTypeTips(-1);
this.lastPaiList = [ -1, -1 ];
this.spGroup = [];
this.fapaiSum = 0;
for (var e = 0; e < this.baipaiHand.length; e++) {
var i = cc.instantiate(this.itemPrefab), t = i.getComponent("SSZBaiPaiCard");
t.setTaget(this);
t.setDao(-1);
t.setPai(255);
i.zIndex = e;
i.x = 480;
t.setMaPai(this.sszGame.mapai);
i.scaleX = 1.18;
i.scaleY = 1.2;
this.nodeHandList.addChild(i, 0, e);
}
this.fisrtFaPai();
},
setHandPai: function(e) {
this.baipaiHand = [];
for (var i = 0; i < 8; i++) this.baipaiHand.push(e[i]);
this.sszGame.SortSelectCardList(this.baipaiHand, 8);
},
initBaiPaiListX: function() {
this.noMove = !1;
var e = this.getDaoPaiList(-1);
this.updatePaiBtn();
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("spcard").active = 1 == this.teshu;
this.checkDaoDaoShui();
if (0 != e.length) {
e[0].x = -84 * (e.length - 1) / 2;
e[0].zIndex = 0;
for (var i = 1; i < e.length; i++) {
e[i].x = e[i - 1].x + 84;
e[i].zIndex = i;
}
this.setAllCardUnSelected();
}
},
cardCallback: function(e) {
var i = e.getComponent("SSZBaiPaiCard"), t = i.getDao();
this.selectHand[i.getDao()][i.getIndex()] = 0;
this.selectCard(i, 0);
i.setDao(-1);
i.setIndex(-1);
this.runBaiPaiAction(.2, e, cc.v2(0, 0), !0, !1);
this.fillNullIndex(t);
this.toTeshu0();
},
checkOne: function() {
var e = null, i = this.getDaoPaiList(-1);
if (!this.autoCheckOne) return !1;
if (i.length > 3 || 0 == i.length) return !1;
if (0 == this.getDaoNullIndex(0)) {
for (var t = [], a = 0; a < i.length; a++) {
e = i[a].getComponent("SSZBaiPaiCard");
t.push(e.getPai());
}
if (2 == t.length) {
e = i[0].getComponent("SSZBaiPaiCard");
this.selectCard(e, 1);
e = i[1].getComponent("SSZBaiPaiCard");
this.selectCard(e, 1);
this.onDaoClick(null, 0);
return !0;
}
if (66 == t[0] || 67 == t[0]) {
e = i[0].getComponent("SSZBaiPaiCard");
this.selectCard(e, 1);
if (t[1] % 16 >= t[2] % 16) {
e = i[1].getComponent("SSZBaiPaiCard");
this.selectCard(e, 1);
} else {
e = i[2].getComponent("SSZBaiPaiCard");
this.selectCard(e, 1);
}
this.onDaoClick(null, 0);
return !0;
}
if (t[0] % 16 == t[1] % 16) {
e = i[0].getComponent("SSZBaiPaiCard");
this.selectCard(e, 1);
e = i[1].getComponent("SSZBaiPaiCard");
this.selectCard(e, 1);
this.onDaoClick(null, 0);
return !0;
}
if (t[1] % 16 == t[2] % 16) {
e = i[1].getComponent("SSZBaiPaiCard");
this.selectCard(e, 1);
e = i[2].getComponent("SSZBaiPaiCard");
this.selectCard(e, 1);
this.onDaoClick(null, 0);
return !0;
}
}
i = this.getDaoPaiList(-1);
for (a = 0; a < i.length; a++) {
e = i[a].getComponent("SSZBaiPaiCard");
this.selectCard(e, 1);
}
for (var n = 0; n < 3; n++) {
if (-1 != this.getDaoNullIndex(n)) {
this.onDaoClick(null, n);
return !0;
}
}
return !1;
},
showFunction: function(e) {
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("reput").active = e;
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("putok").active = e;
},
checkDaoDaoShui: function() {
var e = this, i = this.getDaoPaiList(-1), t = this.sszGame.sszCardList.CompareDaoCtCard(this.daoTypeVec, this.selectHand);
if (0 != t[0]) {
if (2 == t[0]) this.showFunction(0 == i.length); else if (1 == t[0]) {
this.checkDaoshui();
this.scheduleOnce(function() {
var t = e.daoTypeVec[1];
e.daoTypeVec[1] = e.daoTypeVec[2];
e.daoTypeVec[2] = t;
e.showDaoTypeTip(1, e.daoTypeVec[1][0]);
e.showDaoTypeTip(2, e.daoTypeVec[2][0]);
e.showFunction(0 == i.length);
this.checkOne();
}, .5);
}
cc.vv.tip.show(t[1]);
} else {
this.showFunction(0 == i.length);
this.checkOne();
}
},
checkDaoshui: function() {
var e = this.getDaoPaiList(1), i = this.getDaoPaiList(2);
if (0 != e.length && 0 != i.length) for (var t = a[2], s = n[2], c = a[1], o = n[1], h = 0; h < e.length; h++) {
var r = e[h].getComponent("SSZBaiPaiCard"), l = i[h].getComponent("SSZBaiPaiCard");
r._dao = 2;
l._dao = 1;
var d = this.selectHand[r.getDao()][r.getIndex()];
this.selectHand[r.getDao()][r.getIndex()] = this.selectHand[l.getDao()][l.getIndex()];
this.selectHand[l.getDao()][l.getIndex()] = d;
this.runBaiPaiAction(.5, e[h], cc.v2(t.x + s * h, t.y), !1, !0);
this.runBaiPaiAction(.5, i[h], cc.v2(c.x + o * h, c.y), !1, !0);
}
},
onDaoReputCancel: function(e, i) {
cc.vv.audioMgr.click();
for (var t = 0, a = 0, n = 0; n < 3; n++) {
(s = this.getDaoPaiList(n)).length > 0 && (t += s.length);
}
for (n = 0; n < 3; n++) for (var s = this.getDaoPaiList(n), c = 0; c < s.length; c++) {
var o = s[c].getComponent("SSZBaiPaiCard");
this.selectHand[o.getDao()][o.getIndex()] = 0;
this.selectCard(o, 0);
o.setDao(-1);
o.setIndex(-1);
s[c].zIndex = c;
a++;
this.runBaiPaiAction(.2, s[c], cc.v2(0, 0), a == t, !1);
}
this.autoCheckOne = !0;
this.toTeshu0();
this.hideCardTypeTips(-1);
},
fillNullIndex: function(e) {
for (var i = this.getDaoPaiList(e), t = a[e], s = n[e], c = i.length, o = 0; o < c; o++) for (var h = 0; h < c - 1 - o; h++) if (i[h].getComponent("SSZBaiPaiCard").getIndex() > i[h + 1].getComponent("SSZBaiPaiCard").getIndex()) {
var r = i[h + 1];
i[h + 1] = i[h];
i[h] = r;
}
for (h = 0; h < i.length; h++) {
i[h].zIndex = 10 * e + h;
var l = i[h].getComponent("SSZBaiPaiCard");
if (l.getIndex() != h) {
this.selectHand[e][h] = l.getPai();
this.selectHand[l.getDao()][l.getIndex()] = 0;
l.setIndex(h);
this.selectCard(l, 0);
this.runBaiPaiAction(.2, i[h], cc.v2(t.x + s * h, t.y), !1, !0);
}
}
},
onDaoPutok: function(e, i) {
cc.vv.audioMgr.click();
var t = this, a = this.sszGame.sszCardList.CompareDaoCtCard(this.daoTypeVec, this.selectHand);
if (2 != a[0]) {
for (var n = [], s = 0; s < 3; s++) {
this.sszGame.vecReadyCard[s] = [].concat(this.selectHand[s]);
for (var c = 0; c < this.selectHand[s].length; c++) n.push(this.selectHand[s][c]);
}
this.sszGame.common("kaipai", {
tanpai: n,
teshu: this.teshu
});
} else {
this.scheduleOnce(function() {
t.onDaoReputCancel(null, null);
}, .3);
cc.vv.tip.show(a[1]);
}
},
onDaoCancel: function(e, i) {
cc.vv.audioMgr.click();
if (!this.noMove) {
var t = parseInt(i), a = this.getDaoPaiList(t);
if (0 != a.length) {
for (var n = 0; n < a.length; n++) {
var s = a[n].getComponent("SSZBaiPaiCard");
this.selectHand[s.getDao()][s.getIndex()] = 0;
this.selectCard(s, 0);
s.setDao(-1);
s.setIndex(-1);
a[n].zIndex = n;
this.runBaiPaiAction(.2, a[n], cc.v2(0, 100), a.length - 1 == n, !1);
}
this.autoCheckOne = !1;
this.toTeshu0();
this.hideCardTypeTips(t);
}
}
},
onBlankClick: function() {},
onTeshuPaiClick: function() {
cc.vv.audioMgr.click();
this.setAllCardUnSelected();
var e = this.getDaoPaiList(null), i = [];
i[0] = this.sszGame.sszCardList.spGroup[2][1];
i[1] = this.sszGame.sszCardList.spGroup[1][1];
i[2] = this.sszGame.sszCardList.spGroup[0][1];
for (var t = 0; t < this.nodeHandList.childrenCount; ++t) {
(o = cc.vv.utils.getChildByTag(this.nodeHandList, t).getComponent("SSZBaiPaiCard")).setDao(-1);
o.setIndex(-1);
}
for (t = 0; t < i.length; t++) for (var s = 0; s < i[t].length; s++) for (var c = 0; c < e.length; c++) {
var o = e[c].getComponent("SSZBaiPaiCard");
if (i[t][s] == o.getPai() && -1 == o.getDao()) {
var h = a[t], r = n[t];
this.selectCard(o, 0);
o.setDao(t);
o.setIndex(s);
this.selectHand[t][s] = o.getPai();
e[c].zIndex = 10 * t + s;
this.runBaiPaiAction(.3, e[c], cc.v2(h.x + r * s, h.y), 0 == s - 1 && t - 1 == 0, !0);
break;
}
}
this.teshu = 1;
this.hideCardTypeTips(-1);
},
onAutoBaiPai: function(e, i) {
cc.vv.audioMgr.click();
var t = parseInt(i);
this.sszGame._baipaiMode = t;
this.nodeBaiPai.active = 0 == t;
this.nodeXuanPai.active = 1 == t;
this.nodeXuanPai.active && this.sszGame._viewlist.getComponent(cc.ScrollView).scrollToLeft();
},
onDaoClick: function(e, i) {
cc.vv.audioMgr.click();
var t = parseInt(i), c = this.getDaoCount(t);
if (0 != c) {
var o = this.getSelectPaiList(1), h = a[t], r = n[t], l = c;
if (s[t] == o.length) {
for (var d = 0; d < o.length; d++) {
if (l > 0) {
var g = o[d].getComponent("SSZBaiPaiCard"), u = this.getDaoNullIndex(t);
this.selectCard(g, 0);
g.setDao(t);
g.setIndex(u);
this.selectHand[t][u] = g.getPai();
o[d].zIndex = 10 * t + u;
this.runBaiPaiAction(.2, o[d], cc.v2(h.x + r * u, h.y), 0 == l - 1 || o.length - 1 == d, !0);
}
l--;
}
var _ = this.sszGame.sszCardList.getDaoCardType(this.selectHand[t]);
this.showDaoTypeTip(t, _);
this.autoCheckOne = !0;
}
}
},
toTeshu0: function() {
if (1 == this.teshu) {
cc.vv.tip.show("特殊牌型已取消");
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("spcard").active = !1;
}
this.teshu = 0;
},
getDaoNullIndex: function(e) {
for (var i = 0 == e ? 3 : 5, t = 0; t < i; t++) if (0 == this.selectHand[e][t]) return t;
return -1;
},
getDaoCount: function(e) {
for (var i = 0 == e ? 2 : 3, t = 0, a = 0; a < i; a++) 0 == this.selectHand[e][a] && t++;
return t;
},
runBaiPaiAction: function(e, i, t, a, n) {
var s = 0, c = 0;
if (n) {
s = 1.1;
c = 1.1;
} else {
s = 1.18;
c = 1.2;
}
this.noMove = !0;
i.runAction(cc.sequence(cc.spawn(cc.moveTo(e, t), cc.scaleTo(e, s, c)), cc.delayTime(a ? .05 : 0), cc.callFunc(function() {
a && this.initBaiPaiListX();
}, this)));
},
getDaoPaiList: function(e) {
for (var i = [], t = 0; t < this.nodeHandList.childrenCount; ++t) {
var a = cc.vv.utils.getChildByTag(this.nodeHandList, t);
a.getComponent("SSZBaiPaiCard").getDao() != e && null != e || i.push(a);
}
return i;
},
getSelectPaiList: function(e) {
for (var i = [], t = this.nodeHandList.children, a = 0; a < t.length; ++a) {
t[a].getComponent("SSZBaiPaiCard").isSelect() == e && i.push(t[a]);
}
return i;
},
getMeiYouHandPai: function(e) {
for (var i = [], t = this.getDaoPaiList(e), a = 0; a < t.length; a++) {
var n = t[a].getComponent("SSZBaiPaiCard");
i.push(n.getPai());
}
return i;
},
setAllCardUnSelected: function() {
for (var e = this.getDaoPaiList(-1), i = 0; i < e.length; i++) {
var t = e[i].getComponent("SSZBaiPaiCard");
this.selectCard(t, 0);
}
},
updatePaiBtn: function() {
var e = this;
this.scheduleOnce(function() {
var i = e.getMeiYouHandPai(-1);
e.paiListType = [ 0, 0, 0, 0 ];
if (i.length > 2) {
e.sszGame.sszCardList.initData();
e.sszGame.sszCardList.getCardTypeAi(i, e.paiListType, 9999, i.length > 2 ? 1 : 3, 0, !0);
e.curGroupCardList = e.sszGame.sszCardList.curGroupCardList;
}
for (var t = e.nodePaiBtn.children, a = 0; a < t.length; ++a) t[a].getComponent(cc.Button).interactable = 1 == e.paiListType[e.paiListType.length - a - 1];
}, 0);
},
checkSpecialCard: function() {
for (var e = [], i = this.sszGame.Constants.length - 1; i >= 0; i--) this.sszGame.Constants[i].SP && e.push([ this.sszGame.Constants[i].CT_NO, !1, this.sszGame.Constants[i].FD ]);
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("teshu").getComponent(cc.Button).interactable = !1;
if (this.sszGame.paixin) {
var t = [];
for (i = 0; i < 8; i++) t.push(this.baipaiHand[i]);
this.sszGame.sszCardList.initSpData();
this.sszGame.sszCardList.getSpecialCardTypeAi(e, t);
if (0 != this.sszGame.sszCardList.spGroup.length) {
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("teshu").getComponent(cc.Button).interactable = !0;
this.onTeshuPaiClick();
cc.vv.tip.show("已为您自动摆出特殊牌型");
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("spcard").getChildByName("name").getComponent(cc.Sprite).spriteFrame = this.sszGame.getSpCardTypeSpriteFrame(this.sszGame.sszCardList.spGroup[0][0]);
}
}
},
getTypePaiList: function(e) {
this.getMeiYouHandPai(-1);
for (var i = [], t = 0; t < this.curGroupCardList.length; t++) if (1 == this.paiListType[t]) {
if (this.curGroupCardList[t][0] == e) for (var a = this.curGroupCardList[t][1], n = 0; n < a.length; n++) i.push(a[n]);
}
var s = this.lastPaiList[1];
this.lastPaiList[0] != e && (s = 0);
s >= i.length && (s = 0);
var c = s;
this.lastPaiList[0] = e;
this.lastPaiList[1] = ++s;
return i[c];
},
onCardTypeClick: function(e, i) {
cc.vv.audioMgr.click();
this.setAllCardUnSelected();
var t = parseInt(i), a = this.getTypePaiList(t);
if (null == a || 0 == a.length) return null;
for (var n = this.getDaoPaiList(-1), s = 0; s < a.length; s++) for (var c = 0; c < n.length; c++) {
var o = n[c].getComponent("SSZBaiPaiCard");
if (a[s] == o.getPai() && !o.isSelect()) {
this.selectCard(o, 1);
break;
}
}
return a;
}
});
cc._RF.pop();
}, {} ],
BZQGame: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8e06cxm61NDp7FhYVgt2fik", "BZQGame");
var a = {
CT_SINGLE: 10,
CT_ONE_LONG: 20,
CT_SHUN_ZI: 30,
CT_THREE_TIAO: 40,
CT_TONG_HUA_SHUN: 50,
CT_THREE_SHUN: 100,
CT_THREE_SHUN2: 105,
CT_FOUR_LONG: 110,
CT_FOUR_TIAO: 120,
CT_THREE_LIAN_SHUN: 130,
CT_TWO_THS: 135,
CT_THREE_THS: 140,
CT_TWO_ZHADAN: 150,
CT_YITIAO_LONG: 160
}, n = [ {
CT_NO: 10,
AUDIO: "common1",
CT_NAME: "乌龙",
CT_TISHI: "w_wulong",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 20,
AUDIO: "common2",
CT_NAME: "对子",
CT_TISHI: "w_duizi",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 30,
AUDIO: "common5",
CT_NAME: "顺子",
CT_TISHI: "w_shunzi",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 40,
AUDIO: "common4",
CT_NAME: "三条",
CT_TISHI: "w_santiao",
SP: !1,
FD: 1,
SD: 8,
TD: 4
}, {
CT_NO: 50,
AUDIO: "common9",
CT_NAME: "同花顺",
CT_TISHI: "w_tonghuashun",
SP: !1,
FD: 1,
SD: 10,
TD: 5
}, {
CT_NO: 100,
AUDIO: "special3",
CT_NAME: "三顺子",
CT_TISHI: "",
SP: !0,
FD: 3,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "san", "shun", "zi" ]
}, {
CT_NO: 105,
AUDIO: "special3",
CT_NAME: "三顺子",
CT_TISHI: "",
SP: !0,
FD: 5,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "san", "shun", "zi" ]
}, {
CT_NO: 135,
AUDIO: "special3",
CT_NAME: "两同花顺子",
CT_TISHI: "",
SP: !0,
FD: 15,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "liang", "tong", "hua", "shun" ]
}, {
CT_NO: 110,
AUDIO: "",
CT_NAME: "四对子",
CT_TISHI: "",
SP: !0,
FD: 8,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "si", "dui", "zi" ]
}, {
CT_NO: 120,
AUDIO: "",
CT_NAME: "炸弹",
CT_TISHI: "",
SP: !0,
FD: 8,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "zha", "dan" ]
}, {
CT_NO: 130,
AUDIO: "",
CT_NAME: "连顺",
CT_TISHI: "",
SP: !0,
FD: 14,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "lian", "shun" ]
}, {
CT_NO: 140,
AUDIO: "special11",
CT_NAME: "三同花顺",
CT_TISHI: "",
SP: !0,
FD: 30,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "san", "tong", "hua", "shun" ]
}, {
CT_NO: 150,
AUDIO: "",
CT_NAME: "两把炸弹",
CT_TISHI: "",
SP: !0,
FD: 108,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "er", "ba", "zha", "dan" ]
}, {
CT_NO: 160,
AUDIO: "special13",
CT_NAME: "一条龙",
CT_TISHI: "",
SP: !0,
FD: 108,
SD: 0,
TD: 0,
IMG: "long",
WORDS: [ "yi", "tiao", "long" ]
} ], s = [ 50, 40, 30, 20 ], c = cc.Class({
extends: cc.Node,
properties: {},
initData: function() {
this.currentCardList = [];
for (var e = 0; e < 4; e++) this.currentCardList[e] = [];
this.curGroupCardList = [];
for (e = 0; e < 4; e++) this.curGroupCardList[e] = [];
this.AiGroupList = [];
this.santonghuaTag = !1;
this.sanshunzhi = [];
},
initSpData: function() {
this.spGroup = [];
},
getAiGroup: function() {
return this.AiGroupList;
},
RandCardList: function(e, i) {
for (var t = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 66, 67 ], a = 0, n = 0, s = 0, c = 0; c < 2e3; c++) {
var o, h, r = (n += s) % 52, l = (s = Math.ceil(9999 * Math.random()) + 1) % 52;
o = t[r];
h = t[l];
t[r] = h;
t[l] = o;
}
var d = 0;
do {
d = (Math.ceil(9999 * Math.random()) + 1) % (52 - a);
e[a++] = t[d];
t[d] = t[52 - a];
} while (a < i);
},
deepcopy: function(e) {
for (var i = [], t = 0, a = e.length; t < a; t++) e[t] instanceof Array ? i[t] = this.deepcopy(e[t]) : i[t] = e[t];
return i;
},
checkIsShunZi: function(e) {
for (var i = !1, t = !1, a = !1, n = [], s = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61 ], c = 0; c < e.length; c++) 66 == e[c] ? t = !0 : 67 == e[c] ? i = !0 : n.push(e[c]);
var o = this.classifyCard(n).numbers;
if (i && t) for (c = 0; c < s.length; c++) {
if (!(o[s[c] % 16].length > 0)) for (var h = c + 1; h < s.length; h++) if (!(o[s[c] % 16].length > 0)) {
(r = [].concat(n)).push(s[c]);
r.push(s[h]);
if (a = this.checkIsShunZiFx(r)) return a;
}
} else if (i || t) for (c = 0; c < s.length; c++) {
if (!(o[s[c] % 16].length > 0)) {
var r;
(r = [].concat(n)).push(s[c]);
if (a = this.checkIsShunZiFx(r)) return a;
}
} else a = this.checkIsShunZiFx(e);
return a;
},
checkIsShunZiFx: function(e) {
for (var i = !0, t = [], a = 0; a < e.length; a++) t.push(e[a] % 16);
t.sort(function(e, i) {
return e - i;
}).forEach(function(e, a) {
e != t[0] + a && (i = !1);
});
if (!i) {
2 == e.length && 1 == t[0] && 13 == t[1] && (i = !0);
3 == e.length && 1 == t[0] && 12 == t[1] && 13 == t[2] && (i = !0);
}
return i;
},
getLianSun: function(e) {
var i = [], t = !0, a = [];
if (8 == e.length) {
for (var n = this.classifyCard(e).numbers, s = 0; s < e.length; s++) a.push(e[s] % 16);
a.sort(function(e, i) {
return e - i;
}).forEach(function(e, i) {
e != a[0] + i && (t = !1);
});
if (t) i.push(e); else {
if (1 == n[1].length) {
var c = [];
for (s = 1; s < 8; s++) c.push(e[s]);
(t = this.checkIsShunZi(c)) && (t = 1 == n[2].length || 1 == n[13].length);
}
t && i.push(e);
}
}
return i;
},
getYiTiaoLong: function(e, i, t) {
var a, n = [], s = !1;
null != (a = this.getLianSun(e)) && a.length > 0 && t.forEach(function(e, i) {
8 == e.length && (s = !0);
});
null != a && a.length > 0 && s && n.push(e);
return n;
},
get2ZhaDan: function(e, i, t) {
var a = [], n = 0;
if (8 == e.length) {
i.forEach(function(e, i) {
4 == e.length && (n += 1);
});
2 == n && a.push(e);
}
return a;
},
getZhaDan: function(e, i, t) {
var a = [], n = 0;
i.forEach(function(e, i) {
4 == e.length && (n += 1);
});
1 == n && a.push(e);
return a;
},
getSiDuiZi: function(e, i, t) {
var a = [], n = 0;
if (8 == e.length) {
i.forEach(function(e, i) {
2 == e.length ? n++ : 3 == e.length ? n++ : 4 == e.length ? n += 2 : 5 == e.length && (n += 2);
});
4 == n && a.push(e);
}
return a;
},
getSanTongHuaShun: function(e, i, t) {
this.getSanTongHua(e, i, t, 0);
if (!this.santonghuaTag) return [];
if (0 == this.getSanShunZi(e).length) return [];
for (var a = 0; a < this.sanshunzhi.length; a++) {
for (var n = this.sanshunzhi[a], s = 0, c = 0; c < n.length; c++) {
for (var o = this.classifyCard(n[c]).colors, h = 0, r = 0; r < o.length; r++) o[r].length > 0 && h++;
1 == h && s++;
}
if (3 == s) return n;
}
},
getLianTongHuaShun: function(e) {
var i = !1;
if (0 == this.getSanShunZi(e).length) return [];
for (var t = 0; t < this.sanshunzhi.length; t++) {
for (var a = this.sanshunzhi[t], n = 0; n < a.length; n++) if (2 != n) {
for (var s = this.classifyCard(a[n]).colors, c = 0, o = 0; o < s.length; o++) s[o].length > 0 && c++;
if (1 == c) {
i = !0;
continue;
}
i = !1;
break;
}
if (i) return a;
}
},
getSanShunZiTongHua: function(e) {
var i = !1;
if (0 == this.getSanShunZi(e).length) return [];
for (var t = 0; t < this.sanshunzhi.length; t++) {
for (var a = this.sanshunzhi[t], n = 0; n < a.length; n++) if (0 == n) {
for (var s = this.classifyCard(a[n]).colors, c = 0, o = 0; o < s.length; o++) s[o].length > 0 && c++;
if (1 == c) {
i = !0;
break;
}
}
if (i) return a;
}
},
getSanShunZi: function(e) {
var i = [], t = [], a = this.getShunziAll(e, !1, !1);
if (a.length <= 0) return [];
for (var n = 0; n < a.length; n++) {
var s = [].concat(e);
this.arrRemove(s, a[n]);
t[n] = [];
i[n] = this.getShunziAll(s, !1, !1);
if (!(i[n].length <= 0)) for (var c = 0; c < i[n].length; c++) {
t[n][c] = [];
var o = [].concat(s);
this.arrRemove(o, i[n][c]);
this.checkIsShunZi(o) && (t[n][c] = [].concat(o));
}
}
for (n = 0; n < t.length; n++) for (c = 0; c < t[n].length; c++) t[n][c].length > 0 && this.sanshunzhi.push([ a[n], i[n][c], t[n][c] ]);
return this.sanshunzhi.length > 0 ? this.sanshunzhi[0] : [];
},
getSanTongHua: function(e, i, t, n) {
var s = [];
if (0 == n) {
this.santonghuaTag = !1;
for (var c = 0, o = 0; o < t.length; o++) {
t[o].length > 0 && c++;
for (var h = [ 1, 4, 7 ], r = 0; r < h.length; r++) if (t[o].length == h[r]) return [];
}
if (4 == c) return [];
this.santonghuaTag = !0;
return [];
}
if (!this.santonghuaTag) return [];
var l = [];
t.forEach(function(e, i) {
e.length > 0 && l.push([ e.length, i ]);
});
var d = [], g = [], u = [];
if (1 == l.length) {
var _ = v[0][1], v = [];
for (o = 0; o < t[_].length; o++) v.push(16 * _ + t[_][o]);
this.setSanPai(v, a.CT_SINGLE, d, 5);
this.setSanPai(v, a.CT_SINGLE, g, 5);
this.setSanPai(v, a.CT_SINGLE, u, 3);
}
if (2 == l.length) if (10 == l[0][0] || 3 == l[0][0]) {
var p = 0, m = 0;
if (10 == l[0][0]) {
p = l[0][1];
m = l[1][1];
} else {
p = l[1][1];
m = l[0][1];
}
var f = [], y = [];
for (o = 0; o < t[p].length; o++) f.push(16 * p + t[p][o]);
for (o = 0; o < t[m].length; o++) y.push(16 * m + t[m][o]);
this.setSanPai(f, a.CT_SINGLE, d, 5);
this.setSanPai(f, a.CT_SINGLE, g, 5);
this.setSanPai(y, a.CT_SINGLE, u, 3);
} else {
var C = 0, b = 0;
if (8 == l[0][0]) {
C = l[0][1];
b = l[1][1];
} else {
C = l[1][1];
b = l[0][1];
}
var w = [], x = [];
for (o = 0; o < t[C].length; o++) w.push(16 * C + t[C][o]);
for (o = 0; o < t[b].length; o++) x.push(16 * b + t[b][o]);
this.setSanPai(w, a.CT_SINGLE, d, 5);
this.setSanPai(x, a.CT_SINGLE, g, 5);
this.setSanPai(w, a.CT_SINGLE, u, 3);
}
if (3 == l.length) {
var z = -1, k = -1;
for (m = -1, o = 0; o < l.length; o++) {
5 == l[o][0] && (-1 == z ? z = l[o][1] : k = l[o][1]);
3 == l[o][0] && (m = l[o][1]);
}
var M = [], j = [];
for (y = [], o = 0; o < t[z].length; o++) M.push(16 * z + t[z][o]);
for (o = 0; o < t[k].length; o++) j.push(16 * k + t[k][o]);
for (o = 0; o < t[m].length; o++) y.push(16 * m + t[m][o]);
this.setSanPai(M, a.CT_SINGLE, d, 5);
this.setSanPai(j, a.CT_SINGLE, g, 5);
this.setSanPai(y, a.CT_SINGLE, u, 3);
}
s.push(d);
s.push(g);
s.push(u);
return s;
},
getTongHuaShun: function(e, i, t) {
for (var a = [], n = this.getTonghuaFx(e, i, t), s = 0; s < n.length; s++) {
var c = n[s];
this.checkIsShunZi(c) && a.push(c);
}
return a;
},
getTonghua: function(e, i, t) {
var a, n = [];
a = this.getTonghuaFx(e, i, t);
for (var s = 0; s < a.length; s++) {
this.checkIsShunZi(a[s]) || n.push(a[s]);
}
return n;
},
getTonghuaFx: function(e, i, t) {
var a = this, n = [], s = [];
this.classifyCard(e).colors.forEach(function(e, n) {
if (1 == e.length && i && t) {
(c = e.map(function(e) {
return 16 * n + e;
})).push(66);
c.push(67);
s.push(a.combination(c, 3));
}
if (2 == e.length && (i || t)) {
var c = e.map(function(e) {
return 16 * n + e;
});
i && c.push(67);
t && c.push(66);
s.push(a.combination(c, 3));
}
if (e.length > 2) {
c = e.map(function(e) {
return 16 * n + e;
});
i && c.push(67);
t && c.push(66);
s.push(a.combination(c, 3));
}
});
for (var c = 0; c < s.length; c++) for (var o = 0; o < s[c].length; o++) n.push(s[c][o]);
return n;
},
getShunzi: function(e, i, t) {
for (var a = [], n = this.getShunziAll(e, i, t), s = 0; s < n.length; s++) {
for (var c = [], o = 0; o < n[s].length; o++) 66 != n[s][o] && 67 != n[s][o] && c.push(n[s][o]);
for (var h = 0, r = this.classifyCard(c).colors, l = 0; l < r.length; l++) r[l].length > 0 && h++;
1 != h && a.push(n[s]);
}
return a;
},
getShunziAll: function(e, i, t) {
var a = [], n = [], s = this.classifyCard(e).numbers, c = [], o = 0;
i && o++;
t && o++;
s.push(s[1]);
for (var h = 1; h < 13; h++) {
for (var r = [], l = o, d = 0, g = 0; g < 3; g++) if (0 == s[h + g].length) {
if (l > 0) {
l--;
d++;
r.push([ h + g, !1 ]);
}
} else {
d++;
r.push([ h + g, !0 ]);
}
if (3 == d) if (0 == o) c.push(r); else if (1 == o) {
for (var u = 0, _ = 0; _ < 3; _++) if (!r[_][1]) {
u++;
break;
}
if (1 == u) c.push(r); else {
c.push(r);
for (_ = 0; _ < 3; _++) {
(p = this.deepcopy(r))[_][1] = !1;
c.push(p);
}
}
} else if (2 == o) {
for (u = 0, _ = 0; _ < 3; _++) r[_][1] || u++;
if (2 == u) c.push(r); else if (1 == u) {
c.push(r);
for (_ = 0; _ < 3; _++) {
(p = this.deepcopy(r))[_][1] && (p[_][1] = !1);
c.push(p);
}
} else {
c.push(r);
for (_ = 0; _ < 3; _++) {
(p = this.deepcopy(r))[_][1] = !1;
c.push(p);
}
for (_ = 0; _ < 3; _++) for (var v = _ + 1; v < 3; v++) {
var p;
(p = this.deepcopy(r))[_][1] = !1;
p[v][1] = !1;
c.push(p);
}
}
}
}
for (h = 0; h < c.length; h++) {
var m = null;
if (1 == o) {
i && (m = [ 67 ]);
t && (m = [ 66 ]);
} else 2 == o && (m = [ 66, 67 ]);
var f = [];
for (g = 0; g < 3; g++) {
var y = c[h][g][0];
c[h][g][1] ? f.push(s[y].map(function(e, i) {
return (14 == y ? 1 : y) + 16 * e;
})) : f.push(m);
}
n.push(this.combination2(f, 3));
}
for (h = 0; h < n.length; h++) for (g = 0; g < n[h].length; g++) {
if (o > 0) {
var C = 0, b = 0;
for (_ = 0; _ < n[h][g].length; _++) {
66 == n[h][g][_] && b++;
67 == n[h][g][_] && C++;
}
if (2 == C || 2 == b) continue;
}
a.push(n[h][g]);
}
return a;
},
getSantiao: function(e, i, t) {
var a = [];
this.classifyCard(e).numbers.forEach(function(e, n) {
1 == e.length && i && t && a.push([ 16 * e[0] + n, 66, 67 ]);
if (2 == e.length) {
i && a.push([ 16 * e[0] + n, 16 * e[1] + n, 67 ]);
t && a.push([ 16 * e[0] + n, 16 * e[1] + n, 66 ]);
}
3 == e.length && a.push([ 16 * e[0] + n, 16 * e[1] + n, 16 * e[2] + n ]);
4 == e.length && a.push([ 16 * e[0] + n, 16 * e[1] + n, 16 * e[2] + n ], [ 16 * e[3] + n, 16 * e[1] + n, 16 * e[2] + n ], [ 16 * e[0] + n, 16 * e[1] + n, 16 * e[3] + n ], [ 16 * e[0] + n, 16 * e[2] + n, 16 * e[3] + n ]);
});
return a;
},
getDuizi: function(e, i, t) {
var a = [];
this.classifyCard(e).numbers.forEach(function(e, n) {
if (1 == e.length) {
if (16 * e[0] + n == 66 || 16 * e[0] + n == 67) return;
i && a.push([ 16 * e[0] + n, 67 ]);
t && a.push([ 16 * e[0] + n, 66 ]);
}
2 == e.length && a.push([ 16 * e[0] + n, 16 * e[1] + n ]);
3 == e.length && a.push([ 16 * e[0] + n, 16 * e[2] + n ], [ 16 * e[0] + n, 16 * e[1] + n ], [ 16 * e[1] + n, 16 * e[2] + n ]);
4 == e.length && a.push([ 16 * e[0] + n, 16 * e[1] + n ], [ 16 * e[0] + n, 16 * e[2] + n ], [ 16 * e[0] + n, 16 * e[3] + n ], [ 16 * e[1] + n, 16 * e[2] + n ], [ 16 * e[1] + n, 16 * e[3] + n ], [ 16 * e[2] + n, 16 * e[3] + n ]);
});
0 == e.length && i && t && a.push([ 66, 67 ]);
return a;
},
combination: function(e, i) {
var t = [];
(function e(i, a, n) {
if (0 == n) return t.push(i);
for (var s = 0, c = a.length; s <= c - n; s++) e(i.concat(a[s]), a.slice(s + 1), n - 1);
})([], e, i);
return t;
},
combination2: function(e, i) {
var t = [];
(function e(i, a, n) {
if (0 == n) return t.push(i);
for (var s = 0, c = a.length; s <= c - n; s++) for (var o = 0; o < a[s].length; o++) e(i.concat(a[s][o]), a.slice(s + 1), n - 1);
})([], e, i);
return t;
},
classifyCard: function(e) {
var i = [ [], [], [], [], [] ], t = [ [], [], [], [], [], [], [], [], [], [], [], [], [], [] ];
e.forEach(function(e) {
var a = parseInt(e / 16), n = e % 16;
i[a].push(n);
t[n].push(a);
});
return {
colors: i,
numbers: t
};
},
SortCardList: function(e, i) {
for (var t = new Array(e.length), a = 0; a < i; a++) t[a] = e[a] % 16;
var n, s = !0, c = i - 1;
do {
s = !0;
for (a = 0; a < c; a++) if (t[a] > t[a + 1] || t[a] == t[a + 1]) {
n = e[a + 1];
e[a + 1] = e[a];
e[a] = n;
n = t[a + 1];
t[a + 1] = t[a];
t[a] = n;
s = !1;
}
c--;
} while (0 == s);
},
SortSpTypeList: function(e, i) {
var t = !0, a = [], n = i - 1;
do {
t = !0;
for (var s = 0; s < n; s++) if (e[s][2] < e[s + 1][2] || e[s] == e[s + 1]) {
a = [].concat(e[s + 1]);
e[s + 1][0] = e[s][0];
e[s + 1][1] = e[s][1];
e[s + 1][2] = e[s][2];
e[s][0] = a[0];
e[s][1] = a[1];
e[s][2] = a[2];
t = !1;
}
n--;
} while (0 == t);
},
arrRemove: function(e, i) {
if (!(i.length > e.length)) for (var t = 0; t < i.length; t++) for (var a = 0; a < e.length; a++) if (e[a] == i[t]) {
e.splice(a, 1);
break;
}
},
setSanPai: function(e, i, t, n) {
var s = e.length;
if (t.length > 0) {
if (5 == n) {
if (5 == t.length) return !0;
if (i == a.CT_ONE_LONG) for (var c = t[0] % 16, o = s - 1; o >= 0; o--) if (e[o] % 16 != c) for (var h = e[o], r = s - 1; r >= 0; r--) if (e[r] % 16 != c && e[r] % 16 != h % 16) for (var l = e[r], d = s - 1; d >= 0; d--) if (e[d] % 16 != c && e[d] % 16 != h % 16 && e[d] % 16 != l % 16) {
var g = e[d];
t.push(h);
t.push(l);
t.push(g);
this.arrRemove(e, [ h, l, g ]);
return !0;
}
if (i == a.CT_TWO_LONG) for (o = s - 1; o >= 0; o--) if (e[o] % 16 != t[0] % 16 && e[o] % 16 != t[1] % 16 && e[o] % 16 != t[2] % 16 && e[o] % 16 != t[3] % 16) {
t.push(e[o]);
this.arrRemove(e, [ e[o] ]);
return !0;
}
if (i == a.CT_THREE_TIAO) for (o = s - 1; o >= 0; o--) if (e[o] % 16 != t[0] % 16) for (h = e[o], 
r = s - 1; r >= 0; r--) if (e[r] % 16 != t[0] % 16 && e[r] % 16 != h % 16) {
l = e[r];
t.push(h);
t.push(l);
this.arrRemove(e, [ h, l ]);
return !0;
}
if (i == a.CT_TIE_ZHI) for (o = s - 1; o >= 0; o--) if (e[o] % 16 != t[0] % 16) {
t.push(e[o]);
this.arrRemove(e, [ e[o] ]);
return !0;
}
} else {
if (3 == t.length) return !0;
if (i == a.CT_ONE_LONG) for (o = s - 1; o >= 0; o--) if (e[o] % 16 != t[0] % 16) {
t.push(e[o]);
this.arrRemove(e, [ e[o] ]);
return !0;
}
}
return !1;
}
if (5 == n) {
t[0] = e[0];
t[1] = e[s - 4];
t[2] = e[s - 3];
t[3] = e[s - 2];
t[4] = e[s - 1];
} else {
t[0] = e[0];
t[1] = e[s - 2];
t[2] = e[s - 1];
}
this.arrRemove(e, t);
return !0;
},
getCardTypeFenEx: function(e, i) {
for (var t = 0; t < n.length; t++) if (n[t].CT_NO == e) return 0 == i ? n[t].TD : 1 == i ? n[t].SD : n[t].FD;
},
getCardBigValue: function(e, i) {
for (var t = !1, n = !1, s = [], c = [ [], [], [], [], [], [], [], [], [], [], [], [], [], [], [] ], o = 0; o < e.length; o++) 66 == e[o] ? n = !0 : 67 == e[o] ? t = !0 : s.push(e[o]);
var h = s.length, r = this.classifyCard(s).numbers;
for (o = 0; o < r.length; o++) if (r[o].length > 0) for (var l = 0; l < r[o].length; l++) c[o].push([ r[o][l], !0 ]);
switch (i) {
case a.CT_SINGLE:
if (0 != r[1].length) {
c[14] = this.deepcopy(c[1]);
c[1] = [];
}
break;

case a.CT_ONE_LONG:
if (t || n) if (0 == h) {
c[1].push([ 0, !1 ]);
c[1].push([ 0, !1 ]);
} else if (0 != r[1].length) c[1].push([ 0, !1 ]); else for (o = r.length - 1; o >= 0; o--) if (r[o].length > 0) {
c[o].push([ 0, !1 ]);
break;
}
if (0 != c[1].length) {
c[14] = this.deepcopy(c[1]);
c[1] = [];
}
break;

case a.CT_THREE_TIAO:
if (t || n) for (o = r.length - 1; o >= 0; o--) if (r[o].length > 0) {
0 != r[1].length ? c[1].push([ 0, !1 ]) : c[o].push([ 0, !1 ]);
break;
}
if (0 != c[1].length) {
c[14] = this.deepcopy(c[1]);
c[1] = [];
}
break;

case a.CT_SHUN_ZI:
if (t || n) {
var d = -1, g = -1;
for (o = r.length - 1; o >= 0; o--) if (r[o].length > 0) {
d = o;
break;
}
for (o = 0; o < r.length; o++) if (r[o].length > 0) {
g = o;
break;
}
g + 1 == d ? 2 == g ? c[1].push([ 0, !1 ]) : 13 == d ? c[1].push([ 0, !1 ]) : c[d + 1].push([ 0, !1 ]) : 1 == g ? 13 == d ? c[12].push([ 0, !1 ]) : 12 == d && c[13].push([ 0, !1 ]) : c[g + 1].push([ 0, !1 ]);
}
if (0 != c[1].length) {
c[14] = this.deepcopy(c[1]);
c[1] = [];
}
break;

case a.CT_TONG_HUA_SHUN:
if (t || n) {
for (d = -1, g = -1, o = r.length - 1; o >= 0; o--) if (r[o].length > 0) {
d = o;
break;
}
for (o = 0; o < r.length; o++) if (r[o].length > 0) {
g = o;
break;
}
var u = r[g][0];
if (t && n) {
if (1 == g) {
c[12].push([ u, !1 ]);
c[13].push([ u, !1 ]);
} else if (2 == g) {
c[1].push([ u, !1 ]);
c[3].push([ u, !1 ]);
} else if (3 == g) {
c[1].push([ u, !1 ]);
c[2].push([ u, !1 ]);
} else if (12 == g) {
c[1].push([ u, !1 ]);
c[13].push([ u, !1 ]);
} else if (13 == g) {
c[1].push([ u, !1 ]);
c[12].push([ u, !1 ]);
} else {
c[g + 1].push([ u, !1 ]);
c[g + 2].push([ u, !1 ]);
}
if (0 != c[1].length) {
c[14] = this.deepcopy(c[1]);
c[1] = [];
}
break;
}
g + 1 == d ? 2 == g ? c[1].push([ u, !1 ]) : 13 == d ? c[1].push([ u, !1 ]) : c[d + 1].push([ u, !1 ]) : 1 == g ? 13 == d ? c[12].push([ u, !1 ]) : 12 == d && c[13].push([ u, !1 ]) : c[g + 1].push([ u, !1 ]);
}
if (0 != c[1].length) {
c[14] = this.deepcopy(c[1]);
c[1] = [];
}
}
return c;
},
CompareSameCardTypeDao: function(e, i, t, n, s) {
var c = e.length > i.length ? e.length : i.length;
switch (s) {
case a.CT_SINGLE:
for (var o = 0, h = t.length - 1; h >= 0 && o != c; h--) if (t[h].length > 0 && n[h].length > 0) o++; else if (0 != t[h].length || 0 != n[h].length) {
if (t[h].length > 0) {
o++;
return 2;
}
if (n[h].length > 0) {
o++;
return 1;
}
}
var r = 0, l = 0;
o = 0;
for (h = t.length - 1; h >= 0 && o != c; h--) if (t[h].length > 0 && n[h].length > 0) {
if ((r = t[h][0][0]) != (l = n[h][0][0])) return r > l ? 2 : 1;
o++;
} else ;
return 0;

case a.CT_ONE_LONG:
var d = 0;
if (2 == e.length) {
var g = 0;
for (h = 0; h < t[d].length; h++) 0 == t[d][h][1] && g++;
if (2 == g) return 2;
}
for (h = t.length - 1; h >= 0; h--) {
if (2 == t[h].length && 2 == n[h].length) {
d = h;
break;
}
if (0 != t[h].length || 0 != n[h].length) {
if (2 == t[h].length) return 2;
if (2 == n[h].length) return 1;
}
}
if (e.length == i.length) for (h = t.length - 1; h >= 0 && (1 != t[h].length || 1 != n[h].length); h--) if (0 != t[h].length || 0 != n[h].length) {
if (1 == t[h].length) return 2;
if (1 == n[h].length) return 1;
}
for (var u = 3; u >= 0; u--) {
var _ = !1, v = !1;
for (h = 0; h < t[d].length; h++) t[d][h][0] == u && 0 != t[d][h][1] && (_ = !0);
for (h = 0; h < n[d].length; h++) n[d][h][0] == u && 0 != n[d][h][1] && (v = !0);
if (_ != v) {
if (_) return 2;
if (v) return 1;
}
}
return 0;

case a.CT_THREE_TIAO:
for (d = 0, h = t.length - 1; h >= 0; h--) {
if (3 == t[h].length && 3 == n[h].length) {
d = h;
break;
}
if (0 != t[h].length || 0 != n[h].length) {
if (3 == t[h].length) return 2;
if (3 == n[h].length) return 1;
}
}
for (u = 3; u >= 0; u--) {
for (_ = !1, v = !1, h = 0; h < t[d].length; h++) t[d][h][0] == u && 0 != t[d][h][1] && (_ = !0);
for (h = 0; h < n[d].length; h++) n[d][h][0] == u && 0 != n[d][h][1] && (v = !0);
if (_ != v) {
if (_) return 2;
if (v) return 1;
}
}
return 0;

case a.CT_SHUN_ZI:
for (h = t.length - 1; h >= 0; h--) if (!(1 == t[h].length && 1 == n[h].length || 0 == t[h].length && 0 == n[h].length)) {
if (1 == t[h].length) return 2;
if (1 == n[h].length) return 1;
}
for (h = t.length - 1; h >= 0; h--) if (1 == t[h].length && 1 == n[h].length) for (u = 3; u >= 0; u--) {
_ = !1, v = !1;
t[h][0][0] == u && 0 != t[h][0][1] && (_ = !0);
n[h][0][0] == u && 0 != n[h][0][1] && (v = !0);
if (_ != v) {
if (_) return 2;
if (v) return 1;
}
}
return 0;

case a.CT_TONG_HUA_SHUN:
for (h = t.length - 1; h >= 0; h--) if (!(1 == t[h].length && 1 == n[h].length || 0 == t[h].length && 0 == n[h].length)) {
if (1 == t[h].length) return 2;
if (1 == n[h].length) return 1;
}
var p = 0, m = 0;
for (h = t.length - 1; h >= 0; h--) if (1 == t[h].length && 0 != t[h][0][1]) {
p = t[h][0][0];
break;
}
for (h = n.length - 1; h >= 0; h--) if (1 == n[h].length && 0 != n[h][0][1]) {
m = n[h][0][0];
break;
}
return p > m ? 2 : p < m ? 1 : 0;
}
},
CompareSameCtCard: function(e, i, t) {
var n = this.AnalysebCardData(e), s = this.AnalysebCardData(i), c = e.length > i.length ? e.length : i.length;
switch (t) {
case a.CT_SINGLE:
for (var o = 0; o < c; o++) {
var h = s.cbLogicValue[0];
if ((v = n.cbLogicValue[0]) != h) return v > h ? 2 : 1;
}
return 0;

case a.CT_ONE_LONG:
case a.CT_THREE_TIAO:
if (n.cbFourCount > 0) {
h = s.cbFourLogicVolue[0];
return (v = n.cbFourLogicVolue[0]) != h ? v > h ? 2 : 1 : (v = n.cbSignedLogicVolue[0]) != (h = s.cbSignedLogicVolue[0]) ? v > h ? 2 : 1 : 0;
}
if (n.cbThreeCount > 0) {
h = s.cbThreeLogicVolue[0];
if ((v = n.cbThreeLogicVolue[0]) != h) return v > h ? 2 : 1;
if (a.CT_HU_LU == t) return (v = n.cbLONGLogicVolue[0]) != (h = s.cbLONGLogicVolue[0]) ? v > h ? 2 : 1 : 0;
for (o = 0; o < n.cbSignedCount; o++) {
var r = s.cbSignedLogicVolue[o], l = n.cbSignedLogicVolue[o];
if (l != r) return l > r ? 2 : 1;
}
return 0;
}
for (o = 0; o < n.cbLONGCount; o++) {
h = s.cbLONGLogicVolue[o];
if ((v = n.cbLONGLogicVolue[o]) != h) return v > h ? 2 : 1;
}
for (o = 0; o < n.cbSignedCount; o++) {
h = s.cbSignedLogicVolue[o];
if ((v = n.cbSignedLogicVolue[o]) != h) return v > h ? 2 : 1;
}
return 0;

case a.CT_SHUN_ZI:
case a.CT_TONG_HUA_SHUN:
h = s.cbLogicValue[0];
var d = (v = n.cbLogicValue[0]) == n.cbLogicValue[1] + 12, g = h == s.cbLogicValue[1] + 12, u = 13 == n.cbLogicValue[1], _ = 13 == s.cbLogicValue[1];
if (1 == d) {
if (1 == _) return 1;
if (1 != _ && 1 != g) return 2;
}
if (1 == g) {
if (1 == u) return 2;
if (1 != u && 1 != d) return 1;
}
for (o = 0; o < c; o++) {
h = s.cbLogicValue[o];
if ((v = n.cbLogicValue[o]) != h) return v > h ? 2 : 1;
}
for (o = 0; o < c; o++) {
h = parseInt(i[o] / 16);
if ((v = parseInt(e[o] / 16)) != h) return v > h ? 2 : 1;
}
return 0;

case a.CT_TONG_HUA:
for (o = 0; o < c; o++) {
var v;
h = s.cbLogicValue[o];
if ((v = n.cbLogicValue[o]) != h) return v > h ? 2 : 1;
}
return 0;
}
},
checkisSameCards: function(e, i) {
for (var t = 0; t < i.length; t++) {
var a = !1, n = [].concat(i[t]), s = [].concat(e);
n.sort();
s.sort();
for (var c = 0; c < n.length; c++) if (n[c] != s[c]) {
a = !0;
break;
}
if (0 == a) return !0;
}
return !1;
},
CompareDaoCtCard: function(e, i) {
var t = [ 0, "" ], a = 0, n = "";
do {
if (-1 != e[0][0]) {
if (-1 != e[1][0]) {
if (e[0][0] > e[1][0]) {
n = "出牌顺序不符合规则，请重新选牌";
a = 2;
break;
}
if (e[0][0] < e[1][0]) a = 0; else {
0 == e[0][1].length && (e[0][1] = this.getCardBigValue(i[0], e[0][0]));
0 == e[1][1].length && (e[1][1] = this.getCardBigValue(i[1], e[0][0]));
if (2 == (a = this.CompareSameCardTypeDao(i[0], i[1], e[0][1], e[1][1], e[0][0]))) {
n = "出牌顺序不符合规则，请重新选牌";
a = 2;
break;
}
a = 0;
}
}
if (-1 != e[2][0]) {
if (e[0][0] > e[2][0]) {
n = "出牌顺序不符合规则，请重新选牌";
a = 2;
break;
}
if (e[0][0] < e[2][0]) a = 0; else {
0 == e[0][1].length && (e[0][1] = this.getCardBigValue(i[0], e[0][0]));
0 == e[2][1].length && (e[2][1] = this.getCardBigValue(i[2], e[0][0]));
if (2 == (a = this.CompareSameCardTypeDao(i[0], i[2], e[0][1], e[2][1], e[0][0]))) {
n = "出牌顺序不符合规则，请重新选牌";
a = 2;
break;
}
a = 0;
}
}
}
if (-1 != e[1][0] && -1 != e[2][0]) {
if (e[1][0] > e[2][0]) {
n = "出牌顺序不符合规则";
a = 1;
break;
}
if (e[1][0] < e[2][0]) a = 0; else {
0 == e[1][1].length && (e[1][1] = this.getCardBigValue(i[1], e[1][0]));
0 == e[2][1].length && (e[2][1] = this.getCardBigValue(i[2], e[1][0]));
if (2 == (a = this.CompareSameCardTypeDao(i[1], i[2], e[1][1], e[2][1], e[1][0]))) {
n = "出牌顺序不符合规则";
a = 1;
break;
}
a = 0;
}
}
} while (0);
t[0] = a;
t[1] = n;
return t;
},
getDaoCardType: function(e) {
for (var i = !1, t = [ 0, 0, 0, 0 ], n = (this.getCardTypeAi(e, t, 9999, e.length > 2 ? 1 : 3, 0, !1), 
0); n < t.length; n++) if (1 == t[n]) {
i = !0;
break;
}
return i ? s[n] : a.CT_SINGLE;
},
getCardTypeAi: function(e, i, t, s, c, o) {
for (var h = null, r = [], l = !1, d = !1, g = [], u = 0; u < n.length; u++) n[u].SP || r.push([ n[u].CT_NO, !1 ]);
for (u = 0; u < r.length; u++) r[u][0] <= t && (r[u][1] = !0);
for (u = 0; u < e.length; u++) 66 == e[u] ? d = !0 : 67 == e[u] ? l = !0 : g.push(e[u]);
this.SortCardList(g, g.length);
for (u = r.length - 1; u >= 0; u--) if (r[u][1]) switch (r[u][0]) {
case a.CT_ONE_LONG:
if (null != (h = this.getDuizi(g, l, d)) && h.length > 0) {
i[3] = 1;
if (!o) return h;
this.curGroupCardList[3] = [ a.CT_ONE_LONG, h ];
}
break;

case a.CT_SHUN_ZI:
if (3 != s && null != (h = this.getShunzi(g, l, d)) && h.length > 0) {
i[2] = 1;
if (!o) return h;
this.curGroupCardList[2] = [ a.CT_SHUN_ZI, h ];
}
break;

case a.CT_THREE_TIAO:
if (null != (h = this.getSantiao(g, l, d)) && h.length > 0) {
i[1] = 1;
if (!o) return h;
this.curGroupCardList[1] = [ a.CT_THREE_TIAO, h ];
}
break;

case a.CT_TONG_HUA_SHUN:
if (3 != s && null != (h = this.getTongHuaShun(g, l, d)) && h.length > 0) {
i[0] = 1;
if (!o) return h;
this.curGroupCardList[0] = [ a.CT_TONG_HUA_SHUN, h ];
}
}
},
vecPush: function(e, i) {
var t = [];
t[0] = i[0];
t[1] = [].concat(i[1]);
e.push(t);
},
getSpecialCardTypeGroup: function(e, i) {
var t = null, n = !1, s = [];
this.SortCardList(i, i.length);
for (var c = this.classifyCard(i).numbers, o = this.classifyCard(i).colors, h = 0; h < e.length; h++) {
n = !1;
switch (e[h][0]) {
case a.CT_YITIAO_LONG:
t = this.getYiTiaoLong(i, c, o);
break;

case a.CT_TWO_ZHADAN:
t = this.get2ZhaDan(i, c, o);
break;

case a.CT_THREE_THS:
t = this.getSanTongHuaShun(i, c, o);
n = !0;
break;

case a.CT_TWO_THS:
t = this.getLianTongHuaShun(i);
n = !0;
break;

case a.CT_THREE_LIAN_SHUN:
t = this.getLianSun(i);
break;

case a.CT_FOUR_TIAO:
t = this.getZhaDan(i, c, o);
break;

case a.CT_FOUR_LONG:
t = this.getSiDuiZi(i, c, o);
break;

case a.CT_THREE_SHUN2:
t = this.getSanShunZiTongHua(i);
n = !0;
break;

case a.CT_THREE_SHUN:
t = this.getSanShunZi(i);
n = !0;
}
if (null != t && t.length > 0) {
e[h][1] = !0;
if (n) {
s.push([ e[h][0], t[0] ]);
s.push([ e[h][0], t[1] ]);
s.push([ e[h][0], t[2] ]);
} else {
s.push([ e[h][0], [ i[5], i[6], i[7] ] ]);
s.push([ e[h][0], [ i[2], i[3], i[4] ] ]);
s.push([ e[h][0], [ i[0], i[1] ] ]);
}
break;
}
}
return s;
},
getSpecialCardTypeAi: function(e, i) {
if (!(this.spGroup.length > 0)) {
var t = !1, n = !1, s = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61 ];
this.SortSpTypeList(e, e.length);
for (var c = [], o = 0; o < i.length; o++) 66 == i[o] ? t = !0 : 67 == i[o] ? n = !0 : c.push(i[o]);
if (t || n) {
var h = null, r = [], l = this.classifyCard(c).numbers, d = this.classifyCard(c).colors;
if (null != (h = this.getZhaDan(c, l, d)) && h.length > 0) for (o = 0; o < e.length; o++) if (e[o][0] == a.CT_FOUR_TIAO) {
e[o][1] = !0;
r.push([ e[o][0], [ i[5], i[6], i[7] ] ]);
r.push([ e[o][0], [ i[2], i[3], i[4] ] ]);
r.push([ e[o][0], [ i[0], i[1] ] ]);
this.spGroup = r;
}
} else {
var g = c.length;
if (1 == t && 0 == n || 0 == t && 1 == n) for (o = 0; o < s.length; o++) {
for (var u = 0, _ = 0; _ < g; _++) c[_] == s[o] && u++;
var v = [];
(v = [].concat(c)).push(s[o]);
for (var p = this.getSpecialCardTypeGroup(e, v), m = !1, f = 0; f < p.length; f++) {
h = p[f][1];
for (var y = 0; y < h.length; y++) if (h[y] == s[o]) {
if (0 == u && 0 == m) {
h[y] = 1 == t ? 66 : 67;
m = !0;
break;
}
u--;
}
}
if (0 != p.length) if (0 == this.spGroup.length) this.spGroup = p; else {
this.getCardTypeFenEx(this.spGroup[0][0], 2) < this.getCardTypeFenEx(p[0][0], 2) && (this.spGroup = p);
}
} else if (1 == t && 1 == n) for (o = 0; o < s.length; o++) for (var C = 0; C < s.length; C++) {
var b = 0, w = 0;
for (_ = 0; _ < g; _++) {
c[_] == s[o] && b++;
c[_] == s[C] && w++;
}
v = [];
(v = [].concat(c)).push(s[o]);
v.push(s[C]);
p = this.getSpecialCardTypeGroup(e, v);
var x = !1, z = !1;
for (f = 0; f < p.length; f++) for (h = p[f][1], y = 0; y < h.length; y++) {
if (h[y] == s[o]) {
if (0 == b && 0 == x) {
h[y] = 66;
x = !0;
break;
}
b--;
}
if (h[y] == s[C]) {
if (0 == w && 0 == z) {
h[y] = 67;
z = !0;
break;
}
w--;
}
}
if (0 != p.length) if (0 == this.spGroup.length) this.spGroup = p; else {
this.getCardTypeFenEx(this.spGroup[0][0], 2) < this.getCardTypeFenEx(p[0][0], 2) && (this.spGroup = p);
}
} else this.spGroup = this.getSpecialCardTypeGroup(e, i);
}
}
},
GetCardColor: function(e) {
return parseInt(e / 16);
},
GetCardLogicValue: function(e) {
var i = e % 16;
1 == i && (i = 14);
return i;
},
AnalysebCardData: function(e) {
var i = {
cbLogicValue: [],
cbSignedLogicVolue: [],
cbLONGLogicVolue: [],
cbThreeLogicVolue: [],
cbFourLogicVolue: [],
cbSignedCount: 0,
cbLONGCount: 0,
cbThreeCount: 0,
cbFourCount: 0
}, t = (e.length, this.classifyCard(e).numbers);
if (t[1].length > 0) {
t.push(t[1]);
t[1] = [];
}
for (var a = t.length - 1; a >= 0; a--) {
var n = t[a].length;
if (0 != n) {
for (var s = 0; s < n; s++) i.cbLogicValue.push(a);
switch (n) {
case 1:
i.cbSignedLogicVolue.push(a);
i.cbSignedCount++;
break;

case 2:
i.cbLONGLogicVolue.push(a);
i.cbLONGCount++;
break;

case 3:
i.cbThreeLogicVolue.push(a);
i.cbThreeCount++;
break;

case 4:
i.cbFourLogicVolue.push(a);
i.cbFourCount++;
}
}
}
return i;
}
});
cc.Class({
extends: cc.Component,
properties: {
_wanfa: 1,
_seatid: 0,
players: 4,
max_player: 6,
sszPokerAtlas: {
default: null,
type: cc.SpriteAtlas
},
sszPokerAtlas2: {
default: null,
type: cc.SpriteAtlas
},
sszTableAtlas: {
default: null,
type: cc.SpriteAtlas
},
SpCardAtlas: {
default: null,
type: cc.SpriteAtlas
},
SpEffectAtlas: {
default: null,
type: cc.SpriteAtlas
},
CardTypeAtlas: {
default: null,
type: cc.SpriteAtlas
},
interactAltas: {
default: null,
type: cc.SpriteAtlas
},
interactPrefab: {
default: null,
type: cc.Prefab
},
_kaipai: !1,
_baipaiMode: 0,
_timeLabel: null,
_lastPlayTime: null,
_voiceMsgQueue: []
},
onLoad: function() {
if (!cc.sys.isNative && cc.sys.isMobile) {
var e = this.node.getComponent(cc.Canvas);
e.fitHeight = !0;
e.fitWidth = !0;
}
if (cc.vv) {
this.m_bGameStarted = !1;
this.m_bTableStarted = !1;
this.vecReadyCard = [ null, null, null ];
this.isSpeType = !1;
this.sszCardList = new c();
this.Constants = n;
this.initView();
this.initEventHandlers();
this.baipaiComponent = this.node.getComponent("BZQBaiPai");
this.paiMianType = 1;
var i = cc.sys.localStorage.getItem("paimian");
null != i && (this.paiMianType = i);
cc.vv.audioMgr.playBGM("bgFight");
} else cc.director.loadScene("loading");
},
initMain: function() {
this.deskBack = this.node.getChildByName("ID_SPRITE_DESKBACK");
this.funcBtn = this.node.getChildByName("Layout_FuncBtn");
this.inviteBtn = this.funcBtn.getChildByName("ID_BUTTON_INVITE");
this.startBtn = this.funcBtn.getChildByName("ID_BUTTON_START");
this.startBtn.active = !1;
this.startBtnDisable = this.funcBtn.getChildByName("ID_BUTTON_START_DIS");
this.startBtnDisable.active = !1;
this.startTit = this.node.getChildByName("ID_SPRITE_HINT_WAIT");
this.startTit.active = !1;
this.readyBtn = this.funcBtn.getChildByName("ID_BUTTON_READY");
this.readyBtn.active = !1;
this.reportBtn = this.funcBtn.getChildByName("ID_BUTTON_REPORT");
this.reportBtn.active = !1;
this._timeLabel = this.funcBtn.getChildByName("time").getComponent(cc.Label);
this.userList = [];
for (var e = this.deskBack.getChildByName("ID_LAYOUT_USERINFO"), i = 0; i < e.children.length; ++i) this.userList.push(e.children[i].getComponent("Seat"));
this.fjhLabel = this.node.getChildByName("ID_LABEL_FJH").getComponent(cc.Label);
this.roundLabel = this.node.getChildByName("ID_LABEL_ROUND").getComponent(cc.Label);
this.roundLabelTotal = this.node.getChildByName("ID_LABEL_ROUND_TOTAL").getComponent(cc.Label);
this.descLabel = this.node.getChildByName("ID_LABEL_DESC").getComponent(cc.Label);
this.mapaiSprite = this.node.getChildByName("ID_SPARTE_MAPAI");
this.initXuanPaiLayer();
this.initTanPaiCard();
this.gameresult = this.node.getChildByName("game_result");
this.gameresult.active = !1;
this.hintBack = this.node.getChildByName("ID_SPRITE_HINT_MSG");
this.hintBack.active = !1;
this.hintLabel = this.hintBack.getChildByName("ID_LABEL_HINTLABEL");
var t = this.node.getChildByName("Layout_Effect");
this.sszStartAnimaNode = t.getChildByName("ssz_startAnimanode");
this.sszStartspine = this.sszStartAnimaNode.getComponent("sp.Skeleton");
this.sszStartAnimaNode.active = !1;
this.sszBgCompCardAnimaNode = t.getChildByName("ssz_BgCompCardAnimanode");
this.sszBgCompCardspine = this.sszBgCompCardAnimaNode.getComponent("sp.Skeleton");
this.sszBgCompCardAnimaNode.active = !1;
this.sszHomeRunAnimaNode = t.getChildByName("ssz_HomeRunAnimanode");
this.sszHomeRunspine = this.sszHomeRunAnimaNode.getComponent("sp.Skeleton");
this.sszHomeRunAnimaNode.active = !1;
this.sszShotReadyAnimaNode = t.getChildByName("ssz_shotReadyAnimanode");
this.sszShotReadyspine = this.sszShotReadyAnimaNode.getComponent("sp.Skeleton");
this.sszShotReadyAnimaNode.active = !1;
this.sszShotAnimaNode = this.deskBack.getChildByName("ssz_shotAnimanode");
this.sszShotspine = this.sszShotAnimaNode.getComponent("sp.Skeleton");
this.sszShotAnimaNode.active = !1;
this.sszReadyAnimaNode = t.getChildByName("ssz_ReadyAnimanode");
this.sszReadyspine = this.sszReadyAnimaNode.getComponent("sp.Skeleton");
this.sszReadyAnimaNode.active = !1;
},
getsszPokerSpriteFrame: function(e) {
var i = "255", t = null;
t = 0 == this.paiMianType ? this.sszPokerAtlas : this.sszPokerAtlas2;
if (255 != e) {
var a = parseInt(e / 16), n = e % 16;
1 == n && (n = 14);
i = this.pngStr = [ "D", "C", "H", "S", "A" ][a] + n;
return t.getSpriteFrame(i);
}
return t.getSpriteFrame(i);
},
getCardTypeBgSpriteFrame: function(e) {
return this.sszTableAtlas.getSpriteFrame(e);
},
getSpCardTypeSpriteFrame: function(e) {
105 == e && (e = 100);
var i = "sp_" + e;
return this.SpCardAtlas.getSpriteFrame(i);
},
getCardTypeSpriteFrame: function(e) {
var i = this.getCardTypeInfo(e);
return this.CardTypeAtlas.getSpriteFrame(i.CT_TISHI);
},
getSpriteFrameByInteract: function(e) {
var i = null;
"zhadan" == e ? i = "emoji_iconBomb" : "poshui" == e ? i = "emoji_iconBucket" : "zhuaji" == e ? i = "emoji_iconChick" : "xianhua" == e ? i = "emoji_iconFlower" : "fanqie" == e && (i = "emoji_iconTomatoes");
return this.interactAltas.getSpriteFrame(i);
},
playInteractVoice: function(e) {
var i = null;
"zhadan" == e ? i = "interact_bomb" : "poshui" == e ? i = "interact_bucket" : "zhuaji" == e ? i = "interact_chick" : "xianhua" == e ? i = "interact_flower" : "fanqie" == e && (i = "interact_tomatoes");
i = i;
cc.vv.audioMgr.playSFX(i);
},
addClickEvent: function(e, i, t, a) {
var n = new cc.Component.EventHandler();
n.target = i;
n.component = t;
n.handler = a;
e.getComponent(cc.Button).clickEvents.push(n);
},
getCardTypeInfo: function(e) {
for (var i = 0; i < n.length; i++) if (n[i].CT_NO == e) return n[i];
},
checkIsSpecialType: function(e) {
return 0 != this.paixin && e >= a.CT_THREE_SHUN;
},
playSexSFX: function(e, i) {
if (1 == e) var t = "ssz/1/" + i; else t = "ssz/2/" + i;
cc.vv.audioMgr.playSFX(t);
},
showDaoFen: function(e, i) {
var t = this.VecJieSuan[e];
t.active = !0;
var a = t.getChildByName("winscore"), n = t.getChildByName("losescore");
if (i >= 0) {
i = "+" + i;
n.active = !1;
a.getComponent(cc.Label).string = i;
a.active = !0;
} else {
a.active = !1;
n.getComponent(cc.Label).string = i;
n.active = !0;
}
var s = t.x;
t.setPosition(t.x - 200, t.y);
t.runAction(cc.moveTo(.2, cc.v2(s, t.y)));
},
doKaiSepcialPai: function(e, i, t, a) {
var n = this;
this.scheduleOnce(function() {
for (var e = n.getCardTypeInfo(a), s = (e.CT_NAME, 0); s < 3; s++) for (var c = 0 == s ? 2 : 3, o = 0; o < c; o++) {
var h = t[s][o];
if (0 != h) {
n.userDoneCard[i][s][o].getComponent(cc.Sprite).spriteFrame = n.getsszPokerSpriteFrame(h);
h == n.mapai && n.addMaPaiToPai(n.userDoneCard[i][s][o], cc.v2(20, 36));
}
}
if (n.SwitchViewChairID(this.mChairID) == i) {
cc.vv.audioMgr.playSFX("ssz/openface/teshupai");
n.playSexSFX(n.userList[i]._sex, e.AUDIO);
}
n.userSpecialType[i].active = !1;
var r = n.node.getChildByName("special_effect"), l = r.getChildByName("main"), d = r.getChildByName("words");
r.active = !0;
d.removeAllChildren();
var g = e.WORDS, u = "spefx_bg_" + e.IMG;
l.getComponent(cc.Sprite).spriteFrame = n.SpEffectAtlas.getSpriteFrame(u);
l.scale = .8;
l.opacity = 0;
l.runAction(cc.sequence(cc.spawn(cc.fadeIn(.2), cc.scaleTo(.2, 1)), cc.delayTime(.3 + .3 * g.length), cc.callFunc(function() {
r.active = !1;
})));
for (var _ = 0, v = (g = e.WORDS, 0); v < g.length; v++) {
var p = new cc.Node("word");
p.active = !0;
p.opacity = 0;
d.addChild(p);
var m = "specialWord_" + g[v];
p.addComponent(cc.Sprite).spriteFrame = n.SpEffectAtlas.getSpriteFrame(m);
p.runAction(cc.sequence(cc.spawn(cc.scaleTo(0, 1.5), cc.hide()), cc.delayTime(.1 + .2 * v), cc.show(), cc.spawn(cc.fadeIn(.2), cc.scaleTo(.2, 1)), cc.callFunc(function() {
if (++_ == g.length) {
n.vecSpSpriteEffect[i].getChildByName("cardtype").getComponent(cc.Sprite).spriteFrame = n.getSpCardTypeSpriteFrame(a);
n.vecSpSpriteEffect[i].active = !0;
n.vecSpSpriteEffect[i].zIndex = 99;
}
})));
}
}, e);
},
addMaPaiToPai: function(e, i) {
var t = new cc.Node("horse");
t.addComponent(cc.Sprite).spriteFrame = this.mapaiSprite.getChildByName("MA_logo").getComponent(cc.Sprite).spriteFrame;
t.setAnchorPoint(.5, .5);
t.setPosition(i);
e.addChild(t);
},
doKaiDaoPai: function(e, i, t, a, n, s, c) {
var o = this;
this.scheduleOnce(function() {
var e = o.getCardTypeInfo(n), h = e.CT_NAME;
if (!o.checkIsSpecialType(n)) {
for (var r = 0 == t ? 2 : 3, l = 0; l < r; l++) {
var d = a[l];
if (0 != d) {
o.userDoneCard[i][t][l].getComponent(cc.Sprite).spriteFrame = o.getsszPokerSpriteFrame(d);
d == o.mapai && o.addMaPaiToPai(o.userDoneCard[i][t][l], cc.v2(15, 30));
}
}
o.userDoneCardBack[i][t].runAction(cc.sequence(cc.spawn(cc.callFunc(function() {
o.userDoneCardBack[i][t].zIndex = t + 3;
if (h) {
var e = null, a = o.getCardTypeInfo(n), s = 1;
0 == t ? s = a.FD : 1 == t ? s = a.SD : 2 == t && (s = a.TD);
e = s > 1 ? "cardtype_specile_bg" : "cardtype_nomal_bg";
o.vecSpriteEffect[i].getComponent(cc.Sprite).spriteFrame = o.getCardTypeBgSpriteFrame(e);
o.vecSpriteEffect[i].getChildByName("cardtype").getComponent(cc.Sprite).spriteFrame = o.getCardTypeSpriteFrame(n);
o.userDoneCardBack[i][t].x;
var c = o.userDoneCardBack[i][t].y - o.userDoneCardBack[i][t].height / 2 + 40;
o.vecSpriteEffect[i].setPositionY(c);
o.vecSpriteEffect[i].zIndex = t + 4;
o.vecSpriteEffect[i].active = !0;
}
}, this)), cc.delayTime(1.1), cc.spawn(cc.callFunc(function() {
o.userDoneCardBack[i][t].zIndex = t - 3;
t < 2 && (o.vecSpriteEffect[i].active = !1);
}, this))));
o.SwitchViewChairID(this.mChairID) == i && o.playSexSFX(o.userList[i]._sex, e.AUDIO);
}
c && o.showDaoFen(t, s);
}, e);
},
doShot: function(e, i) {
var t = this;
this.scheduleOnce(function() {
t.playShotAnimation(i);
}, e);
},
OnUserKaiPai: function(e, i, t, a, n, s, c, o) {
var h = this, r = 0, l = 0;
this.Layout_Desktop.active = !0;
for (var d = 0; d < this.VecJieSuan.length; d++) this.VecJieSuan[d].active = !1;
this.nodeJieSuan.active = !0;
this.vecCardList = i;
for (d = 0; d < e.length; d++) if (e[d] == this.mChairID) {
l = d;
break;
}
for (d = 0; d < this.real_players; d++) {
var g = this.checkIsSpecialType(t[d][0]), u = this.SwitchViewChairID(e[d]);
if (g) {
h.userSpecialType[u].scale = 1;
h.userSpecialType[u].opacity = 255;
this.userSpecialType[u].active = !0;
this.userSpecialType[u].zIndex = 4;
}
}
for (var _ = 0; _ < 3; _++) {
var v = [], p = [];
for (d = 0; d < this.real_players; d++) {
var m = 0;
this.checkIsSpecialType(t[d][_]) || (m = a[d][_]);
v.push(m);
p.push(d);
}
var f = v.length;
for (d = 0; d < f; d++) for (var y = 0; y < f - 1 - d; y++) if (v[y] > v[y + 1]) {
var C = v[y + 1];
v[y + 1] = v[y];
v[y] = C;
var b = p[y + 1];
p[y + 1] = p[y];
p[y] = b;
}
r += 1.2;
for (y = 0; y < p.length; y++) {
d = p[y], u = this.SwitchViewChairID(e[d]);
var w = !1;
y == p.length - 1 && (w = !0);
m = 0;
this.checkIsSpecialType(t[l][_]) || (m = a[l][_]);
this.doKaiDaoPai(r, u, _, i[d][_], t[d][_], m, w);
}
}
for (d = 0; d < this.real_players; d++) {
g = this.checkIsSpecialType(t[d][0]), u = this.SwitchViewChairID(e[d]);
if (g) {
r += 1.5;
this.doKaiSepcialPai(r, u, i[d], t[d][0]);
}
}
this.scheduleOnce(function() {
h.showDaoFen(3, h.vecTotalScore[l]);
for (var i = 0; i < this.real_players; i++) {
var t = h.SwitchViewChairID(e[i]);
h.userList[t].setWinCoinFixed(h.vecTotalScore[i]);
h.userList[t].setScore(s[i]);
h.vecUser[e[i]].score = s[i];
}
}, r);
if (null != c) {
r += .3;
for (d = 0; d < c.length; d++) this.doShot(r + 1 * (d + 1), c[d]);
r += 1.2 * c.length;
}
if (o) {
this.scheduleOnce(function() {
h.playHomeRunAnimation();
}, r + 1);
r += 2;
}
r += .5;
this.scheduleOnce(function() {
h.showReportFlg ? h.final_report && this.scheduleOnce(function() {
this.reportBtn.active = !0;
}, 1) : h.readyBtn.active = !0;
h.showSuanFen = !0;
}, r);
},
turnCard: function() {
var e = this.m_vecXuanPaiCard[this.iIndex][this.jIndex], i = this.m_vecXuanPaiCard[this.iPopIndex][this.jPopIndex];
e.card.y -= 10;
i.card.y -= 10;
var t = this.nodeXuanPai.getChildByName("Sprite_CardPut").getChildByName("Layout_Move");
t.active = !0;
var a = e.card.parent.convertToWorldSpaceAR(e.card.getPosition()), n = i.card.parent.convertToWorldSpaceAR(i.card.getPosition()), s = {};
s.color = e.color;
s.num = e.num;
s.byPai = e.byPai;
s.value = e.value;
s.colorIdx = e.colorIdx;
var c = {};
c.color = i.color;
c.num = i.num;
c.byPai = i.byPai;
c.value = i.value;
c.colorIdx = i.colorIdx;
var o = t.getChildByName("Card0"), h = t.getChildByName("Card1");
o.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(e.byPai);
h.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i.byPai);
o.setContentSize(e.card.getContentSize());
h.setContentSize(i.card.getContentSize());
o.setPosition(t.convertToNodeSpaceAR(a));
h.setPosition(t.convertToNodeSpaceAR(n));
o.removeAllChildren();
h.removeAllChildren();
e.byPai == this.mapai && this.addMaPaiToPai(o, cc.v2(27, -38));
i.byPai == this.mapai && this.addMaPaiToPai(h, cc.v2(27, -38));
o.active = !0;
h.active = !0;
e.card.active = !1;
i.card.active = !1;
o.runAction(cc.sequence(cc.spawn(cc.moveTo(.15, t.convertToNodeSpaceAR(n)), cc.scaleTo(.15, h.width / o.width)), cc.callFunc(function() {
o.active = !1;
e.card.active = !0;
e.isSelected = !1;
e.isPop = !1;
e.isFloor = !1;
e.color = c.color;
e.num = c.num;
e.byPai = c.byPai;
e.value = c.value;
e.colorIdx = c.colorIdx;
e.card.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(e.byPai);
e.card.removeAllChildren();
e.byPai == this.mapai && this.addMaPaiToPai(e.card, cc.v2(27, -38));
}, this)));
h.runAction(cc.sequence(cc.spawn(cc.moveTo(.15, t.convertToNodeSpaceAR(a)), cc.scaleTo(.15, o.width / h.width)), cc.callFunc(function() {
h.active = !1;
i.card.active = !0;
i.isSelected = !1;
i.isPop = !1;
i.isFloor = !1;
i.color = s.color;
i.num = s.num;
i.byPai = s.byPai;
i.value = s.value;
i.colorIdx = s.colorIdx;
i.card.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i.byPai);
i.card.removeAllChildren();
i.byPai == this.mapai && this.addMaPaiToPai(i.card, cc.v2(27, -38));
}, this)));
this.scheduleOnce(function() {
t.active = !1;
for (var e = 0; e < 3; e++) if (0 == e) for (var i = 0; i < 3; i++) this.vecReadyCard[e][i] = this.m_vecXuanPaiCard[e][i].byPai; else for (i = 0; i < 5; i++) this.vecReadyCard[e][i] = this.m_vecXuanPaiCard[e][i].byPai;
}, .3);
this.reSetCardTypeGroupList();
},
onCardClicked: function(e) {
cc.vv.audioMgr.playSFX("ui_click");
cc.log(e.target.name);
for (var i = -1, t = -1, a = -1, n = -1, s = 0; s < 3; s++) {
var c = 0, o = this.m_vecXuanPaiCard[s];
c = 0 == s ? 3 : 5;
for (var h = 0; h < c; h++) {
if (o[h].cardName == e.target.name) {
i = s;
t = h;
}
if (this.m_vecXuanPaiCard[s][h].isSelected) {
a = s;
n = h;
}
}
}
if (-1 != a && -1 != n) if (a == i && n == t) {
this.m_vecXuanPaiCard[i][t].card.y -= 10;
this.m_vecXuanPaiCard[i][t].isSelected = !1;
this.m_vecXuanPaiCard[i][t].isPop = !1;
} else {
this.m_vecXuanPaiCard[i][t].card.y += 10;
this.m_vecXuanPaiCard[i][t].isSelected = !0;
this.m_vecXuanPaiCard[i][t].isPop = !0;
this.iIndex = i;
this.jIndex = t;
this.iPopIndex = a;
this.jPopIndex = n;
this.turnCard();
} else {
this.m_vecXuanPaiCard[i][t].card.y += 10;
this.m_vecXuanPaiCard[i][t].isSelected = !0;
this.m_vecXuanPaiCard[i][t].isPop = !0;
}
},
newCard: function(e, i) {
var t = {};
t.card = e;
t.cardName = i;
t.isSelected = !1;
t.isPop = !1;
t.isFloor = !1;
t.isSelectPop = !1;
t.color = 0;
t.num = 0;
t.byPai = 0;
t.value = 0;
t.colorIdx = 0;
return t;
},
initXuanPaiLayer: function() {
this.nodeXuanPai = this.node.getChildByName("ID_LAYOUT_XUANPAI");
this.nodeBaiPai = this.node.getChildByName("ID_LAYOUT_BAIPAI");
var e = this.nodeXuanPai.getChildByName("Sprite_CardPut");
this.nodeXuanPaiTime = this.nodeXuanPai.getChildByName("time").getComponent(cc.Label);
this.nodeBaiPaiTime = this.nodeBaiPai.getChildByName("time").getComponent(cc.Label);
this.m_vecXuanPaiCard = [];
for (var i = 0; i < 3; i++) {
var t = [];
if (0 == i) for (var a = e.getChildByName("Layout_FirstDun"), n = 0; n < 2; n++) {
(o = a.getChildByName("Sprite_FD_Card" + n)).myTag = n;
o.active = !1;
t[n] = this.newCard(o, "Sprite_FD_Card" + n);
this.addClickEvent(o, this.node, "SSZGame", "onCardClicked");
} else if (1 == i) {
var s = e.getChildByName("Layout_SecondDun");
for (n = 0; n < 3; n++) {
(o = s.getChildByName("Sprite_SD_Card" + n)).myTag = n;
o.active = !1;
t[n] = this.newCard(o, "Sprite_SD_Card" + n);
this.addClickEvent(o, this.node, "SSZGame", "onCardClicked");
}
} else if (2 == i) {
var c = e.getChildByName("Layout_ThirdDun");
for (n = 0; n < 3; n++) {
var o;
(o = c.getChildByName("Sprite_TD_Card" + n)).myTag = n;
o.active = !1;
t[n] = this.newCard(o, "Sprite_TD_Card" + n);
this.addClickEvent(o, this.node, "SSZGame", "onCardClicked");
}
}
this.m_vecXuanPaiCard[i] = t;
}
this._CardGroupSelect = this.nodeXuanPai.getChildByName("Layout_CardGroupSelect");
this._CardGroupSelect.active = !1;
this._viewlist = this._CardGroupSelect.getChildByName("viewlist");
this._content = cc.find("view/content", this._viewlist);
this._viewitemTemp = this._content.children[0];
this._content.removeChild(this._viewitemTemp);
e.getChildByName("ID_BUTTON_FINISH");
this.m_vecFloorCard = [];
for (i = 0; i < 3; i++) this.m_vecFloorCard[i] = [];
},
initTanPaiCard: function() {
this.Layout_Desktop = this.node.getChildByName("Layout_Desktop");
this.userDoneCard = [];
this.userDoneCardBack = [];
this.userDoneCardName = [];
this.vecSpriteEffect = [];
this.vecSpSpriteEffect = [];
this.userBullet = [];
this.userSpecialType = [];
this.userDaoCardType = [];
for (var e = 0; e < 6; e++) {
this.userDoneCard[e] = [];
this.userDoneCardBack[e] = [];
this.userDoneCardName[e] = [];
var i = this.Layout_Desktop.getChildByName("Layout_UserCard" + e);
this.vecSpriteEffect[e] = i.getChildByName("cardtype_bg");
this.vecSpriteEffect[e].active = !1;
this.vecSpSpriteEffect[e] = i.getChildByName("sp_cardtype_bg");
this.vecSpSpriteEffect[e].active = !1;
this.userSpecialType[e] = i.getChildByName("specialType");
this.userSpecialType[e].active = !1;
this.userBullet[e] = [];
for (var t = i.getChildByName("bullets"), a = 0; a < t.children.length; a++) {
this.userBullet[e][a] = t.children[a];
this.userBullet[e][a].active = !1;
}
this.userDaoCardType[e] = [];
var n = null;
(n = i.getChildByName("FDCt")).active = !1;
this.userDaoCardType[e].push(n);
(n = i.getChildByName("SDCt")).active = !1;
this.userDaoCardType[e].push(n);
(n = i.getChildByName("TDCt")).active = !1;
this.userDaoCardType[e].push(n);
for (var s = 0; s < 3; s++) {
this.userDoneCard[e][s] = [];
this.userDoneCardName[e][s] = [];
if (0 == s) {
var c = i.getChildByName("Layout_FirstDun");
this.userDoneCardBack[e][s] = c;
this.userDoneCardBack[e][s].active = !1;
for (var o = 0; o < 2; o++) {
this.userDoneCard[e][s][o] = c.getChildByName("Sprite_FD_Card" + o);
this.userDoneCardName[e][s][o] = "Sprite_FD_Card" + o;
}
} else if (1 == s) {
var h = i.getChildByName("Layout_SecondDun");
this.userDoneCardBack[e][s] = h;
this.userDoneCardBack[e][s].active = !1;
for (o = 0; o < 3; o++) {
this.userDoneCard[e][s][o] = h.getChildByName("Sprite_SD_Card" + o);
this.userDoneCardName[e][s][o] = "Sprite_SD_Card" + o;
}
} else if (2 == s) {
var r = i.getChildByName("Layout_ThirdDun");
this.userDoneCardBack[e][s] = r;
this.userDoneCardBack[e][s].active = !1;
for (o = 0; o < 3; o++) {
this.userDoneCard[e][s][o] = r.getChildByName("Sprite_TD_Card" + o);
this.userDoneCardName[e][s][o] = "Sprite_TD_Card" + o;
}
}
this.userDoneCardBack[e][s].zIndex = s;
}
}
this.VecJieSuan = [];
var l = this.nodeJieSuan = this.node.getChildByName("ID_NODE_JIESUAN");
for (e = 0; e < l.children.length; e++) {
this.VecJieSuan.push(l.children[e]);
l.children[e].active = !1;
}
l.active = !1;
},
initCardTypeGroupList: function(e) {
for (var i = 0; i < e.length; ++i) {
var t = this.getViewItem(i);
t.idx = i;
var a = this.checkIsSpecialType(e[i][0][0]), n = t.getChildByName("highLight"), s = t.getChildByName("cardtype_selTag");
if (0 == i) {
n.active = !0;
s.active = !0;
} else {
n.active = !1;
s.active = !1;
}
var c = t.getChildByName("cardTypeSel");
c.getChildByName("groupNo").getComponent(cc.Label).string = i + 1;
for (var o = 0; o < 6; o++) {
var h = c.getChildByName("cardtype" + o);
if (a) if (0 == o) {
h.active = !0;
var r = this.getCardTypeInfo(e[i][0][0]);
h.getChildByName("cardtypeLabel").getComponent(cc.Label).string = r.CT_NAME;
} else h.active = !1; else if (0 == o) h.active = !1; else {
h.active = !0;
r = this.getCardTypeInfo(e[i][3 - o][0]);
h.getChildByName("cardtypeLabel").getComponent(cc.Label).string = r.CT_NAME;
}
}
}
this.shrinkContent(e.length);
this._CardGroupSelect.active = !0;
this._viewlist.getComponent(cc.ScrollView).scrollToLeft();
if (e.length > 0) {
this.cardDataList = [].concat(e[0][2][1]);
this.cardDataList = this.cardDataList.concat(e[0][1][1]);
this.cardDataList = this.cardDataList.concat(e[0][0][1]);
}
},
getViewItem: function(e) {
var i = this._content;
if (i.childrenCount > e) return i.children[e];
var t = cc.instantiate(this._viewitemTemp);
i.addChild(t);
return t;
},
shrinkContent: function(e) {
for (;this._content.childrenCount > e; ) {
var i = this._content.children[this._content.childrenCount - 1];
this._content.removeChild(i, !0);
}
},
getSelectedGroupId: function() {
for (var e = -1, i = this._content, t = 0; t < i.childrenCount; t++) {
var a = i.children[t];
a.getChildByName("highLight");
if (a.getChildByName("cardtype_selTag").active) {
e = t;
break;
}
}
return e;
},
reSetCardTypeGroupList: function() {
for (var e = this._content, i = 0; i < e.childrenCount; i++) {
var t = e.children[i], a = t.getChildByName("highLight"), n = t.getChildByName("cardtype_selTag");
a.active = !1;
n.active = !1;
}
},
onBtnOpClicked: function(e) {
cc.vv.audioMgr.playSFX("ui_click");
var i = e.target.idx;
if (!(i >= this.aiGroupList.length)) {
var t = this._content;
this.reSetCardTypeGroupList();
var a = t.children[i], n = a.getChildByName("highLight"), s = a.getChildByName("cardtype_selTag");
n.active = !0;
s.active = !0;
if (this.aiGroupList[i].length > 0) {
this.cardDataList = [].concat(this.aiGroupList[i][2][1]);
this.cardDataList = this.cardDataList.concat(this.aiGroupList[i][1][1]);
this.cardDataList = this.cardDataList.concat(this.aiGroupList[i][0][1]);
}
}
},
OnFinishBtnEvent: function() {
cc.vv.audioMgr.click();
if (this.vecReadyCard[0] && this.vecReadyCard[1] && this.vecReadyCard[2]) {
var e, i = [], t = 0;
(e = this.getSelectedGroupId()) > -1 && this.checkIsSpecialType(this.aiGroupList[e][0][0]) && (t = 1);
for (var a = 0; a < 3; a++) for (var n = 0; n < this.vecReadyCard[a].length; n++) i.push(this.vecReadyCard[a][n]);
this.common("kaipai", {
tanpai: i,
teshu: t
});
}
},
initView: function() {
this.initMain();
this.common("sit", {
roomid: cc.vv.userMgr.room_id
});
},
initEventHandlers: function() {
cc.vv.gameNetMgr.dataEventHandler = this.node;
var e = this;
this.node.on("sit", function(i) {
0 == i.errcode ? e.deal("sit", i) : cc.vv.alert.show("进房失败", i.errmsg, function() {
cc.vv.sceneMgr.gotoHall();
});
});
this.node.on("renew", function(i) {
if (0 == i.errcode) {
this.renewedTag = !1;
cc.vv.GameResult._gameresult.active = !1;
for (var t = 0; t < e.players; t++) if (e.vecUser && e.vecUser[t] && e.vecUser[t].uid > 0) {
var a = e.SwitchViewChairID(t);
e.userDoneCardBack[a][0].active = !1;
e.userDoneCardBack[a][1].active = !1;
e.userDoneCardBack[a][2].active = !1;
e.userBullet[a][0].active = !1;
e.userBullet[a][1].active = !1;
e.userBullet[a][2].active = !1;
e.userDaoCardType[a][0].active = !1;
e.userDaoCardType[a][1].active = !1;
e.userDaoCardType[a][2].active = !1;
e.userList[a].setZhuang(!1);
e.userList[a].setFangzhu(!1);
e.userList[a].setWinCoinFixed(null);
e.userList[a].setInfo(null, null, null, null, null);
e.vecSpriteEffect[a].active = !1;
e.vecSpSpriteEffect[a].active = !1;
e.vecUser[t] = {};
}
e.m_byZhuang = -1;
for (t = 0; t < e.VecJieSuan.length; t++) e.VecJieSuan[t].active = !1;
e.nodeJieSuan.active = !1;
e.reportBtn.active = !1;
e.report_data = null;
e.final_report = null;
} else cc.vv.alert.show("续房失败", i.errmsg);
});
this.node.on("renewed", function(e) {
this.renewedTag = !0;
if (this.creator != cc.vv.userMgr.userid) {
cc.find("Canvas/game_result/btnRenew").active = !0;
cc.find("Canvas/game_result/btnRenewUnable").active = !1;
}
cc.vv.GameResult.setRenewed(this.renewedTag);
});
this.node.on("leave", function(i) {
var t = i.data;
if (t.userid == cc.vv.userMgr.userid) 0 == i.errcode && cc.vv.sceneMgr.gotoHall(); else {
var a = t.seatid;
a = e.SwitchViewChairID(a);
e.userDoneCardBack[a][0].active = !1;
e.userDoneCardBack[a][1].active = !1;
e.userDoneCardBack[a][2].active = !1;
e.userBullet[a][0].active = !1;
e.userBullet[a][1].active = !1;
e.userBullet[a][2].active = !1;
e.userDaoCardType[a][0].active = !1;
e.userDaoCardType[a][1].active = !1;
e.userDaoCardType[a][2].active = !1;
e.userList[a].setID(null);
e.userList[a].setWinCoinFixed(null);
e.userList[a].setInfo(null, null, null, null, null);
e.vecUser[t.seatid] = {};
e.vecSpriteEffect[a].active = !1;
e.vecSpSpriteEffect[a].active = !1;
e.inviteBtn.active = !0;
e.checkStartBtn();
}
});
this.node.on("param", function(i) {
e.deal("param", i);
});
this.node.on("table", function(i) {
e.deal("table", i);
});
this.node.on("table_begin", function(i) {
e.deal("table_begin", i);
});
this.node.on("table_side", function(i) {
e.deal("table_side", i);
});
this.node.on("table_end", function(i) {
e.deal("table_end", i);
});
this.node.on("stage", function(i) {
e.deal("stage", i);
});
this.node.on("ready", function(i) {
e.deal("ready", i);
});
this.node.on("start", function(i) {
e.deal("start", i);
});
this.node.on("lock", function(i) {
e.deal("lock", i);
});
this.node.on("fapai", function(i) {
e.deal("fapai", i);
});
this.node.on("kaipai", function(i) {
e.deal("kaipai", i);
});
this.node.on("suanfen", function(i) {
e.deal("suanfen", i);
});
this.node.on("qiangzhuang", function(i) {
e.deal("qiangzhuang", i);
});
this.node.on("buqiangzhuang", function(i) {
e.deal("buqiangzhuang", i);
});
this.node.on("dingzhuang", function(i) {
e.deal("dingzhuang", i);
});
this.node.on("refuse_dismiss_room", function(i) {
e.deal("refuse_dismiss_room", i);
});
this.node.on("agree_dismiss_room", function(i) {
e.deal("agree_dismiss_room", i);
});
this.node.on("try_dismiss_room", function(i) {
e.deal("try_dismiss_room", i);
});
this.node.on("dismissroom", function(i) {
e.deal("dismissroom", i);
});
this.node.on("voice", function(i) {
e.deal("voice", i);
});
this.node.on("chat", function(i) {
e.deal("chat", i);
});
this.node.on("yuyin", function(i) {
e.deal("yuyin", i);
});
this.node.on("biaoqing", function(i) {
e.deal("biaoqing", i);
});
this.node.on("interact", function(i) {
e.deal("interact", i);
});
this.node.on("report", function(i) {
e.deal("report", i);
});
this.node.on("offline", function(i) {
i = i.data;
e.vecUser[i.seat].online = 0;
var t = e.SwitchViewChairID(i.seat);
e.userList[t].setOffline(!0);
});
this.node.on("online", function(i) {
i = i.data;
e.vecUser[i.seat].online = 1;
var t = e.SwitchViewChairID(i.seat);
e.userList[t].setOffline(!1);
});
},
OnShowHint: function(e) {
var i = this;
this.hintLabel.getComponent(cc.Label).string = e;
this.hintBack.active = !0;
this.hintBack.stopAllActions();
this.hintLabel.stopAllActions();
this.hintLabel.setPosition(0, -25);
this.hintBack.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
i.hintBack.active = !1;
i.hintLabel.setPosition(0, 0);
}, this)));
this.hintLabel.runAction(cc.moveBy(.2, cc.v2(0, 25)));
},
onBtnSettingsClicked: function() {
cc.vv.audioMgr.playSFX("ui_click");
cc.vv.popupMgr.showSettings();
},
OnClockBtnClick: function() {
this.unlocked ? this.unlocked = !1 : this.unlocked = !0;
},
common: function(e, i) {
cc.vv.net.common("bzq", e, i);
},
checkStartBtn: function() {
for (var e = 0, i = 0, t = 0, a = 0; a < this.players; a++) if (this.vecUser && this.vecUser[a] && this.vecUser[a].uid > 0) {
i++;
this.vecUser[a].uid == this.creator && (t = a);
1 == this.vecUser[a].state && e++;
}
if (this.creator == cc.vv.userMgr.userid) if (0 == this.m_bGameStarted && 0 == this.m_bTableStarted) if (i > 1 && i == e + 1 && 0 == this.vecUser[t].state) {
this.startBtn.active = !0;
this.startBtnDisable.active = !1;
} else if (i == e && 1 == this.vecUser[t].state) {
this.startBtn.active = !1;
this.startBtnDisable.active = !1;
} else {
this.startBtn.active = !1;
this.startBtnDisable.active = !0;
} else {
this.startBtn.active = !1;
this.startBtnDisable.active = !1;
} else {
this.startBtn.active = !1;
this.startBtnDisable.active = !1;
}
},
OnReadyStart: function() {
this.cbReason = 4;
this.OnSubFinalReport(this.report_data);
this.report_data = null;
this.final_report = null;
this.gameresult.active = !0;
},
OnReady: function() {
this.common("ready");
this.readyBtn.active = !1;
this.playReadyAnimation();
this.userList[0].setReady(!0);
},
OnInvite: function() {
for (var e = 0, i = 0; i < this.players; i++) this.vecUser && this.vecUser[i] && this.vecUser[i].uid > 0 && e++;
cc.vv.audioMgr.playSFX("ui_click");
var t = cc.GAME_NAME + "房间号：" + this.mRoomID + " [缺" + (this.players - e) + "人]";
cc.vv.share_url = "http://game.fingerjoys.com/room/" + cc.GAME_CODE + "/" + this.mRoomID;
cc.vv.anysdkMgr.share(t, "玩法: " + this.descLabel.getComponent(cc.Label).string + " " + this.m_nMaxRound + "局", "0", "2", "");
},
renew_ui: function() {
this.roundLabel.string = this.m_nRound;
this.roundLabelTotal.string = this.m_nMaxRound;
for (var e = 0; e < this.players; e++) {
var i = this.SwitchViewChairID(e);
if (this.vecUser && this.vecUser[e] && this.vecUser[e].uid > 0) {
this.userList[i].setID(this.vecUser[e].uid);
this.userList[i].setInfo(this.vecUser[e].nickname, this.vecUser[e].score, this.vecUser[e].gender, this.vecUser[e].ip);
1 == this.vecUser[e].state ? this.userList[i].setReady(!0) : this.userList[i].setReady(!1);
this.userList[i].setOffline(1 != this.vecUser[e].online);
if (0 == i && 1 == this.vecUser[e].state) {
this.playReadyAnimation();
this.readyBtn.active = !1;
}
this.userList[i].setFangzhu(this.vecUser[e].uid == this.creator);
} else {
this.userList[i].setID(null);
this.userList[i].setWinCoinFixed(null);
this.userList[i].setInfo(null, null, null, null, null);
}
}
},
OnSubBiaoQing: function(e, i, t) {
var a = this.SwitchViewChairID(i);
this.showBiaoQing(a, t);
},
showBiaoQing: function(e, i) {
this.userList[e].emoji(i);
},
onSubChat: function(e, i, t) {
var a = this.SwitchViewChairID(i);
this.showChat(a, t);
},
showChat: function(e, i) {
this.userList[e].chat(i);
},
OnSubYuYin: function(e, i, t) {
var a = this.SwitchViewChairID(i);
this.showYuYin(a, t);
},
showYuYin: function(e, i) {
var t = cc.vv.chat.getQuickChatInfo(i);
this.userList[e].chat(t.content);
cc.vv.audioMgr.playSFX(t.sound);
},
OnSubTable: function(e) {
void 0 == this.vecUser && (this.vecUser = [ null, null, null, null, null, null ]);
for (var i = 0, t = 0; t < this.players; t++) {
void 0 == this.vecUser[t] && (this.vecUser[t] = {});
this.vecUser[t].uid = e[t].uid;
this.vecUser[t].seat = t;
this.vecUser[t].score = e[t].score;
this.vecUser[t].nickname = e[t].nickname;
this.vecUser[t].avatar = e[t].avatar;
this.vecUser[t].gender = e[t].gender;
this.vecUser[t].state = e[t].state;
this.vecUser[t].ip = e[t].ip;
this.vecUser[t].online = e[t].online;
}
for (var a = 0, n = 0; n < this.players; n++) if (this.vecUser && this.vecUser[n] && this.vecUser[n].uid > 0) {
a++;
this.creator == this.vecUser[n].uid && (i = n);
}
if (this.m_bTableStarted) this.inviteBtn.active = !1; else {
a >= this.players ? this.inviteBtn.active = !1 : this.inviteBtn.active = !0;
this.mChairID != i && (this.readyBtn.active = !0);
}
this.renew_ui();
},
OnSubStage: function(e, i, t) {
for (var a = this, n = [], s = 0; s < 6; s++) if (this.vecUser && this.vecUser[s] && this.vecUser[s].uid) {
0;
n.push(s);
}
this.real_players = t.real_ren;
0 == e && (0 == this.mChairID ? this.readyBtn.active = !0 : this.readyBtn.active = !1);
if (3 == e || 5 == e) {
var c = t.round, o = [];
for (s = 0; s < t.list.length; s++) o.push(t.list[s].ready);
this.OnSubKaiPaiReady(c, o);
var h = t.list[this.mChairID].cards;
if (null != h && 8 == h.length) {
this.vecReadyCard[0] = [ h[0], h[1] ];
this.vecReadyCard[1] = [ h[2], h[3], h[4] ];
this.vecReadyCard[2] = [ h[5], h[6], h[7] ];
}
if (0 == t.list[this.mChairID].ready) {
a.baipaiUIReady = !1;
a.sortPaiReady = !1;
for (s = 0; s < this.players; s++) {
var r = this.SwitchViewChairID(s);
this.userList[r].setWinCoinFixed(null);
}
this.scheduleOnce(function() {
a.sszCardList.initData();
a.baipaiUIReady && a.baipaiComponent.initBaiPaiList();
a.sortPaiReady = !0;
}, 0);
this.OnSubFaPai(o, t.list[this.mChairID].cards);
}
}
},
InitTable: function() {
this.RepositTable();
},
RepositTable: function() {
for (var e = 0; e < 6; e++) {
this.userDoneCardBack[e][0].active = !1;
this.userDoneCardBack[e][1].active = !1;
this.userDoneCardBack[e][2].active = !1;
this.userBullet[e][0].active = !1;
this.userBullet[e][1].active = !1;
this.userBullet[e][2].active = !1;
this.userDaoCardType[e][0].active = !1;
this.userDaoCardType[e][1].active = !1;
this.userDaoCardType[e][2].active = !1;
}
for (e = 0; e < 6; e++) for (var i = 0; i < 3; i++) if (0 == i) for (var t = 0; t < 3; t++) this.userDoneCard[e][i][t].initWithFile(dwc.g_arrSSZRes.defaultCard_png); else for (t = 0; t < 5; t++) this.userDoneCard[e][i][t].initWithFile(dwc.g_arrSSZRes.defaultCard_png);
this.m_waitState = "STATE_NULL";
this.m_vecHandPai = [ 255, 255, 255, 255, 255 ];
this.m_vecRoundScore = [ 0, 0, 0, 0, 0 ];
this.m_vecRoundScore = [ 0, 0, 0, 0, 0 ];
this.m_vecCardData = [ [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ] ];
this.vecRealScoreData = [];
for (e = 0; e < 6; e++) for (i = 0; i < 13; i++) if (this.vecTableCard && this.vecTableCard[e] && this.vecTableCard[e][i]) {
this.vecTableCard[e][i].destroy();
this.vecTableCard[e][i] = null;
}
this.isCanTouch = !1;
this.nodeJieSuanBg.setVisible(!1);
this.nodeXuanPai.setVisible(!1);
this.nodeBaiPai.setVisible(!1);
this.vecTableCard = [ [ null, null, null, null, null, null ], [ null, null, null, null, null, null ], [ null, null, null, null, null, null ], [ null, null, null, null, null, null ], [ null, null, null, null, null, null ] ];
this.voiceBtn.setVisible(!0);
this.userList[0].userInfoBG.setVisible(!0);
this.userList[0].userName.setString(dwc.Myself.GetData().GetNickName());
},
xuanPaiAction: function(e) {
var i = null;
switch (this._baipaiMode) {
case 0:
i = this.nodeBaiPai;
break;

case 1:
i = this.nodeXuanPai;
}
if (e) {
i.setPosition(cc.v2(0, 0));
i.active = !0;
} else {
cc.vv.audioMgr.stopSFX(this.alarm_id);
this.unschedule(this.tipBaiPaiTime);
i.getPositionY() > -720 && i.setPosition(cc.v2(0, -720));
}
},
tipBaiPaiTime: function() {
this.m_nLeftTime--;
this.m_nLeftTime < 0 && Math.abs(this.m_nLeftTime) % 10 == 0 && (this.alarm_id = cc.vv.audioMgr.playSFX("timeup_alarm"));
if (!(this.m_nLeftTime <= -1)) {
this.nodeXuanPaiTime.string = "" + this.m_nLeftTime;
this.nodeBaiPaiTime.string = "" + this.m_nLeftTime;
}
},
OnSubSit: function(e, i, t, a, n, s, c, o, h) {
if (e == cc.vv.userMgr.userid) {
this.mRoomID = t;
this.mChairID = i;
0 == h ? this.checkStartBtn() : this.readyBtn.active = !1;
}
void 0 == this.vecUser && (this.vecUser = [ null, null, null, null, null, null ]);
if (i < this.players) {
void 0 == this.vecUser[i] && (this.vecUser[i] = {});
this.vecUser[i].uid = e;
this.vecUser[i].seat = i;
this.vecUser[i].score = a;
this.vecUser[i].nickname = n;
this.vecUser[i].gender = s;
this.vecUser[i].avatar = c;
this.vecUser[i].online = 1;
void 0 != h && (this.vecUser[i].state = h);
this.vecUser[i].ip = o;
this.vecUser[i].online = 1;
var r = this.SwitchViewChairID(i);
this.userList[r].setOffline(!1);
this.userList[r].setSortPai(!1);
for (var l = 0, d = 0; d < this.players; d++) this.vecUser && this.vecUser[d] && this.vecUser[d].uid > 0 && l++;
this.m_bTableStarted ? this.inviteBtn.active = !1 : l >= this.players ? this.inviteBtn.active = !1 : this.inviteBtn.active = !0;
this.renew_ui();
} else cc.log("OnSubSit error seat : " + i);
},
OnSubStandUp: function(e) {
if (this.vecUser) for (var i = 0; i < this.vecUser.length; i++) {
var t = this.SwitchViewChairID(i);
if (this.vecUser && this.vecUser[i] && this.vecUser[i].uid == e) if (this.m_bTableStarted) {
this.vecUser[i].offline = !0;
this.userList[t].userOfflineSprite.active = this.vecUser[i].offline;
} else {
this.vecUser[i].uid = 0;
this.vecUser[i].seat = 0;
this.vecUser[i].score = 0;
this.vecUser[i].nickname = "";
this.vecUser[i].gender = 0;
this.vecUser[i].avatar = 0;
this.vecUser[i].state = 0;
this.vecUser[i].offline = !1;
this.vecUser[i].ip = "0.0.0.0";
this.userList[t].setInfo(null, null);
}
}
if (e == cc.vv.userMgr.userid) {
if (this.vecUser) for (i = 0; i < this.vecUser.length; i++) if (this.vecUser && this.vecUser[i]) {
this.vecUser[i].uid = 0;
this.vecUser[i].seat = 0;
this.vecUser[i].score = 0;
this.vecUser[i].nickname = "";
this.vecUser[i].gender = 0;
this.vecUser[i].avatar = 0;
this.vecUser[i].state = 0;
this.vecUser[i].ip = "0.0.0.0";
this.vecUser[i].offline = !1;
t = this.SwitchViewChairID(i);
this.userList[t].setInfo(null, null);
}
this.RepositTable();
}
this.m_bTableStarted || 0 == this.mChairID || dwc.Myself.SetMyRoom(null);
},
OnSubKick: function(e) {
if (this.vecUser) if (e == cc.vv.userMgr.userid) {
var i = new dwc.DT_MainScene();
cc.director.runScene(i);
cc.vv.alert.show("提示", "由于超过3局未准备，您被踢出房间");
} else for (var t = 0; t < this.vecUser.length; t++) if (this.vecUser && this.vecUser[t] && this.vecUser[t].uid == e) {
this.vecUser[t].uid = 0;
this.vecUser[t].seat = 0;
this.vecUser[t].score = 0;
this.vecUser[t].nickname = "";
this.vecUser[t].gender = 0;
this.vecUser[t].avatar = 0;
this.vecUser[t].state = 0;
this.vecUser[t].ip = "0.0.0.0";
var a = this.SwitchViewChairID(t);
this.userList[a].setInfo(null, null);
}
},
OnSubReady: function(e, i) {
var t = this.SwitchViewChairID(i);
i < this.players && this.vecUser && this.vecUser[i] && (this.vecUser[i].state = 1);
0 == this.m_bGameStarted && 0 == t && (this.readyBtn.active = !1);
for (var a = 0; a < this.players; a++) {
t = this.SwitchViewChairID(a);
1 == this.vecUser[a].state ? this.userList[t].setReady(!0) : this.userList[t].setReady(!1);
}
},
OnSubFaPai: function(e, i) {
this.m_bTableStarted = !0;
this.m_bGameStarted = !0;
this.kaipaiFlg = !1;
for (var t = 0; t < this.players; t++) {
this.userList[t].setReady(!1);
0 == t ? this.userList[t].setSortPai(!1) : this.userList[t].setSortPai(!0);
}
for (t = 0; t < this.players; t++) this.vecUser[t].state = 0;
this.readyBtn.active = !1;
this.startBtn.active = !1;
this.startBtnDisable.active = !1;
this.inviteBtn.active = !1;
this.m_vecReady = e;
this.cardDataList = i;
this.SortSelectCardList(this.cardDataList, 8);
this.baipaiComponent.setHandPai(this.cardDataList);
for (t = 0; t < 3; t++) if (0 == t) for (var a = 0; a < 2; a++) this.m_vecXuanPaiCard[t][a].card.active = !1; else for (a = 0; a < 3; a++) this.m_vecXuanPaiCard[t][a].card.active = !1;
this.m_vecFloorCard = [];
for (t = 0; t < 3; t++) this.m_vecFloorCard[t] = [];
this.reInitBackCard();
for (var n = 0; n < 3; n++) for (t = 0; t < 6; t++) {
this.userDoneCardBack[t][n].active = !1;
this.userDaoCardType[t][n].active = !1;
}
for (t = 0; t < this.VecJieSuan.length; t++) this.VecJieSuan[t].active = !1;
this.nodeJieSuan.active = !1;
this.baipaiComponent.clearBaiPaiUi();
this.xuanPaiAction(!0);
1 == this.sortPaiReady && this.baipaiComponent.initBaiPaiList();
this.renew_ui();
this.baipaiUIReady = !0;
},
OnCheckReadyPai: function() {
this.showMyDoneCard(0);
},
showMyDoneCard: function(e) {
if (!this.kaipaiFlg && 0 != this._kaipai) {
if (0 != this.vecReadyCard.length && null != this.vecReadyCard[0] && 0 != this.vecReadyCard[0].length) {
if (0 == e) this.showSelfCard ? this.showSelfCard = !1 : this.showSelfCard = !0; else if (1 == e) {
if (!this.showSelfCard) return;
this.showSelfCard = !1;
}
for (var i = 0; i < 3; i++) if (0 == i) for (var t = 0; t < 2; t++) {
0 != (a = this.vecReadyCard[i][t]) && (0 == this.showSelfCard ? this.userDoneCard[0][i][t].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(255) : this.userDoneCard[0][i][t].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(a));
} else for (t = 0; t < 3; t++) {
var a;
0 != (a = this.vecReadyCard[i][t]) && (0 == this.showSelfCard ? this.userDoneCard[0][i][t].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(255) : this.userDoneCard[0][i][t].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(a));
}
for (var n = 0; n < 3; n++) 0 != a && this.userDoneCardBack[0][n].runAction(cc.sequence(cc.delayTime(1 * (n + 1)), cc.show()));
}
}
},
reInitBackCard: function() {
for (var e = 0; e < 6; e++) {
for (var i = 0; i < 3; i++) for (var t = 0 == i ? 2 : 3, a = 0; a < t; a++) {
this.userDoneCard[e][i][a].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(255);
this.userDoneCard[e][i][a].removeAllChildren();
}
this.vecSpriteEffect[e].active = !1;
this.vecSpSpriteEffect[e].active = !1;
this.userDaoCardType[e][0].active = !1;
this.userDaoCardType[e][1].active = !1;
this.userDaoCardType[e][2].active = !1;
}
},
OnSubKaiPaiReady: function(e, i) {
this.m_vecIsKaiPaiReady = i;
this.Layout_Desktop.active = !0;
for (var t = 0; t < this.players; t++) {
var a = this.SwitchViewChairID(t);
if (1 == i[t]) {
if (0 == a && 0 == this._kaipai) {
this.xuanPaiAction(!1);
this._kaipai = !0;
}
this.userDoneCardBack[a][0].active = !0;
this.userDoneCardBack[a][1].active = !0;
this.userDoneCardBack[a][2].active = !0;
this.userList[a].setSortPai(!1);
} else {
this.userList[a].setSortPai(!0);
this.userDoneCardBack[a][0].active = !1;
this.userDoneCardBack[a][1].active = !1;
this.userDoneCardBack[a][2].active = !1;
}
}
},
OnSubJieSuan: function(e, i) {
this.againBtn.setVisible(!0);
this.reportBtn.setVisible(!1);
this.m_vecRoundScore = [ 0, 0, 0, 0, 0 ];
this.m_vecUserScore = [ 0, 0, 0, 0, 0 ];
for (var t = 1; t < this.players; t++) {
this.userDoneCardBack[t][0].active = !1;
this.userDoneCardBack[t][1].active = !1;
this.userDoneCardBack[t][2].active = !1;
this.userBullet[t][0].active = !1;
this.userBullet[t][1].active = !1;
this.userBullet[t][2].active = !1;
this.userDaoCardType[t][0].active = !1;
this.userDaoCardType[t][1].active = !1;
this.userDaoCardType[t][2].active = !1;
}
for (t = 0; t < this.players; t++) {
this.m_vecRoundScore[t] = i[t].round_score;
this.m_vecUserScore[t] = i[t].user_score;
this.vecUser && this.vecUser[t] && this.vecUser[t].uid > 0 && (this.vecUser[t].score = i[t].user_score);
}
},
SortSelectCardList: function(e, i) {
for (var t = new Array(e.length), a = 0; a < i; a++) t[a] = this.GetCardLogicValue(e[a]);
var n, s = !0, c = i - 1;
do {
s = !0;
for (a = 0; a < c; a++) if (t[a] < t[a + 1] || t[a] == t[a + 1]) {
n = e[a];
e[a] = e[a + 1];
e[a + 1] = n;
n = t[a];
t[a] = t[a + 1];
t[a + 1] = n;
s = !1;
}
c--;
} while (0 == s);
},
ReinitOneCard: function(e, i) {
e.card.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i);
e.card.removeAllChildren();
i == this.mapai && this.addMaPaiToPai(e.card, cc.v2(27, -38));
e.card.active = !0;
e.byPai = i;
if (1 == e.isSelected) {
e.isSelected = !1;
e.isPop = !1;
e.card.y -= 10;
e.isFloor = !1;
}
},
GetCardType: function(e, i) {
for (var t = !0, a = !0, s = this.GetCardColor(e[0]), c = this.GetCardLogicValue(e[0]), o = 1; o < i; o++) {
this.GetCardColor(e[o]) != s && (t = !1);
c != this.GetCardLogicValue(e[o]) + o && (a = !1);
if (0 == t && 0 == a) break;
}
if (0 == a && 14 == c) {
o = 1;
for (o = 1; o < i; o++) {
if (c != this.GetCardLogicValue(e[o]) + o + 8) break;
}
o == i && (a = !0);
}
if (3 == i) {
(h = ssz.tagAnalyseResult1).initData();
this.AnalysebCardData(e, i, h);
if (1 == h.cbThreeCount) return n.CT_THREE_TIAO;
if (1 == h.cbLONGCount) return n.CT_ONE_LONG;
} else {
if (1 == t && 1 == a && 13 == this.GetCardLogicValue(e[1])) return n.CT_KING_TONG_HUA_SHUN;
if (0 == t && 1 == a) return n.CT_SHUN_ZI;
if (1 == t && 0 == a) return n.CT_TONG_HUA;
if (1 == t && 1 == a) return n.CT_TONG_HUA_SHUN;
var h;
(h = ssz.tagAnalyseResult1).initData();
this.AnalysebCardData(e, i, h);
if (1 == h.cbFourCount) return n.CT_TIE_ZHI;
if (2 == h.cbLONGCount) return n.CT_TWO_LONG;
if (1 == h.cbLONGCount && 1 == h.cbThreeCount) return n.CT_HU_LU;
if (1 == h.cbThreeCount && 0 == h.cbLONGCount) return n.CT_THREE_TIAO;
if (1 == h.cbLONGCount && 3 == h.cbSignedCount) return n.CT_ONE_LONG;
}
return n.CT_SINGLE;
},
GetCardColor: function(e) {
return parseInt(e / 16);
},
GetCardLogicValue: function(e) {
var i = e % 16;
1 == i && (i = 14);
66 == e && (i = 15);
67 == e && (i = 16);
return i;
},
AnalysebCardData: function(e, i, t) {
for (var a = 0; a < i; a++) {
var n = 1, s = [ e[a], 0, 0, 0, 0 ], c = this.GetCardLogicValue(e[a]);
1 == c && (c = 14);
for (var o = a + 1; o < i; o++) {
var h = e[o] % 16;
1 == h && (h = 14);
if (h != c) break;
s[n++] = e[o];
}
switch (n) {
case 1:
t.cbSignedLogicVolue[t.cbSignedCount] = c;
for (var r = 0; r < n; r++) t.cbSignedCardData[t.cbSignedCount * n + r] = s[r];
t.cbSignedCount++;
break;

case 2:
t.cbLONGLogicVolue[t.cbLONGCount] = c;
for (r = 0; r < n; r++) t.cbLONGCardData[t.cbLONGCount * n + r] = s[r];
t.cbLONGCount++;
break;

case 3:
t.cbThreeLogicVolue[t.cbThreeCount] = c;
for (r = 0; r < n; r++) t.cbThreeCardData[t.cbThreeCount * n + r] = s[r];
t.cbThreeCount++;
break;

case 4:
t.cbFourLogicVolue[t.cbFourCount] = c;
for (r = 0; r < n; r++) t.cbFourCardData[t.cbFourCount * n + r] = s[r];
t.cbFourCount++;
}
a += n - 1;
}
},
OnSubQiangZhuang: function() {
this.getCurrentZhuang();
if ("DINGZHUANG" == this.m_zhuangMode) {
0 == this.SwitchRealChairID(0) ? this.common("qiangzhuang", {
power: 1
}) : this.nodeQiangZhuang.active = !1;
}
"LUNZHUANG" == this.m_zhuangMode && (0 == this.zhuangSeat ? this.common("qiangzhuang", {
power: 1
}) : this.nodeQiangZhuang.active = !1);
"QIANGZHUANG" == this.m_zhuangMode && (this.nodeQiangZhuang.active = !0);
},
getCurrentZhuang: function() {
for (var e = 0, i = 0; i < 6; i++) this.vecUser && this.vecUser[i] && this.vecUser[i].uid > 0 && e++;
this.zhuangSeat++;
this.zhuangSeat == e && (this.zhuangSeat = 0);
},
OnSubDingZhuang: function(e, i, t, a) {
this.nodeQiangZhuang.active = !1;
this.unschedule(this.tip_qiangzhuang_game);
this.OnBuQiangZhuangBtnClick();
for (var n = [], s = 0; s < 5; s++) a[s] > 0 && n.push(this.SwitchViewChairID(s));
this.m_byZhuang = i;
var c = this.SwitchViewChairID(i);
this.xuanZhuangIndex = 0;
this.xuanZhuangCounter = 0;
this.playXuanZhuangEffect(n, c, this.OnDingZhuangCallBack.bind(this));
},
OnStartBtnClick: function() {
for (var e = 0, i = 0, t = this.GetSeatIdByUid(this.creator), a = 0; a < this.players; a++) if (this.vecUser && this.vecUser[a] && this.vecUser[a].uid > 0) {
e++;
1 == this.vecUser[a].state ? 0 : a != t && i++;
}
if (e <= 1) this.OnShowHint("房间内至少有2个人才能开始"); else if (i > 0) this.OnShowHint("房间内还有玩家未准备"); else if (0 == this.m_bGameStarted && this.creator == cc.vv.userMgr.userid) {
this.startBtn.active = !1;
this.inviteBtn.active = !1;
this.startBtnDisable.active = !1;
this.common("start");
}
},
OnJieSanBtnClick: function() {
if (0 != cc.vv.userMgr.room_id || "hall" == cc.director.getScene().name) {
for (var e = this, i = 0, t = 0; t < 6; t++) e.vecUser && e.vecUser[t] && e.vecUser[t].uid > 0 && i++;
i > 1 ? this.m_bTableStarted ? cc.vv.alert.show("提示", "您是否确认要申请解散房间？", function() {
e.common("try_dismiss_room");
}, !0) : this.creator == cc.vv.userMgr.userid ? cc.vv.alert.show("提示", "解散房间不扣钻石,\n是否确认解散？", function() {
e.common("leave");
}, !0) : cc.vv.alert.show("提示", "您是否确认要退出房间？", function() {
e.common("leave");
}, !0) : cc.vv.alert.show("提示", "解散房间不扣钻石,\n是否确认解散？", function() {
e.common("leave");
}, !0);
} else cc.vv.sceneMgr.gotoHall();
},
OnSubFinalReport: function(e) {
for (var i = [], t = e.dismiss, a = e.time, n = 0; n < e.list.length; n++) {
i[n] = {};
if (e.list[n].userid > 0) {
i[n].uid = e.list[n].userid;
i[n].nickname = e.list[n].name;
i[n].avatar_url = "";
i[n].resultScore = e.list[n].result_score;
} else {
i[n].uid = 0;
i[n].nickname = "";
i[n].avatar_url = "";
i[n].resultScore = 0;
}
}
this.inviteBtn.active = !1;
this.report_data = e;
this.final_report = i;
if (4 == this.cbReason) {
1 == t && (this.gameresult.active = !0);
var s = !1;
this.creator == cc.vv.userMgr.userid && (s = !0);
cc.vv.GameResult.showReportEx(e.roomid, this.cbReason, i, e.nowRound, e.maxRound, a, s);
}
},
playGameStartAnimation: function(e, i) {
this.OnSubFaPai(e, i);
},
playBgCCardAnimation: function(e, i, t, a, n, s, c, o) {
var h = this;
this.sszBgCompCardspine.setAnimation(0, "bipai", !1);
this.sszBgCompCardspine.setCompleteListener(function(r, l) {
r.animation && r.animation.name;
h.sszBgCompCardAnimaNode.active = !1;
h.OnUserKaiPai(e, i, t, a, n, s, c, o);
});
this.sszBgCompCardAnimaNode.active = !0;
cc.vv.audioMgr.playSFX("ssz/openface/fantasy");
this.playSexSFX(this.userList[0]._sex, "start_compare");
},
playHomeRunAnimation: function() {
var e = this;
this.sszHomeRunspine.setAnimation(0, "quanleida", !1);
this.sszHomeRunspine.setCompleteListener(function(i, t) {
var a = i.animation ? i.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", i.trackIndex, a, t);
e.sszHomeRunAnimaNode.active = !1;
});
this.sszHomeRunAnimaNode.active = !0;
this.playSexSFX(this.userList[0]._sex, "special1");
},
playShotReadyAnimation: function() {
var e = this;
this.sszShotReadyspine.setAnimation(0, "daqiang", !1);
this.sszShotReadyspine.setCompleteListener(function(i, t) {
var a = i.animation ? i.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", i.trackIndex, a, t);
e.sszShotReadyAnimaNode.active = !1;
});
this.sszShotReadyAnimaNode.active = !0;
this.playSexSFX(this.userList[0]._sex, "daqiang1");
},
go: function(e, i) {
return 180 * Math.atan((i.y - e.y) / (i.x - e.x)) / Math.PI;
},
playShotAnimation: function(e) {
var i = this, t = this, a = [ {
pos: cc.v2(-45, -220),
face: [ {
x: 1,
y: 1,
rate: 0
}, {
x: 1,
y: -1,
rate: 110
}, {
x: 1,
y: -1,
rate: 150
}, {
x: 1,
y: 1,
rate: 35
}, {
x: 1,
y: 1,
rate: 0
}, {
x: 1,
y: -1,
rate: 180
} ]
}, {
pos: cc.v2(110, 220),
face: [ {
x: -1,
y: 1,
rate: 105
}, {
x: 1,
y: 1,
rate: 0
}, {
x: -1,
y: 1,
rate: 40
}, {
x: 1,
y: 1,
rate: -25
}, {
x: 1,
y: 1,
rate: -50
}, {
x: -1,
y: 1,
rate: 70
} ]
}, {
pos: cc.v2(550, 95),
face: [ {
x: 1,
y: 1,
rate: -45
}, {
x: 1,
y: 1,
rate: 8
}, {
x: 1,
y: 1,
rate: 0
}, {
x: 1,
y: 1,
rate: -10
}, {
x: 1,
y: 1,
rate: -25
}, {
x: 1,
y: 1,
rate: -70
} ]
}, {
pos: cc.v2(-545, 88),
face: [ {
x: -1,
y: 1,
rate: 45
}, {
x: -1,
y: 1,
rate: -10
}, {
x: -1,
y: 1,
rate: 5
}, {
x: 1,
y: 1,
rate: 0
}, {
x: -1,
y: 1,
rate: 80
}, {
x: -1,
y: 1,
rate: 30
} ]
}, {
pos: cc.v2(-545, -150),
face: [ {
x: -1,
y: 1,
rate: 20
}, {
x: -1,
y: 1,
rate: -25
}, {
x: -1,
y: 1,
rate: -15
}, {
x: -1,
y: 1,
rate: -50
}, {
x: 1,
y: 1,
rate: 0
}, {
x: -1,
y: 1,
rate: 5
} ]
}, {
pos: cc.v2(550, -150),
face: [ {
x: 1,
y: 1,
rate: -30
}, {
x: 1,
y: 1,
rate: 30
}, {
x: 1,
y: 1,
rate: 48
}, {
x: 1,
y: 1,
rate: 15
}, {
x: 1,
y: 1,
rate: -5
}, {
x: 1,
y: 1,
rate: 0
} ]
} ], n = this.SwitchViewChairID(e.f_seat_id), s = this.SwitchViewChairID(e.t_seat_id), c = (this.userList[n], 
this.userList[s], a[n].pos), o = a[n].face[s], h = 0;
this.sszShotAnimaNode.setPosition(c);
this.sszShotAnimaNode.scaleX = o.x * Math.abs(this.sszShotAnimaNode.scaleX);
this.sszShotAnimaNode.scaleY = o.y * Math.abs(this.sszShotAnimaNode.scaleY);
this.sszShotAnimaNode.rotation = o.rate;
this.sszShotspine.setAnimation(0, "kaiqiang", !1);
this.sszShotspine.setCompleteListener(function(e, a) {
var n = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", e.trackIndex, n, a);
i.userBullet[s][0].active = !1;
i.userBullet[s][1].active = !1;
i.userBullet[s][2].active = !1;
t.sszShotAnimaNode.active = !1;
cc.vv.audioMgr.stopSFX(h);
});
this.sszShotspine.setEventListener(function(e, t) {
var a = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] event: %s, %s, %s, %s", e.trackIndex, a, t.data.name, t.intValue, t.floatValue, t.stringValue);
0 == i.userBullet[s][0].active && (h = cc.vv.audioMgr.playSFX("ssz/openface/daqiang2"));
"slot1" == t.data.name ? i.userBullet[s][0].active = !0 : "slot2" == t.data.name ? i.userBullet[s][1].active = !0 : "slot3" == t.data.name && (i.userBullet[s][2].active = !0);
});
this.sszShotAnimaNode.active = !0;
},
playReadyAnimation: function() {
this.sszReadyspine.setAnimation(0, "jijiangkaishi", !0);
this.sszReadyspine.setCompleteListener(function(e, i) {
var t = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", e.trackIndex, t, i);
});
this.sszReadyAnimaNode.active = !1;
},
GetMeChairID: function() {
return this.mChairID;
},
SwitchViewChairID: function(e) {
return Math.abs(e + this.max_player - this.GetMeChairID()) % this.max_player;
},
GetSeatIdByUid: function(e) {
for (var i = 0; i < this.players; i++) if (this.vecUser && this.vecUser[i] && this.vecUser[i].uid == e) return i;
},
SwitchRealChairID: function(e) {
return (this.GetMeChairID() + e) % this.max_player;
},
VecStr2Int: function(e) {
for (var i = [], t = 0; t < e.length; t++) i[t] = parseInt(e[t]);
return i;
},
deal: function(e, i) {
if (0 == i.errcode) {
i = i.data;
if ("table" == e) {
this.mRoomID = i.roomid;
this.m_bTableStarted = i.table_started;
this.m_nRound = i.round;
this.m_nMaxRound = i.max_round;
this.m_bGameStarted = i.game_started;
this.m_cntLookon = i.lookon;
0 == this.m_nRound && (this.m_nRound = 1);
this.fjhLabel.string = "房号:" + this.mRoomID;
if (this.m_bTableStarted) {
this.inviteBtn.active = !1;
this.readyBtn.active = !1;
} else this.inviteBtn.active = !0;
for (var t = i.list, a = [], n = 0; n < this.players; n++) {
var s = t[n], c = {};
c.uid = s.userid;
c.score = s.coins;
c.nickname = s.nickname;
c.gender = s.sex;
c.avatar = s.avatar;
c.state = s.status;
c.vip = s.vip;
c.title = s.title;
c.lookon = s.lookon;
c.ip = s.ip;
c.online = s.online;
a.push(c);
}
this.OnSubTable(a);
this.checkStartBtn();
} else if ("table_begin" == e) {
this.m_bTableStarted = !0;
this.m_bGameStarted = !0;
var o = i.now_round, h = (i.max_round, []), r = [];
if (i.list) for (n = 0; n++; n < i.list.length) {
h.push(i.list[n].ready);
r.push(i.list[n].status);
}
this.m_vecIsReady = h;
this.m_vecIsKaiPaiReady = r;
} else if ("table_side" == e) {
var l = i.seatid, d = (i.ready, i.status, i.cards);
if (l == this.mChairID) {
this.cardDataList = d;
this.SortSelectCardList(this.cardDataList, 8);
}
} else if ("table_end" == e) {
this.renew_ui();
for (n = 0; n < 4; n++) {
var g = this.SwitchViewChairID(n);
if (1 == this.m_vecIsKaiPaiReady[n]) {
this.userDoneCardBack[g][0].active = !0;
this.userDoneCardBack[g][1].active = !0;
this.userDoneCardBack[g][2].active = !0;
} else {
this.userDoneCardBack[g][0].active = !0;
this.userDoneCardBack[g][1].active = !0;
this.userDoneCardBack[g][2].active = !0;
}
}
this.m_bTableStarted = !0;
this.m_bGameStarted = !0;
this.readyBtn.active = !1;
this.inviteBtn.active = !1;
this.xuanPaiAction(!0);
for (n = 0; n < 3; n++) if (0 == n) for (var u = 0; u < 3; u++) this.m_vecXuanPaiCard[n][u].card.active = !1; else for (u = 0; u < 5; u++) this.m_vecXuanPaiCard[n][u].card.active = !1;
this.m_vecFloorCard = [];
for (n = 0; n < 3; n++) this.m_vecFloorCard[n] = [];
for (var _ = 0; _ < 3; _++) for (n = 0; n < 6; n++) {
this.userDoneCardBack[n][_].active = !1;
this.userDaoCardType[n][_].active = !1;
}
for (n = 0; n < 6; n++) {
this.userBullet[n][0].active = !1;
this.userBullet[n][1].active = !1;
this.userBullet[n][2].active = !1;
}
this.ReInitCardPut();
} else if ("param" == e) {
i.roomid;
this.wang = i.wang;
this.jianpai = i.jianpai;
this.paixin = i.paixin;
this.players = i.ren;
this.creator = i.creator;
this.descLabel.getComponent(cc.Label).string = i.desc;
this.mapai = i.mapai;
if (0 == i.mapai) this.mapaiSprite.active = !1; else {
this.mapaiSprite.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i.mapai);
this.mapaiSprite.active = !0;
}
} else if ("stage" == e) {
var v = i.stage, p = i.deal_time;
this.OnSubStage(v, p, i);
} else if ("ready" == e) {
var m = i.userid, f = i.seatid;
this.OnSubReady(m, f);
this.checkStartBtn();
} else if ("sit" == e) {
m = i.userid, f = i.seatid;
var y = i.roomid, C = i.score, b = i.nickname, w = i.sex, x = i.avatar, z = i.ip;
v = i.status;
this.OnSubSit(m, f, y, C, b, w, x, z, v);
this.checkStartBtn();
} else if ("standup" == e) {
m = parseInt(vecArg[1]);
this.OnSubStandUp(m);
} else if ("fapai" == e) {
h = i.ready;
var k = i.pai;
this.m_nRound = i.round;
this.m_nMaxRound = i.max_round;
this.real_players = i.real_ren;
this.baipaiHand = k;
this.sszReadyspine.clearTrack(0);
this.sszReadyAnimaNode.active = !1;
this._kaipai = !1;
this.baipaiUIReady = !1;
this.sortPaiReady = !1;
var M = this;
for (n = 0; n < this.players; n++) {
g = this.SwitchViewChairID(n);
this.userList[g].setWinCoinFixed(null);
this.userList[g].setOffline(!1);
this.vecUser && this.vecUser[n] && this.vecUser[n].uid > 0 && (this.vecUser[n].offline = !1);
}
this.playGameStartAnimation(h, k);
this.scheduleOnce(function() {
M.sszCardList.initData();
M.baipaiUIReady && M.baipaiComponent.initBaiPaiList();
M.sortPaiReady = !0;
}, .1);
} else if ("kaipai" == e) {
for (o = i.round, h = [], n = 0; n < i.list.length; n++) h.push(i.list[n].ready);
this.OnSubKaiPaiReady(o, h);
} else if ("qiangzhuang" == e) ; else if ("dingzhuang" == e) ; else if ("suanfen" == e) {
if (1 == this.kaipaiFlg) {
this.readyBtn.active = !0;
return;
}
this.showSuanFen = !1;
this.showReportFlg = i.report;
this.showMyDoneCard(1);
this.kaipaiFlg = !0;
this.xuanPaiAction(!1);
var j = this.userScoreList = i.list, N = [], S = [], F = [], B = [], T = [], A = i.daqiang, I = !1, X = [];
for (n = 0; n < j.length; n++) if (0 != j[n].pai[0]) {
X.push(n);
var P = [], D = [], Y = [];
for (u = 0; u < 8; u++) u < 2 ? P.push(j[n].pai[u]) : u >= 2 && u < 5 ? D.push(j[n].pai[u]) : Y.push(j[n].pai[u]);
var L = [];
L.push(P);
L.push(D);
L.push(Y);
N.push(L);
if (n == this.mChairID) {
this.vecReadyCard[0] = [].concat(P);
this.vecReadyCard[1] = [].concat(D);
this.vecReadyCard[2] = [].concat(Y);
}
S.push(j[n].type);
F.push(j[n].dao);
B.push(j[n].score);
T.push(j[n].result_score);
1 == j[n].quanleida && (I = !0);
}
this.vecTotalScore = B;
this.playBgCCardAnimation(X, N, S, F, B, T, A, I);
} else if ("jiesuan" == e) o = i.round; else if ("report" == e) {
cc.vv.popupMgr.closeAll();
cc.vv.audioMgr.stopSFX(this.alarm_id);
if (this.showSuanFen) {
this.reportBtn.active = !0;
this.readyBtn.active = !1;
}
this.cbReason = i.reason;
var R = i.renewed;
if (null != R) {
this.renewedTag = !1;
this.renewedTag = 1 == R;
cc.vv.GameResult.setRenewed(this.renewedTag);
}
this.OnSubFinalReport(i);
} else if ("dismissroom" == e) {
m = i.userid;
cc.vv.sceneMgr.gotoHall();
} else if ("cancel_dismiss_room" == e) m = i.userid, b = i.nickname, i.roomid; else if ("voice" == e) {
this._voiceMsgQueue.push(i);
this.playVoice();
} else if ("chat" == e) {
m = i.userid;
var E = i.seatid, H = i.content;
this.onSubChat(m, E, H);
} else if ("yuyin" == e) {
var G = i.index;
m = i.userid, E = i.seatid;
this.OnSubYuYin(m, E, G);
} else if ("biaoqing" == e) {
G = i.index, m = i.userid, E = i.seatid;
this.OnSubBiaoQing(m, E, G);
} else if ("interact" == e) {
var O = i.seatid, q = i.receiver_seatid, Z = this.SwitchViewChairID(O), U = this.SwitchViewChairID(q), V = i.phiz_id, J = cc.instantiate(this.interactPrefab);
if (null != J) {
this.node.addChild(J);
J.getComponent(cc.Sprite).spriteFrame = this.getSpriteFrameByInteract(V);
var K = this.userList[Z].node.getPosition(), Q = this.userList[U].node.getPosition();
J.active = !0;
J.setPosition(K);
J.runAction(cc.sequence(cc.show(), cc.moveTo(.4, Q), cc.hide(), cc.callFunc(function() {
J.active = !1;
this.userList[U].interact(V);
this.playInteractVoice(V);
}, this)));
}
}
} else cc.vv.tip.show(i.errmsg);
},
playVoice: function() {
if (null == this._playingSeat && this._voiceMsgQueue.length) {
var e = this._voiceMsgQueue.shift();
this._playingSeat = e.seatid;
var i = this.SwitchViewChairID(e.seatid);
this.userList[i].voiceMsg(!0);
cc.vv.voiceMgr.writeVoice("voicemsg.amr", e.content);
cc.vv.voiceMgr.play("voicemsg.amr");
this._lastPlayTime = Date.now() + e.time;
}
},
update: function(e) {
var i = Math.floor(Date.now() / 1e3 / 60);
if (this._lastMinute != i) {
this._lastMinute = i;
var t = new Date(), a = t.getHours();
a = a < 10 ? "0" + a : a;
var n = t.getMinutes();
n = n < 10 ? "0" + n : n;
this._timeLabel.string = a + ":" + n;
}
if (null != this._lastPlayTime) {
if (Date.now() > this._lastPlayTime + 200) {
this.onPlayerOver();
this._lastPlayTime = null;
}
} else this.playVoice();
},
onPlayerOver: function() {
cc.vv.audioMgr.resumeAll();
cc.vv.log3.debug("onPlayCallback:" + this._playingSeat);
var e = this.SwitchViewChairID(this._playingSeat);
this._playingSeat = null;
this.userList[e].voiceMsg(!1);
},
onDestroy: function() {
cc.vv && cc.vv.gameNetMgr.clear();
}
});
cc._RF.pop();
}, {} ],
Breathinglamp: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d1c1bvukX1PBYp3TXQmgkAx", "Breathinglamp");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.is_true = !0;
this.interval_time = .4;
},
start: function() {
this.node.active = !0;
this.node.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(this.interval_time, 200), cc.fadeTo(this.interval_time, 155))));
}
});
cc._RF.pop();
}, {} ],
ChatEmojiItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "20b4cP96htOB5Ahfvsq1M6r", "ChatEmojiItem");
cc.Class({
extends: cc.Component,
properties: {
img: cc.Sprite,
_target: cc.Node
},
init: function(e, i, t) {
this.myTag = e;
this._target = t;
this.img.spriteFrame = i;
},
onBtnClicked: function(e, i) {
cc.vv.net2.quick("biaoqing", {
index: this.myTag + ""
});
this._target.active = !1;
}
});
cc._RF.pop();
}, {} ],
ChatQuickItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "3910d7RqzJBDo/iOA00GPo+", "ChatQuickItem");
cc.Class({
extends: cc.Component,
properties: {
info: cc.Label,
_target: cc.Node
},
init: function(e, i, t) {
this.myTag = e;
this._target = t;
this.info.string = i;
},
onBtnClicked: function(e, i) {
cc.vv.net2.quick("yuyin", {
index: this.myTag,
content: this.info.string
});
this._target.active = !1;
}
});
cc._RF.pop();
}, {} ],
Chat: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "482b4fNvkFPCYBvJUkv+o7s", "Chat");
cc.Class({
extends: cc.Component,
properties: {
quick: cc.Node,
emoji: cc.Node,
lists: cc.Node,
editChat: cc.EditBox,
quickItem: cc.Prefab,
emojiItem: cc.Prefab,
emojiAtlas: {
default: null,
type: cc.SpriteAtlas
}
},
start: function() {
this.initQuickChat();
this.initEjoji();
},
initQuickChat: function() {
var e = cc.vv.game.config.quick_chat;
this.quick.removeAllChildren();
for (var i = 0; i < e.length; ++i) {
var t = cc.instantiate(this.quickItem);
this.quick.addChild(t);
t.getComponent("ChatQuickItem").init(e[i].id, e[i].info, this.node);
}
},
initEjoji: function() {
this.emoji.removeAllChildren();
for (var e = 0; e < 22; ++e) {
var i = cc.instantiate(this.emojiItem);
this.emoji.addChild(i);
i.getComponent("ChatEmojiItem").init(e, this.emojiAtlas.getSpriteFrame("emoji_index_" + e), this.node);
}
},
onBtnSend: function() {},
onBtnleiXingXuanZe: function(e, i) {
cc.vv.audioMgr.click();
null == i && (i = e.target.parent.name);
for (var t = 0; t < this.lists.children.length; ++t) {
var a = this.lists.children[t].name;
this.lists.children[t].active = i == a;
}
}
});
cc._RF.pop();
}, {} ],
ClubAddAdm: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f17d2ZypZFB/ZwpiTYoTjv/", "ClubAddAdm");
cc.Class({
extends: cc.Component,
properties: {
listPrefab: cc.Prefab
},
onBtnClicked: function(e) {
if (cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][cc.vv.userMgr.userid]) {
cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][cc.vv.userMgr.userid].job < 1 ? cc.vv.popMgr.tip("您不是管理员,没有权限操作") : cc.vv.club._clubSet.getComponent("ClubSetting").addAdm();
}
}
});
cc._RF.pop();
}, {} ],
ClubAddPws: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c3fd4pq+VRDD6u5ZeKX4wKi", "ClubAddPws");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
onBtnClicked: function(e) {
cc.vv.club._clubSet.getComponent("ClubSetting").addRule();
}
});
cc._RF.pop();
}, {} ],
ClubAliebiao: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e1ed2GYbYREDpTEKCx23mp8", "ClubAliebiao");
cc.Class({
extends: cc.Component,
properties: {
list_club: cc.Node,
list_item: cc.Node,
today: cc.Label,
day15: cc.Label,
uid: cc.Label
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
},
onEnable: function() {},
show: function(e) {
this.allUsers(e);
},
allUsers: function(e) {
this.uid.string = e.player_id;
this.today.string = e.todayReward;
this.day15.string = e.day15Reward;
var i = e.list, t = cc.instantiate(this.list_item);
this.list_club.removeAllChildren();
e.list;
for (var a = 0; a < i.length; ++a) {
t.getChildByName("time").getComponent(cc.Label).string = i[a].created;
t.getChildByName("nickname").getComponent(cc.Label).string = i[a].name;
t.getChildByName("id").getComponent(cc.Label).string = i[a].source_id;
t.getChildByName("reward").getComponent(cc.Label).string = i[a].reward;
this.list_club.addChild(t);
}
}
});
cc._RF.pop();
}, {} ],
ClubDetail: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "ade06/VhX9FBZkjOSbtK5S+", "ClubDetail");
cc.Class({
extends: cc.Component,
properties: {
username: cc.Label,
userid: cc.Label,
clubid: cc.Label,
max_user: cc.Label,
max_table: cc.Label,
detail: cc.Node,
head: cc.Node,
clubCount: cc.Node,
clubRank: cc.Node,
rankListContent: cc.Node,
textname: cc.EditBox,
textdesc: cc.EditBox,
textinfo: cc.EditBox,
pwz_all: cc.Label,
ptz_all: cc.Label,
bmf_all: cc.Label,
pwb_all: cc.Label,
ffhz_all: cc.Label,
out_pwb_day0: cc.Label,
pwz_day0: cc.Label,
in_pwb_day0: cc.Label,
ptz_day0: cc.Label,
bmf_day0: cc.Label,
bmf_day1: cc.Label,
yearTicketCount: cc.Label,
monthTicketCount: cc.Label,
master_bmfday0: cc.Label,
master_bmfday1: cc.Label,
master_bmfall: cc.Label,
btn_update: cc.Node,
btn_rate: cc.Node,
menu: cc.Node,
textDelarID: cc.EditBox,
delarFitLabel: cc.Label,
_club_id: "",
_toggles: null,
_panels: null,
_rankType: "",
rankItemPrefab: cc.Prefab,
rankAtlas: {
default: null,
type: cc.SpriteAtlas
},
isHostNode: cc.Node
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
this._toggles = this.node.getChildByName("toggles");
this._panels = this.node.getChildByName("panels");
var i = this._toggles.children[0].name;
this._toggles.children[1].active = !1;
cc.vv.utils.setToggleChecked(this._toggles, i);
this.onBtnleiXingXuanZe(null, i);
},
onEnable: function() {
this.textDelarID.string = "";
var e = this._toggles.children[0].name;
cc.vv.utils.setToggleChecked(this._toggles, e);
this.onBtnleiXingXuanZe(null, e);
},
onBtnleiXingXuanZe: function(e, i) {
null != e && cc.vv.audioMgr.click();
null == i && (i = e.target.name);
for (var t = 0; t < this._panels.children.length; ++t) {
var a = this._panels.children[t].name;
this._panels.children[t].active = i == a;
}
if (e) switch (e.target.name) {
case "info":
this.show(cc.vv.userMgr.club_id);
break;

case "count":
cc.vv.net1.quick("club_count", {
club_id: cc.vv.userMgr.club_id
});
break;

case "rank":
switch (this._rankType) {
case "":
case "btn_today":
this._rankType = "btn_today";
cc.vv.popMgr.wait("正在查询中...", function() {
cc.vv.net1.quick("club_user_count", {
club_id: cc.vv.userMgr.club_id,
day: 1
});
});
break;

case "btn_yesterday":
this._rankType = "btn_today";
cc.vv.popMgr.wait("正在查询中...", function() {
cc.vv.net1.quick("club_user_count", {
club_id: cc.vv.userMgr.club_id,
day: 2
});
});
break;

case "btn_week":
this._rankType = "btn_today";
cc.vv.popMgr.wait("正在查询中...", function() {
cc.vv.net1.quick("club_user_count", {
club_id: cc.vv.userMgr.club_id,
day: 3
});
});
}
}
},
onBtnRankType: function(e, i) {
cc.vv.audioMgr.click();
null == i && (i = e.target.name);
if (i != this._rankType && e) switch (e.target.name) {
case "btn_today":
this._rankType = "btn_today";
cc.vv.popMgr.wait("正在查询中...", function() {
cc.vv.net1.quick("club_user_count", {
club_id: cc.vv.userMgr.club_id,
day: 1
});
});
break;

case "btn_yesterday":
this._rankType = "btn_yesterday";
cc.vv.popMgr.wait("正在查询中...", function() {
cc.vv.net1.quick("club_user_count", {
club_id: cc.vv.userMgr.club_id,
day: 2
});
});
break;

case "btn_week":
this._rankType = "btn_week";
cc.vv.popMgr.wait("正在查询中...", function() {
cc.vv.net1.quick("club_user_count", {
club_id: cc.vv.userMgr.club_id,
day: 3
});
});
}
},
show: function(e) {
this._club_id = e;
var i = cc.vv.userMgr.clublist[e];
if (null != i) {
this.menu.active = !1;
this.clubDetail(i);
} else {
this.node.destroy();
cc.vv.popMgr.alert("您未加入到乐圈");
}
},
count: function(e) {
this.pwz_all.string = e.all.pwz;
this.ptz_all.string = e.all.ptz;
this.bmf_all.string = e.all.bmf;
this.pwb_all.string = e.all.pwb;
this.ffhz_all.string = e.ffhz;
this.out_pwb_day0.string = e.day0.out_pwb;
this.pwz_day0.string = e.day0.pwz;
this.ptz_day0.string = e.day0.ptz;
this.in_pwb_day0.string = e.day0.in_pwb;
this.bmf_day0.string = e.day0.bmf;
this.bmf_day1.string = e.day1.bmf;
this.yearTicketCount.string = e.yearTicketCount;
this.monthTicketCount.string = e.monthTicketCount;
this.master_bmfday0.string = e.day0.master_bmf;
this.master_bmfday1.string = e.day1.master_bmf;
this.master_bmfall.string = e.all.master_bmf;
},
clubDetail: function(e) {
this.clubid.string = "圈子ID:" + e.clubno;
this.username.string = cc.vv.utils.isEmojiCharacter(e.creator_name) ? cc.vv.utils.checkUserName(e.creator_name) : e.creator_name;
this.clubCount.active = 9 == e.job;
this.clubRank.active = 9 == e.job;
this.userid.string = "ID:" + e.creator;
this.textname.string = e.name;
this.textdesc.string = e.desc;
this.textinfo.string = e.info;
var i = e.job > 0 ? e.user : "*";
this.head.getComponent("ImageLoader").loadImg(e.creator_headimg);
cc.vv.log3.info("===" + e.max_table);
cc.vv.log3.info("===" + e.max_user);
cc.vv.log3.info("===" + e.job);
if (cc.isValid(this.isHostNode)) {
this.isHostNode.active = 9 == e.job;
this.max_table.string = "最多" + e.max_table + "桌";
this.max_user.string = i + "/" + e.max_user + "人";
}
40 != e.max_table && 1e3 != e.max_user && 9 == e.job ? this.btn_update.active = !0 : this.btn_update.active = !1;
},
editNameEnd: function(e) {
this.club_name.string = e.string;
},
editDescEnd: function(e) {},
editInfoEnd: function(e) {},
initRank: function(e) {
cc.vv.log3.debug(e);
this.rankListContent.removeAllChildren();
for (var i = e.list, t = 0; t < i.length; t++) {
var a = cc.instantiate(this.rankItemPrefab), n = a.getChildByName("rank_img"), s = a.getChildByName("rank_Label"), c = a.getChildByName("head").getChildByName("img"), o = a.getChildByName("user_name"), h = a.getChildByName("user_id"), r = a.getChildByName("user_score"), l = a.getChildByName("user_field");
switch (t) {
case 0:
s.active = !1;
n.getComponent(cc.Sprite).spriteFrame = this.rankAtlas.getSpriteFrame("paiming_top1");
break;

case 1:
s.active = !1;
n.getComponent(cc.Sprite).spriteFrame = this.rankAtlas.getSpriteFrame("paiming_top2");
break;

case 2:
s.active = !1;
n.getComponent(cc.Sprite).spriteFrame = this.rankAtlas.getSpriteFrame("paiming_top3");
break;

default:
s.getComponent(cc.Label).string = t + 1 + "";
s.active = !0;
n.active = !1;
}
h.getComponent(cc.Label).string = i[t].user_id;
o.getComponent(cc.Label).string = i[t].name;
r.getComponent(cc.Label).string = i[t].coin;
l.getComponent(cc.Label).string = i[t].number;
c.getComponent("ImageLoader").loadImg(i[t].headimg);
this.rankListContent.addChild(a);
}
},
info: function(e) {
if (cc.vv.userMgr.club_id == e.club_id && this.node.active) {
this.textname.string = e.name;
this.textdesc.string = e.desc;
this.textinfo.string = e.info;
var i = cc.vv.userMgr.clublist[e.club_id].job, t = cc.vv.userMgr.clublist[e.club_id].user, a = i > 0 ? t : "*";
if (cc.isValid(this.isHostNode)) {
this.isHostNode.active = 9 == i;
this.max_user.string = a + "/" + e.max_user + "人";
this.max_table.string = "最多" + e.max_table + "桌";
}
40 != e.max_table && 1e3 != e.max_user && 9 == i ? this.btn_update.active = !0 : this.btn_update.active = !1;
}
},
userInfo: function(e) {
var i = cc.vv.userMgr.clublist[e.clubId].max_user;
if (cc.vv.userMgr.club_id == e.clubId && this.node.active) {
var t = cc.vv.userMgr.clublist[e.clubId].job, a = t > 0 ? e.count : "*";
this.max_user.string = 9 == t ? a + "/" + i + "人" : "";
}
},
hideUpdate: function() {
this.btn_update.active = !1;
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
var i = this;
switch (e.target.name) {
case "btn_save":
var t = this.textname.string, a = this.textdesc.string, n = this.textinfo.string, s = !1, c = cc.vv.utils.testBad2("" + t);
cc.vv.utils.testBad2("" + a), cc.vv.utils.testBad2("" + n);
if (cc.vv.utils.isEmojiCharacter(t)) {
cc.vv.popMgr.tip("信息包含特殊字符");
this.textname.string = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].name;
s = !0;
}
if (cc.vv.utils.isEmojiCharacter(a)) {
cc.vv.popMgr.tip("信息包含特殊字符");
this.textdesc.string = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].desc;
s = !0;
}
if (cc.vv.utils.isEmojiCharacter(n)) {
cc.vv.popMgr.tip("信息包含特殊字符");
this.textinfo.string = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].info;
s = !0;
}
if (s) return;
if (c) {
cc.vv.popMgr.alert("您输入圈子名称的内容包括了不合适的关键字");
return;
}
cc.vv.net1.quick("club_edit", {
club_id: this._club_id,
name: this.textname.string,
desc: this.textdesc.string,
info: this.textinfo.string
});
break;

case "btn_update":
cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].max_table;
var o = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].max_user, h = "";
200 == o ? h = "您确定要将圈子升级到500人、20桌吗?\n升级将扣除300乐豆" : 500 == o && (h = "您确定要将圈子升级到1000人、40桌吗?\n升级将扣除600乐豆");
cc.vv.popMgr.alert(h, function() {
cc.vv.net1.quick("club_update", {
club_id: i._club_id
});
}, !0);
break;

case "btn_exit":
this.menu.active = !1;
var r = cc.vv.userMgr.clublist[this._club_id];
if (9 == r.job) {
if (1 != r.user) {
cc.vv.popMgr.tip("当前成员人数为" + r.user + "人，不能退出");
return;
}
cc.vv.popMgr.alert("您是圈主，退出将解散圈子，是否解散", function() {
cc.vv.net1.quick("club_remove", {
club_id: i._club_id
});
}, !0);
} else cc.vv.popMgr.alert("您确定要离开圈子吗？", function() {
cc.vv.net1.quick("club_user_exit", {
club_id: i._club_id
});
}, !0);
break;

case "btn_out":
this.menu.active = !1;
9 == cc.vv.userMgr.clublist[this._club_id].job ? cc.vv.popMgr.pop("club/ClubOut") : cc.vv.popMgr.tip("您不是圈主,不能转让圈子");
break;

case "btn_add":
this.menu.active = !0;
break;

case "menushadow":
this.menu.active = !1;
break;

case "btn_clear":
cc.vv.popMgr.alert("您确定要清除统计吗？", function() {
cc.vv.net1.quick("club_count_clear", {
club_id: i._club_id
});
}, !0);
break;

case "btn_rate":
var l = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rate;
cc.vv.popMgr.pop("club/ClubRateTable", function(e) {
e.getComponent("ClubRateTable").show(l, null, !0);
});
}
},
onDestroy: function() {},
onBtnSearch: function() {
if ("" != this.textDelarID.string) {
var e = parseInt(this.textDelarID.string);
cc.vv.net1.quick("club_user_reward", {
clubId: cc.vv.userMgr.club_id,
playerId: e
});
}
},
editdel: function() {
this.textDelarID.string = "";
this.delarFitLabel.string = 0;
},
updateDelarFit: function(e) {
this.delarFitLabel.string = e.todayReward;
}
});
cc._RF.pop();
}, {} ],
ClubFriend: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "9b4cftM+DpCypwuyum20gmo", "ClubFriend");
cc.Class({
extends: cc.Component,
properties: {
head: cc.Node,
username: cc.Label,
userid: cc.Label,
round: cc.Label,
itemID: 0
},
onLoad: function() {
this.rate = 0;
},
updateID: function(e) {
this.itemID = e;
},
init: function(e) {
this.head.getComponent("ImageLoader").loadImg(e.headimg);
this.username.string = e.name;
this.userid.string = e.user_id;
this.node.getChildByName("fnums").getComponent(cc.Label).string = e.fcode + "人";
this.node.getChildByName("tequan").getComponent(cc.Label).string = parseInt(100 * e.rate) + "%";
this.rate = e.rate;
},
BtnCLick: function() {
var e = this;
cc.vv.popMgr.pop("club/UserManager", function(i) {
cc.vv.club._clubPwb = i;
i.getComponent("UserManager").show(e.userid.string, !0);
});
},
onBtn_setRate: function() {
var e = this;
cc.vv.popMgr.pop("club/ClubRateTable", function(i) {
i.getComponent("ClubRateTable").show(e.rate, e.userid.string, !1);
});
},
memberinfo: function(e) {
var i = this.head.getComponent(cc.Sprite).spriteFrame;
cc.vv.club._clubPwb && cc.vv.club._clubPwb.getComponent("UserManager").info({
club_id: cc.vv.userMgr.club_id,
username: e.name,
userid: e.user_id,
headimg: i,
job: this._job,
rate: e.rate,
pwb: e.pwb,
status: e.status,
limit: this._limit
});
},
update: function(e) {
var i = this.node.parent.convertToWorldSpaceAR(this.node.position), t = this.node.parent.parent.convertToNodeSpaceAR(i);
t.y > this.node.height / 2 ? this.node.opacity = 0 : t.y < -(this.node.parent.parent.height + this.node.height / 2) ? this.node.opacity = 0 : this.node.opacity = 255;
}
});
cc._RF.pop();
}, {} ],
ClubGameList: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e7bf13RT3hJ8K+NN/mE03PP", "ClubGameList");
cc.Class({
extends: cc.Component,
properties: {
ptzPrefab: cc.Prefab,
pwzPrefab: cc.Prefab,
list: cc.Node
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
},
show: function() {
this.list.removeAllChildren();
for (var e = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rules, i = 0; i < e.length; ++i) {
var t = null;
t = 0 == e[i].type ? this.ptzPrefab : this.pwzPrefab;
var a = cc.instantiate(t);
this.list.addChild(a);
a.getChildByName("option").active = !1;
a.getChildByName("name_edit").active = !1;
a.emit("new", e[i]);
a.getComponent("ClubNewRule").info(e[i], 1);
}
}
});
cc._RF.pop();
}, {} ],
ClubHistory: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "005103PdI5Gb7qMJKbIu+BJ", "ClubHistory");
cc.Class({
extends: cc.Component,
properties: {
lblRoomID: cc.Label,
lblTime: cc.Label,
lblDesc: cc.Label,
lblType: cc.Label,
players: cc.Node,
user: cc.Prefab
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e - 314;
}
var i = this;
this.node.on("new", function(e) {
var t = e;
t.table.list;
i.lblRoomID.string = t.room_id;
i.lblTime.string = t.created.replace(/ /g, "\n");
i.lblDesc.string = t.desc;
i.lblType.string = 0 == t.battle_type ? "普通场" : "排位场";
i.showPlayer(t);
});
},
showPlayer: function(e) {
var i = e.scores.split(",");
this.players.removeAllChildren();
for (var t = 0; t < e.table.list.length; ++t) {
var a = e.table.list[t];
if (a.userid <= 0) break;
var n = cc.instantiate(this.user);
this.players.addChild(n);
var s = n.getChildByName("mask").getChildByName("name");
s.getComponent(cc.Label).string = a.nickname;
if (s.width > 44) {
var c = (s.width - 44) / 2;
s.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1), cc.moveTo(2, cc.v2(c, 0)), cc.delayTime(1), cc.moveTo(2, cc.v2(-c, 0)))));
}
n.getChildByName("score").getComponent(cc.Label).string = i[t];
n.getChildByName("head").getComponent("ImageLoader").loadImg(a.headimg);
}
},
onBtnClicked: function(e) {
e.target.name;
}
});
cc._RF.pop();
}, {} ],
ClubInputCode: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "15b77HgSdhOaaCvg9oEVSrN", "ClubInputCode");
cc.Class({
extends: cc.Component,
properties: {
text: cc.Label
},
onLoad: function() {},
info: function(e) {
cc.vv.popMgr.tip(e);
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "1":
case "2":
case "3":
case "4":
case "5":
case "6":
case "7":
case "8":
case "9":
case "0":
if ("0" == this.text.string || "0.0" == this.text.string) {
this.text.string = i;
return;
}
if (-1 != this.text.string.indexOf(".")) {
var t = this.text.string.split(".");
0 == t[1].length && t[0].length < 5 && parseFloat(this.text.string) >= 0 ? this.text.string += i : 0 == t[1].length && t[0].length < 6 && parseFloat(this.text.string) < 0 && (this.text.string += i);
} else this.text.string.length < 6 && parseFloat(this.text.string) >= 0 ? this.text.string += i : this.text.string.length < 5 && parseFloat(this.text.string) < 0 && (this.text.string += i);
break;

case "num_del":
if (this.text.string.length > 0) {
if (1 == this.text.string.length) {
this.text.string = "0";
return;
}
this.text.string = this.text.string.substr(0, this.text.string.length - 1);
}
break;

case "btn_ok":
if (6 != this.text.string.length) {
cc.vv.popMgr.alert("验证码长度不对！");
return;
}
cc.vv.net1.quick("open_club_user_pwdSwitch", {
club_id: cc.vv.userMgr.club_id,
code: this.text.string
});
cc.vv.utils.popRemove(this.node);
break;

case "point":
this.text.string.length > 0 && -1 == this.text.string.indexOf(".") && "-" != this.text.string && (this.text.string.length < 5 && parseFloat(this.text.string) >= 0 ? this.text.string += "." : this.text.string.length < 6 && parseFloat(this.text.string) < 0 && (this.text.string += "."));
break;

default:
cc.vv.popMgr.tip("敬请期待");
}
}
});
cc._RF.pop();
}, {} ],
ClubInputPwz: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e13b9kBi7BPeoNpSyVnLNeV", "ClubInputPwz");
cc.Class({
extends: cc.Component,
properties: {
text: cc.Label
},
onLoad: function() {},
info: function(e, i) {
this.limit = i;
this.pwbnum = e;
this.text.string = e.string.toString();
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "1":
case "2":
case "3":
case "4":
case "5":
case "6":
case "7":
case "8":
case "9":
case "0":
if ("0" == this.text.string || "0.0" == this.text.string) {
this.text.string = i;
return;
}
if (-1 != this.text.string.indexOf(".")) {
var t = this.text.string.split(".");
0 == t[1].length && t[0].length < 5 && parseFloat(this.text.string) >= 0 ? this.text.string += i : 0 == t[1].length && t[0].length < 6 && parseFloat(this.text.string) < 0 && (this.text.string += i);
} else this.text.string.length < 4 && parseFloat(this.text.string) >= 0 ? this.text.string += i : this.text.string.length < 5 && parseFloat(this.text.string) < 0 && (this.text.string += i);
break;

case "num_del":
if (this.text.string.length > 0) {
if (1 == this.text.string.length) {
this.text.string = "0";
return;
}
this.text.string = this.text.string.substr(0, this.text.string.length - 1);
}
break;

case "btn_ok":
if (this.text.string.length > 0) {
parseFloat(this.text.string) > this.limit && (this.text.string = this.limit);
this.pwbnum.string = parseFloat(this.text.string).toString();
this.node.destroy();
}
break;

case "point":
this.text.string.length > 0 && -1 == this.text.string.indexOf(".") && "-" != this.text.string && (this.text.string.length < 5 && parseFloat(this.text.string) >= 0 ? this.text.string += "." : this.text.string.length < 6 && parseFloat(this.text.string) < 0 && (this.text.string += "."));
break;

default:
cc.vv.popMgr.tip("敬请期待");
}
}
});
cc._RF.pop();
}, {} ],
ClubInviteNotice: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "0f822m5Bb1HXJ923CxlXxnx", "ClubInviteNotice");
cc.Class({
extends: cc.Component,
properties: {
head: cc.Node,
user_name: cc.Label,
club_name: cc.Label,
content: cc.Label,
_index: -1
},
joinClub: function(e) {
this.head.getComponent("ImageLoader").loadImg(e.headimg);
this.user_name.string = e.user_name;
this.club_name.string = "<" + e.club_name + ">";
this.messageid = e.messageid;
this.type = e.type;
this._index = 1;
},
dealer: function(e) {
this.head.getComponent("ImageLoader").loadImg(e.headimg);
this.user_name.string = e.user_name;
this.club_name.string = "";
this.messageid = e.message_id;
this.node.getChildByName("NewLabel").getComponent(cc.Label).string = "邀请您为代理！";
this.node.getChildByName("NewLabel").x = 10;
this.type = e.type;
this._index = 2;
},
friend: function(e) {
this.head.getComponent("ImageLoader").loadImg(e.headimg);
this.user_name.string = e.user_name;
this.club_name.string = "<" + e.club_name + ">";
this.messageid = e.message_id;
this.type = e.type;
this._index = 3;
this.content.string = "邀请你成为他的好友";
this.club_name.node.active = !1;
},
onBtnClicked: function(e) {
var i = 0;
switch (e.target.name) {
case "btn_agree":
i = 1;
}
2 == this._index ? cc.vv.net1.quick("invite_user_dealer_notice_result", {
result: i,
message_id: this.messageid,
type: this.type
}) : 1 == this._index ? cc.vv.net1.quick("user_invite_result", {
result: i,
message_id: this.messageid,
type: this.type
}) : 3 == this._index && cc.vv.net1.quick("club_friend_user_invite_result", {
result: i,
message_id: this.messageid,
type: this.type
});
this.node.destroy();
}
});
cc._RF.pop();
}, {} ],
ClubItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "886ccZpdJxP6I02lEnafrCJ", "ClubItem");
cc.Class({
extends: cc.Component,
properties: {
clubname: cc.Label,
head: cc.Node,
mask: cc.Node,
_club_id: "",
_status: 0,
_userStatus: 1
},
init: function(e) {
this.clubname.string = e.name;
this.mask.width = 200;
this.clubname.node.stopAllActions();
if (this.clubname.node.width > 196) {
var i = (this.clubname.node.width - 196) / 2;
this.clubname.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1), cc.moveTo(2, cc.v2(i, this.clubname.node.y)), cc.delayTime(1), cc.moveTo(2, cc.v2(-i, this.clubname.node.y)))));
}
this._club_id = e.club_id;
this._status = e.status;
this._userStatus = e.userStatus;
this.head.getComponent("ImageLoader").loadImg(e.creator_headimg);
},
onBtnClick: function(e) {
cc.vv.audioMgr.click();
if (1 == cc.vv.userMgr.clublist[this.node.myTag].userStatus) {
cc.vv.userMgr.club_id = this._club_id;
cc.vv.club.clubMain.active = !0;
cc.vv.popMgr.wait("", function() {
cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
cc.vv.club.clubMain.getComponent("ClubMain").close_allclublist();
});
} else cc.vv.popMgr.alert("你无法在该乐圈游戏");
}
});
cc._RF.pop();
}, {} ],
ClubLayer: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "fedf0HqVzRFkYAxWTLAX0km", "ClubLayer");
cc.Class({
extends: cc.Component,
properties: {
btnCreate: cc.Node
},
start: function() {
this.initView();
},
initView: function() {},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "group_btn_join":
cc.vv.popMgr.pop("club/JoinClub");
break;

case "group_btn_create":
cc.vv.popMgr.pop("club/CreateClub");
break;

case "group_btn_list":
if (null == cc.vv.userMgr.clublist || 0 == cc.vv.userMgr.clublist.lenght) {
cc.vv.popMgr.alert("您还未还没加入任何乐圈");
return;
}
cc.vv.club.clubMain.active = !0;
cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
this.node.active = !1;
}
}
});
cc._RF.pop();
}, {} ],
ClubLogic: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "cae28MrEahLEo10kGCZCNLm", "ClubLogic");
cc.Class({
extends: cc.Component,
properties: {
list: cc.Node,
clubItem: cc.Prefab,
clubList: cc.Node,
clubMain: cc.Node,
clubNotic: cc.Node,
_clubMsg: null,
_clubMember: null,
_clubPwb: null,
_clubPwb2: null,
_clubPwbList: null,
_clubSet: null,
_clubDetail: null,
_clubSetRule: null
},
onLoad: function() {
cc.vv.club = this;
cc.vv.userMgr.clubRoom = null;
cc.vv.club.clubNotice = 0;
cc.vv.userMgr.club_id = 0;
},
start: function() {
this.initEventHandlers();
this.initView();
},
initView: function() {},
initEventHandlers: function() {
var e = this;
cc.vv.gameClubMgr.dataEventHandler = this.node;
this.node.on("club_room_list_plugs", function(e) {
e.data;
cc.vv.club.clubMain.emit("club_room_list", {
type: 1
});
});
this.node.on("club_room_plugs", function(e) {
var i = e.data;
cc.vv.club.clubMain.emit("club_room", i);
});
this.node.on("club_room_del_plugs", function(e) {
e.data;
cc.vv.club.clubMain.emit("club_room_del", e);
});
this.node.on("club_room_create", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
if (0 === e.errcode) ; else if (-3 == e.errcode) {
var t = function() {
cc.vv.userMgr.join(i.roomid, i.clubid, 0);
}, a = function() {
var e = cc.vv.utils.getChildByTag(cc.vv.club.clubMain.getChildByName("room"), i.clubid), t = cc.vv.utils.getChildByTag(e.getComponent(cc.ScrollView).content, i.id + "");
t && cc.isValid(t) && t.getComponent("ClubRoomItem").create_joinRoom(1);
};
cc.vv.popMgr.pop("club/ClubRoomAlert", function(i) {
i.getComponent("Alert").show(e.errmsg, t, !0, a);
});
} else cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_delete_rule_pwz", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
0 === e.errcode ? cc.vv.club._clubSetRule.getComponent("ClubSetRule").removeRule(i.id, i.clubid) : cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_delete_rule_ptz", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
0 === e.errcode ? cc.vv.club._clubSetRule.getComponent("ClubSetRule").removeRule(i.id, i.clubid) : cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_create_rule_pwz_def", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
if (0 === e.errcode) {
for (var t = 0; t < cc.vv.userMgr.clublist[i.clubid].pwz.length; ++t) if (1 == i.default) {
if (i.id != cc.vv.userMgr.clublist[i.clubid].pwz[t].id) {
cc.vv.userMgr.clublist[i.clubid].pwz[t].default = 0;
continue;
}
cc.vv.userMgr.clublist[i.clubid].pwz[t].default = 1;
} else cc.vv.userMgr.clublist[i.clubid].pwz[t].default = 0;
1 == i.default && cc.vv.club._clubSet.getComponent("ClubSetting").setDefaultRule(i.id);
cc.vv.popMgr.tip("修改晋级赛开房规则成功");
} else cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_create_rule_pwz", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
if (0 === e.errcode) {
cc.vv.userMgr.guodi = 0;
for (var t = !0, a = 0; a < cc.vv.userMgr.clublist[i.clubid].rules.length; ++a) if (i.id == cc.vv.userMgr.clublist[i.clubid].rules[a].id) {
cc.vv.userMgr.clublist[i.clubid].rules[a] = i;
t = !1;
break;
}
t && cc.vv.userMgr.clublist[i.clubid].rules.push(i);
cc.vv.club.clubMain.emit("club_room_list", {
type: 1
});
cc.vv.club._clubSetRule.getComponent("ClubSetRule").createRule(i);
cc.vv.popMgr.tip("修改晋级赛开房规则成功");
} else cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_create_rule_ptz", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
if (0 === e.errcode) {
for (var t = !0, a = 0; a < cc.vv.userMgr.clublist[i.clubid].rules.length; ++a) if (i.id == cc.vv.userMgr.clublist[i.clubid].rules[a].id) {
cc.vv.userMgr.clublist[i.clubid].rules[a] = i;
t = !1;
break;
}
t && cc.vv.userMgr.clublist[i.clubid].rules.push(i);
cc.vv.club.clubMain.emit("club_room_list", {
type: 1
});
cc.vv.club._clubSetRule.getComponent("ClubSetRule").createRule(i);
cc.vv.popMgr.tip("修改普通桌开房规则成功");
} else cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_user_join", function(e) {
e.data;
0 === e.errcode ? cc.vv.popMgr.alert("您已经提交了加入申请，请等待管理员审核") : cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_list_plugs", function(i) {
var t = i.data;
if (0 === i.errcode) {
e.clubList.active = 0 !== t.list.length;
cc.vv.userMgr.clublist = {};
for (var a = 0; a < t.list.length; ++a) cc.vv.userMgr.clublist[t.list[a].club_id] = t.list[a];
} else {
cc.vv.popMgr.alert(i.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_info", function(i) {
var t = i.data;
cc.vv.popMgr.hide();
if (0 === i.errcode) {
null == cc.vv.userMgr.clublist && (cc.vv.userMgr.clublist = {});
cc.vv.userMgr.club_id = t.club_id;
cc.vv.userMgr.clublist[t.club_id] = t;
e.clubList.active = !0;
cc.vv.club.clubMain.active && cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
} else cc.vv.popMgr.alert(i.errmsg);
});
this.node.on("club_add", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
if (0 === e.errcode) {
cc.vv.userMgr.club_id = i.club_id;
cc.vv.popMgr.tip("乐圈创建成功");
} else cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_users", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
if (0 === e.errcode) if (5 != i.type) {
cc.vv.userMgr.clubUsers = {};
cc.vv.userMgr.clubUsers[i.clubid] = {};
for (a = 0; a < i.list.length; ++a) cc.vv.userMgr.clubUsers[i.clubid][i.list[a].userid] = i.list[a];
cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][cc.vv.userMgr.userid] && (cc.vv.userMgr.user_job = cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][cc.vv.userMgr.userid].job);
cc.vv.club.users = 1;
switch (i.type) {
case 0:
cc.vv.club._clubMember.getComponent("ClubMemberList").getMemberList(i.list);
break;

case 1:
cc.vv.club._clubSet.getComponent("ClubSetting").init();
break;

case 2:
break;

case 3:
cc.vv.popMgr.wait("正在获取审核列表", function() {
cc.vv.net1.quick("club_joins", {
club_id: cc.vv.userMgr.club_id
});
});
break;

case 4:
cc.vv.club._clubSet && cc.vv.club._clubSet.active && cc.vv.club._clubSet.getComponent("ClubSetting").admSet();
}
} else {
var t = {};
t[i.clubid] = {};
for (var a = 0; a < i.list.length; ++a) t[i.clubid][i.list[a].userid] = i.list[a];
cc.vv.club._normalUsersList && cc.vv.club._normalUsersList.active && cc.vv.club._normalUsersList.getComponent("NormalUsersList").init(!0, t);
} else cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_pwb_list", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
if (0 === e.errcode) if (null === cc.vv.club._clubPwbList) cc.vv.popMgr.pop("club/ClubPwbList", function(e) {
cc.vv.club._clubPwbList = e;
cc.vv.club._clubPwbList.zIndex = 100;
e.getComponent("ClubPwbList").show(i);
}); else {
cc.vv.club._clubPwbList.active = !0;
cc.vv.club._clubPwbList.getComponent("ClubPwbList").show(i);
} else cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_notice_plugs", function(e) {
e.data;
if (0 === e.errcode) cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id); else {
cc.vv.popMgr.alert(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_joins", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
if (0 === e.errcode) if (0 == cc.vv.club.clubNotice) cc.vv.club.clubMain.getComponent("ClubMain").clubNotice(i.list); else {
cc.vv.club._clubMsg.getComponent("ClubMessage").getMsgList(i.list);
cc.vv.club.clubMain.getComponent("ClubMain").clubNotice(i.list);
} else cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("club_user_review", function(e) {
var i = e.data;
cc.vv.club.clubNotice = 0;
cc.vv.popMgr.wait("正在获取审核列表", function() {
cc.vv.net1.quick("club_joins", {
club_id: cc.vv.userMgr.club_id
});
});
if (0 === e.errcode) cc.vv.club._clubMsg.getComponent("ClubMessage").removeUser(i.userid); else {
cc.vv.popMgr.alert(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_user_refused", function(e) {
var i = e.data;
cc.vv.club.clubNotice = 0;
cc.vv.popMgr.wait("正在获取审核列表", function() {
cc.vv.net1.quick("club_joins", {
club_id: cc.vv.userMgr.club_id
});
});
if (0 === e.errcode) cc.vv.club._clubMsg.getComponent("ClubMessage").removeUser(i.userid); else {
cc.vv.popMgr.alert(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_user_kick", function(e) {
var i = e.data;
if (0 === e.errcode) {
if (i.userid == cc.vv.userMgr.userid) {
delete cc.vv.userMgr.clublist[i.club_id];
cc.vv.userMgr.club_id = 0;
cc.vv.club.clubMain.active = !0;
cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
}
cc.vv.club._clubPwb.active = !1;
cc.vv.club._clubMember && cc.vv.club._clubMember.getComponent("ClubMemberList").removeUser(i.userid + "");
} else {
cc.vv.popMgr.alert(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_user_black", function(e) {
var i = e.data;
if (0 === e.errcode) {
cc.vv.userMgr.clubUsers[i.clubid][i.userid].status = i.status;
cc.vv.club._clubPwb.getComponent("UserManager").refreshBtns(1, i.status);
cc.vv.club._clubPwb.getComponent("UserManager").userStatus(i.status);
} else {
cc.vv.popMgr.alert(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_user_pwb_plugs", function(e) {
var i = e.data;
cc.vv.club._clubPwb.getComponent("UserManager").newPwb(i.pwb);
cc.vv.club.clubMain.getComponent("ClubMain").refresh(i);
});
this.node.on("club_user_admin", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
if (0 === e.errcode) {
cc.vv.userMgr.clubUsers[i.clubid][i.userid].job = i.job;
2 == i.job && cc.vv.club._clubSet.getComponent("ClubSetting").setSuperAdm(i.userid);
cc.vv.club._clubSet.getComponent("ClubSetting").admSet();
} else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.club._clubSet.getComponent("ClubSetting").admSet();
}
});
this.node.on("club_property", function(e) {
e.data;
if (0 === e.errcode) ; else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_count", function(e) {
var i = e.data;
if (0 === e.errcode) cc.vv.club._clubDetail.getComponent("ClubDetail").count(i); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_list_battle_log", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
if (0 === e.errcode) cc.vv.club._clubSet.getComponent("ClubSetting").getHistory(i.battleLogList); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_history", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
if (0 === e.errcode) cc.vv.club._clubSet.getComponent("ClubSetting").getHistory(i.list); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_admin_list", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
if (0 === e.errcode) cc.vv.club._clubSet.getComponent("ClubSetting").admSet(i.admin_list); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_history_round", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
0 === e.errcode ? cc.vv.club._clubSet.getComponent("ClubSetting").round(i) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_history_replay", function(e) {
var i = e.data;
if (0 === e.errcode) {
cc.vv.popMgr.wait("正在进入房间");
cc.vv.roomMgr.enter = i.enter;
cc.vv.roomMgr.table = i.table;
cc.vv.roomMgr.param = i.param;
cc.vv.roomMgr.action = i.action;
cc.vv.roomMgr.jiesuan = i.jiesuan;
cc.vv.roomMgr.roomid = i.enter.room_id;
cc.vv.roomMgr.ren = i.enter.ren;
cc.vv.roomMgr.now = i.enter.round;
cc.vv.roomMgr.max = i.enter.max_round;
cc.vv.roomMgr.room_type = i.param.model;
cc.vv.roomMgr.is_replay = !0;
cc.director.loadScene(cc.vv.roomMgr.room_type);
} else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
});
this.node.on("club_creator_update", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
if (0 === e.errcode) {
delete cc.vv.userMgr.clublist[i.clubid];
for (var t = 0; t < cc.vv.userMgr.clublist2.length; t++) if (i.clubid == cc.vv.userMgr.clublist2[t].club_id) {
cc.vv.userMgr.clublist2.splice(t, 1);
break;
}
cc.vv.club.clubMain.getComponent("ClubMain").removeClub(i.clubid);
cc.vv.userMgr.club_id = 0;
cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
cc.vv.club._clubDetail.active = !1;
} else cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_creator_change_notify", function(e) {
e.data;
if (0 === e.errcode) ; else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_user_pwb_change_plugs", function(e) {
var i = e.data;
cc.vv.userMgr.club_id == i.clubid && cc.vv.club.clubMain.getComponent("ClubMain").newPwb(i);
});
this.node.on("club_user_invite", function(e) {
e.data;
if (0 === e.errcode) cc.vv.popMgr.tip("邀请已发出,等待用户同意或拒绝"); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("user_invite_result", function(e) {
e.data;
if (0 === e.errcode) ; else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("user_invite_notice_by_message", function(e) {
e.data;
if (0 === e.errcode) ; else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("invite_user_dealer_notice_by_message", function(e) {
e.data;
if (0 === e.errcode) ; else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("user_invite_notice", function(e) {
var i = e.data;
if (0 === e.errcode) cc.vv.popMgr.pop("club/ClubInviteNotice", function(e) {
e.getComponent("ClubInviteNotice").joinClub(i);
}); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_reward_list", function(e) {
var i = e.data;
if (0 === e.errcode) cc.vv.popMgr.pop("club/ClubAliebiao", function(e) {
e.getComponent("ClubAliebiao").show(i);
}); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("user_invite_dealer_notice", function(e) {
var i = e.data;
if (0 === e.errcode) cc.vv.popMgr.pop("club/ClubInviteNotice", function(e) {
e.getComponent("ClubInviteNotice").dealer(i);
}); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_user_friend_pwb", function(e) {
var i = e.data;
if (0 === e.errcode) {
if (cc.vv.club._clubMember) {
cc.vv.club._clubMember.getComponent("ClubMemberList").getFriend(i.user_id).getComponent("ClubFriend").memberinfo(i);
}
} else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_user_view_pwb", function(e) {
var i = e.data;
if (0 === e.errcode) {
if (cc.vv.userMgr.clubUsers[i.club_id]) {
cc.vv.userMgr.clubUsers[i.club_id][i.user_id].pwb = i.pwb;
if (cc.vv.club._clubMember) {
cc.vv.club._clubMember.getComponent("ClubMemberList").getMember(i.user_id).getComponent("ClubMemberItem").memberinfo(i);
}
}
} else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_user_count", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
0 === e.errcode ? cc.vv.club._clubDetail.getComponent("ClubDetail").initRank(i) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_user_reward", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
0 === e.errcode ? cc.vv.club._clubDetail.getComponent("ClubDetail").updateDelarFit(i) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_info_view_plugs", function(e) {
var i = e.data;
null != cc.vv.club._clubDetail && cc.vv.club._clubDetail.getComponent("ClubDetail").info(i);
cc.vv.userMgr.club_id == i.club_id && cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
});
this.node.on("club_user_count_view", function(e) {
var i = e.data;
cc.vv.popMgr.hide();
if (0 === e.errcode) {
cc.vv.userMgr.clublist[i.clubId] && (cc.vv.userMgr.clublist[i.clubId].user = i.count);
null != cc.vv.club._clubDetail && cc.vv.club._clubDetail.getComponent("ClubDetail").userInfo(i);
} else cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_add_del_plugs", function(i) {
var t = i.data;
if (void 0 == t.type) {
e.clubList.active = !0;
if (cc.vv.club.clubMain.active) {
cc.vv.userMgr.club_id = t.club_id;
cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
} else cc.vv.userMgr.club_id = 0;
} else {
cc.vv.userMgr.club_id = 0;
cc.vv.club.clubMain.getComponent("ClubMain").removeClub(t.club_id);
var a = cc.vv.utils.getChildByTag(cc.vv.club.clubMain.getChildByName("room"), t.club_id);
null != a && a.destroy();
"{}" == JSON.stringify(cc.vv.userMgr.clublist) && (e.clubList.active = !1);
cc.vv.club.clubMain.active && cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
cc.vv.club._clubDetail && cc.vv.club._clubDetail.active && (cc.vv.club._clubDetail.active = !1);
cc.vv.club._clubPwbList && cc.vv.club._clubPwbList.active && (cc.vv.club._clubPwbList.active = !1);
cc.vv.club._clubMember && cc.vv.club._clubMember.active && (cc.vv.club._clubMember.active = !1);
}
});
this.node.on("club_creator_update_view_plugs", function(e) {
var i = e.data;
cc.vv.userMgr.club_id == i.club_id && cc.vv.club.clubMain.active && cc.vv.club.clubMain.getComponent("ClubMain").show(i.club_id);
});
this.node.on("club_remove", function(i) {
var t = i.data;
cc.vv.popMgr.hide();
if (0 === i.errcode) {
if (t.userid == cc.vv.userMgr.userid) {
delete cc.vv.userMgr.clublist[t.clubid];
for (var a = 0; a < cc.vv.userMgr.clublist2.length; a++) if (t.clubid == cc.vv.userMgr.clublist2[a].club_id) {
cc.vv.userMgr.clublist2.splice(a, 1);
break;
}
cc.vv.club.clubMain.getComponent("ClubMain").removeClub(t.clubid);
cc.vv.userMgr.club_id = 0;
var n = cc.vv.utils.getChildByTag(cc.vv.club.clubMain.getChildByName("room"), t.clubid);
null != n && n.destroy();
if ("{}" == JSON.stringify(cc.vv.userMgr.clublist)) {
cc.vv.club.clubMain.active = !1;
e.clubList.active = !1;
} else {
cc.vv.club.clubMain.active = !0;
cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
}
}
cc.vv.popMgr.tip("退出乐圈成功");
cc.vv.club._clubDetail.active = !1;
} else cc.vv.popMgr.tip(i.errmsg);
});
this.node.on("club_user_exit", function(i) {
var t = i.data;
cc.vv.popMgr.hide();
if (0 === i.errcode) {
if (t.userid == cc.vv.userMgr.userid) {
delete cc.vv.userMgr.clublist[t.clubid];
for (var a = 0; a < cc.vv.userMgr.clublist2.length; a++) if (t.clubid == cc.vv.userMgr.clublist2[a].club_id) {
cc.vv.userMgr.clublist2.splice(a, 1);
break;
}
cc.vv.club.clubMain.getComponent("ClubMain").removeClub(t.clubid);
cc.vv.userMgr.club_id = 0;
var n = cc.vv.utils.getChildByTag(cc.vv.club.clubMain.getChildByName("room"), t.clubid);
null != n && n.destroy();
if ("{}" == JSON.stringify(cc.vv.userMgr.clublist)) {
cc.vv.club.clubMain.active = !1;
e.clubList.active = !1;
} else {
cc.vv.club.clubMain.active = !0;
cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
}
}
cc.vv.popMgr.tip("退出乐圈成功");
cc.vv.club._clubDetail.active = !1;
} else cc.vv.popMgr.tip(i.errmsg);
});
this.node.on("club_rule_ptz_view_plugs", function(e) {
var i = e.data;
null != cc.vv.club._clubSetRule && cc.vv.club._clubSetRule.active && cc.vv.club._clubSetRule.getComponent("ClubSetRule").show();
null != cc.vv.club._clubGameList && cc.vv.club._clubGameList.active && cc.vv.club._clubGameList.getComponent("ClubGameList").show();
1 == i.type ? i.club_id == cc.vv.userMgr.club_id && cc.vv.club.clubMain.emit("club_room_list", {
type: 1
}) : cc.vv.club.clubMain.getChildByName("room").getComponent("ClubRoomList").removeRuleRoom(i.id, i.club_id);
});
this.node.on("club_rule_pwz_view_plugs", function(e) {
var i = e.data;
null != cc.vv.club._clubSetRule && cc.vv.club._clubSetRule.active && cc.vv.club._clubSetRule.getComponent("ClubSetRule").show();
null != cc.vv.club._clubGameList && cc.vv.club._clubGameList.active && cc.vv.club._clubGameList.getComponent("ClubGameList").show();
1 == i.type ? i.club_id == cc.vv.userMgr.club_id && cc.vv.club.clubMain.emit("club_room_list", {
type: 1
}) : cc.vv.club.clubMain.getChildByName("room").getComponent("ClubRoomList").removeRuleRoom(i.id, i.club_id);
});
this.node.on("club_user_admin_view_plugs", function(e) {
e.data;
});
this.node.on("club_edit", function(e) {
var i = e.data;
if (0 === e.errcode) {
cc.vv.popMgr.tip("修改乐圈信息成功");
cc.vv.userMgr.club_id = i.club_id;
cc.vv.club.clubMain.active = !0;
cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
} else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_update", function(e) {
if (0 === e.errcode) cc.vv.popMgr.tip("升级成功"); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_count_clear", function(e) {
cc.vv.popMgr.hide();
0 === e.errcode ? cc.vv.popMgr.tip("清除统计成功") : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_score", function(e) {
var i = e.data;
if (0 === e.errcode) {
for (var t = 0; t < i.list.length; ++t) for (var a in cc.vv.userMgr.clublist) if (i.list[t].club_id == cc.vv.userMgr.clublist[a].club_id) {
cc.vv.userMgr.clublist[a].pwb = i.list[t].pwb;
cc.vv.userMgr.clublist[a].ticket = i.list[t].ticket;
break;
}
null != cc.vv.userMgr.club_id && cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
} else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_user_online_list", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
0 === e.errcode ? cc.vv.club._clubMember && cc.vv.club._clubMember.getComponent("ClubMemberList").getOnlineList(i.list) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("update_club_user_pwdSwitch", function(e) {
cc.vv.popMgr.hide();
cc.vv.club._clubMember && cc.vv.club._clubMember.getComponent("ClubMemberList").Change_switch(e);
});
this.node.on("update_club_user_pwdSwitch_sendCode", function(e) {
cc.vv.popMgr.hide();
0 === e.errcode ? cc.vv.popMgr.pop("club/ClubInputCode", function(i) {
i.getComponent("ClubInputCode").info(e.errmsg);
}) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("open_club_user_pwdSwitch", function(e) {
cc.vv.popMgr.hide();
0 === e.errcode ? cc.vv.club._clubMember.getComponent("ClubMemberList").Change_switch({
data: {
pwdSwitch: 1
}
}) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_user_pwdSwitch", function(e) {
cc.vv.popMgr.hide();
cc.vv.club._clubMember && cc.vv.club._clubMember.getComponent("ClubMemberList").Change_switch(e);
});
this.node.on("club_master_ppwd", function(e) {
cc.vv.club._clubMember && cc.vv.club._clubMember.getComponent("ClubMemberList").Set_mylkl(e);
});
this.node.on("club_master_list", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
0 === e.errcode ? cc.vv.club._clubMember && cc.vv.club._clubMember.getComponent("ClubMemberList").getmasterlist(i.list) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("modify_junior_rate", function(e) {
cc.vv.popMgr.hide();
e.data;
0 === e.errcode ? cc.vv.popMgr.tip("修改成功！") : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("bind_junior", function(e) {
cc.vv.popMgr.hide();
e.data;
if (0 === e.errcode) {
cc.vv.popMgr.tip(e.data.msg);
cc.vv.club._clubPwb && (cc.vv.club._clubPwb.active = !1);
cc.vv.club._clubMember && !status && cc.vv.club._clubMember.getComponent("ClubMemberList").onBtnleiXingXuanZe(null, "memberlist");
} else cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("bind_own_junior", function(e) {
cc.vv.popMgr.hide();
0 === e.errcode ? cc.vv.popMgr.tip(e.data.msg) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("un_bind_junior", function(e) {
cc.vv.popMgr.hide();
if (0 === e.errcode) {
cc.vv.club._clubPwb.active = !1;
if (cc.vv.club._clubMember) {
cc.vv.club._clubMember.getComponent("ClubMemberList").onBtnleiXingXuanZe(null, "memberlist");
cc.vv.popMgr.tip(e.data.msg);
}
} else cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("update_club_user_master", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
if (0 === e.errcode) {
if (cc.vv.club._clubMember) {
cc.vv.userMgr.clubUsers[i.club_id][i.player_id].is_master = i.isMaster;
cc.vv.userMgr.clubUsers[i.club_id][i.player_id].rate = i.rate;
cc.vv.club._clubMember.getComponent("ClubMemberList").masterChanged(i.player_id);
}
} else cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_rate_edit", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
0 === e.errcode ? cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rate = i.rate : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_friend_list", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
0 === e.errcode ? cc.vv.club._clubMember && cc.vv.club._clubMember.getComponent("ClubMemberList").getfriendlist(i.list) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_push_list", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
0 === e.errcode ? cc.vv.club._clubMember && cc.vv.club._clubMember.getComponent("ClubMemberList").getfriendlist(i.list) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("club_friend_user_invite", function(e) {
e.data;
if (0 === e.errcode) cc.vv.popMgr.tip("邀请已发出,等待用户同意或拒绝"); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
}), this.node.on("club_friend_user_invite_notice", function(e) {
var i = e.data;
if (0 === e.errcode) cc.vv.popMgr.pop("club/ClubInviteNotice", function(e) {
e.getComponent("ClubInviteNotice").friend(i);
}); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("friend_user_add_notice", function(e) {
var i = e.data;
if (0 === e.errcode) cc.vv.club._clubMember && cc.vv.club._clubMember.getComponent("ClubMemberList").friendChanged(i); else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("club_user_master_plugs", function(e) {
var i = e.data;
cc.vv.club.clubMain.active && cc.vv.club.clubMain.getComponent("ClubMain").show(i.club_id);
});
this.node.on("club_info_plugs", function(e) {
var i = e.data;
cc.vv.club.clubMain.getComponent("ClubMain").show(i.club_id);
});
this.node.on("club_user_status_change_plugs", function(e) {
var i = e.data;
if (-1 == i.userStatus) {
cc.vv.club._clubDetail && (cc.vv.club._clubDetail.active = !1);
cc.vv.club._clubMember && (cc.vv.club._clubMember.active = !1);
cc.vv.club._clubGameList && (cc.vv.club._clubGameList.active = !1);
cc.vv.club._clubPwbList && (cc.vv.club._clubPwbList.active = !1);
var t = cc.vv.utils.getChildByTag(cc.vv.club.clubMain.getChildByName("room"), i.clubid);
null != t && t.destroy();
cc.vv.userMgr.clubroom[i.clubid] = null;
} else cc.vv.net1.quick("club_info", {
club_id: i.clubid
});
});
this.node.on("club_friend_user_add", function(e) {
var i = e.data;
if (0 === e.errcode) {
cc.vv.popMgr.tip("绑定好友成功");
var t = cc.vv.club._clubMember.getComponent("ClubMemberList").getMaster(i.master_id);
null != t && t.getComponent("ClubMaster").countAdd();
} else {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
}
});
},
myclub: function(e) {
this.list.removeAllChildren();
if (e) {
if (e[Object.keys(e)[0]]) {
this.clubList.active = !0;
for (var i in e) {
var t = cc.instantiate(this.clubItem);
t.myTag = e[i].club_id;
this.list.addChild(t);
t.x = 25;
t.zIndex = e[i].myTag;
t.getComponent("ClubItem").init(e[i]);
}
} else this.clubList.active = !1;
}
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_club":
if ("{}" == JSON.stringify(cc.vv.userMgr.clublist)) cc.vv.popMgr.pop("ClubLayer"); else {
this.clubMain.active = !0;
this.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.club_id);
}
break;

case "group_btn_join":
cc.vv.popMgr.pop("club/JoinClub");
break;

case "group_btn_create":
cc.vv.popMgr.pop("club/CreateClub");
}
}
});
cc._RF.pop();
}, {} ],
ClubMain: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "072a8pKH6RH66YkEV6tUYKG", "ClubMain");
cc.Class({
extends: cc.Component,
properties: {
_job: 0,
club_id: cc.Label,
club_name: cc.Label,
lblPwb: cc.Label,
clublist: cc.Node,
identify: cc.Node,
head: cc.Node,
ticket: cc.Label,
clubitem: cc.Prefab,
menu: cc.Node,
statusAtlas: {
default: null,
type: cc.SpriteAtlas
},
newmark: cc.Node,
_notice: 0,
btn_message: cc.Button,
btn_member: cc.Button,
btn_set: cc.Button,
btn_pwb: cc.Node,
btn_roomset: cc.Node,
btn_createroom: cc.Node,
btn_roomset2: cc.Node,
btn_createroom2: cc.Node,
nodeGuolv: cc.Node,
guolvlist: cc.Node,
allclub: cc.Node,
club_cur: cc.Node,
club_cur2: cc.Node,
clubinfo: cc.Label,
clubScrollList: cc.Node,
update_times: 0,
_repeatID: 0,
is_frist: !0,
toggleArr: [ cc.Toggle ],
toggleAll: cc.Toggle
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
cc.vv.userMgr.roomlist = {
tdh_1600: 1,
kd_1700: 2,
gsj_2500: 3,
kd_1702: 4,
ddz_1800: 5,
ddz_1801: 5,
ddz_1803: 5,
ddz: 5,
nn_1000: 6,
nn_1001: 6,
nn_1002: 6,
nn_1003: 6,
nn: 6,
ysz_2300: 7,
tjd_1300: 8,
tjd_1301: 8,
tjd: 8,
ttz_1400: 8,
ttz_1401: 8,
ttz_1402: 8,
zpj_2800: 8,
pdk_1900: 9,
dq_2700: 10,
hs_3100: 11,
zgz_3300: 12
};
this.node.on("room", function() {
cc.vv.log3.info("切换圈子");
var e = {
method: "club_room_list",
data: {
club_id: cc.vv.userMgr.club_id
}
};
cc.vv.net1.send(e);
});
var i = this.clubScrollList.getComponent("ClubRoomList");
this.node.on("club_room_list", function(e) {
i.OpenedRoomList(e.type);
});
this.node.on("club_room", function(e) {
i.OpenedRoomChange(e);
});
this.node.on("club_room_del", function(e) {
i.OpenedRoomRemove(e);
});
},
start: function() {
this.nodeGuolv.active = !1;
this.allclub.active = !1;
},
onDisable: function() {
cc.vv.net1.quick("club_exit", {});
},
onEnable: function() {
cc.vv.userMgr.club_id && !this.is_frist && cc.vv.net1.quick("club_room_list", {
club_id: cc.vv.userMgr.club_id
});
this.is_frist = !1;
var e = this;
this.allclub.active = !1;
cc.vv.memberBack && cc.vv.utils.popPanel(this.node);
cc.vv.memberBack = !0;
this.node.runAction(cc.sequence(cc.delayTime(720), cc.callFunc(function() {
var i = cc.vv.utils.getChildByTag(e.node.getChildByName("room"), cc.vv.userMgr.club_id);
if (null != i) for (var t = i.getComponent(cc.ScrollView).content, a = 0; a < t.childrenCount; a++) {
var n = t.children[a];
"ClubRuleTip" == n.name && n.removeFromParent();
}
cc.vv.userMgr.clubRoomEnter = 0;
cc.vv.hall.move_in = !1;
e.node.active = !1;
})));
},
close_allclublist: function() {
this.allclub.active = !1;
},
get_first: function() {
if ("{}" == JSON.stringify(cc.vv.userMgr.clublist)) return null;
var e = Object.keys(cc.vv.userMgr.clublist);
return cc.vv.userMgr.clublist[e[0]];
},
show: function(e, i) {
cc.vv.popMgr.hide();
cc.vv.club.users = 0;
0 != e && cc.vv.net1.quick("club_room_list", {
club_id: e
});
if (0 == e) {
if (0 == cc.vv.userMgr.clublist2.length) {
this.node.active = !1;
cc.vv.hall.move_in = !1;
return;
}
e = cc.vv.userMgr.clublist2[0].club_id;
cc.vv.userMgr.club_id = e;
}
var t = cc.vv.userMgr.clublist[e];
if (null == t) {
if (0 == cc.vv.userMgr.clublist2.length) {
this.node.active = !1;
cc.vv.hall.move_in = !1;
return;
}
e = cc.vv.userMgr.clublist2[0].club_id;
cc.vv.userMgr.club_id = e;
t = cc.vv.userMgr.clublist[e];
}
this.initRoomType();
cc.vv.userMgr.clublist[e] && 1 == cc.vv.userMgr.clublist[e].userStatus && (null == cc.vv.userMgr.clubroom || null == cc.vv.userMgr.clubroom[e] ? this.node.emit("room") : this.node.emit("club_room_list", {
type: 0
}));
this.initlist();
this.menu.active = !1;
var a = this.club_cur.getChildByName("head").getChildByName("img"), n = this.club_cur.getChildByName("mask").getChildByName("name");
if (i) {
this.head.getComponent(cc.Sprite).spriteFrame = i;
a.getComponent(cc.Sprite).spriteFrame = i;
} else {
this.head.getComponent("ImageLoader").loadImg(t.creator_headimg);
a.getComponent("ImageLoader").loadImg(t.creator_headimg);
}
n.getComponent(cc.Label).string = t.name;
this.club_id.string = "ID:" + t.clubno;
this.club_name.string = t.name;
this.clubinfo.node.stopAllActions();
this.clubinfo.node.x = 0;
this.clubinfo.string = t.desc.replace(/[\r\n]/g, "");
n.stopAllActions();
if (n.width > 242) {
var s = (n.width - 242) / 2;
n.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1), cc.moveTo(2, cc.v2(s, n.y)), cc.delayTime(1), cc.moveTo(2, cc.v2(-s, n.y)))));
}
this.lblPwb.string = cc.vv.utils.numFormat(t.pwb);
this._job = t.job;
9 == this._job ? this.ticket.string = cc.vv.userMgr.ticket : this.ticket.string = t.ticket >= 300 ? "充足" : "紧张";
var c = "", o = null;
if (9 == t.job) {
c = "圈主";
o = this.statusAtlas.getSpriteFrame("identifybg0");
} else if (0 == t.job) {
c = "成员";
o = this.statusAtlas.getSpriteFrame("identifybg1");
} else {
c = "管理员";
o = this.statusAtlas.getSpriteFrame("identifybg0");
}
this.identify.getComponent(cc.Sprite).spriteFrame = o;
var h = this.identify.getChildByName("name");
h.getComponent(cc.Label).string = c;
this.identify.width = h.width + 10;
t.job > 0 ? this.btn_message.interactable = !0 : this.btn_message.interactable = !1;
t.job >= 2 ? this.btn_set.interactable = !0 : this.btn_set.interactable = !1;
this.btn_roomset.active = t.job >= 2;
this.newmark.active = !1;
cc.vv.club.clubNotice;
this._job > 0 && cc.vv.net1.quick("club_joins", {
club_id: cc.vv.userMgr.club_id
});
},
refresh: function(e) {
if (e.userid == cc.vv.userMgr.userid) {
this.lblPwb.string = cc.vv.utils.numFormat(e.pwb);
cc.vv.userMgr.clublist[e.clubid].pwb = this.lblPwb.string;
} else {
this.lblPwb.string = (parseFloat(this.lblPwb.string) + parseFloat(cc.vv.utils.numFormat(e.changePwb))).toFixed(1);
cc.vv.userMgr.clublist[e.clubid].pwb = this.lblPwb.string;
}
},
newPwb: function(e) {
this.lblPwb.string = e.pwb;
9 == this._job ? this.ticket.string = e.ticket : this.ticket.string = e.ticket >= 300 ? "充足" : "紧张";
},
clubNotice: function(e) {
if (e.length > 0 && this._job > 0) {
this.newmark.active = !0;
this.newmark.getComponentInChildren(cc.Label).string = e.length;
} else this.newmark.active = !1;
if (0 == e.length) {
cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].notice = 0;
cc.vv.gameClubMgr.clubNotify = [];
}
},
initlist: function() {
var e = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id], i = this.club_cur2.getChildByName("head").getChildByName("img"), t = this.club_cur2.getChildByName("mask").getChildByName("name");
i.getComponent("ImageLoader").loadImg(e.creator_headimg);
t.getComponent(cc.Label).string = e.name;
t.stopAllActions();
if (t.width > 196) {
var a = (t.width - 196) / 2;
t.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1), cc.moveTo(2, cc.v2(a, t.y)), cc.delayTime(1), cc.moveTo(2, cc.v2(-a, t.y)))));
}
for (var n in cc.vv.userMgr.clublist) if (-1 != cc.vv.userMgr.clublist[n].status) {
var s = cc.vv.utils.getChildByTag(this.clublist, cc.vv.userMgr.clublist[n].club_id);
if (null == s) {
(s = cc.instantiate(this.clubitem)).myTag = cc.vv.userMgr.clublist[n].club_id;
s.zIndex = cc.vv.userMgr.clublist[n].myTag;
this.clublist.addChild(s);
}
cc.vv.userMgr.clublist[n].club_id === cc.vv.userMgr.club_id ? s.getChildByName("mask").getChildByName("name").color = new cc.Color(206, 78, 0) : s.getChildByName("mask").getChildByName("name").color = new cc.Color(1, 91, 171);
s.getComponent("ClubItem").init(cc.vv.userMgr.clublist[n]);
}
},
removeClub: function(e) {
var i = cc.vv.utils.getChildByTag(this.clublist, e);
null != i && i.destroy();
},
removeAllClub: function() {
this.clublist.removeAllChildren();
},
removeRoomAllClub: function() {
this.clubScrollList.removeAllChildren();
},
onClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "clublist_shadow":
this.allclub.active = !1;
break;

case "club_cur":
case "btn_xiala":
this.allclub.active = !0;
break;

case "btn_detail":
if (null == cc.vv.club._clubDetail) cc.vv.popMgr.pop("club/ClubDetail", function(e) {
cc.vv.club._clubDetail = e;
e.getComponent("ClubDetail").show(cc.vv.userMgr.club_id);
}); else {
cc.vv.club._clubDetail.active = !0;
cc.vv.club._clubDetail.getComponent("ClubDetail").show(cc.vv.userMgr.club_id);
}
}
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
if ("btn_back" == e.target.name || -1 != cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].userStatus) {
var i = cc.vv.utils.getChildByTag(this.node.getChildByName("room"), cc.vv.userMgr.club_id);
if (null != i) for (var t = i.getComponent(cc.ScrollView).content, a = 0; a < t.childrenCount; a++) {
var n = t.children[a];
"ClubRuleTip" == n.name && n.removeFromParent();
}
switch (e.target.name) {
case "btn_member":
cc.vv.club.users = 1;
if (null === cc.vv.club._clubMember) cc.vv.popMgr.pop("club/ClubMemberList", function(e) {
cc.vv.club._clubMember = e;
e.getComponent("ClubMemberList").show();
cc.vv.club.clubMain && (cc.vv.club.clubMain.active = !1);
}); else {
cc.vv.club._clubMember.active = !0;
cc.vv.club._clubMember.getComponent("ClubMemberList").show();
cc.vv.club.clubMain && (cc.vv.club.clubMain.active = !1);
}
break;

case "btn_pwb":
var s = this._job >= 2 ? 0 : cc.vv.userMgr.userid;
cc.vv.popMgr.wait("正在查看所有成员胜点清单", function() {
cc.vv.net1.quick("club_pwb_list", {
club_id: cc.vv.userMgr.club_id,
player_id: s,
type: 0
});
});
break;

case "btn_message":
cc.vv.club.clubNotice = 1;
if (null === cc.vv.club._clubMsg) cc.vv.popMgr.pop("club/ClubMessage", function(e) {
cc.vv.club._clubMsg = e;
e.getComponent("ClubMessage").show();
}); else {
cc.vv.club._clubMsg.active = !0;
cc.vv.club._clubMsg.getComponent("ClubMessage").show();
}
break;

case "btn_set":
if (null == cc.vv.club._clubSet) cc.vv.popMgr.pop("club/ClubSetting", function(e) {
cc.vv.club._clubSet = e;
e.getComponent("ClubSetting").show();
}); else {
cc.vv.club._clubSet.active = !0;
cc.vv.club._clubSet.getComponent("ClubSetting").show();
}
cc.vv.club.clubMain && (cc.vv.club.clubMain.active = !1);
break;

case "btn_zixuankaizhuo":
cc.vv.hall.create_room = 1;
cc.vv.hall.winCreate.active = !0;
cc.vv.hall.winCreate.emit("show");
break;

case "btn_morenputongzhuo":
var c = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].ptz, o = 0;
c.length > 0 && (o = c[0].id);
var h = {
method: "club_room_create",
data: {
version: cc.SERVER,
club_id: cc.vv.userMgr.club_id,
model: 2,
id: o
}
};
cc.vv.popMgr.wait("正在创建房间", function() {
cc.vv.net1.send(h);
});
break;

case "btn_morenpaiweisai":
var r = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].pwz;
if (0 == r.length) {
cc.vv.popMgr.tip("没有设置排位桌规则");
return;
}
if (1 == r.length) {
o = r[0].id, h = {
method: "club_room_create",
data: {
version: cc.SERVER,
club_id: cc.vv.userMgr.club_id,
model: 3,
id: o
}
};
cc.vv.popMgr.wait("正在创建房间", function() {
cc.vv.net1.send(h);
});
} else cc.vv.popMgr.pop("club/ClubRuleSelect", function(e) {
e.getComponent("ClubRuleSelect").show(r);
});
break;

case "btn_add":
this.menu.active = !0;
this.menu.zIndex = 100;
break;

case "menushadow":
this.menu.active = !1;
break;

case "btn_createclub":
if (0 == cc.vv.userMgr.is_dealer) {
cc.vv.popMgr.tip("请联系客服申请开通乐圈");
return;
}
cc.vv.popMgr.pop("club/CreateClub");
this.menu.active = !1;
break;

case "btn_joinclub":
cc.vv.popMgr.pop("club/JoinClub");
this.menu.active = !1;
break;

case "btn_back":
cc.vv.userMgr.clubRoomEnter = 0;
cc.vv.hall.move_in = !1;
this.removeRoomAllClub();
break;

case "btn_roomset2":
case "btn_roomset":
if (null == cc.vv.club._clubSetRule) cc.vv.popMgr.pop("club/ClubSetRule", function(e) {
cc.vv.club._clubSetRule = e;
e.getComponent("ClubSetRule").show();
}); else {
cc.vv.club._clubSetRule.active = !0;
cc.vv.club._clubSetRule.getComponent("ClubSetRule").show();
}
break;

case "btn_creatroom2":
case "btn_createroom":
if (null == cc.vv.club._clubGameList) cc.vv.popMgr.pop("club/ClubGameList", function(e) {
cc.vv.club._clubGameList = e;
e.getComponent("ClubGameList").show();
}); else {
cc.vv.club._clubGameList.active = !0;
cc.vv.club._clubGameList.getComponent("ClubGameList").show();
}
break;

case "btn_refresh":
cc.vv.net1.quick("club_room_list", {
club_id: cc.vv.userMgr.club_id
});
break;

case "btn_guolv":
this.setSelect();
this.nodeGuolv.active = !0;
break;

case "guolv_shadow":
this.nodeGuolv.active = !1;
break;

default:
cc.vv.popMgr.tip("敬请期待");
}
} else cc.vv.popMgr.alert("你无法在该乐圈游戏");
},
refreshRoom: function() {
null == cc.vv.userMgr.clubroom || null == cc.vv.userMgr.clubroom[cc.vv.userMgr.club_id] ? this.node.emit("room") : this.node.emit("club_room_list", {
type: 0
});
},
getGameType: function() {},
initRoomType: function() {
var e = cc.sys.localStorage.getItem(cc.vv.userMgr.club_id + "roomtype");
cc.log("roomtype =", e);
if (null == e || "" == e) cc.vv.userMgr.selectroom = []; else {
cc.vv.userMgr.selectroom = [];
var i = e;
cc.log("list = ", i);
i.split(",").forEach(function(e) {
console.log("0000000000000000000000", e);
cc.vv.userMgr.selectroom.push(e);
});
12 == i.split(",").length && (this.toggleAll.isChecked = !0);
cc.log("cc.vv.userMgr.selectroom = ", cc.vv.userMgr.selectroom);
}
this.refreshSelect();
},
refreshSelect: function() {
cc.log("刷新状态显示  cc.vv.userMgr.selectroom = ", cc.vv.userMgr.selectroom);
},
setSelect: function() {
for (var e = 0; e < this.guolvlist.childrenCount; e++) {
var i = this.guolvlist.children[e];
if (i) {
var t = i.getComponentInChildren(cc.Toggle);
console.log("toggle123123123123123123", t.node.name);
t.isChecked = this.inSelectRoom(t.node.name);
console.log("toggle123123123123123123", this.inSelectRoom(t.node.name));
console.log("selectroom", cc.vv.userMgr.selectroom);
} else cc.log("节点不存在！");
}
},
inSelectRoom: function(e) {
for (var i = 0; i < cc.vv.userMgr.selectroom.length; i++) if (e == cc.vv.userMgr.selectroom[i]) return !0;
return !1;
},
isToggled: function(e) {
for (var i = 0; i < cc.vv.userMgr.selectroom.length; i++) if (e == cc.vv.userMgr.selectroom[i]) return i;
return null;
},
guolvChecked: function(e) {
cc.log("点击了桌子筛选 event = ", e);
if (this.nodeGuolv.active) {
for (var i = [], t = 0; t < this.guolvlist.childrenCount; t++) {
var a = this.guolvlist.children[t];
if (a) {
var n = a.getComponentInChildren(cc.Toggle);
if (n) {
if (n.isChecked) {
var s = n.node.name;
s += "";
cc.log("name = ", s);
i.push(s);
}
} else cc.log("节点不存在！");
} else cc.log("节点不存在！");
}
cc.sys.localStorage.setItem(cc.vv.userMgr.club_id + "roomtype", i);
cc.vv.userMgr.selectroom = i;
cc.log("roomtype = ", i);
this.refreshRoom();
}
},
selectAll: function(e) {
if (e) {
var i = this.toggleArr.length;
this.execute(this.setChecked, this, 0, i, 1, e.isChecked);
}
},
execute: function(e, i, t, a, n) {
for (var s = this, c = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : null, o = new Date().getTime(), h = t, r = h; r < a; r++) {
e.call(i, h, c);
if (++h >= a) return;
var l = new Date().getTime() - o;
console.log("执行耗时:", l);
if (l > n) {
console.log("超时，进入下一轮加载");
this.scheduleOnce(function() {
s.execute(e, i, h, a, n, c);
});
return;
}
}
},
setChecked: function(e, i) {
this.toggleArr[e].isChecked = i;
},
back_action: function(e) {
e.opacity = 0;
e.x = e.x + 250;
e.runAction(cc.sequence(cc.spawn(cc.fadeTo(.4, 255), cc.moveTo(.4, cc.v2(e.x - 250, e.y))), cc.callFunc(function() {})));
},
update: function(e) {
var i = this.clubinfo.node.x;
(i -= 100 * e) + this.clubinfo.node.width < -500 && (i = 341);
this.clubinfo.node.x = i;
this.update_times >= 5 ? this.update_times = 0 : this.update_times = this.update_times + e;
}
});
cc._RF.pop();
}, {} ],
ClubMaster: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "048f1DAOApIUK8nGVixxfIY", "ClubMaster");
cc.Class({
extends: cc.Component,
properties: {
head: cc.Node,
username: cc.Label,
userid: cc.Label,
count: cc.Label,
rate: cc.Label,
itemID: 0
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
},
updateID: function(e) {
this.itemID = e;
},
init: function(e) {
this.head.getComponent("ImageLoader").loadImg(e.headimg);
this.username.string = e.name;
this.userid.string = e.user_id;
null != e.count && (this.count.string = e.count + "人");
this._rate = e.rate;
this.rate.string = parseInt(100 * e.rate) + "%";
},
countAdd: function() {
this.count.string = parseInt(this.count.string) + 1;
},
onBtnClicked: function(e) {
var i = this;
switch (e.target.name) {
case "btn_chakan":
cc.vv.popMgr.wait("正在获取列表", function() {
cc.vv.net1.quick("club_single_push_list", {
club_id: cc.vv.userMgr.club_id,
player_id: i.userid.string
});
});
break;

case "btn_set":
cc.vv.popMgr.pop("club/ClubRateTable", function(e) {
e.getComponent("ClubRateTable").show(i._rate, i.userid.string);
});
break;

case "btn_bind":
cc.vv.popMgr.pop("club/ClubBind", function(e) {
e.getComponent("JoinClub").show(parseInt(i.userid.string));
});
}
},
update: function(e) {
var i = this.node.parent.convertToWorldSpaceAR(this.node.position), t = this.node.parent.parent.convertToNodeSpaceAR(i);
t.y > this.node.height / 2 ? this.node.opacity = 0 : t.y < -(this.node.parent.parent.height + this.node.height / 2) ? this.node.opacity = 0 : this.node.opacity = 255;
}
});
cc._RF.pop();
}, {} ],
ClubMemberFriScroll: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8e1673p6nlAhJEmEr3bLcRj", "ClubMemberFriScroll");
cc.Class({
extends: cc.Component,
properties: {
friendNode: cc.Node,
masterNode: cc.Node,
friendContent: cc.Node,
masterContent: cc.Node,
firendEdit: cc.EditBox,
setSelfDlNode: cc.Node
},
onDisable: function() {
this.friendNode.active = !1;
this.masterNode.active = !1;
this.friendContent.removeAllChildren();
this.masterContent.removeAllChildren();
},
onclickBackMaster: function(e) {
this.firendEdit.string = "";
this.isShow(!0);
},
isShow: function(e) {
this.friendNode.active = !e;
this.masterNode.active = e;
},
openFriend: function() {
this.friendNode.active = !0;
},
isShowSelfDlr: function(e) {
this.setSelfDlNode.active = e;
}
});
cc._RF.pop();
}, {} ],
ClubMemberItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "54ca7uuGJ1Dh7A5UupxEN48", "ClubMemberItem");
cc.Class({
extends: cc.Component,
properties: {
lblName: cc.Label,
lblID: cc.Label,
head: cc.Node,
identify: cc.Sprite,
statusAtlas: {
default: null,
type: cc.SpriteAtlas
},
last_node: cc.Node,
last_id: cc.Label,
_pwb: 0,
_headimg: "",
_job: 0,
_status: 1,
_mark: 0,
_limit: 0,
_rate: 0,
itemID: 0
},
updateID: function(e) {
this.itemID = e;
},
init: function(e) {
this.lblName.string = e.name;
this.lblID.string = e.userid;
this.identify.node.active = !1;
this._pwb = e.pwb;
this._headimg = e.headimg;
this._job = e.job;
this.pid = e.pid;
this._rate = e.rate;
var i = null;
switch (e.job) {
case 9:
i = this.statusAtlas.getSpriteFrame("club_member_type0");
break;

case 2:
i = this.statusAtlas.getSpriteFrame("group_member_type1");
break;

case 1:
i = this.statusAtlas.getSpriteFrame("group_member_type2");
break;

case 0:
i = null;
}
this.identify.node.active = !0;
this.identify.spriteFrame = i;
this._status = e.status;
if (this.pid && 0 != this.pid) {
this.last_node.active = !0;
this.last_id.string = this.pid;
}
this.head.getComponent("ImageLoader").loadImg(e.headimg);
},
permission: function() {
this.power = 1;
var e = this;
cc.vv.popMgr.pop("club/UserManager", function(i) {
cc.vv.club._clubPwb = i;
i.getComponent("UserManager").show(e.lblID.string);
});
},
memberinfo: function(e) {
var i = this.head.getComponent(cc.Sprite).spriteFrame;
cc.vv.club._clubPwb && (1 == this.power ? cc.vv.club._clubPwb.getComponent("UserManager").info({
club_id: cc.vv.userMgr.club_id,
username: e.name,
userid: e.user_id,
headimg: i,
job: this._job,
pwb: e.pwb,
status: e.status,
limit: this._limit,
rate: this._rate
}) : cc.vv.club._clubPwb2.getComponent("UserManager").info({
club_id: cc.vv.userMgr.club_id,
username: e.name,
userid: e.user_id,
headimg: i,
job: this._job,
pwb: e.pwb,
status: e.status,
limit: this._limit,
rate: this._rate
}));
},
nopermission: function() {
this.power = 0;
var e = this;
cc.vv.popMgr.pop("club/NoManager", function(i) {
cc.vv.club._clubPwb2 = i;
i.getComponent("UserManager").show(e.lblID.string);
});
},
onBtnClicked: function(e) {
var i = cc.vv.userMgr.user_job;
if (0 == i) this.nopermission(); else if (1 == i || 2 == i) if (cc.vv.userMgr.userid == this.lblID.string) this.nopermission(); else if (i == this._job) {
this._limit = 0;
this.permission();
} else if (i < this._job) this.nopermission(); else {
this._limit = 1;
this.permission();
} else if (9 == i) {
cc.vv.userMgr.userid == this.lblID.string ? this._limit = 0 : this._limit = 1;
this.permission();
}
}
});
cc._RF.pop();
}, {} ],
ClubMemberList: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "db91c5+ov1DppIc/quz4UtF", "ClubMemberList");
cc.Class({
extends: cc.Component,
properties: {
memberlist: cc.Node,
statuslist: cc.Node,
masterlist: cc.Node,
friendlist: cc.Node,
memberItem: cc.Prefab,
memberstatus: cc.Prefab,
masteritem: cc.Prefab,
frienditem: cc.Prefab,
textID: cc.EditBox,
slefDealerID: cc.EditBox,
memberlistview: cc.Node,
onlinelistview: cc.Node,
masterlistview: cc.Node,
friendlistview: cc.Node,
panels: cc.Node,
toggles: cc.Node,
textID_status: cc.EditBox,
textID_master: cc.EditBox,
textID_friend: cc.EditBox,
friendBtns: cc.Node,
friendToggle: cc.Node,
memberlistToggle: cc.Node,
memberstatusToggle: cc.Node,
JF_help: cc.Node,
JF_check: cc.Toggle,
_idx: 0,
_data: null,
_onlineidx: 0,
_onlineData: null,
_masterData: null,
flag: !1,
_clubeScheduleTime: 0
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
this.togg_times = 0;
this.memberlistview.on("bounce-bottom", function() {});
this.onlinelistview.on("bounce-bottom", function() {});
this.masterlistview.on("bounce-bottom", function() {});
this.friendlistview.on("bounce-bottom", function() {});
this.ClubMemberJs = this.panels.getChildByName("memberlist").getComponent("ClubMember");
this.ClubMemberStaJs = this.panels.getChildByName("memberstatus").getComponent("ClubMemberStaScroll");
this.ClubMemberMasterAllJs = this.panels.getChildByName("friendmanage").getComponent("ClubMemberFriScroll");
this.ClubMemberMasterJs = cc.find("friendmanage/master", this.panels).getComponent("ClubMemberStaScroll");
this.ClubMemberFriendJs = cc.find("friendmanage/friend", this.panels).getComponent("ClubMember");
},
Change_switch: function(e) {
var i = e.data;
this.is_checkedvalues = i.pwdSwitch;
this.JF_check.isChecked = this.is_checkedvalues;
},
Set_mylkl: function(e) {
var i = e.data;
this.my_lkl = i.ppwd;
},
show: function() {
var e = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].job, i = "";
if (0 == e || 1 == e) {
this.memberlistToggle.active = !1;
this.memberstatusToggle.active = !1;
i = this.toggles.children[2].name;
} else {
this.memberlistToggle.active = !0;
this.memberstatusToggle.active = !0;
i = this.toggles.children[0].name;
}
cc.vv.utils.setToggleChecked(this.toggles, i);
this.onBtnleiXingXuanZe(null, i);
if (9 == e) this.JF_check.node.active = !1; else {
this.JF_check.node.active = !0;
cc.vv.net1.quick("club_user_pwdSwitch", {
club_id: cc.vv.userMgr.club_id
});
}
cc.vv.net1.quick("club_master_ppwd", {
club_id: cc.vv.userMgr.club_id
});
},
onclick_open: function() {
this.JF_check.isChecked ? cc.vv.net1.quick("update_club_user_pwdSwitch", {
club_id: cc.vv.userMgr.club_id,
pwdSwitch: 0
}) : cc.vv.popMgr.alert("是否开启上下分开关？", function() {
cc.vv.net1.quick("open_club_user_pwdSwitch_sendCode", {});
}, !0);
},
JF_switch: function() {
var e = 0 == this.JF_check.isChecked ? 0 : 1;
cc.vv.net1.quick("update_club_user_pwdSwitch", {
club_id: cc.vv.userMgr.club_id,
pwdSwitch: e
});
},
JF_showhelp: function() {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert("注意：开启积分操作您的上级将有权限扣除胜点！");
},
getMemberList: function(e) {
this.unschedule(this.ClubMemberTimeUpdate);
this._data = e;
this._idx = 0;
this.ClubMemberJs.frameLoading(e);
},
ClubMemberTimeUpdate: function() {
var e = this;
this._clubeScheduleTime += 1;
if (this._clubeScheduleTime >= 10) {
this.unschedule(this.ClubMemberTimeUpdate);
cc.vv.popMgr.hide();
cc.vv.popMgr.alert("网络异常，请重新登录", function() {
e._clubeScheduleTime = 0;
cc.game.restart();
});
}
},
getMember: function(e) {
var i = cc.vv.utils.getChildByTag(this.memberlist, e + "");
return null !== i ? i : null;
},
removeUser: function(e) {
var i = cc.vv.utils.getChildByTag(this.memberlist, e + "");
if (null !== i) {
i.destroy();
delete cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][e];
}
},
onBtnSertch: function(e) {
"1" == e.target.name ? this.ReqSearchMember() : "2" == e.target.name ? this.ReqSearchOnline() : "3" == e.target.name && this.ReqSearchFriend();
},
ReqSearchMember: function() {
"" != this.textID.string ? cc.vv.net1.quick("club_single_users", {
club_id: cc.vv.userMgr.club_id,
player_id: 1 * this.textID.string
}) : cc.vv.popMgr.wait("正在获取成员列表", function() {
cc.vv.net1.quick("club_users", {
club_id: cc.vv.userMgr.club_id,
type: 0
});
});
},
ReqSearchOnline: function() {
"" != this.textID_status.string ? cc.vv.net1.quick("club_single_user_online_list", {
club_id: cc.vv.userMgr.club_id,
player_id: this.textID_status.string
}) : cc.vv.popMgr.wait("正在获取成员状态", function() {
cc.vv.net1.quick("club_user_online_list", {
club_id: cc.vv.userMgr.club_id,
check_list: []
});
});
},
ReqSearchFriend: function() {
if ("" != this.textID_master.string) cc.vv.net1.quick("club_single_master_list", {
club_id: cc.vv.userMgr.club_id,
player_id: this.textID_master.string
}); else {
var e = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].job;
cc.vv.popMgr.wait("正在获取好友列表", function() {
9 == e ? cc.vv.net1.quick("club_master_list", {
club_id: cc.vv.userMgr.club_id
}) : cc.vv.net1.quick("club_friend_list", {
club_id: cc.vv.userMgr.club_id
});
});
}
},
onEditChanged: function(e) {
this.ReqSearchMember();
},
onEditChanged2: function(e) {
this.ReqSearchOnline();
},
onEditChanged3: function(e) {
this.ReqSearchFriend();
},
onEditChanged4: function(e) {
this.search4(e);
},
onEditEnd: function(e) {
this.ReqSearchMember();
},
onEditEnd2: function(e) {
this.ReqSearchOnline();
},
onEditEnd3: function(e) {
this.ReqSearchFriend();
},
search: function(e) {},
search2: function(e) {},
search3: function(e) {},
search4: function(e) {
var i = [];
for (var t in this._friendData) {
0 == (this._friendData[t].user_id + "").indexOf(e) && i.push(this._friendData[t]);
}
this.ClubMemberFriendJs.frameLoading(i, !0, "friend");
},
editdel: function(e) {
this.textID.string = "";
this.ReqSearchMember();
},
editdel2: function(e) {
this.textID_status.string = "";
this.ReqSearchOnline();
},
editdel3: function(e) {
this.textID_master.string = "";
this.ReqSearchFriend();
},
editdel4: function(e) {
this.textID_friend.string = "";
this.ClubMemberFriendJs.frameLoading(this._friendData, !0, "friend");
},
resetEdoit: function() {
this.textID.string = "";
this.textID_status.string = "";
this.textID_master.string = "";
this.textID_friend.string = "";
},
getOnlineList: function(e) {
this._onlineData = e;
this._onlineidx = 0;
this.ClubMemberStaJs.frameLoading(e);
},
getmasterlist: function(e) {
this._masterData = e;
var i = this.panels.getChildByName("friendmanage");
i.getChildByName("zhijie").getComponent(cc.Label).string = e.length;
for (var t = 0, a = 0; a < e.length; a++) t += parseInt(e[a].count);
i.getChildByName("jianjie").getComponent(cc.Label).string = t;
this.ClubMemberMasterAllJs.isShow(!0);
this.ClubMemberMasterJs.frameLoading(e, !1, "master");
},
getMaster: function(e) {
return cc.vv.utils.getChildByTag(this.masterlist, e + "");
},
masterChanged: function(e) {
var i = cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][e], t = cc.vv.utils.getChildByTag(this.masterlist, e + "");
if (null != t) {
var a = t.getComponent("ClubMaster");
a && a.init({
headimg: i.headimg,
name: i.name,
user_id: e,
rate: i.rate
});
} else {
if (!cc.find("friendmanage/master", this.panels).active) return;
i.user_id = e;
if (null == this._masterData) {
this._masterData = [];
this._masterData.push(i);
} else this._masterData.push(i);
this.ClubMemberMasterJs.frameLoading(this._masterData, !1, "master");
}
},
getfriendlist: function(e) {
var i = this.panels.getChildByName("friendmanage");
this._friendData = e;
this.ClubMemberMasterJs.updateMasterFlag(!1);
this.ClubMemberMasterAllJs.isShow(!1);
this.ClubMemberFriendJs.frameLoading(e, !1, "friend");
i.getChildByName("zhijie").getComponent(cc.Label).string = e.length;
for (var t = 0, a = 0; a < e.length; a++) t += parseInt(e[a].fcode);
i.getChildByName("jianjie").getComponent(cc.Label).string = t;
if (9 == cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].job) {
this.friendBtns.active = !1;
i.getChildByName("friend").getChildByName("btn_backmaster").active = !0;
}
0 == e.length ? i.getChildByName("friend").getChildByName("bg").active = !0 : i.getChildByName("friend").getChildByName("bg").active = !1;
cc.vv.popMgr.hide();
},
friendChanged: function(e) {
if (cc.find("friendmanage/friend", this.panels).active) {
if (null == cc.vv.utils.getChildByTag(this.friendlist, e.user_id + "")) {
if (null == this._friendData) {
this._friendData = [];
this._friendData.push(e);
} else this._friendData.push(e);
this.ClubMemberFriendJs.frameLoading(this._friendData, !1, "friend");
}
}
},
getFriend: function(e) {
var i = cc.vv.utils.getChildByTag(this.friendlist, e + "");
return null !== i ? i : null;
},
onBtnleiXingXuanZe: function(e, i) {
var t = this;
if (!(this.togg_times > 0)) {
this.togg_times = 1;
this.node.runAction(cc.sequence(cc.delayTime(.2), cc.callFunc(function() {
t.togg_times = 0;
})));
null != e && cc.vv.audioMgr.click();
null == i && (i = e.target.name);
for (var a = 0; a < this.panels.children.length; ++a) {
var n = this.panels.children[a].name;
this.panels.children[a].active = i == n;
}
this.resetEdoit();
switch (i) {
case "memberlist":
cc.vv.popMgr.wait("正在获取成员列表", function() {
t.schedule(t.ClubMemberTimeUpdate, 1);
cc.vv.net1.quick("club_users", {
club_id: cc.vv.userMgr.club_id,
type: 0
});
});
break;

case "memberstatus":
cc.vv.popMgr.wait("正在获取成员状态", function() {
cc.vv.net1.quick("club_user_online_list", {
club_id: cc.vv.userMgr.club_id,
check_list: []
});
});
break;

case "friendmanage":
var s = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].job;
cc.vv.popMgr.wait("正在获取好友列表", function() {
9 == s ? cc.vv.net1.quick("club_master_list", {
club_id: cc.vv.userMgr.club_id
}) : cc.vv.net1.quick("club_friend_list", {
club_id: cc.vv.userMgr.club_id
});
});
}
}
},
share: function(e) {
var i = parseInt(1), t = "我是" + cc.vv.userMgr.userName + ",来和我一起切磋吧", a = jsb.fileUtils.fullPathForFilename("res/raw-assets/resources/public/dairy_icon.png");
cc.vv.g3Plugin.shareWeb(i, t, "点击该链接进入游戏发送入群申请,我在这里等你!", a, e, function(e, i) {});
},
onBtnClicked: function(e) {
switch (e.target.name) {
case "btn_addmaster":
this.slefDealerID.string = "";
this.ClubMemberMasterAllJs.isShowSelfDlr(!0);
break;

case "close_selfdlr":
this.ClubMemberMasterAllJs.isShowSelfDlr(!1);
break;

case "btn_selfbind_junior":
"" == this.slefDealerID.string ? cc.vv.popMgr.tip("请输入正确的id") : cc.vv.net1.quick("bind_own_junior", {
club_id: cc.vv.userMgr.club_id,
junior_id: this.slefDealerID.string
});
break;

case "btn_lkl":
cc.vv.g3Plugin.shareText(1, "复制乐口令", "点击复制乐口令绑定上级：" + this.my_lkl);
break;

case "btn_tjxq":
case "btn_xqtj":
var i = Date.parse(new Date()), t = cc.vv.userMgr.userid.toString(), a = cc.vv.userMgr.club_id.toString(), n = cc.vv.utils.md5(a + t + cc.GAME_CODE + i), s = cc.GAMEMEMBER + "client?m=clubMasterCount&code=" + cc.GAME_CODE + "&cid=" + cc.vv.userMgr.club_id + "&uid=" + cc.vv.userMgr.userid + "&session=" + n + "&tid=" + i;
cc.sys.openURL(s);
break;

case "btn_invitefriend":
cc.vv.g3Plugin.shareText(1, "复制乐口令", "点击复制乐口令绑定上级：" + this.my_lkl);
break;

case "btn_rateview":
if (1 == cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].is_master) {
var c = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rate;
cc.vv.popMgr.pop("club/ClubRateTable", function(e) {
e.getComponent("ClubRateTable").show(c);
});
}
break;

case "btn_fzkl":
cc.vv.g3Plugin.copyText(this.my_lkl);
cc.vv.popMgr.alert("复制口令" + this.my_lkl + "成功，可以去微信分享了");
}
},
onClickBack: function() {
cc.vv.memberBack = !1;
cc.vv.club._clubMember = null;
this.node.destroy();
cc.vv.club.clubMain && (cc.vv.club.clubMain.active = !0);
this.unschedule(this.ClubMemberTimeUpdate);
}
});
cc._RF.pop();
}, {} ],
ClubMemberStaScroll: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "03da6WA3ClFxYJRDD3u6V20", "ClubMemberStaScroll");
cc.Class({
extends: cc.Component,
properties: {
item: cc.Prefab,
content: cc.Node,
scrollView: cc.ScrollView,
spacing: 20,
bufferZone: 500,
prefabCellHeight: 200,
toggleNode: [ cc.Toggle ]
},
onLoad: function() {
this.updateTimer = 0;
this.updateInterval = .2;
},
onEnable: function() {
this.check_list = [];
},
onDisable: function() {
this.masterFlag && this.content.removeAllChildren();
this.updateMasterFlag(!0);
if (this.toggleNode[0]) {
this.toggleNode[0].isChecked = !0;
for (var e = 1; e < 5; e++) this.toggleNode[e].isChecked = !1;
}
},
updateMasterFlag: function(e) {
this.masterFlag = e;
},
initialize: function() {
this.items = [];
for (var e = "ClubMaster" != this.itmeJs ? this._spawnCount : this.data.length, i = 0; i < e; i++) {
var t = cc.instantiate(this.item);
t.myTag = "";
t.setPosition(0, -t.height * (.5 + i) - this.spacing * (i + 1));
this.items.push(t);
}
},
frameLoading: function(e, i, t) {
this.updateMasterFlag(!0);
this.flag = t;
this.itmeJs = "master" == t ? "ClubMaster" : "ClubMemberStatus";
this.data = e;
this.content.removeAllChildren();
this._totalCount = e.length;
this._spawnCount = this._totalCount <= 100 ? this._totalCount : 100;
this._lastContentPosY = 0;
this.scrollView.scrollToOffset(cc.v2(-10, 0), 0);
this.initialize();
var a = i ? 0 : .02;
this._curIndex = 0;
this.content.height = this._totalCount * (this.prefabCellHeight + this.spacing) + this.spacing;
var n = cc.delayTime(a), s = cc.callFunc(function() {
this.showItem();
}.bind(this)), c = cc.sequence(n, s);
this.node.stopAllActions();
this.node.runAction(cc.repeatForever(c));
},
showItem: function() {
if (this._curIndex >= this._spawnCount && "ClubMaster" != this.itmeJs) {
this.node.stopAllActions();
cc.vv.popMgr.hide();
} else if ("ClubMaster" == this.itmeJs && this._curIndex >= this.data.length) {
this.node.stopAllActions();
cc.vv.popMgr.hide();
} else {
var e = this.items[this._curIndex];
if (e) {
this.content.addChild(e);
e.active = !0;
"master" == this.flag ? e.myTag = this.data[this._curIndex].user_id + "" : e.myTag = this.data[this._curIndex].userid + "";
e.getComponent(this.itmeJs).init(this.data[this._curIndex]);
e.getComponent(this.itmeJs).updateID(this._curIndex);
this._curIndex += 1;
}
}
},
getPositionInView: function(e) {
if (!e.parent) return cc.v2(0, 0);
var i = e.parent.convertToWorldSpaceAR(e.position);
return this.scrollView.node.convertToNodeSpaceAR(i);
},
scrollevent: function() {
if (!(this._spawnCount < 6)) {
this.updateTimer += .1;
if (!(this.updateTimer < this.updateInterval)) {
this.updateTimer = 0;
for (var e = this.items, i = this.bufferZone, t = this.scrollView.content.y < this._lastContentPosY, a = (this.prefabCellHeight + this.spacing) * e.length, n = 0; n < e.length; ++n) {
if (!e[n]) return;
var s = this.getPositionInView(e[n]);
t ? s.y < -i && e[n].y + a < 0 && this.formateUpdate(e[n], !0, a) : s.y > i && e[n].y - a > -this.content.height && this.formateUpdate(e[n], !1, a);
}
this._lastContentPosY = this.scrollView.content.y;
}
}
},
formateUpdate: function(e, i, t) {
var a = e.getComponent(this.itmeJs), n = 0;
if (i) {
e.y = e.y + t;
n = a.itemID - this.items.length;
} else {
e.y = e.y - t;
n = a.itemID + this.items.length;
}
if (this.data[n]) {
e.active = !0;
"master" == this.flag ? e.myTag = this.data[n].user_id + "" : e.myTag = this.data[n].userid + "";
a.init(this.data[n]);
} else {
e.active = !1;
e.myTag = "";
}
a.updateID(n);
},
onCheckToggle: function(e, i) {
var t = parseInt(i);
cc.vv.net1.quick("club_user_online_list", {
club_id: cc.vv.userMgr.club_id,
check_list: [ t ]
});
}
});
cc._RF.pop();
}, {} ],
ClubMemberStatus: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "bbd16lRiMBGmKWW+XMjW9zc", "ClubMemberStatus");
cc.Class({
extends: cc.Component,
properties: {
head: cc.Node,
username: cc.Label,
userid: cc.Label,
status: cc.Label,
pwb: cc.Label,
itemID: 0
},
updateID: function(e) {
this.itemID = e;
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
},
init: function(e) {
this.head.getComponent("ImageLoader").loadImg(e.headimg);
this.username.string = e.name;
this.userid.string = "ID: " + e.userid;
this.pwb.string = "胜点: " + cc.vv.utils.numFormat(e.pwb);
this.getStatus(e);
},
getStatus: function(e) {
var i = "", t = new cc.Color(68, 31, 2);
switch (e.status) {
case 0:
i = "游戏中";
t = new cc.Color(0, 0, 123);
break;

case 1:
i = "空闲";
t = new cc.Color(0, 123, 0);
break;

case 3:
i = "上次登录时间:" + e.last_login_time;
t = new cc.Color(123, 0, 0);
break;

case 2:
i = "离线";
}
this.status.string = i;
this.status.node.color = t;
},
onBtnClicked: function(e) {}
});
cc._RF.pop();
}, {} ],
ClubMember: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "045dfoZYn9JXpSDb1d3fy/j", "ClubMember");
cc.Class({
extends: cc.Component,
properties: {
item: cc.Prefab,
content: cc.Node,
scrollView: cc.ScrollView,
spacing: 20,
bufferZone: 500,
prefabCellHeight: 200
},
onLoad: function() {
this.updateTimer = 0;
this.updateInterval = .2;
},
onDisable: function() {
this.content.removeAllChildren();
},
initialize: function() {
this.items = [];
for (var e = "ClubFriend" != this.itmeJs ? this.spawnCount : this.data.length, i = 0; i < e; i++) {
var t = cc.instantiate(this.item), a = i % 6, n = Math.floor(i / 6), s = t.width * (a + .5) + this.spacing * (a + 1), c = -t.height * (.5 + n) - this.spacing * (n + 1);
t.myTag = "";
t.setPosition(s, c);
this.items.push(t);
}
},
frameLoading: function(e, i, t) {
cc.vv.popMgr.wait("正在获取成员列表", function() {});
this.content.removeAllChildren();
this.flag = t;
this.itmeJs = "friend" == t ? "ClubFriend" : "ClubMemberItem";
this.data = e;
this.totalCount = e.length;
this.spawnCount = this.totalCount <= 100 ? this.totalCount : 100;
this.lastContentPosY = 0;
this.scrollView.scrollToOffset(cc.v2(-10, 0), 0);
this.initialize();
var a = i ? 0 : .02;
this.curIndex = 0;
"ClubFriend" != this.itmeJs && (this.content.height = Math.ceil(this.totalCount / 6) * (this.prefabCellHeight + this.spacing) + this.spacing);
var n = cc.delayTime(a), s = cc.callFunc(function() {
this.showItem();
}.bind(this)), c = cc.sequence(n, s);
this.node.stopAllActions();
this.node.runAction(cc.repeatForever(c));
},
showItem: function() {
if (this.curIndex >= this.spawnCount && "ClubFriend" != this.itmeJs) {
this.node.stopAllActions();
cc.vv.popMgr.hide();
} else if ("ClubFriend" == this.itmeJs && this.curIndex >= this.data.length) {
this.node.stopAllActions();
cc.vv.popMgr.hide();
} else {
var e = this.items[this.curIndex];
if (e) {
this.content.addChild(e);
e.active = !0;
e.getComponent(this.itmeJs).init(this.data[this.curIndex]);
e.getComponent(this.itmeJs).updateID(this.curIndex);
"friend" == this.flag ? e.myTag = this.data[this.curIndex].user_id + "" : e.myTag = this.data[this.curIndex].userid + "";
this.curIndex += 1;
}
}
},
getPositionInView: function(e) {
if (!e.parent) return cc.v2(0, 0);
var i = e.parent.convertToWorldSpaceAR(e.position);
return this.scrollView.node.convertToNodeSpaceAR(i);
},
scrollevent: function() {
if (!(this.totalCount < 18)) {
this.updateTimer += .1;
if (!(this.updateTimer < this.updateInterval)) {
this.updateTimer = 0;
for (var e = this.items, i = this.bufferZone, t = this.scrollView.content.y < this.lastContentPosY, a = (this.prefabCellHeight + this.spacing) * Math.ceil(e.length / 6), n = 0; n < e.length; ++n) {
if (!e[n]) return;
var s = this.getPositionInView(e[n]);
t ? s.y < -i && e[n].y + a < 0 && this.formateUpdate(e[n], !0, a) : s.y > i && e[n].y - a > -this.content.height && this.formateUpdate(e[n], !1, a);
}
this.lastContentPosY = this.scrollView.content.y;
}
}
},
formateUpdate: function(e, i, t) {
var a = e.getComponent(this.itmeJs), n = 0;
if (i) {
e.y = e.y + t;
n = a.itemID - this.items.length;
} else {
e.y = e.y - t;
n = a.itemID + this.items.length;
}
if (this.data[n]) {
e.active = !0;
"friend" == this.flag ? e.myTag = this.data[n].user_id + "" : e.myTag = this.data[n].userid + "";
a.init(this.data[n]);
} else {
e.active = !1;
e.myTag = "";
}
a.updateID(n);
}
});
cc._RF.pop();
}, {} ],
ClubMessage: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "82530Z7Fa5FH4DRmD+k1/0t", "ClubMessage");
cc.Class({
extends: cc.Component,
properties: {
list: cc.Node,
item: cc.Prefab
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
},
show: function() {
this.list.removeAllChildren();
cc.vv.popMgr.wait("正在获取成员列表", function() {
cc.vv.net1.quick("club_users", {
club_id: cc.vv.userMgr.club_id,
type: 3
});
});
},
getMsgList: function(e) {
this.list.removeAllChildren();
for (var i = 0; i < e.length; ++i) {
var t = cc.instantiate(this.item);
t.myTag = e[i].userid;
this.list.addChild(t);
t.getComponent("ApplyManage").show(e[i]);
}
},
removeUser: function(e) {
var i = cc.vv.utils.getChildByTag(this.list, e);
null !== i && i.destroy();
},
onDestroy: function() {
cc.vv.club.clubNotice = 0;
}
});
cc._RF.pop();
}, {} ],
ClubNewRule: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "1569f9sqqtGv6VX1frDCsFn", "ClubNewRule");
cc.Class({
extends: cc.Component,
properties: {
wanfa: cc.Label,
line: cc.Label,
bmf: cc.Label,
title: cc.Label,
game: cc.Sprite,
gameAtlas: {
default: null,
type: cc.SpriteAtlas
},
defaultToggle: cc.Toggle,
Edidbox: cc.Node,
a_name: cc.Label,
ren: cc.Label,
_type: 0,
is_default: 0
},
onLoad: function() {},
info: function(e, i) {
this.node.myTag = e.id;
this._type = e.type;
var t = e.info.split(" ");
this.showGame(e.conf.name);
this.wanfa.string = "";
for (var a = 1; a < t.length; ++a) this.wanfa.string += t[a] + " ";
this.title.string = e.conf.title;
this.ren.string = parseInt(e.conf.ren) + "人场";
void 0 != e.line && (this.line.string = e.line);
void 0 != e.max && (1 == e.is_aa ? this.bmf.string = e.bmf : this.bmf.string = e.max);
this.defaultToggle.isChecked = 1 == e.default;
this.is_default = e.default;
this.a_name.string = e.name;
this.node.a_name = e.name;
this.a_name.node.stopAllActions();
if (this.a_name.node.width > 168) {
var n = (this.a_name.node.width - 168) / 2;
this.a_name.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1), cc.moveTo(2, cc.v2(n, this.a_name.node.y)), cc.delayTime(1), cc.moveTo(2, cc.v2(-n, this.a_name.node.y)))));
}
if (1 == i) {
this.node.addComponent(cc.Button).node.on("click", this.onGameClicked, this);
}
},
showGame: function(e) {
var i = null, t = "";
switch (e) {
case "tdh_1600":
i = "img_btn_tdh";
t = "tdh";
break;

case "kd_1700":
i = "img_btn_kd";
t = "kd";
break;

case "ddz_1801":
case "ddz_1803":
case "ddz_1800":
i = "img_btn_ddz";
t = "ddz";
break;

case "nn_1002":
case "nn_1003":
case "nn_1000":
case "nn_1002":
case "nn_1003":
case "nn_1001":
i = "img_btn_nn";
t = "nn";
break;

case "tjd_1301":
case "tjd_1300":
i = "img_btn_pjd";
t = "tjd";
break;

case "ysz_2300":
i = "img_btn_jss";
t = "ysz";
break;

case "gsj_2500":
i = "img_btn_gsj";
t = "gsj";
break;

case "kd_1702":
i = "img_btn_kd2";
t = "kd2";
break;

case "ttz_1401":
case "ttz_1402":
case "ttz_1400":
i = "img_btn_ttz";
t = "tjd";
break;

case "pdk_1900":
i = "img_btn_pdk";
t = "pdk";
break;

case "dsg_2100":
case "dsg_2101":
i = "img_btn_dsg";
t = "dsg";
break;

case "dq_2700":
i = "img_btn_pdk";
t = "dq";
break;

case "zgz_3300":
i = "img_btn_zgz";
t = "zgz";
break;

case "hs_3100":
i = "img_btn_huashui";
t = "hs";
}
this._gameName = t;
this.game.spriteFrame = this.gameAtlas.getSpriteFrame(i);
},
onGameClicked: function() {
cc.vv.audioMgr.click();
if (-1 != cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].userStatus) {
var e = {
method: "club_room_create",
data: {
version: cc.SERVER,
club_id: cc.vv.userMgr.club_id,
model: 0 == this._type ? 2 : 3,
id: this.node.myTag,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
}
};
cc.vv.popMgr.wait("正在创建房间", function() {
cc.vv.net1.send(e);
});
cc.vv.userMgr.clubRoomEnter = cc.vv.userMgr.club_id;
} else cc.vv.popMgr.alert("你无法在该乐圈游戏");
},
onBtnClicked: function(e) {
var i = this;
cc.vv.audioMgr.click();
var t = e.name || e.target.name;
this.defaultToggle.isChecked = !this.defaultToggle.isChecked;
switch (t) {
case "toggle_zidong":
for (var a = null, n = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rules, s = 0; s < n.length; ++s) if (this.node.myTag == n[s].id && this._type == n[s].type) {
a = n[s];
break;
}
var c = null;
c = 0 == this._type ? {
method: "club_create_rule_ptz",
data: {
version: cc.SERVER,
conf: a.conf,
info: a.conf.desc,
club_id: cc.vv.userMgr.club_id,
id: this.node.myTag,
index: 0,
default: this.defaultToggle.isChecked ? 1 : 0,
name: this.a_name.string
}
} : {
method: "club_create_rule_pwz",
data: {
version: cc.SERVER,
conf: a.conf,
info: a.conf.desc,
club_id: cc.vv.userMgr.club_id,
id: this.node.myTag,
line: a.line,
max: a.max,
other: a.other,
reward: a.reward,
free: a.free,
min: a.min,
max_reward: a.max_reward,
bmf: a.bmf,
is_aa: a.is_aa,
is_mute: a.is_mute,
index: 0,
default: this.defaultToggle.isChecked ? 1 : 0,
name: a.name
}
};
cc.vv.popMgr.wait("正在保存规则", function() {
cc.vv.net1.send(c);
});
break;

case "btn_del":
cc.vv.popMgr.alert("是否确认删除规则?", function() {
cc.vv.popMgr.wait("正在删除规则", function() {
0 == i._type ? cc.vv.net1.quick("club_delete_rule_ptz", {
id: i.node.myTag,
club_id: cc.vv.userMgr.club_id
}) : cc.vv.net1.quick("club_delete_rule_pwz", {
id: i.node.myTag,
club_id: cc.vv.userMgr.club_id
});
});
}, !0);
break;

case "btn_edit":
1 == this._type ? cc.vv.hall.create_room = 3 : cc.vv.hall.create_room = 2;
cc.vv.userMgr.club_rule_id = this.node.myTag;
for (a = null, n = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rules, s = 0; s < n.length; ++s) this.node.myTag == n[s].id && (a = n[s]);
if (null == a) {
cc.vv.popMgr.tip("规则不存在");
return;
}
cc.vv.popMgr.pop("hall/new_CreateRoom", function(e) {
e.emit("config", {
rule: a,
game: i._gameName
});
});
break;

case "name_edit":
for (a = null, n = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rules, s = 0; s < n.length; ++s) this.node.myTag == n[s].id && (a = n[s]);
if (null == a) {
cc.vv.popMgr.tip("规则不存在");
return;
}
c = null;
c = 0 == this._type ? {
method: "club_create_rule_ptz",
data: {
version: cc.SERVER,
conf: a.conf,
info: a.conf.desc,
club_id: cc.vv.userMgr.club_id,
id: this.node.myTag,
index: 0,
default: this.is_default
}
} : {
method: "club_create_rule_pwz",
data: {
version: cc.SERVER,
conf: a.conf,
info: a.conf.desc,
club_id: cc.vv.userMgr.club_id,
id: this.node.myTag,
line: a.line,
max: a.max,
other: a.other,
reward: a.reward,
free: a.free,
min: a.min,
max_reward: a.max_reward,
bmf: a.bmf,
is_aa: a.is_aa,
is_mute: a.is_mute,
index: 0,
default: this.is_default
}
};
cc.vv.popMgr.pop("club/ClucRuleNameEdit", function(e) {
e.getComponent("ClucRuleNameEdit").show(c);
});
}
},
editEnd: function(e) {}
});
cc._RF.pop();
}, {} ],
ClubPwbItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "215b5zsRjlMF7idggfSadGj", "ClubPwbItem");
cc.Class({
extends: cc.Component,
properties: {
created: cc.Label,
user_name: cc.Label,
player_name: cc.Label,
pwb: cc.Label,
before_pwb: cc.Label,
after_pwbz: cc.Label,
room_id: cc.Label,
game_name: cc.Label,
bmf: cc.Label,
master_bmf: cc.Label
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
"PwbItem3" == this.node.name ? this.node.width = e - 354 : this.node.width = e;
}
var i = this;
this.node.on("new", function(e) {
var t = e;
i.created.string = t.created.replace(/ /g, "\n");
i.user_name && (i.user_name.string = "ID:" + t.userid + "  " + t.user_name);
i.player_name && (i.player_name.string = "ID:" + t.playerid + "  " + t.player_name);
t.pwb >= 0 ? i.pwb.node.color = new cc.Color(255, 0, 0) : i.pwb.node.color = new cc.Color(68, 31, 2);
var a = t.pwb > 0 ? "+" : "";
i.pwb.string = a + t.pwb;
if (i.after_pwbz) {
t.after_pwb >= 0 ? i.after_pwbz.node.color = new cc.Color(255, 0, 0) : i.after_pwbz.node.color = new cc.Color(68, 31, 2);
"PwbItem1" == i.node.name || "PwbItem2" == i.node.name ? i.after_pwbz.string = "剩余:" + t.after_pwb : i.after_pwbz.string = t.after_pwb;
}
i.before_pwb && (i.before_pwb.string = t.before_pwb);
i.room_id && (i.room_id.string = "房间号:" + t.room_id);
i.game_name && (i.game_name.string = t.game_name);
i.bmf && (i.bmf.string = t.bmf);
if (i.master_bmf) {
i.master_bmf.string = "(" + t.master_bmf + ")";
i.master_bmf.node.active = 0 != t.master_bmf;
}
});
}
});
cc._RF.pop();
}, {} ],
ClubPwbList: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "3dc94RR5/RFQoAKokq77lPL", "ClubPwbList");
cc.Class({
extends: cc.Component,
properties: {
_type: 0,
array1: [ cc.Prefab ],
array2: [ cc.Prefab ],
_player_id: 0,
list_club: cc.Node,
list_game: cc.Node
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
this._toggles = this.node.getChildByName("toggles");
this._lists = this.node.getChildByName("lists");
var i = this._toggles.children[0].name;
this.onBtnleiXingXuanZe(null, i);
},
show: function(e) {
this._player_id = e.player_id;
this._type = e.type;
0 == e.player_id ? this.allUsers(e) : this.personal(e);
},
allUsers: function(e) {
this.list_club.removeAllChildren();
this.list_game.removeAllChildren();
for (var i = e.list, t = 0; t < i.length; ++t) {
var a = cc.instantiate(this.array1[this._type]);
0 == this._type ? this.list_club.addChild(a) : this.list_game.addChild(a);
a.emit("new", i[t]);
}
},
personal: function(e) {
this.list_club.removeAllChildren();
this.list_game.removeAllChildren();
for (var i = e.list, t = 0; t < i.length; ++t) {
var a = cc.instantiate(this.array2[this._type]);
0 == this._type ? this.list_club.addChild(a) : this.list_game.addChild(a);
a.emit("new", i[t]);
}
},
onBtnleiXingXuanZe: function(e, i) {
var t = this;
null != e && cc.vv.audioMgr.click();
null == i && (i = e.target.name);
for (var a = 0; a < this._lists.children.length; ++a) {
var n = this._lists.children[a].name;
this._lists.children[a].active = i == n;
}
if (e) switch (e.target.name) {
case "club":
cc.vv.popMgr.wait2("正在获取清单", function() {
cc.vv.net1.quick("club_pwb_list", {
club_id: cc.vv.userMgr.club_id,
player_id: t._player_id,
type: 0
});
});
break;

case "game":
cc.vv.popMgr.wait2("正在获取清单", function() {
cc.vv.net1.quick("club_pwb_list", {
club_id: cc.vv.userMgr.club_id,
player_id: t._player_id,
type: 1
});
});
}
},
onclickClose: function() {
cc.vv.club._clubPwbList = null;
this.node.destroy();
}
});
cc._RF.pop();
}, {} ],
ClubPwz: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "9dc452Wz/hLvLit19hXpe5t", "ClubPwz");
cc.Class({
extends: cc.Component,
properties: {
lblLine: cc.Label,
lblMax: cc.Label,
lblOther: cc.Label,
lblReward: cc.Label,
lblMin: cc.Label,
lblAA: cc.Label,
lblFree: cc.Label,
lblLimit: cc.Label,
freeRoot: cc.Node,
maxRoot: cc.Node,
otherRoot: cc.Node,
aaRoot: cc.Node,
bmfToggles: cc.Node,
_conf: null,
_line: 50,
_max: 0,
_other: 0,
_reward: 0,
_free: 0,
_min: 0,
_is_mute: 1
},
onLoad: function() {},
show: function(e, i) {
this._is_mute = i;
this._conf = e;
for (var t = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rules, a = 0; a < t.length; a++) if (cc.vv.userMgr.club_rule_id == t[a].id) {
this.lblLine.string = cc.vv.userMgr.guodi > 0 ? cc.vv.userMgr.guodi : t[a].line;
if ("nn_1000" == e.name || "nn_1003" == e.name) {
if (1 == e.overflow) {
var n = 3;
0 != parseInt(e.feng) && (n = parseInt(e.feng));
1 == e.insane ? this.lblLine.string = n * e.dizhu * 9 : this.lblLine.string = n * e.dizhu * 5;
this._minline = parseInt(this.lblLine.string);
}
} else if ("ttz_1400" == e.name) {
if (1 == e.overflow) {
this.lblLine.string = 12 * e.dizhu;
this._minline = parseInt(this.lblLine.string);
}
} else if ("ttz_1402" == e.name && 1 == e.overflow) {
this.lblLine.string = 9 * e.dizhu;
this._minline = parseInt(this.lblLine.string);
}
this.lblMax.string = t[a].max;
this.lblMin.string = t[a].min;
this.lblOther.string = t[a].other;
this.lblReward.string = t[a].reward;
this.lblFree.string = t[a].free;
this.lblLimit.string = t[a].max_reward;
this.lblAA.string = t[a].bmf;
this.maxRoot.active = 0 == t[a].is_aa;
this.otherRoot.active = 0 == t[a].is_aa;
this.aaRoot.active = 1 == t[a].is_aa;
this.freeRoot.active = 0 == t[a].is_aa;
cc.vv.utils.setToggleChecked(this.bmfToggles, this.bmfToggles.children[t[a].is_aa].name);
return;
}
cc.vv.userMgr.guodi > 0 && (this.lblLine.string = cc.vv.userMgr.guodi);
if ("nn_1000" == e.name || "nn_1003" == e.name) {
if (1 == e.overflow) {
n = 3;
0 != parseInt(e.feng) && (n = parseInt(e.feng));
1 == e.insane ? this.lblLine.string = n * e.dizhu * 9 : this.lblLine.string = n * e.dizhu * 5;
this._minline = parseInt(this.lblLine.string);
}
} else if ("ttz_1400" == e.name) {
if (1 == e.overflow) {
this.lblLine.string = 12 * e.dizhu;
this._minline = parseInt(this.lblLine.string);
}
} else if ("ttz_1402" == e.name && 1 == e.overflow) {
this.lblLine.string = 9 * e.dizhu;
this._minline = parseInt(this.lblLine.string);
}
},
onBtnSave: function(e, i) {
cc.vv.audioMgr.click();
this._line = this.lblLine.string;
this._max = this.lblMax.string;
this._other = this.lblOther.string;
this._reward = this.lblReward.string;
this._min = this.lblMin.string;
this._free = this.lblFree.string;
this._max_reward = this.lblLimit.string;
this._bmf = this.lblAA.string;
this._is_aa = "dyj" == cc.vv.utils.toggleChecked(this.bmfToggles) ? 0 : 1;
if (this._line < cc.vv.userMgr.guodi) cc.vv.popMgr.tip("准入不能低于锅底分" + cc.vv.userMgr.guodi); else if (null != this._minline && parseInt(this._line) < this._minline) cc.vv.popMgr.tip("准入不能低于" + this._minline); else {
var t = {
method: "club_create_rule_pwz",
data: {
version: cc.SERVER,
conf: this._conf,
info: this._conf.desc,
club_id: cc.vv.userMgr.club_id,
id: cc.vv.userMgr.club_rule_id,
line: this._line,
max: this._max,
other: this._other,
reward: this._reward,
free: this._free,
min: this._min,
max_reward: this._max_reward,
bmf: this._bmf,
is_aa: this._is_aa,
is_mute: this._is_mute,
index: 0,
default: 0
}
};
cc.vv.popMgr.pop("club/ClucRuleNameEdit", function(e) {
e.getComponent("ClucRuleNameEdit").show(t);
});
this.node.destroy();
}
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
var i = null;
"lineRoot" == e.target.parent.name ? i = this.lblLine : "maxRoot" == e.target.parent.name ? i = this.lblMax : "otherRoot" == e.target.parent.name ? i = this.lblOther : "rewardRoot" == e.target.parent.name ? i = this.lblReward : "minRoot" == e.target.parent.name ? i = this.lblMin : "AA" == e.target.parent.name ? i = this.lblAA : "limit" == e.target.parent.name ? i = this.lblLimit : "freeRoot" == e.target.parent.name && (i = this.lblFree);
switch (e.target.name) {
case "btn_plus100":
(t = (parseFloat(i.string) - 100).toFixed(1)) < 0 && (t = 0);
i.string = t;
break;

case "btn_plus50":
(t = (parseFloat(i.string) - 50).toFixed(1)) < 0 && (t = 0);
i.string = t;
break;

case "btn_add50":
var t = (parseFloat(i.string) + 50).toFixed(1);
i.string = t > 1e4 ? 1e4 : t;
break;

case "btn_add100":
t = (parseFloat(i.string) + 100).toFixed(1);
i.string = t > 1e4 ? 1e4 : t;
break;

case "box":
cc.vv.popMgr.pop("club/ClubInputPwz", function(e) {
e.getComponent("ClubInputPwz").info(i, 1e4);
});
break;

case "btn_plus20":
(t = (parseFloat(i.string) - 20).toFixed(1)) < 0 && (t = 0);
i.string = t;
break;

case "btn_add20":
t = (parseFloat(i.string) + 20).toFixed(1);
i.string = t > 1e4 ? 1e4 : t;
break;

case "btn_plus10":
(t = (parseFloat(i.string) - 10).toFixed(1)) < 0 && (t = 0);
i.string = t;
break;

case "btn_add10":
t = (parseFloat(i.string) + 10).toFixed(1);
i.string = t > 1e4 ? 1e4 : t;
}
},
onChecked: function(e) {
switch (e.target.name) {
case "dyj":
this.aaRoot.active = !1;
this.maxRoot.active = !0;
this.otherRoot.active = !0;
this.freeRoot.active = !0;
break;

case "aa":
this.aaRoot.active = !0;
this.maxRoot.active = !1;
this.otherRoot.active = !1;
this.freeRoot.active = !1;
}
},
onDestroy: function() {
cc.vv.userMgr.guodi = 0;
}
});
cc._RF.pop();
}, {} ],
ClubRateTable: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c6187DrzBpB0ZWpiVXWliFL", "ClubRateTable");
cc.Class({
extends: cc.Component,
properties: {
rateSlider: cc.Slider,
rate: cc.Label,
list: cc.Node,
handle: cc.Button,
_job: 0
},
onLoad: function() {},
show: function(e, i, t) {
this.isallset = t;
this._userid = i;
this.rateSlider.progress = parseFloat(e);
this.rateSlider.node.getChildByName("setbl_t").width = 510 * parseFloat;
this._oldrate = e;
this._old = Math.floor(10 * this.rateSlider.progress) / 10;
this.sliderChanged(this.rateSlider);
this._job = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].job;
this._job;
},
sliderChanged: function(e) {
var i = (Math.floor(100 * e.progress) / 100).toFixed(2);
this.rateSlider.node.getChildByName("setbl_t").width = 510 * i;
this.rate.string = (100 * i).toFixed(0) + "%";
for (var t = 0; t < this.list.childrenCount; t++) {
var a = this.list.children[t], n = parseFloat(a.children[0].name), s = a.getChildByName("rate").getComponent(cc.Label);
if (n > 10) s.string = this.rate.string; else {
var c = i * n * 10;
s.string = Math.round(c.toFixed(1)) / 10 + "分";
}
}
},
onBtnClicked: function(e) {
switch (e.target.name) {
case "btn_ok":
var i = (Math.floor(100 * this.rateSlider.progress) / 100).toFixed(2);
if (9 == this._job) this.isallset ? cc.vv.net1.quick("club_rate_edit", {
club_id: cc.vv.userMgr.club_id,
rate: i
}) : this._old != i && cc.vv.net1.quick("update_club_user_master", {
club_id: cc.vv.userMgr.club_id,
player_id: this._userid,
rate: i,
is_master: 1
}); else {
cc.vv.club._clubPwb && (cc.vv.club._clubPwb.active = !1);
cc.vv.net1.quick("modify_junior_rate", {
club_id: cc.vv.userMgr.club_id,
player_id: this._userid,
rate: i
});
}
this.node.destroy();
}
}
});
cc._RF.pop();
}, {} ],
ClubRoomItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "58b28pAbAZIxb1yQXPjH8Hw", "ClubRoomItem");
var a = [ {
x: -78,
y: 80
}, {
x: 78,
y: 80
}, {
x: 180,
y: 40
}, {
x: 180,
y: -40
}, {
x: 78,
y: -90
}, {
x: -78,
y: -90
}, {
x: -180,
y: -40
}, {
x: -180,
y: 40
} ], n = [ {
x: -100,
y: 80
}, {
x: 0,
y: 80
}, {
x: 100,
y: 80
}, {
x: 180,
y: 40
}, {
x: 180,
y: -40
}, {
x: 100,
y: -90
}, {
x: 0,
y: -90
}, {
x: -100,
y: -90
}, {
x: -180,
y: -40
}, {
x: -180,
y: 40
} ], s = [ {
x: -78,
y: 80
}, {
x: 78,
y: 80
}, {
x: 180,
y: 40
}, {
x: 180,
y: -40
}, {
x: 0,
y: -90
}, {
x: -180,
y: -40
}, {
x: -180,
y: 40
} ], c = [ {
x: -78,
y: 80
}, {
x: 78,
y: 80
}, {
x: 180,
y: 0
}, {
x: 78,
y: -90
}, {
x: -78,
y: -90
}, {
x: -180,
y: 0
} ], o = [ {
x: -78,
y: 80
}, {
x: 78,
y: 80
}, {
x: 180,
y: 0
}, {
x: 0,
y: -90
}, {
x: -180,
y: 0
} ], h = [ {
x: -78,
y: 80
}, {
x: 78,
y: 80
}, {
x: 78,
y: -90
}, {
x: -78,
y: -90
} ], r = [ {
x: -78,
y: 80
}, {
x: 78,
y: 80
}, {
x: 0,
y: -90
} ], l = [ {
x: 0,
y: 80
}, {
x: 0,
y: -90
} ];
cc.Class({
extends: cc.Component,
properties: {
game: cc.Label,
lblRoomID: cc.Label,
lblDesc: cc.Label,
seatItem: cc.Prefab,
seats: cc.Node,
jushu: cc.Node,
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
battle_type: cc.Sprite,
roomStatus: cc.Label,
line: cc.Label,
seatnum: cc.Label,
a_name: cc.Label,
_status: 0,
_roomid: ""
},
onLoad: function() {
var e = this;
this.node.on("new", function(i) {
var t = i, a = t.desc.split(" ");
e.lblRoomID.string = "房号：" + t.roomid;
e.seat(t.ren, t.table);
e._roomid = t.roomid;
e.game.string = a[0];
e.lblDesc.string = "";
for (var n = 1; n < a.length; ++n) e.lblDesc.string += a[n] + " ";
e._status = t.status;
e.jushu.active = t.now_round > 0;
e.battle_type.spriteFrame = e.typeAtlas.getSpriteFrame("room_type" + t.battle_type);
e.a_name.string = cc.vv.utils.cutString(t.name, 20);
e.a_name.node.stopAllActions();
if (e.a_name.node.width > 254) {
var s = (e.a_name.node.width - 254) / 2;
e.a_name.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1), cc.moveTo(2, cc.v2(s, e.a_name.node.y)), cc.delayTime(1), cc.moveTo(2, cc.v2(-s, e.a_name.node.y)))));
}
t.now_round > 0 ? -1 == t.max_round ? e.roomStatus.string = t.now_round + "/不限" : e.roomStatus.string = t.now_round + "/" + t.max_round : e.roomStatus.string = "未开始";
if (0 == t.battle_type) e.line.node.active = !1; else {
e.line.node.active = !0;
e.line.string = "准入：" + t.pws.line;
}
var c = cc.vv.userMgr.clublist[t.clubid].job;
e.node.getChildByName("btn_del").active = c >= 2;
});
},
seatNumber: function(e) {
this.seatnum.string = e;
},
seat: function(e, i) {
var t = null;
switch (e) {
case 2:
t = l;
break;

case 3:
t = r;
break;

case 4:
t = h;
break;

case 5:
t = o;
break;

case 6:
t = c;
break;

case 7:
t = s;

case 8:
t = a;
break;

default:
t = n;
}
this.seats.removeAllChildren();
for (var d = 0; d < e; ++d) {
(g = cc.instantiate(this.seatItem)).parent = this.seats;
g.x = t[d].x;
g.y = t[d].y;
g.myTag = d;
}
for (d = 0; d < i.length; ++d) {
var g;
(g = cc.vv.utils.getChildByTag(this.seats, i[d].seatid)).emit("new", i[d]);
}
},
seat2: function(e) {
this.node.getChildByName("btn_del").active = !1;
this.lblRoomID.string = "";
this.a_name.string = e.name;
this.a_name.node.stopAllActions();
if (this.a_name.node.width > 254) {
var i = (this.a_name.node.width - 254) / 2;
this.a_name.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1), cc.moveTo(2, cc.v2(i, this.a_name.node.y)), cc.delayTime(1), cc.moveTo(2, cc.v2(-i, this.a_name.node.y)))));
}
this._type = e.type;
this.roomStatus.string = "";
this.battle_type.spriteFrame = this.typeAtlas.getSpriteFrame("room_type" + e.type);
if (0 == e.type) this.line.node.active = !1; else {
this.line.node.active = !0;
this.line.string = "准入：" + e.line;
}
var t = e.info.split(" ");
this.game.string = t[0];
this.lblDesc.string = "";
for (var s = 1; s < t.length; ++s) this.lblDesc.string += t[s] + " ";
this.a_name.string = e.name;
var d = null;
switch (e.conf.ren) {
case "2ren":
d = l;
break;

case "3":
case "3ren":
d = r;
break;

case "4":
case "4ren":
d = h;
break;

case "5":
case "5ren":
d = o;
break;

case "6":
d = c;

case "6ren":
d = c;
break;

case "8":
case "8ren":
d = a;
break;

case "10ren":
d = n;
}
this.seats.removeAllChildren();
for (s = 0; s < d.length; ++s) {
var g = cc.instantiate(this.seatItem);
g.parent = this.seats;
g.x = d[s].x;
g.y = d[s].y;
}
},
onBtnClicked: function(e) {
var i = this;
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_del":
if (0 == this.node.roomid) {
cc.vv.popMgr.tip("该牌桌为自动创建牌桌");
return;
}
this.jushu.active ? cc.vv.popMgr.alert("房间正在游戏中，您是否确认要强制解散？", function() {
i.sendRemove(1);
}, !0) : cc.vv.popMgr.alert("是否确定要解散房间？", function() {
i.sendRemove(0);
}, !0);
break;

case "btn_tip":
this.node.parent.getComponent(cc.Layout).enabled = !1;
cc.vv.popMgr.newPrefad(this.node.parent, "club/ClubRuleTip", function(e) {
e.x = i.node.x + 60;
e.y = i.node.y + 155;
e.zIndex = 100;
var t = e.getChildByName("bg").getChildByName("info");
t.getComponent(cc.Label).string = i.lblDesc.string.replace(/ /g, "\n");
t.getComponent(cc.Label)._forceUpdateRenderData();
e.getChildByName("bg").height = t.height + 10;
e.height = t.height + 10;
e.getChildByName("Mask").on(cc.Node.EventType.TOUCH_END, function() {
i.node.parent.getComponent(cc.Layout).enabled = !0;
e.destroy();
});
e.on(cc.Node.EventType.TOUCH_END, function() {
i.node.parent.getComponent(cc.Layout).enabled = !0;
e.destroy();
});
for (var a = 0; a < i.node.parent.childrenCount; a++) {
var n = i.node.parent.children[a];
"ClubRuleTip" == n.name && (n.x == e.x && n.y == e.y || n.removeFromParent());
}
});
break;

case "btn_room":
if (-1 == cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].userStatus) {
cc.vv.popMgr.alert("你无法在该乐圈游戏");
return;
}
0 != this.node.roomid ? cc.vv.userMgr.join(this._roomid, cc.vv.userMgr.club_id, 0) : this.create_joinRoom(0);
cc.vv.userMgr.clubRoomEnter = cc.vv.userMgr.club_id;
}
},
create_joinRoom: function(e) {
cc.log("点击了创建房间！");
var i = {
method: "club_room_create",
data: {
version: cc.SERVER,
club_id: cc.vv.userMgr.club_id,
model: 0 == this._type ? 2 : 3,
id: this.node.myTag,
type: e,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
}
};
cc.vv.popMgr.wait("正在创建房间", function() {
cc.vv.net1.send(i);
});
},
sendRemove: function(e) {
var i = {
method: "club_room_del",
data: {
club_id: cc.vv.userMgr.club_id,
room_id: this._roomid,
force: e
}
};
cc.vv.popMgr.wait("正在解散房间", function() {
cc.vv.net1.send(i);
});
}
});
cc._RF.pop();
}, {} ],
ClubRoomList: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "aa12d3vgnxPaIw4j24yq1es", "ClubRoomList");
cc.Class({
extends: cc.Component,
properties: {
item: cc.Prefab,
roomlist: cc.Prefab,
room: cc.Node
},
onLoad: function() {
this.data = [];
cc.vv.club.roomPool = new cc.NodePool();
for (var e = 0; e < 40; e++) {
var i = cc.instantiate(this.item);
cc.vv.club.roomPool.put(i);
}
},
isToggled: function(e) {
for (var i = 0; i < cc.vv.userMgr.selectroom.length; i++) if (e == cc.vv.userMgr.selectroom[i]) return !0;
return null;
},
refresh: function(e) {
for (var i = this.newlist(cc.vv.userMgr.club_id, !0).getComponent(cc.ScrollView).content, t = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rules, a = 0; a < t.length; ++a) {
var n = cc.vv.utils.getChildByTag(i, t[a].id + ""), s = cc.vv.userMgr.roomlist[t[a].conf.name], c = this.isToggled(s);
if (c) {
null != n && (0 == t[a].default ? cc.vv.club.roomPool.put(n) : cc.vv.userMgr.selectroom.length > 0 && null == c && cc.vv.club.roomPool.put(n));
if (1 == t[a].default) {
if (cc.vv.userMgr.selectroom.length > 0 && null == c) continue;
var o = cc.vv.utils.getChildByTag(i, t[a].id + "");
if (null == o) {
o = cc.vv.club.roomPool.size() > 0 ? cc.vv.club.roomPool.get() : cc.instantiate(this.item);
i.addChild(o);
o.myTag = t[a].id + "";
o.roomid = 0;
}
o.zIndex = e++;
o.inxs = null;
o.getComponent("ClubRoomItem").seat2(t[a]);
o.getComponent("ClubRoomItem").seatNumber(e);
this.setClubListNode(o);
}
}
}
return e;
},
removeRuleRoom: function(e, i) {
var t = i == cc.vv.userMgr.club_id, a = this.newlist(i, t);
if (null != a) {
var n = a.getComponent(cc.ScrollView).content, s = cc.vv.utils.getChildByTag(n, e + "");
s && cc.vv.club.roomPool.put(s);
t && this.OpenedRoomList(1);
}
},
newlist: function(e, i) {
for (var t in cc.vv.userMgr.clublist) {
var a = cc.vv.utils.getChildByTag(this.room, cc.vv.userMgr.clublist[t].club_id);
if (cc.vv.userMgr.clublist[t].club_id == e) if (null == a) {
if (e == cc.vv.userMgr.club_id) {
(a = cc.instantiate(this.roomlist)).myTag = cc.vv.userMgr.club_id;
this.room.addChild(a);
}
} else i && (a.active = !0); else null != a && i && (a.active = !1);
}
return cc.vv.utils.getChildByTag(this.room, e);
},
getRule: function(e) {
for (var i = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rules, t = 0; t < i.length; t++) if (e == i[t].id) return i[t].conf.name;
return null;
},
OpenedRoomList: function(e) {
if (cc.vv.club.clubMain.active) {
this.clubListNode = [];
this.curIndex = 0;
var i = this.newlist(cc.vv.userMgr.club_id, !0);
if (0 == e) {
i.getComponent(cc.ScrollView).content.removeAllChildren();
i.getComponent(cc.ScrollView).scrollToTop(0);
}
for (var t = i.getComponent(cc.ScrollView).content, a = 0; a < t.childrenCount; a++) {
"ClubRuleTip" == (c = t.children[a]).name && c.removeFromParent();
}
t.getComponent(cc.Layout).enabled = !0;
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
i.width = 1500;
i.getChildByName("view").width = 1550;
t.x = -750;
t.scale = 1;
t.width = 1500;
t.getComponent(cc.Layout).spacingX = 120;
}
var n = cc.vv.userMgr.clubroom[cc.vv.userMgr.club_id];
for (a = 0; a < t.childrenCount; a++) {
(c = t.children[a]).zIndex = 0;
}
var s = 0;
for (var a in n) if (0 == n[a].now_round) {
var c = cc.vv.utils.getChildByTag(t, n[a].roomid + ""), o = cc.vv.userMgr.roomlist[this.getRule(n[a].ruleid)];
if (!(h = this.isToggled(o))) continue;
if (null != c && cc.vv.userMgr.selectroom.length > 0 && null == h) {
cc.vv.club.roomPool.put(c);
continue;
}
if (null == c) {
if (cc.vv.userMgr.selectroom.length > 0 && null == h) continue;
(c = cc.vv.club.roomPool.size() > 0 ? cc.vv.club.roomPool.get() : cc.instantiate(this.item)).myTag = n[a].roomid + "";
c.roomid = n[a].roomid;
t.addChild(c);
}
c.zIndex = s++;
c.inxs = a;
c.getComponent("ClubRoomItem").seatNumber(s);
this.setClubListNode(c);
}
s = this.refresh(s);
for (var a in n) if (n[a].now_round > 0) {
var h;
c = cc.vv.utils.getChildByTag(t, n[a].roomid + ""), o = cc.vv.userMgr.roomlist[this.getRule(n[a].ruleid)];
if (!(h = this.isToggled(o))) continue;
if (null != c && cc.vv.userMgr.selectroom.length > 0 && null == h) {
cc.vv.club.roomPool.put(c);
continue;
}
if (null == c) {
if (cc.vv.userMgr.selectroom.length > 0 && null == h) continue;
(c = cc.vv.club.roomPool.size() > 0 ? cc.vv.club.roomPool.get() : cc.instantiate(this.item)).myTag = n[a].roomid + "";
c.roomid = n[a].roomid;
t.addChild(c);
}
c.zIndex = s++;
c.inxs = a;
c.getComponent("ClubRoomItem").seatNumber(s);
this.setClubListNode(c);
}
var r = cc.delayTime(.02), l = cc.callFunc(function() {
this.showItem(i, n);
}.bind(this)), d = cc.sequence(r, l);
i.stopAllActions();
i.runAction(cc.repeatForever(d));
}
},
setClubListNode: function(e) {
this.clubListNode.push(e);
},
showItem: function(e, i) {
if (this.curIndex >= this.clubListNode.length) e.stopAllActions(); else {
var t = this.clubListNode[this.curIndex];
if (t) {
t.active = !0;
var a = t.inxs;
a && t.emit("new", i[a]);
this.curIndex += 1;
}
}
},
OpenedRoomChange: function(e) {
var i = e.clubid == cc.vv.userMgr.club_id, t = this.newlist(e.clubid, i);
if (null != t) {
var a = t.getComponent(cc.ScrollView).content, n = cc.vv.utils.getChildByTag(a, e.roomid + ""), s = cc.vv.userMgr.roomlist[this.getRule(e.ruleid)], c = this.isToggled(s);
if (n) {
if (cc.vv.userMgr.selectroom.length > 0 && null == c) {
cc.vv.club.roomPool.put(n);
return;
}
n.emit("new", e);
} else {
if (cc.vv.userMgr.selectroom.length > 0 && null == c) return;
(n = cc.vv.club.roomPool.size() > 0 ? cc.vv.club.roomPool.get() : cc.instantiate(this.item)).myTag = e.roomid + "";
n.roomid = e.roomid;
a.addChild(n);
n.emit("new", e);
}
i && this.OpenedRoomList(1);
}
},
OpenedRoomRemove: function(e) {
var i = e.data.clubid == cc.vv.userMgr.club_id, t = this.newlist(e.data.clubid, i);
if (null != t) {
var a = t.getComponent(cc.ScrollView).content, n = cc.vv.utils.getChildByTag(a, e.data.roomid + "");
n && cc.vv.club.roomPool.put(n);
i && this.OpenedRoomList(1);
}
}
});
cc._RF.pop();
}, {} ],
ClubRuleSelect: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "17d74wbvJZMmZ3H5iNupLC4", "ClubRuleSelect");
cc.Class({
extends: cc.Component,
properties: {
list: cc.Node,
pwsRuleItem: cc.Prefab
},
onLoad: function() {},
show: function(e) {
this.list.removeAllChildren();
for (var i = 0; i < e.length; ++i) {
var t = cc.instantiate(this.pwsRuleItem);
this.list.addChild(t);
t.id = e[i].id;
t.emit("new", e[i]);
}
},
oBtnClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "bg_shadow":
this.node.destroy();
}
}
});
cc._RF.pop();
}, {} ],
ClubRule: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "53439aAtQ9Fdoiwu+pAup6I", "ClubRule");
cc.Class({
extends: cc.Component,
properties: {
lblIndex: cc.Label,
lblRule: cc.Label,
pwz: cc.Label,
toggle: cc.Toggle,
_id: 0,
_default: 0
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e - 314;
}
},
initPtz: function(e) {
this.lblRule.string = e.info;
this._id = e.id;
},
initPwz: function(e) {
this.lblRule.string = e.info;
this.pwz.string = "晋级赛准入:" + e.line + " 大赢家:" + e.max + " 其他每人:" + e.other + " 胜点小于" + e.min + "暂停 大赢家得分低于" + e.free + "免单 大赢家得分高于200分额外:" + e.reward;
this._default = e.default;
this.toggle.isChecked = 1 == e.default;
this.lblIndex && (this.lblIndex.string = this.node.myTag);
},
onToggled: function(e) {
var i = this;
cc.vv.audioMgr.click();
var t = 0;
e.isChecked && (t = 1);
cc.vv.popMgr.wait("正在设置默认规则", function() {
cc.vv.net1.quick("club_create_rule_pwz_def", {
id: i.node.id,
club_id: cc.vv.userMgr.club_id,
default: t
});
});
},
onBtnClicked: function(e) {
var i = this;
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_del":
cc.vv.popMgr.alert("是否确认删除默认规则" + this.node.myTag + "?", function() {
cc.vv.popMgr.wait("正在删除规则" + i.node.myTag, function() {
cc.vv.net1.quick("club_delete_rule_pwz", {
id: i.node.id,
club_id: cc.vv.userMgr.club_id
});
});
}, !0);
break;

default:
this.node.myTag > 0 ? cc.vv.hall.create_room = 3 : cc.vv.hall.create_room = 2;
cc.vv.userMgr.club_rule_id = this.node.id;
cc.vv.popMgr.pop("hall/CreateRoom", function(e) {
e.emit("show");
});
}
}
});
cc._RF.pop();
}, {} ],
ClubSeat: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "728d5jLtQNAs5lOdm3QOAWe", "ClubSeat");
cc.Class({
extends: cc.Component,
properties: {
head: cc.Node
},
onLoad: function() {
var e = this;
this.node.on("new", function(i) {
var t = i;
e.head.getComponent("ImageLoader").loadImg(t.headimg);
});
}
});
cc._RF.pop();
}, {} ],
ClubSelectType: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "44164DgXcZHkIWQ0b0nalKu", "ClubSelectType");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "type_ptz":
cc.vv.hall.create_room = 2;
cc.vv.popMgr.pop("hall/new_CreateRoom", function(e) {
e.emit("show");
});
break;

case "type_pwz":
cc.vv.hall.create_room = 3;
cc.vv.popMgr.pop("hall/new_CreateRoom", function(e) {
e.emit("show");
});
}
this.node.destroy();
}
});
cc._RF.pop();
}, {} ],
ClubSetRule: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "786c7n4qldFb4JFl2qCw4pR", "ClubSetRule");
cc.Class({
extends: cc.Component,
properties: {
ptzPrefab: cc.Prefab,
pwzPrefab: cc.Prefab,
list: cc.Node
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
var i = this.node.getChildByName("viewlist");
i.width = this.node.width - 341;
i.getChildByName("view").width = i.width;
},
show: function() {
this.list.removeAllChildren();
var e = cc.vv.userMgr.clublist[cc.vv.userMgr.club_id].rules;
e.sort(function(e, i) {
return i.id - e.id;
});
for (var i = 0; i < e.length; ++i) {
var t = null;
t = 0 == e[i].type ? this.ptzPrefab : this.pwzPrefab;
var a = cc.instantiate(t);
this.list.addChild(a);
a.getComponent("ClubNewRule").info(e[i], 0);
}
},
createRule: function(e) {
var i = cc.vv.utils.getChildByTag(this.list, e.id);
if (null === i) {
var t = null;
t = 0 == e.type ? this.ptzPrefab : this.pwzPrefab;
this.resetZIndex();
var a = cc.instantiate(t);
this.list.addChild(a, 0);
a.getComponent("ClubNewRule").info(e, 0);
} else i.getComponent("ClubNewRule").info(e, 0);
},
resetZIndex: function() {
for (var e = 0; e < this.list.childrenCount; e++) this.list.children[e].zIndex = e + 1;
},
getRule: function(e) {
var i = cc.vv.utils.getChildByTag(this.list, e);
return null != i ? i : null;
},
removeRule: function(e, i) {
var t = cc.vv.utils.getChildByTag(this.list, e);
null !== t && t.destroy();
for (var a = cc.vv.userMgr.clublist[i].rules, n = 0; n < a.length; ++n) if (a[n].id == e) {
a.splice(n, 1);
break;
}
cc.vv.club.clubMain.getChildByName("room").getComponent("ClubRoomList").removeRuleRoom(e, i);
cc.vv.club.clubMain.emit("club_room_list", {
type: 1
});
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "addrule":
cc.vv.userMgr.club_rule_id = 0;
cc.vv.popMgr.pop("club/ClubSelectType");
break;

case "btn_back":
cc.vv.popMgr.del_pop("new_CreateRoom");
}
}
});
cc._RF.pop();
}, {} ],
ClubSetting: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "1b242OwIopBT5fgeDOk1WeC", "ClubSetting");
cc.Class({
extends: cc.Component,
properties: {
adminList: cc.Node,
item: cc.Prefab,
clubAddAdm: cc.Prefab,
historyNode: cc.Node,
roundNode: cc.Node,
finder: cc.EditBox,
admsetToggle: cc.Node,
toggls: cc.Node,
panels: cc.Node
},
onLoad: function() {
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
this.HistoryJs = this.historyNode.getComponent("History");
this.HistoryRoundJs = this.roundNode.getComponent("History");
},
init: function() {
var e = cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][cc.vv.userMgr.userid].job;
this.admsetToggle.active = e > 1;
this.finder.string = "";
for (var i = "", t = 0; t < this.toggls.childrenCount; ++t) {
var a = this.toggls.children[t];
if (a.active) {
i = a.name;
break;
}
}
"" != i && cc.vv.utils.setToggleChecked(this.toggls, i);
this.onBtnleiXingXuanZe(null, i);
},
show: function() {
cc.vv.popMgr.wait("正在获取成员列表", function() {
cc.vv.net1.quick("club_users", {
club_id: cc.vv.userMgr.club_id,
type: 1
});
});
},
clear_search: function() {
this.finder.string = "";
this.history();
},
history: function() {
var e = this;
"" == this.finder.string ? cc.vv.popMgr.wait("正在查询历史记录", function() {
cc.vv.net1.quick("club_history", {
pay_way: 1,
club_id: cc.vv.userMgr.club_id
});
}) : cc.vv.popMgr.wait("正在查询历史记录", function() {
cc.vv.net1.quick("club_history", {
pay_way: 1,
club_id: cc.vv.userMgr.club_id,
room_id: 1 * e.finder.string
});
});
},
getHistory: function(e) {
this.HistoryJs.history(e);
},
onBtnBack: function() {
var e = this.panels.getChildByName("history");
this.setTab(e, "history");
},
round: function(e) {
var i = this.panels.getChildByName("history");
this.setTab(i, "round");
this.HistoryRoundJs.round(e);
},
setTab: function(e, i) {
if (null != e) for (var t = 0; t < e.childrenCount; t++) {
var a = e.children[t];
a.active = a.name == i;
}
},
onBtnleiXingXuanZe: function(e, i) {
null != e && cc.vv.audioMgr.click();
null == i && (i = e.target.name);
for (var t = 0; t < this.panels.children.length; ++t) {
var a = this.panels.children[t].name;
this.panels.children[t].active = i == a;
}
switch (i) {
case "history":
cc.vv.userMgr.clubRoomEnter = cc.vv.userMgr.club_id;
var n = this.panels.getChildByName(i);
this.setTab(n, "history");
cc.vv.popMgr.wait("正在查询历史记录", function() {
cc.vv.net1.quick("club_history", {
pay_way: 1,
club_id: cc.vv.userMgr.club_id
});
});
break;

case "admin":
this.finder.string = "";
this.admSet();
}
},
admSet: function() {
this.adminList.removeAllChildren();
var e = cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id];
for (var i in e) if (1 === e[i].job || 2 === e[i].job) {
var t = cc.instantiate(this.item);
t.myTag = e[i].userid;
t.getComponent("AdminSet").init(e[i]);
this.adminList.addChild(t);
}
this.addBtn_adm();
},
setSuperAdm: function(e) {
for (var i = 0; i < this.adminList.childrenCount; ++i) {
var t = this.adminList.children[i], a = t.getComponentInChildren(cc.Toggle);
a && (a.isChecked = 2 == cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][t.myTag].job);
}
},
addAdm: function() {
for (var e = 0, i = 0; i < this.adminList.childrenCount; i++) {
"ClubAddAdm" != this.adminList.children[i].name && e++;
}
e >= 5 ? cc.vv.popMgr.tip("管理员最多五个") : cc.vv.popMgr.pop("club/NormalUsersList", function(e) {
cc.vv.club._normalUsersList = e;
e.getComponent("NormalUsersList").init();
});
},
addBtn_adm: function() {
var e = cc.instantiate(this.clubAddAdm);
this.adminList.addChild(e);
},
onDestroy: function() {
cc.vv.hall.removeHandler("club_list_battle_log");
},
onClickBack: function() {
cc.vv.memberBack = !1;
cc.vv.club._clubSet = null;
this.node.destroy();
cc.vv.club.clubMain && (cc.vv.club.clubMain.active = !0);
}
});
cc._RF.pop();
}, {} ],
ClucRuleNameEdit: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "cceadmnWWxIjYNgn+utRKav", "ClucRuleNameEdit");
cc.Class({
extends: cc.Component,
properties: {
_club_create_rule: null,
rulename: cc.EditBox
},
show: function(e) {
this._club_create_rule = e;
var i = cc.vv.club._clubSetRule.getComponent("ClubSetRule").getRule(e.data.id);
if (null == i) this.rulename.string = ""; else {
this.rulename.string = i.a_name;
null == i.a_name && (this.rulename.string = "");
}
},
onBtnClicked: function(e) {
var i = this;
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_save":
i._club_create_rule.data.name = this.rulename.string;
var t = cc.vv.utils.testBad2("" + this.rulename.string);
if ("" == this.rulename.string) {
cc.vv.popMgr.tip("规则别名不能为空");
return;
}
if (t) {
cc.vv.popMgr.alert("您输入的内容包括了不合适的关键字");
return;
}
cc.vv.popMgr.wait("正在保存规则", function() {
cc.vv.net1.send(i._club_create_rule);
i.node.destroy();
});
}
}
});
cc._RF.pop();
}, {} ],
Config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "cd60ak5WVlB+o9zgkGPAG3f", "Config");
cc.VERSION = "V1.0.0";
cc.SERVER = "1829";
cc.GAME_CODE = "lolo";
cc.GAME_NAME = "墨丸";
cc.ENVIRONMENT = {
debug: "debug",
release: "release"
};
cc.GAME_RUNING_ENVIRONMENT = cc.ENVIRONMENT.release;
cc.DEF_KEY = "sd49KylCxsHxK59z";
cc.NET_KEY = {
hall: "",
game: ""
};
cc.SIGN = {
hall: 0,
game: 0
};
cc.GAMEADRESS = "http://xxx.xxx.xxx.xxx/index.html";
cc.sys.os != cc.sys.OS_ANDROID && cc.sys.os != cc.sys.OS_IOS && (cc.PUBLISH = "20190829");
cc.GAMEKEFU = "http://xxx.xxx.xxx.xxx./index.html";
cc.GAMEDEFILEPATH = "http://newf.wanshun.vip/config.txt";
(function e(i, t) {
var a = i + "?r=" + Date.now(), n = new XMLHttpRequest();
n.timeout = 5e3;
cc.log("newPath = ", a);
n.open("GET", a, !0);
n.onload = function() {
var e = n.response;
t(e);
};
n.send();
n.ontimeout = function() {
cc.log("连接超时了 ！！！");
e("http://conf.wanshun.vip/config.txt", function(e) {
var i = JSON.parse(e);
cc.log("最新打印data11 = ", i);
cc.HALL_SERVER = [];
cc.HALL_SERVER.push(i.main);
cc.HALL_SERVER.push(i.sub);
cc.log("cc.HALL_SERVER11 = ", cc.HALL_SERVER);
});
};
n.onerror = function() {
cc.log("连接错误了！！！");
e("http://conf.wanshun.vip/config.txt", function(e) {
var i = JSON.parse(e);
cc.log("最新打印data11 = ", i);
cc.HALL_SERVER = [];
cc.HALL_SERVER.push(i.main);
cc.HALL_SERVER.push(i.sub);
cc.log("cc.HALL_SERVER11 = ", cc.HALL_SERVER);
});
};
})(cc.GAMEDEFILEPATH, function(e) {
var i = JSON.parse(e);
cc.log("最新打印1data11 = ", i);
cc.HALL_SERVER = [];
cc.HALL_SERVER.push(i.main);
cc.HALL_SERVER.push(i.sub);
cc.log("cc.HALL_SERVER11 = ", cc.HALL_SERVER);
});
cc._RF.pop();
}, {} ],
CreateRoomRule: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "3ac7eowZP1EnKXCu1VZROkV", "CreateRoomRule");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this._type = this.node.name;
this._toggles = this.node.getChildByName("toggles");
"ysz" == this._type || "nn" == this._type ? this._games = this.node.getChildByName("ScrollView").getChildByName("view").getChildByName("content").getChildByName("games") : this._games = this.node.getChildByName("games");
this._type2 = null;
},
start: function() {
var e = null;
null != this._type2 ? cc.vv.utils.setToggleChecked(this._toggles, this._type2) : (e = cc.sys.localStorage.getItem("last_game_" + this._type)) && cc.vv.utils.setToggleChecked(this._toggles, e);
var i = cc.vv.utils.toggleChecked(this._toggles);
if (null == i) {
i = this._toggles.children[0].name;
cc.vv.utils.setToggleChecked(this._toggles, i);
}
this.onBtnleiXingXuanZe(null, i);
},
config: function(e) {
this._type2 = e.conf.name;
if ("tdh_1600" == e.conf.name) switch (e.conf.ren) {
case "2ren":
this._type2 = "tdh_1600_2";
break;

case "3ren":
this._type2 = "tdh_1600_3";
break;

case "4ren":
this._type2 = "tdh_1600_4";
} else if ("ra_1910" == e.conf.name) switch (e.conf.ren) {
case "2ren":
this._type2 = "ra_1910_2";
break;

case "3ren":
this._type2 = "ra_1910_3";
break;

case "4ren":
this._type2 = "ra_1910_4";
} else if ("kd_1700" == e.conf.name) switch (e.conf.ren) {
case "2ren":
this._type2 = "kd_1700_2";
break;

case "3ren":
this._type2 = "kd_1700_3";
break;

case "4ren":
this._type2 = "kd_1700_4";
}
return this._type2;
},
onBtnleiXingXuanZe: function(e, i) {
"nn" == this._type.substr(0, 2) && this.node.getChildByName("ScrollView").getComponent(cc.ScrollView).scrollToTop(0);
null != e && cc.vv.audioMgr.click();
null == i && (i = e.target.name);
for (var t = 0; t < this._games.children.length; ++t) {
var a = this._games.children[t].name;
this._games.children[t].active = i == a;
}
this._type = i;
}
});
cc._RF.pop();
}, {} ],
CreateRoom: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "6ae8caoX19Ah4jf/bm6TyZ2", "CreateRoom");
cc.Class({
extends: cc.Component,
properties: {
gameNode: cc.Node,
title: cc.Node,
tools: cc.Node,
configNode: cc.Node,
btnCreate: cc.Node,
btnDaikai: cc.Node,
btnSave: cc.Node,
title_create_room: cc.Node,
title_club_rule: cc.Node,
forbiddenToggle: cc.Toggle,
is_mute: 1
},
onLoad: function() {
this.initNode();
this.initEventHandlers();
if (1 == cc.APP_STORE_REVIEW && 1 == cc.vv.userMgr.ios_review && cc.sys.os == cc.sys.OS_IOS) {
this.gameNode.active = !1;
this.tools.active = !0;
this.title.active = !1;
this.showTdh();
}
},
start: function() {
this.create_action("start");
},
initNode: function() {
this.is_show = !1;
this.popbg = this.node.getChildByName("popbg");
this.btn_back = this.node.getChildByName("btn_back");
this.bg_shadow = this.node.getChildByName("bg_shadow");
this.shadowCallback = !0;
},
create_action: function(e) {
var i = 0, t = this.node.getChildByName("gameNode").getChildByName("view").getChildByName("list"), a = t.getChildByName("tdh"), n = t.getChildByName("kd"), s = t.getChildByName("gsj"), c = t.getChildByName("kd2"), o = t.getChildByName("ddz"), h = t.getChildByName("nn"), r = t.getChildByName("ysz"), l = t.getChildByName("tjd"), d = t.getChildByName("pdk"), g = t.getChildByName("dq"), u = t.getChildByName("hs"), _ = t.getChildByName("jzmj"), v = t.getChildByName("hlzz"), p = t.getChildByName("jqqd"), m = t.getChildByName("zgz");
if (cc.vv.userMgr.is_dealer) ; else if (!this.is_open) {
this.is_open = !0;
h.active = !1;
r.active = !1;
l.active = !1;
v.x = g.x;
v.y = g.y - 10;
m.x = u.x;
m.y = u.y;
p.x = _.x;
p.y = _.y;
g.y = h.y;
u.y = r.y;
_.y = l.y;
}
a.myTag = i++;
o.myTag = i++;
n.myTag = i++;
cc.vv.userMgr.is_dealer && (h.myTag = i++);
s.myTag = i++;
cc.vv.userMgr.is_dealer && (r.myTag = i++);
c.myTag = i++;
cc.vv.userMgr.is_dealer && (l.myTag = i++);
d.myTag = i++;
g.myTag = i++;
u.myTag = i++;
_.myTag = i++;
v.myTag = i++;
m.myTag = i++;
p.myTag = i++;
this.index_max = i;
this.node.getChildByName("bg_shadow").active = this.is_show;
if ("start" == e) {
this.action_idx = 0;
for (var f = 0; f < this.index_max; f++) {
var y = cc.vv.utils.getChildByTag(t, f);
y.on(cc.Node.EventType.TOUCH_START, function(e) {
var i = e.currentTarget.getChildByName("light");
cc.vv.utils.light_action(i);
});
y.opacity = 0;
}
this.start_action(t);
} else "btn_back" == e && this.action_idx >= this.index_max && this.back_action(t);
},
back_action: function(e) {
e.opacity = 0;
e.x = e.x + 250;
e.runAction(cc.sequence(cc.spawn(cc.fadeTo(.4, 255), cc.moveTo(.4, cc.v2(e.x - 250, e.y))), cc.callFunc(function() {})));
},
start_action: function(e) {
var i = this;
if (this.action_idx >= this.index_max) cc.vv.hall.move_in = !1; else {
var t = cc.vv.utils.getChildByTag(e, this.action_idx++);
t.opacity = 0;
t.x = t.x + 300;
t.runAction(cc.sequence(cc.spawn(cc.fadeTo(.1, 255), cc.moveTo(.1, cc.v2(t.x - 300, t.y))), cc.callFunc(function() {
i.start_action(e);
})));
}
},
showTdh: function() {
var e = this;
this._type = "tdh";
this.newPrefad(this._type, function(i) {
e.configNode.removeAllChildren();
e.configNode.addChild(i);
if (cc.vv.hall.create_room < 1) {
e.btnCreate.active = !0;
e.btnDaikai.active = 1 == cc.vv.userMgr.daikai;
e.btnSave.active = !1;
} else {
e.btnCreate.active = !1;
e.btnDaikai.active = !1;
e.btnSave.active = !0;
}
});
},
btn_node_back: function(e) {
var i = this;
e.opacity = 255;
e.y = 0;
e.runAction(cc.sequence(cc.spawn(cc.moveTo(.2, cc.v2(0, 750)), cc.fadeTo(.2, 0)), cc.callFunc(function() {
e.active = !1;
e.opacity = 255;
e.y = 0;
i.gameNode.active = !0;
})));
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
var t = this;
"bg_shadow" != e.target.name && (this._type = e.target.name);
switch (e.target.name) {
case "bg_shadow":
this.is_show && this.shadowCallback && this.node.destroy();
break;

case "btn_back":
if ("main" == cc.vv.hall.cur_scene) {
this.node.destroy();
return;
}
cc.vv.audioMgr.click();
t.create_action("btn_back");
this.btn_node_back(this.node.getChildByName("popbg"));
this.node.getChildByName("btn_back").active = !1;
if (cc.vv.hall.create_room > 1) {
t.node.active = !1;
return;
}
if (t.tools.active) {
if (1 == cc.APP_STORE_REVIEW && 1 == cc.vv.userMgr.ios_review && cc.sys.os == cc.sys.OS_IOS) {
t.node.active = !1;
return;
}
t.tools.active = !1;
t.title.active = !0;
t.configNode.removeAllChildren();
} else t.node.active = !1;
break;

case "dq":
case "kd":
case "nn":
case "ddz":
case "tjd":
case "dsg":
case "ttz":
case "ysz":
case "gsj":
case "kd2":
case "pdk":
case "hs":
case "zgz":
case "tdh":
this.is_show = !1;
cc.vv.utils.popPanel(this.node);
t.gameNode.active = !1;
this.newPrefad(this._type, function(e) {
t.popbg.active = !0;
t.btn_back.active = !0;
t.bg_shadow.active = !0;
t.configNode.removeAllChildren();
t.configNode.addChild(e);
t.gameNode.active = !1;
t.tools.active = !0;
t.title.active = !1;
if (cc.vv.hall.create_room < 1) {
t.btnCreate.active = !0;
t.btnDaikai.active = 1 == cc.vv.userMgr.daikai;
t.btnSave.active = !1;
} else if (cc.vv.hall.create_room >= 1 && cc.vv.hall.create_room < 2) {
t.btnCreate.active = !0;
t.btnDaikai.active = !1;
t.btnSave.active = !1;
} else {
t.btnCreate.active = !1;
t.btnDaikai.active = !1;
t.btnSave.active = !0;
}
3 == cc.vv.hall.create_room && (t.forbiddenToggle.node.active = !0);
});
break;

default:
cc.vv.popMgr.tip("即将上线，敬请期待");
}
},
initEventHandlers: function() {
var e = this;
this.node.on("show", function() {
if (1 != cc.APP_STORE_REVIEW || 1 != cc.vv.userMgr.ios_review || cc.sys.os != cc.sys.OS_IOS) {
e.is_show = !0;
e.bg_shadow.active = !0;
e.configNode.removeAllChildren();
e.gameNode.active = !0;
e.tools.active = !1;
e.title.active = !0;
if (cc.vv.hall.create_room < 2) {
e.title_create_room.active = !0;
e.title_club_rule.active = !1;
} else {
e.title_create_room.active = !1;
e.title_club_rule.active = !0;
}
}
});
this.node.on("config", function(i) {
e.is_show = !0;
e.gameNode.active = !1;
e.popbg.active = !0;
e.btn_back.active = !0;
e.bg_shadow.active = !0;
e.shadowCallback = !1;
if (1 != cc.APP_STORE_REVIEW || 1 != cc.vv.userMgr.ios_review || cc.sys.os != cc.sys.OS_IOS) {
var t = i;
e._type = t.game;
e.newPrefad(e._type, function(i) {
e.configNode.removeAllChildren();
e.configNode.addChild(i);
e.gameNode.active = !1;
e.tools.active = !0;
e.title.active = !1;
e.btnCreate.active = !1;
e.btnDaikai.active = !1;
e.btnSave.active = !0;
e.Config(t);
});
}
});
},
Config: function(e) {
var i = this.configNode.getChildByName(e.game), t = i.getComponent("CreateRoomRule").config(e.rule);
e.rule.hasOwnProperty("is_mute") && (this.forbiddenToggle.isChecked = e.rule.is_mute);
this.onClickToggel();
var a = null;
(a = null == i.getChildByName("games") ? i.getChildByName("ScrollView").getChildByName("view").getChildByName("content").getChildByName("games").getChildByName(t).getComponent(t + "_config") : i.getChildByName("games").getChildByName(t).getComponent(t + "_config")).node.active = !0;
a.loadSaveConfig2(e.rule);
},
onBtnKai: function(e, i) {
cc.vv.audioMgr.click();
cc.vv.roomMgr.ip_repeat = !1;
var t = this.configNode.getChildByName(this._type), a = cc.vv.utils.toggleChecked(t.getChildByName("toggles"));
if (null == this.configNode.getChildByName(this._type).getChildByName("games")) var n = this.configNode.getChildByName(this._type).getChildByName("ScrollView").getChildByName("view").getChildByName("content").getChildByName("games").getChildByName(a).getComponent(a + "_config"); else n = this.configNode.getChildByName(this._type).getChildByName("games").getChildByName(a).getComponent(a + "_config");
var s = n.Config();
s.fufei = i;
s.clubid = 0;
1 == cc.vv.hall.create_room && (s.clubid = cc.vv.userMgr.club_id);
var c = {
method: "create",
data: {
version: cc.SERVER,
type: s.name,
conf: s,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
}
};
cc.sys.localStorage.setItem("last_game_" + this._type, a);
cc.sys.localStorage.setItem("last_game_" + a, JSON.stringify(s));
cc.vv.popMgr.loading_tip("create", function() {
cc.vv.net1.send(c);
});
},
onBtnSave: function(e, i) {
cc.vv.audioMgr.click();
var t = this.configNode.getChildByName(this._type), a = cc.vv.utils.toggleChecked(t.getChildByName("toggles"));
if (null == this.configNode.getChildByName(this._type).getChildByName("games")) var n = this.configNode.getChildByName(this._type).getChildByName("ScrollView").getChildByName("view").getChildByName("content").getChildByName("games").getChildByName(a).getComponent(a + "_config"); else n = this.configNode.getChildByName(this._type).getChildByName("games").getChildByName(a).getComponent(a + "_config");
var s = n.Config();
if (2 != cc.vv.hall.create_room) {
if (3 == cc.vv.hall.create_room) {
var c = this.is_mute;
cc.vv.popMgr.pop("club/ClubPwz", function(e) {
e.getComponent("ClubPwz").show(s, c);
});
this.node.destroy();
}
} else {
var o = {
method: "club_create_rule_ptz",
data: {
version: cc.SERVER,
conf: s,
info: s.desc,
club_id: cc.vv.userMgr.club_id,
id: cc.vv.userMgr.club_rule_id,
index: 0,
default: 0
}
};
cc.vv.popMgr.pop("club/ClucRuleNameEdit", function(e) {
e.getComponent("ClucRuleNameEdit").show(o);
});
this.node.destroy();
}
},
newPrefad: function(e, i) {
var t = "prefabs/game/" + e;
cc.loader.loadRes(t, function(e, t) {
if (!e && t instanceof cc.Prefab) {
var a = cc.instantiate(t);
i(a);
}
});
},
onClickToggel: function() {
if (3 == cc.vv.hall.create_room) {
this.forbiddenToggle.node.active = !0;
this.is_mute = this.forbiddenToggle.isChecked ? 1 : 0;
}
}
});
cc._RF.pop();
}, {} ],
DDZ1800Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "61a93ePEetEMYZBlEi32pYj", "DDZ1800Const");
cc.Class({
extends: cc.Component,
statics: {
player3: [ {
x: -620,
y: -40,
distance: 50,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
distance: 50,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -620,
y: 143,
distance: 50,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
default_bg: "public/table/game_bg_ddz"
}
});
cc._RF.pop();
}, {} ],
DDZ1800Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "3bee2w4pOxC/ak5duOChEaN", "DDZ1800Game");
cc.Class({
extends: cc.Component,
editor: {
executionOrder: -1
},
properties: {
_winPlayer: cc.Node,
nodeCard: cc.Node,
nodeXiazhu: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
pokerPrefab: cc.Prefab,
othercards: cc.Node,
tips: cc.Node,
dizhupos: cc.Node,
dizhu: cc.Node,
poker1Atlas: {
default: null,
type: cc.SpriteAtlas
},
poker2Atlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAltas: {
default: null,
type: cc.SpriteAtlas
},
btnAltas: {
default: null,
type: cc.SpriteAtlas
},
tipAltas: {
default: null,
type: cc.SpriteAtlas
},
zha: cc.Label,
difen: cc.Label,
dipai: cc.Node,
opts: cc.Node,
timepos: cc.Node,
waitclock: cc.Node,
myfolds: cc.Node,
othterfolds: cc.Node,
shadow: cc.Node,
passNotice: cc.Node,
beishuRoot: cc.Node,
spine1: cc.Node,
spine2: cc.Node,
warming: cc.Node,
latiBtns: cc.Node,
beishu1: cc.Label,
beishu2: cc.Label,
winUI: cc.Node,
loseUI: cc.Node,
koupai: cc.Node,
midPoker: cc.Node,
gamebegin: cc.Node,
sprTip: cc.Sprite,
mingPai: cc.Node,
jiabei: cc.Node,
jipaiqi: cc.Node,
_tipIndex: 0,
_noChoise: !0
},
onLoad: function() {
var i = e("DDZ1800Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "ddz",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_3: i.player3,
set_bg: !0,
location: !0,
is_chat: !0,
show_watch_btn: !1,
default_bg: i.default_bg
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.new_round();
this.initEventHandlers();
this.btn_buchu = this.opts.getChildByName("btn_buchu");
this.btn_tishi = this.opts.getChildByName("btn_tishi");
this.btn_chupai = this.opts.getChildByName("btn_chupai");
this.btn_yaobuqi = this.opts.getChildByName("btn_yaobuqi");
this.timepoint = this.opts.getChildByName("timepoint").getComponentInChildren(cc.Label);
this.ske = this.spine1.getComponent(sp.Skeleton);
this.ske2 = this.spine2.getComponent(sp.Skeleton);
this.isDingZhuang = !1;
this.no_rob = !1;
this.noMove = !0;
this.tishipai = [];
this.isMingPai = !1;
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
this.nodeCard.on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_END, this.touchend, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_CANCEL, this.touchcancel, this);
cc.vv.ddzMgr = this.node.getComponent("DDZ1800Mgr");
var t = e("DDZ1800ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
this.jipaiqi.active = !1;
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.ddzMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
i.timepos.children[0].x = 456;
i.timepos.children[0].y = 80;
i.timepos.children[1].x = -456;
i.timepos.children[1].y = 80;
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
isInRect: function(e) {
for (var i = this.nodeCard.childrenCount - 1; i >= 0; --i) {
var t = this.nodeCard.children[i];
if (t.getBoundingBoxToWorld().contains(e)) {
t.getComponent("DDZPoker").setMove(1);
t.isChiose = !0;
return t;
}
}
return null;
},
setAllCardUnSelected: function() {
for (var e = 0; e < this.nodeCard.childrenCount; e++) {
var i = this.nodeCard.children[e].getComponent("DDZPoker");
this.selectCard(i, 0);
}
},
selectCard: function(e, i) {
e.setSelect(i);
},
getSelectPaiList: function(e) {
for (var i = [], t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t];
a.getComponent("DDZPoker").isSelect() == e && i.push(a);
}
return i;
},
touchstart: function(e) {
e.stopPropagation();
var i = e.getLocation();
if (this.isInRect(i)) return !0;
if (this.getSelectPaiList(1).length > 0) {
this._noChoise = !this._noChoise;
this._noChoise && this.setAllCardUnSelected();
}
return !1;
},
touchmove: function(e) {
e.stopPropagation();
var i = e.getLocation();
this.isInRect(i);
},
touchend: function(e) {
for (var i = 0, t = [], a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (n.isChiose) {
i++;
var s = n.getComponent("DDZPoker");
s.setMove(0);
this.selectCard(s, s.isSelect() ? 0 : 1);
n.isChiose = !1;
1 == s.isSelect() && t.push({
value: n.value % 16,
node: n
});
}
}
if (i > 0) {
cc.vv.audioMgr.click();
var c = this.getShunzi(t.reverse());
null != c && this.xuanpai(t, c);
}
},
touchcancel: function(e) {
this.touchend(e);
},
xuanpai: function(e, i) {
for (var t = 0; t < e.length; t++) e[t].node.getComponent("DDZPoker").setSelect(0);
for (;i.length > 0; ) for (var a = i.pop(), n = 0; n < e.length; n++) if (a == e[n].value) {
e[n].node.getComponent("DDZPoker").setSelect(1);
break;
}
},
getShunzi: function(e) {
if (0 == e.length) return null;
for (var i = 0; i < e.length; i++) {
var t = -1, a = -1, n = [];
n.push(e[i].value);
for (var s = i; s < e.length - 1; s++) {
if ((t = e[s].value) + 1 != (a = e[s + 1].value)) {
if (t == a) {
if (s == e.length - 2) {
if (this.ifShunZi(n)) return n;
}
continue;
}
if (this.ifShunZi(n)) return n;
break;
}
n.push(a);
if (s == e.length - 2) {
if (this.ifShunZi(n)) return n;
}
}
}
return null;
},
ifShunZi: function(e) {
return e.length >= 5;
},
initEventHandlers: function() {
var e = this;
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(e) {}), this.node.on("fapai", function(i) {
var t = i.data.pai;
i.data.round;
e.begin();
e.fapai(t);
}), this.node.on("kaiqiang", function(i) {
var t = i.data.curSeatid, a = i.data.list, n = i.data.isMust;
e.kaiqiang(t, a, n);
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("buqiangzhuang", function(i) {
e.buqiangzhuang(i.data);
}), this.node.on("dingzhuang", function(i) {
if (0 == i.errcode) {
e.dingzhuangData = i.data;
e.dingzhuang(i.data);
} else {
e.hideTips();
cc.vv.popMgr.tip(i.errmsg);
e.no_rob = !0;
e.initJipaiqi();
}
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
e.jipai = null;
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
}), this.node.on("chupai", function(i) {
0 == i.errcode ? e.chupai(i.data) : cc.vv.popMgr.tip(i.errmsg);
}), this.node.on("operate", function(i) {
e.operate(i.data);
}), this.node.on("tip", function(i) {
e.tishipai = i.data.pai;
}), this.node.on("shoupai", function(e) {}), this.node.on("chuPaiShiBai", function(e) {}), 
this.node.on("chongxinfapai", function(e) {}), this.node.on("la", function(i) {
e.showLa(i.data.la);
}), this.node.on("ti", function(i) {
e.showTi(i.data.seatid);
}), this.node.on("laOk", function(i) {
e.laOk(i.data);
}), this.node.on("tiOk", function(i) {
e.tiOk(i.data);
}), this.node.on("beginOpenPai", function(i) {
e.canMingpai = !0;
}), this.node.on("openPai", function(i) {
var t = i.data.pai, a = i.data.seatid, n = i.data.power;
e.showMingPai(t, a);
e.updateBeiShu(n, 0);
e.isMingPai = !0;
e.playSFX(a, "mingpai");
cc.vv.audioMgr.playSFX("ddz/effect/effect_flower");
}), this.node.on("showMing", function(i) {
var t = i.pai, a = i.seatid;
e.showMingPai(t, a);
}), this.node.on("updateBeiShu", function(i) {
e.updateBeiShu(i.power, 0);
}), this.node.on("showClock", function(i) {
e.showClock(i.seatid);
}), this.node.on("pushremeberCard", function(i) {
e.jipai = i.data;
e.pushremeberCard(i.data);
});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay) {
e.new_round();
cc.vv.net2.quick("stage");
}
});
},
pushremeberCard: function(e) {
this.jipaiqi.active = !0;
for (var i = 0; i < this.jipaiqi.childrenCount; i++) {
var t = this.jipaiqi.children[i], a = t.getComponent(cc.Label), n = 0;
switch (t.name) {
case "Numdw":
n = e.Numdw;
break;

case "Numw":
n = e.Numw;
break;

case "Num2":
n = e.Num2;
break;

case "Numa":
n = e.Numa;
break;

case "Numk":
n = e.Numk;
break;

case "Numq":
n = e.Numq;
break;

case "Numj":
n = e.Numj;
break;

case "Num10":
n = e.Num10;
break;

case "Num9":
n = e.Num9;
break;

case "Num8":
n = e.Num8;
break;

case "Num7":
n = e.Num7;
break;

case "Num6":
n = e.Num6;
break;

case "Num5":
n = e.Num5;
break;

case "Num4":
n = e.Num4;
break;

case "Num3":
n = e.Num3;
}
a.string = n;
t.color = n > 0 ? new cc.Color(192, 37, 37) : new cc.Color(130, 128, 127);
}
},
laOk: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.hideLaAndTi();
var i = e.isla[e.seatid], t = cc.vv.roomMgr.viewChairID(e.seatid), a = this.jiabei.children[t];
a.active = !0;
var n = a.getComponent(cc.Sprite);
n.spriteFrame = null;
this.updateBeiShu(e.beishu, 0);
if (1 == i) {
null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "jiabei");
n.spriteFrame = this.tipAltas.getSpriteFrame("mark_la");
} else if (-1 == i) e.seatid != this._dizhu && (null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "bujiabei")); else if (0 == i && e.seatid == cc.vv.roomMgr.seatid && e.seatid != this._dizhu) {
this.latiBtns.getChildByName("btn_la").active = !0;
this.latiBtns.getChildByName("btn_bula").active = !0;
}
},
tiOk: function(e) {
this.hideLaAndTi();
this.tip(null);
this.updateBeiShu(e.beishu, 0);
var i = e.isti, t = cc.vv.roomMgr.viewChairID(e.seatid), a = this.jiabei.children[t];
a.active = !0;
a.getComponent(cc.Sprite).spriteFrame = 1 == i ? this.tipAltas.getSpriteFrame("mark_ti") : null;
1 == i ? null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 4 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "jiabei") : -1 == i && (null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 4 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "bujiabei"));
},
showLa: function(e) {
this.hideLaAndTi();
if (0 == e[cc.vv.roomMgr.seatid] && cc.vv.roomMgr.seatid != this._dizhu) {
this.tip(null);
this.latiBtns.getChildByName("btn_la").active = !0;
this.latiBtns.getChildByName("btn_bula").active = !0;
} else this.tip("tip_nm");
},
showTi: function(e) {
this.hideLaAndTi();
if (e == cc.vv.roomMgr.seatid) {
this.tip(null);
this.latiBtns.getChildByName("btn_ti").active = !0;
this.latiBtns.getChildByName("btn_buti").active = !0;
} else this.tip("tip_dizhu");
},
new_round: function() {
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeCard.removeAllChildren();
this.othercards.active = !1;
this.initDipai();
this.opts.active = !1;
cc.vv.roomMgr.stage = null;
this.dizhu.active = !1;
this.hideTips();
this.hidePassNotice();
this.clearPoker();
this.resetBtns();
this._dizhu = -1;
this.isDingZhuang = !1;
this.no_rob = !1;
this.waitclock.active = !1;
this.hideWarming();
this.hideLaAndTi();
this.zha.string = 0;
this.beishu1.string = "x1";
this.beishu2.string = "x1";
this.winUI.active = !1;
this.loseUI.active = !1;
this.threeCards = [];
this.gamebegin.active = !1;
this.isMingPai = !1;
this.hideJiabei();
this.initJipaiqi();
this.isBegin = !1;
this.canMingpai = !1;
cc.vv.roomMgr.param && 0 == cc.vv.roomMgr.param.zhuang_mode && (this.difen.string = 0);
},
initJipaiqi: function() {
for (var e = 0; e < this.jipaiqi.childrenCount; e++) {
var i = this.jipaiqi.children[e];
i.getComponent(cc.Label).string = "-";
i.color = new cc.Color(130, 128, 127);
}
},
hideJiabei: function() {
for (var e = 0; e < this.jiabei.childrenCount; ++e) {
this.jiabei.children[e].active = !1;
}
},
hideLaAndTi: function() {
for (var e = 0; e < this.latiBtns.childrenCount; ++e) {
this.latiBtns.children[e].active = !1;
}
},
hideWarming: function() {
for (var e = 0; e < this.warming.childrenCount; ++e) {
var i = this.warming.children[e];
i.getComponent(cc.Animation).stop("warming");
i.active = !1;
}
},
resetBtns: function() {
for (var e = 0; e < this.nodeXiazhu.childrenCount; e++) this.nodeXiazhu.children[e].active = !0;
var i = this.nodeXiazhu.getChildByName("btn_difen_1"), t = this.nodeXiazhu.getChildByName("btn_difen_2"), a = i.getChildByName("img").getComponent(cc.Sprite), n = t.getChildByName("img").getComponent(cc.Sprite);
a.spriteFrame = this.btnAltas.getSpriteFrame("bet_1");
n.spriteFrame = this.btnAltas.getSpriteFrame("bet_2");
},
param: function(e) {
this._feng = e.feng;
this._zhuang_mode = e.zhuang_mode;
this._fangzhu = e.fangzhu;
this.difen.string = e.feng;
this.jipaiqi.active = 1 == e.remeberCard;
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
},
begin: function() {
this.isBegin || cc.vv.audioMgr.playSFX("ddz/game_begin");
},
clearPoker: function() {
this.myfolds.removeAllChildren();
this.othterfolds.children[0].removeAllChildren();
this.othterfolds.children[1].removeAllChildren();
this.mingPai.children[0].removeAllChildren();
this.mingPai.children[1].removeAllChildren();
},
hidePassNotice: function() {
for (var e = 0; e < this.passNotice.childrenCount; ++e) this.passNotice.children[e].active = !1;
},
initDipai: function() {
this.dipai.active = !0;
for (var e = 0; e < this.dipai.childrenCount; ++e) {
this.dipai.children[e].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, 255);
}
},
fapai: function(e) {
this.isBegin = !0;
var i = this;
cc.vv.roomMgr.stage || cc.vv.roomMgr.is_replay || this.isDingZhuang || this.initJipaiqi();
if (!this.isDingZhuang) {
this.midPoker.active = !0;
this.initDipai();
this.koupai.removeAllChildren();
}
if (cc.vv.roomMgr.stage) {
this.midPoker.active = !1;
7 != cc.vv.roomMgr.stage.stage && 1 != cc.vv.roomMgr.stage.stage && this.koupai.removeAllChildren();
}
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.othercards.active = !0;
if (cc.vv.roomMgr.stage) {
i.othercards.children[0].getComponentInChildren(cc.Label).string = 17;
i.othercards.children[1].getComponentInChildren(cc.Label).string = 17;
}
this.deal_fapai(0, e.length, e, function(t) {
var a = t;
i.othercards.children[0].getComponentInChildren(cc.Label).string = ++a;
i.othercards.children[1].getComponentInChildren(cc.Label).string = a;
if (!(t < e.length - 1)) {
i.midPoker.active = !1;
i.initKoupai();
i.jipai && i.pushremeberCard(i.jipai);
var n = i;
i.showPoker(e, function(i) {
i == e.length - 1 && n.refreshHandCards();
});
i.isDingZhuang && i.dingzhuang(i.dingzhuangData);
}
});
},
showPoker: function(e, i) {
for (var t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t], n = {
index: t,
atlas: this.poker1Atlas,
value: e[t],
callback: i
};
a.emit("flip", n);
}
},
deal_fapai: function(e, i, t, a) {
this.nodeCard.removeAllChildren();
for (var n = cc.vv.roomMgr.param.xipai, s = e; s < i; s++) {
(l = cc.instantiate(this.pokerPrefab)).myTag = s;
this.nodeCard.addChild(l);
l.y = 300;
var c = {
index: s,
atlas: this.poker1Atlas,
value: t[s],
callback: a,
xipai: n
};
if (!cc.vv.roomMgr.stage && !this.isDingZhuang && !cc.vv.roomMgr.is_replay || this.no_rob) l.emit("fapai", c); else {
this.midPoker.active = !1;
l.y = 0;
l.x = 60 * s - 570;
if (0 != t[s]) {
var o = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, t[s]);
l.getChildByName("card").getComponent(cc.Sprite).spriteFrame = o;
l.getComponent("DDZPoker").setValue(t[s]);
l.value = t[s];
if (s == i - 1) {
this.refreshHandCards();
this._dizhu == cc.vv.roomMgr.seatid && l.getComponent("DDZPoker").setType(1);
}
}
}
}
if (this.isDingZhuang) for (s = 0; s < this.threeCards.length; ++s) for (var h = 0; h < this.nodeCard.childrenCount; ++h) {
var r = this.nodeCard.children[h], l = r.getComponent("DDZPoker");
if (this.threeCards[s] == r.value) {
this.selectCard(l, 1);
r.y = 45;
}
}
},
initKoupai: function() {
this.koupai.active = !0;
this.koupai.removeAllChildren();
for (var e = 0; e < 3; ++e) {
var i = cc.instantiate(this.pokerPrefab);
this.koupai.addChild(i);
i.x = 160 * e - 160;
i.getChildByName("card").getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, 255);
}
},
kaiqiang: function(e, i, t) {
if (e == cc.vv.roomMgr.seatid) {
1 == t && cc.vv.popMgr.tip("双王或者四个2必须叫地主");
this.waitclock.active = !1;
this.nodeXiazhu.active = !0;
switch (this._zhuang_mode) {
case 0:
this.nodeXiazhu.getChildByName("btn_qiang").active = !1;
var a = this.nodeXiazhu.getChildByName("btn_difen_1"), n = this.nodeXiazhu.getChildByName("btn_difen_2"), s = a.getChildByName("img").getComponent(cc.Sprite), c = n.getChildByName("img").getComponent(cc.Sprite);
if (0 == t) {
for (var o = !0, h = !0, r = 0; r < i.length; ++r) {
1 == i[r].power && (o = !1);
if (2 == i[r].power) {
o = !1;
h = !1;
}
}
a.getComponent(cc.Button).interactable = o && h;
n.getComponent(cc.Button).interactable = h;
o || (s.spriteFrame = this.btnAltas.getSpriteFrame("bet_1_gray"));
h || (c.spriteFrame = this.btnAltas.getSpriteFrame("bet_2_gray"));
} else if (1 == t) for (r = 0; r < this.nodeXiazhu.childrenCount; ++r) {
var l = (d = this.nodeXiazhu.children[r]).name;
d.active = "btn_difen_3" == l || "timepoint" == l;
}
break;

default:
if (0 == i[cc.vv.roomMgr.seatid].power) for (r = 0; r < this.nodeXiazhu.childrenCount; ++r) {
var d;
"btn_qiang" == (l = (d = this.nodeXiazhu.children[r]).name) || "btn_buqiang" == l || "timepoint" == l ? 1 == t ? d.active = "btn_qiang" == l || "timepoint" == l : 0 == t && (d.active = !0) : d.active = !1;
}
}
this.nodeXiazhu.getChildByName("timepoint").getComponentInChildren(cc.Label).string = 15;
this.schedule(this.selfTimeUpdate, 1);
} else {
var g = cc.vv.roomMgr.viewChairID(e);
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[g - 1].x;
this.waitclock.y = this.timepos.children[g - 1].y;
this.nodeXiazhu.active = !1;
}
},
selfTimeUpdate: function() {
var e = this.nodeXiazhu.getChildByName("timepoint").getComponentInChildren(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.selfTimeUpdate);
}
},
selfTimeUpdate2: function() {
var e = parseInt(this.timepoint.string);
e -= 1;
this.timepoint.string = e;
if (e <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.selfTimeUpdate2);
}
},
otherTimeUpdate: function() {
var e = this.waitclock.getComponentInChildren(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.otherTimeUpdate);
}
},
hideTips: function() {
for (var e = 0; e < this.tips.childrenCount; ++e) this.tips.children[e].active = !1;
},
tip: function(e) {
if (null != e) {
var i = this.tipAltas.getSpriteFrame(e);
this.sprTip.spriteFrame = i;
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
qiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeXiazhu.active = !1;
this.unschedule(this.selfTimeUpdate);
} else {
this.waitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
if (e.power <= 3) {
this.playSFX(e.seatid, "fen_" + e.power);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.tips.children[i].getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame("tips_" + e.power);
this.tips.children[i].active = !0;
} else this.playSFX(e.seatid, "v_rob");
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "ddz/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
buqiangzhuang: function(e) {
e.seatid == cc.vv.roomMgr.seatid && (this.nodeXiazhu.active = !1);
this.playSFX(e.seatid, "v_no_rob");
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.tips.children[i].getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame("tips_buqiang");
this.tips.children[i].active = !0;
},
showDipai: function(e) {
for (var i = 0; i < 3; ++i) {
this.dipai.children[i].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, e[i]);
}
},
showKoupai: function(e, i) {
for (var t = 0; t < this.koupai.childrenCount; ++t) {
var a = this.koupai.children[t], n = {
index: t,
atlas: this.poker1Atlas,
value: e[t],
callback: i
};
a.emit("flip", n);
}
},
moveKoupai: function(e) {
for (var i = this, t = 0; t < this.koupai.childrenCount; ++t) {
this.koupai.children[t].runAction(cc.sequence(cc.spawn(cc.moveTo(.5, cc.v2(36 * t - 584, 177)), cc.scaleTo(.5, .3)), cc.callFunc(function() {
i.showDipai(e);
}), cc.hide(), cc.removeSelf()));
}
},
difenInfo: function(e) {
this.difen.string = e || this._feng;
},
showPais: function(e, i) {
this.othercards.active = !0;
var t = cc.vv.roomMgr.viewChairID(e);
t >= 1 && (this.othercards.children[t - 1].getComponentInChildren(cc.Label).string = i);
},
dizhuRunAction: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(e);
this.dizhu.active = !0;
var a = this.dizhupos.children[t].x, n = this.dizhupos.children[t].y, s = cc.moveTo(i, cc.v2(a, n)).easing(cc.easeElasticInOut(i)), c = cc.callFunc(function() {
i > 0 && cc.vv.audioMgr.playSFX("ddz/effect/effect_dizhuRole");
});
this.dizhu.runAction(cc.spawn(s, c));
},
dingzhuang: function(e) {
var i = this;
this._dizhu = e.seatid;
this.threeCards = e.dipai;
this.isDingZhuang = !0;
this.no_rob = !1;
this.hideTips();
this.initNMInfo(e.seatid);
cc.vv.roomMgr.is_replay && this.showDipai(e.dipai);
this.showKoupai(e.dipai, function(t) {
2 == t && i.moveKoupai(e.dipai);
});
this.difenInfo(e.power);
this.showPais(e.seatid, 20);
this.dizhuRunAction(e.seatid, 1.5);
},
initNMInfo: function(e) {
switch (e) {
case 0:
var i = cc.vv.roomMgr.viewChairID(1), t = cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").getHeadimg();
this.beishuRoot.children[0].getChildByName("head").getComponent(cc.Sprite).spriteFrame = t;
this.beishuRoot.children[0].myTag = 1;
var a = cc.vv.roomMgr.viewChairID(2), n = cc.vv.utils.getChildByTag(this._winPlayer, a).getComponent("Seat").getHeadimg();
this.beishuRoot.children[1].getChildByName("head").getComponent(cc.Sprite).spriteFrame = n;
this.beishuRoot.children[1].myTag = 2;
break;

case 1:
i = cc.vv.roomMgr.viewChairID(0), t = cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").getHeadimg();
this.beishuRoot.children[0].getChildByName("head").getComponent(cc.Sprite).spriteFrame = t;
this.beishuRoot.children[0].myTag = 0;
a = cc.vv.roomMgr.viewChairID(2), n = cc.vv.utils.getChildByTag(this._winPlayer, a).getComponent("Seat").getHeadimg();
this.beishuRoot.children[1].getChildByName("head").getComponent(cc.Sprite).spriteFrame = n;
this.beishuRoot.children[1].myTag = 2;
break;

case 2:
i = cc.vv.roomMgr.viewChairID(0), t = cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").getHeadimg();
this.beishuRoot.children[0].getChildByName("head").getComponent(cc.Sprite).spriteFrame = t;
this.beishuRoot.children[0].myTag = 0;
a = cc.vv.roomMgr.viewChairID(1), n = cc.vv.utils.getChildByTag(this._winPlayer, a).getComponent("Seat").getHeadimg();
this.beishuRoot.children[1].getChildByName("head").getComponent(cc.Sprite).spriteFrame = n;
this.beishuRoot.children[1].myTag = 1;
}
this.beishuRoot.children[0].getChildByName("head").setContentSize(cc.size(51, 51));
this.beishuRoot.children[1].getChildByName("head").setContentSize(cc.size(51, 51));
},
updateBeiShu: function(e, i) {
for (var t = 0; t < e.length; ++t) {
t == this.beishuRoot.children[0].myTag && (this.beishu1.string = "x" + e[t]);
t == this.beishuRoot.children[1].myTag && (this.beishu2.string = "x" + e[t]);
}
this.zha.string = i;
},
onGameOver: function(e) {
this.hideWarming();
this.hidePassNotice();
this.waitclock.active = !1;
this.unschedule(this.selfTimeUpdate);
this.unschedule(this.selfTimeUpdate2);
this.unschedule(this.otherTimeUpdate);
if (e == this._dizhu) if (cc.vv.roomMgr.seatid == this._dizhu) {
this.winUI.active = !0;
cc.vv.audioMgr.playSFX("ddz/game_win");
} else {
cc.vv.audioMgr.playSFX("ddz/game_lose");
this.loseUI.active = !0;
} else if (cc.vv.roomMgr.seatid == this._dizhu) {
cc.vv.audioMgr.playSFX("ddz/game_lose");
this.loseUI.active = !0;
} else {
this.winUI.active = !0;
cc.vv.audioMgr.playSFX("ddz/game_win");
}
},
chupai: function(e) {
this.updateBeiShu(e.beishu, e.nowZha);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.passNotice.children[i].active = !1;
if (0 == e.list.length) {
this.passNotice.children[i].active = !0;
var t = [ "buyao1", "buyao2", "buyao3", "buyao4" ], a = t[Math.floor(Math.random() * t.length)];
this.playSFX(e.seatid, a);
} else {
cc.vv.audioMgr.playSFX("ddz/effect/effect_playcard");
1 == e.shouchu && this.hidePassNotice();
this.showChupaiType(e);
if (e.pais <= 2 && e.pais > 0) {
cc.vv.audioMgr.playBGM("ddz/bg_music_quick");
this.playSFX(e.seatid, "baojing" + e.pais);
var n = this.warming.children[i];
n.active = !0;
n.getComponent(cc.Animation).play("warming");
}
}
0 == e.pais && this.onGameOver(e.seatid);
this.showChupai(e.seatid, e.list, this._dizhu);
this.showPais(e.seatid, e.pais);
if (e.seatid != cc.vv.roomMgr.seatid) {
if (this.isMingPai || cc.vv.roomMgr.is_replay) {
var s = this.mingPai.children[i - 1];
this.removePoker(s, e.list);
}
} else {
this.setAllCardUnSelected();
this.shadow.active = !1;
this.opts.active = !1;
this.unschedule(this.selfTimeUpdate2);
this._tipIndex = 0;
this.removePoker(this.nodeCard, e.list);
this.refreshHandCards();
}
},
showChupai: function(e, i, t) {
var a = cc.vv.roomMgr.viewChairID(e), n = null;
(n = e == cc.vv.roomMgr.seatid ? this.myfolds : this.othterfolds.children[a - 1]).removeAllChildren();
for (var s = 0; s < i.length; ++s) {
var c = cc.instantiate(this.pokerPrefab);
c.scale = .6;
var o = c.getComponent("DDZPoker");
if (0 != i[s]) {
var h = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, i[s]);
c.getChildByName("card").getComponent(cc.Sprite).spriteFrame = h;
n.addChild(c);
s == i.length - 1 && o.setType(e == t ? 1 : 0);
}
}
},
showChupaiType: function(e) {
var i = this, t = "", a = "", n = [ "dani1", "dani2", "dani3" ];
switch (e.type) {
case 17:
t = "wangzha";
a = "effect_rocket";
cc.loader.loadRes("game/ddz/animation/rocket/doudizhu_huojian", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = 0;
i.ske.node.y = -234;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu_huojian", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 16:
t = "zhadan";
a = "effect_bomb";
this.playSFX(e.seatid, t);
cc.vv.audioMgr.playSFX("ddz/effect/" + a);
cc.loader.loadRes("game/ddz/animation/bomb/doudizhu_zha_normal", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = 0;
i.ske.node.y = -179;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu zha", !1);
i.ske.setCompleteListener(function() {});
});
cc.loader.loadRes("game/ddz/animation/bomb/doudizhu_zha_add", sp.SkeletonData, function(e, t) {
i.ske2.node.x = 0;
i.ske2.node.y = -179;
i.ske2.skeletonData = t;
i.ske2.timeScale = .8;
i.ske2.setAnimation(0, "doudizhu zha", !1);
});
break;

case 15:
t = "sidaisan";
break;

case 14:
t = "sidailiangdui";
break;

case 13:
t = "sidaier";
break;

case 12:
case 11:
case 10:
case 9:
t = "feiji";
a = "effect_plane";
cc.loader.loadRes("game/ddz/animation/plane/feiji", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -184;
i.ske.node.y = -384;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu_feiji", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 8:
t = "liandui";
a = "effect_boat";
cc.loader.loadRes("game/ddz/animation/boat/shunzi", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -230;
i.ske.node.y = -99;
i.ske.skeletonData = t;
i.ske.setSkin("lian");
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 7:
t = "shunzi";
a = "effect_boat";
cc.loader.loadRes("game/ddz/animation/boat/shunzi", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -230;
i.ske.node.y = -99;
i.ske.skeletonData = t;
i.ske.setSkin("shun");
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 6:
t = 1 == e.shouchu ? "sandaiyidui" : n[Math.floor(Math.random() * n.length)];
break;

case 5:
t = 1 == e.shouchu ? "sandaier" : n[Math.floor(Math.random() * n.length)];
break;

case 4:
t = 1 == e.shouchu ? "sandaiyi" : n[Math.floor(Math.random() * n.length)];
break;

case 3:
t = "pai/tuple" + (s = e.list[0]) % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
break;

case 2:
t = "pai/dui" + (s = e.list[0]) % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
break;

case 1:
var s;
if (95 == (s = e.list[0])) t = "pai/16"; else if (79 == s) t = "pai/15"; else {
t = "pai/" + s % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
}
}
if (16 != e.type) {
"" != a && cc.vv.audioMgr.playSFX("ddz/effect/" + a);
this.playSFX(e.seatid, t);
}
},
operate: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.passNotice.children[i].active = !1;
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip(null);
this.myfolds.removeAllChildren();
this.waitclock.active = !1;
this.opts.active = !0;
this.opts.getChildByName("btn_ming").active = this.canMingpai && 0 == e.isMingPai;
this.timepoint.string = 15;
this.schedule(this.selfTimeUpdate2, 1);
this.btn_yaobuqi.active = 0 == e.can;
this.shadow.active = 0 == e.can || 4 == e.can;
if (0 == e.can || 4 == e.can) {
this.noMove = !0;
this.btn_buchu.active = !1;
this.btn_chupai.active = !1;
this.btn_tishi.active = !1;
} else if (1 == e.can) {
this.noMove = !1;
this.btn_buchu.active = !0;
this.btn_chupai.active = !0;
this.btn_tishi.active = !0;
} else if (2 == e.can) {
this.noMove = !1;
this.btn_buchu.active = !1;
this.btn_chupai.active = !0;
this.btn_tishi.active = !1;
}
} else {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[i - 1].x;
this.waitclock.y = this.timepos.children[i - 1].y;
this.othterfolds.children[i - 1].removeAllChildren();
}
},
showClock: function(e) {
var i = cc.vv.roomMgr.viewChairID(e);
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.waitclock.scale = .7;
if (i >= 1) {
this.waitclock.x = this.timepos.children[i - 1].x;
this.waitclock.y = this.timepos.children[i - 1].y;
} else {
this.waitclock.x = -456;
this.waitclock.y = -56;
}
},
pokerTip: function(e) {
this.setAllCardUnSelected();
var i = e[this._tipIndex];
if (this._tipIndex >= e.length) {
this._tipIndex = 0;
this.setAllCardUnSelected();
} else {
i.sort(function(e, i) {
return e < i;
});
for (var t = 0; t < i.length; ++t) for (var a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (i[t] == n.value) {
var s = n.getComponent("DDZPoker");
this.selectCard(s, 1);
break;
}
}
this._tipIndex++;
}
},
jiesuan: function(e) {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
this.hideWarming();
if (1 == e.spring) {
cc.vv.audioMgr.playSFX("ddz/effect/effect_spring");
cc.loader.loadRes("game/ddz/animation/spring/chuntian", sp.SkeletonData, function(e, t) {
i.ske.node.x = 0;
i.ske.node.y = 0;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
var a = i;
i.ske.setCompleteListener(function() {
a.ske.node.active = !1;
a.nodeJiesuan.active = !0;
});
});
} else this.nodeJiesuan.active = !0;
var t = e.list, a = t[cc.vv.roomMgr.seatid].round_score, n = this.nodeJiesuan.getChildByName("bg").getComponent(cc.Sprite), s = this.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), c = "game/ddz/bg_win", o = null;
if (a > 0) o = "win"; else if (a < 0) {
c = "game/ddz/bg_lose";
o = "lose";
}
cc.vv.utils.loadimg(c, function(e) {
n.spriteFrame = e;
});
s.spriteFrame = this.jiesuanAltas.getSpriteFrame(o);
this.nodeJiesuan.getChildByName("now").getComponent(cc.Label).string = "第" + cc.vv.roomMgr.now + "局";
this.nodeJiesuan.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.roomid;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
this.nodeJiesuan.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("zha").getComponent(cc.Label).string = "x" + e.zha;
this._dizhu = e.zhuang;
for (var h = this.nodeJiesuan.getChildByName("resutl_list"), r = 0; r < 3; ++r) {
var l = cc.vv.roomMgr.viewChairID(r), d = h.getChildByName("s" + l);
d.x = h.children[r].x;
d.y = h.children[r].y;
d.active = !0;
var g = d.getChildByName("username").getComponent(cc.Label), u = d.getChildByName("userid").getComponent(cc.Label), _ = d.getChildByName("score").getComponent(cc.Label), v = d.getChildByName("difen").getComponent(cc.Label), p = d.getChildByName("beishu").getComponent(cc.Label);
r == this._dizhu ? p.node.active = !1 : p.node.active = !0;
var m = d.getChildByName("hand"), f = d.getChildByName("chupai"), y = d.getChildByName("dizhu");
y.active = !1;
var C = d.getChildByName("spring");
C.active = !1;
var b = d.getChildByName("lati").getComponent(cc.Sprite), w = d.getChildByName("mingpai").getComponent(cc.Sprite);
g.string = t[r].username;
u.string = t[r].userid;
_.string = t[r].round_score;
v.string = e.di;
p.string = "x" + e.power[r];
y.active = this._dizhu == t[r].seatid;
var x = this.table.seat_img(l);
d.getChildByName("head").getChildByName("img").getComponent(cc.Sprite).spriteFrame = x;
for (var z = 0; z < m.childrenCount; ++z) m.children[z].active = !1;
for (var k = 0; k < f.childrenCount; ++k) f.children[k].active = !1;
for (var M = 0; M < t[r].hand.length; ++M) {
m.children[M].active = !0;
m.children[M].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, t[r].hand[M]);
}
for (var j = t[r].outHand.length - 1; j >= 0; --j) {
cc.vv.log3.info(j + "：：一共有多少张出牌：：" + t[r].outHand.length);
cc.vv.log3.info("界面上除了多少张：" + f.children[j].length);
f.children[j].active = !0;
f.children[j].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, t[r].outHand[j]);
}
1 == e.spring && (C.active = !0);
l = cc.vv.roomMgr.viewChairID(r);
this.table.seat_emit(l, "score", t[r].user_score);
var N = null;
1 == e.la[r] && (N = "mark_la");
1 == e.ti && r == this._dizhu && (N = "mark_ti");
b.spriteFrame = this.tipAltas.getSpriteFrame(N);
var S = null;
1 == e.isMingpai && r == this._dizhu && (S = "mingpai");
w.spriteFrame = this.tipAltas.getSpriteFrame(S);
}
},
report: function(e) {
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
null != this.table._winDissroom && (this.table._winDissroom.active = !0);
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
this.table.hide_dismiss_room();
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("wanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
for (var i = e.list, t = this.nodeReport.getChildByName("list"), a = 0, n = 0; n < 3; ++n) if (i[n].result_score < a) {
a = i[n].result_score;
n;
}
for (n = 0; n < t.childrenCount; ++n) {
var s = t.children[n];
if (0 != i[n].userid) {
var c = s.getChildByName("head").getChildByName("img"), o = s.getChildByName("username").getComponent(cc.Label), h = s.getChildByName("userid").getComponent(cc.Label), r = s.getChildByName("fangzhu");
r.active = !1;
var l = s.getChildByName("score").getComponent(cc.Label), d = s.getChildByName("bigwin"), g = (s.getChildByName("bigtuhao"), 
s.getChildByName("coins").getComponent(cc.Label));
c.getComponent("ImageLoader").loadImg(i[n].headimg);
o.string = i[n].name;
h.string = i[n].userid;
l.string = i[n].result_score;
g.string = i[n].coins;
r.active = this._fangzhu == h.string;
d.active = l.string == i[0].result_score && 0 != i[0].result_score;
} else s.active = !1;
}
},
stage: function(e) {
cc.vv.roomMgr.stage = e;
switch (e.stage) {
case 1:
this.isDingZhuang = !1;
this.fapai(e.cards);
this.updateBeiShu(e.power, e.nowZha);
this.initKoupai();
for (var i = 0; i < e.pais.length; ++i) this.showPais(i, e.pais[i]);
break;

case 3:
this.isDingZhuang = !0;
this.no_rob = !1;
this._dizhu = e.zhuang;
this.fapai(e.cards);
this.initNMInfo(e.zhuang);
this.updateBeiShu(e.power, e.nowZha);
this.dizhuRunAction(e.zhuang, 0);
this.showDipai(e.dizhupai);
for (i = 0; i < e.pais.length; ++i) this.showPais(i, e.pais[i]);
this.difen.string = e.qiangzhuang[e.zhuang].power;
for (i = 0; i < e.isla.length; ++i) this.laOk({
seatid: i,
isla: e.isla,
beishu: e.power
});
break;

case 4:
this.isDingZhuang = !0;
this.no_rob = !1;
this._dizhu = e.zhuang;
this.fapai(e.cards);
this.initNMInfo(e.zhuang);
this.updateBeiShu(e.power, e.nowZha);
this.dizhuRunAction(e.zhuang, 0);
this.showDipai(e.dizhupai);
for (i = 0; i < e.pais.length; ++i) this.showPais(i, e.pais[i]);
this.difen.string = e.qiangzhuang[e.zhuang].power;
for (i = 0; i < e.isla.length; ++i) this.laOk({
seatid: i,
isla: e.isla,
beishu: e.power
});
cc.vv.roomMgr.seatid == e.zhuang && 0 == e.isti && this.showTi(cc.vv.roomMgr.seatid);
break;

case 10:
case 5:
this.isDingZhuang = !0;
this.no_rob = !1;
this._dizhu = e.zhuang;
this.fapai(e.cards);
this.initNMInfo(e.zhuang);
this.dizhuRunAction(e.zhuang, 0);
this.showDipai(e.dizhupai);
for (i = 0; i < e.pais.length; ++i) {
this.showPais(i, e.pais[i]);
if (e.pais[i] <= 2 && e.pais[i] > 0) {
var t = cc.vv.roomMgr.viewChairID(i);
cc.vv.audioMgr.playBGM("ddz/bg_music_quick");
this.playSFX(i, "baojing" + e.pais[i]);
var a = this.warming.children[t];
a.active = !0;
a.getComponent(cc.Animation).play("warming");
}
}
this.difen.string = e.qiangzhuang[e.zhuang].power;
for (i = 0; i < e.lastPai.length; ++i) null != e.lastPai[i] && this.showChupai(e.lastPai[i].seatID, e.lastPai[i].pai, e.zhuang);
for (i = 0; i < e.openPai.length; ++i) if (1 == e.openPai[i]) {
this.isMingPai = !0;
this.showMingPai(e.pai, e.zhuang);
}
var n = cc.vv.roomMgr.viewChairID(e.chuPaiPeople);
if (0 != n) {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[n - 1].x;
this.waitclock.y = this.timepos.children[n - 1].y;
this.othterfolds.children[n - 1].removeAllChildren();
}
if (0 != cc.vv.roomMgr.param.la) for (i = 0; i < e.isla.length; ++i) this.laOk({
seatid: i,
isla: e.isla,
beishu: e.power
});
0 != cc.vv.roomMgr.param.ti && this.tiOk({
seatid: e.zhuang,
isti: e.isti,
beishu: e.power
});
this.updateBeiShu(e.power, e.nowZha);
break;

case 7:
this.fapai(e.cards);
for (i = 0; i < 3; ++i) {
t = cc.vv.roomMgr.viewChairID(i);
this.showPais(t, 17);
}
this.kaiqiang(e.qiangzhuangPeople, e.qiangzhuang, e.isMust);
this.initKoupai();
}
},
removePoker: function(e, i) {
for (var t = 0; t < i.length; ++t) for (var a = 0; a < e.childrenCount; ++a) {
var n = e.children[a];
if (i[t] == n.value) {
n.removeFromParent();
break;
}
}
},
refreshHandCards: function() {
var e = this.nodeCard.childrenCount;
if (0 != e) {
var i = e > 17 ? 60 : 70, t = e > 17 ? -30 : 0, a = parseInt((e - 1) / 2);
this.nodeCard.children[a].x = t;
for (var n = a + 1; n < e; n++) this.nodeCard.children[n].x = t + (n - a) * i;
for (n = a - 1; n >= 0; n--) this.nodeCard.children[n].x = (n - a) * i + t;
this.nodeCard.children[e - 1].getComponent("DDZPoker").setType(cc.vv.roomMgr.seatid == this._dizhu ? 1 : 0);
}
},
chuPaiShiBai: function(e) {
cc.vv.popMgr.tip(e.errmsg);
},
showMingPai: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(i);
if (t >= 1) {
var a = this.mingPai.children[t - 1];
a.active = !0;
a.removeAllChildren();
for (var n = 0, s = 0; s < e.length; ++s) if (0 != e[s]) {
var c = new cc.Node();
a.addChild(c);
c.value = e[s];
c.addComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, e[s]);
n++;
}
this.othercards.children[t - 1].getComponentInChildren(cc.Label).string = n;
}
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_buqiang":
this.nodeXiazhu.active = !1;
cc.vv.net2.quick("buqiangzhuang");
break;

case "btn_qiang":
cc.vv.net2.quick("qiangzhuang", {
power: this._feng
});
break;

case "btn_difen_1":
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_difen_2":
cc.vv.net2.quick("qiangzhuang", {
power: 2
});
break;

case "btn_difen_3":
cc.vv.net2.quick("qiangzhuang", {
power: 3
});
break;

case "btn_tishi":
this.pokerTip(this.tishipai);
break;

case "btn_chupai":
for (var t = [], a = this.getSelectPaiList(1), n = 0; n < a.length; ++n) {
var s = a[n].getComponent("DDZPoker").getValue();
t.push(s);
}
0 == t.length ? cc.vv.popMgr.tip("您必须要打出一张牌") : cc.vv.net2.quick("chupai", {
list: t
});
break;

case "btn_buchu":
case "btn_yaobuqi":
t = [];
cc.vv.net2.quick("chupai", {
list: t
});
break;

case "btn_la":
cc.vv.net2.quick("la");
break;

case "btn_bula":
cc.vv.net2.quick("bula");
break;

case "btn_ti":
cc.vv.net2.quick("ti");
break;

case "btn_buti":
cc.vv.net2.quick("buti");
break;

case "btn_ming":
e.target.active = !1;
cc.vv.net2.quick("openPai");
}
},
SortCardList: function(e, i) {
for (var t = new Array(e.length), a = 0; a < i; a++) t[a] = e[a] % 16;
var n, s = !0, c = i - 1;
do {
s = !0;
for (a = 0; a < c; a++) if (t[a] > t[a + 1] || t[a] == t[a + 1]) {
n = e[a + 1];
e[a + 1] = e[a];
e[a] = n;
n = t[a + 1];
t[a + 1] = t[a];
t[a] = n;
s = !1;
}
c--;
} while (0 == s);
}
});
cc._RF.pop();
}, {
DDZ1800Const: "DDZ1800Const",
DDZ1800ReplayMgr: "DDZ1800ReplayMgr"
} ],
DDZ1800Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "231f0afzD5Fkpca0VBCS3ol", "DDZ1800Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
initEventHandlers: function() {},
doBegin: function() {
this.dispatchEvent("begin", {
errcode: 0
});
},
doFapai: function(e, i) {
i == cc.vv.roomMgr.seatid ? this.dispatchEvent("fapai", {
data: {
pai: e
}
}) : this.dispatchEvent("showMing", {
pai: e,
seatid: i
});
},
doDingZhuang: function(e, i, t) {
this.dispatchEvent("dingzhuang", {
data: {
seatid: e,
power: i,
dipai: t
},
errcode: 0
});
},
doLa: function(e) {
this.dispatchEvent("laOk", {
data: {
seatid: e.laseatid,
isla: e.isla,
beishu: e.power
}
});
},
doTi: function(e) {
this.dispatchEvent("tiOk", {
data: {
seatid: e.tiseatid,
isti: e.isti,
beishu: e.power
}
});
},
doMing: function(e) {
this.dispatchEvent("updateBeiShu", {
power: e.power
});
},
doChupai: function(e) {
var i = {
seatid: e.chuPaiPeopleSeatid,
beishu: e.power,
list: e.chupai,
pais: e.pais,
nowZha: e.nowZha,
type: e.type,
shouchu: e.shouchu
};
this.dispatchEvent("chupai", {
data: i,
errcode: 0
});
},
operate: function(e) {
this.dispatchEvent("showClock", {
seatid: e.chuPaiPeopleSeatid
});
}
});
cc._RF.pop();
}, {} ],
DDZ1800ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "42899S1F+9Ig6h/XSWnwSFz", "DDZ1800ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.ddzMgr.doBegin();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.ddzMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
return this._actionRecords[this._currentIndex++];
},
takeAction: function() {
var e = this.getNextAction();
if (null == e) return -1;
this._lastAction = e;
if (e.init_score) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.getSeatIndexByID(e.init_score[t].user_id), n = cc.vv.roomMgr.viewChairID(a);
cc.vv.ddzMgr.node.getComponent("Table").seat_emit(n, "score", e.init_score[t].score);
}
return .1;
}
if (1 == e.stage) {
cc.vv.ddzMgr.doFapai(e.pai, e.seatid);
return .5;
}
if (2 == e.stage) {
var s = e.qiangzhuang[e.dizhuseatid];
cc.vv.ddzMgr.doDingZhuang(e.dizhuseatid, s, e.dipai);
return 1;
}
if (3 == e.stage) {
cc.vv.ddzMgr.doLa(e);
return .5;
}
if (4 == e.stage) {
cc.vv.ddzMgr.doTi(e);
return .5;
}
if (5 == e.stage) {
cc.vv.ddzMgr.doChupai(e);
cc.vv.ddzMgr.operate(e);
return 2;
}
if (6 == e.stage) return .5;
if (9 == e.stage) {
cc.vv.ddzMgr.doMing(e);
return .5;
}
}
});
cc._RF.pop();
}, {} ],
DDZ1801Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "fefd1kk7kBIrpo7UPpORTQx", "DDZ1801Const");
cc.Class({
extends: cc.Component,
statics: {
player3: [ {
x: -620,
y: -40,
distance: 50,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
distance: 50,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -620,
y: 143,
distance: 50,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
default_bg: "public/table/game_bg_ddz"
}
});
cc._RF.pop();
}, {} ],
DDZ1801Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b7ca9vvxQZPO7XiRiqtqE7D", "DDZ1801Game");
cc.Class({
extends: cc.Component,
editor: {
executionOrder: -1
},
properties: {
_winPlayer: cc.Node,
nodeCard: cc.Node,
nodeXiazhu: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
pokerPrefab: cc.Prefab,
othercards: cc.Node,
tips: cc.Node,
dizhupos: cc.Node,
dizhu: cc.Node,
poker1Atlas: {
default: null,
type: cc.SpriteAtlas
},
poker2Atlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAltas: {
default: null,
type: cc.SpriteAtlas
},
btnAltas: {
default: null,
type: cc.SpriteAtlas
},
tipAltas: {
default: null,
type: cc.SpriteAtlas
},
zha: cc.Label,
difen: cc.Label,
dipai: cc.Node,
opts: cc.Node,
timepos: cc.Node,
waitclock: cc.Node,
myfolds: cc.Node,
othterfolds: cc.Node,
shadow: cc.Node,
passNotice: cc.Node,
beishuRoot: cc.Node,
spine1: cc.Node,
spine2: cc.Node,
warming: cc.Node,
latiBtns: cc.Node,
beishu1: cc.Label,
beishu2: cc.Label,
winUI: cc.Node,
loseUI: cc.Node,
koupai: cc.Node,
midPoker: cc.Node,
gamebegin: cc.Node,
sprTip: cc.Sprite,
mingPai: cc.Node,
jiabei: cc.Node,
jipaiqi: cc.Node,
_tipIndex: 0,
_noChoise: !0
},
onLoad: function() {
var i = e("DDZ1801Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "ddz",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_3: i.player3,
set_bg: !0,
location: !0,
is_chat: !0,
show_watch_btn: !1,
default_bg: i.default_bg
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.new_round();
this.initEventHandlers();
this.btn_buchu = this.opts.getChildByName("btn_buchu");
this.btn_tishi = this.opts.getChildByName("btn_tishi");
this.btn_chupai = this.opts.getChildByName("btn_chupai");
this.btn_yaobuqi = this.opts.getChildByName("btn_yaobuqi");
this.timepoint = this.opts.getChildByName("timepoint").getComponentInChildren(cc.Label);
this.ske = this.spine1.getComponent(sp.Skeleton);
this.ske2 = this.spine2.getComponent(sp.Skeleton);
this.isDingZhuang = !1;
this.no_rob = !1;
this.noMove = !0;
this.tishipai = [];
this.isMingPai = !1;
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
this.nodeCard.on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_END, this.touchend, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_CANCEL, this.touchcancel, this);
cc.vv.ddzMgr = this.node.getComponent("DDZ1801Mgr");
var t = e("DDZ1801ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
this.jipaiqi.active = !1;
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.ddzMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
i.timepos.children[0].x = 456;
i.timepos.children[0].y = 80;
i.timepos.children[1].x = -456;
i.timepos.children[1].y = 80;
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
isInRect: function(e) {
for (var i = this.nodeCard.childrenCount - 1; i >= 0; --i) {
var t = this.nodeCard.children[i];
if (t.getBoundingBoxToWorld().contains(e)) {
t.getComponent("DDZPoker").setMove(1);
t.isChiose = !0;
return t;
}
}
return null;
},
setAllCardUnSelected: function() {
for (var e = 0; e < this.nodeCard.childrenCount; e++) {
var i = this.nodeCard.children[e].getComponent("DDZPoker");
this.selectCard(i, 0);
}
},
selectCard: function(e, i) {
e.setSelect(i);
},
getSelectPaiList: function(e) {
for (var i = [], t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t];
a.getComponent("DDZPoker").isSelect() == e && i.push(a);
}
return i;
},
touchstart: function(e) {
e.stopPropagation();
var i = e.getLocation();
if (this.isInRect(i)) return !0;
if (this.getSelectPaiList(1).length > 0) {
this._noChoise = !this._noChoise;
this._noChoise && this.setAllCardUnSelected();
}
return !1;
},
touchmove: function(e) {
e.stopPropagation();
var i = e.getLocation();
this.isInRect(i);
},
touchend: function(e) {
for (var i = 0, t = [], a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (n.isChiose) {
i++;
var s = n.getComponent("DDZPoker");
s.setMove(0);
this.selectCard(s, s.isSelect() ? 0 : 1);
n.isChiose = !1;
1 == s.isSelect() && t.push({
value: n.value % 16,
node: n
});
}
}
if (i > 0) {
cc.vv.audioMgr.click();
var c = this.getShunzi(t.reverse());
null != c && this.xuanpai(t, c);
}
},
touchcancel: function(e) {
this.touchend(e);
},
xuanpai: function(e, i) {
for (var t = 0; t < e.length; t++) e[t].node.getComponent("DDZPoker").setSelect(0);
for (;i.length > 0; ) for (var a = i.pop(), n = 0; n < e.length; n++) if (a == e[n].value) {
e[n].node.getComponent("DDZPoker").setSelect(1);
break;
}
},
getShunzi: function(e) {
if (0 == e.length) return null;
for (var i = 0; i < e.length; i++) {
var t = -1, a = -1, n = [];
n.push(e[i].value);
for (var s = i; s < e.length - 1; s++) {
if ((t = e[s].value) + 1 != (a = e[s + 1].value)) {
if (t == a) {
if (s == e.length - 2) {
if (this.ifShunZi(n)) return n;
}
continue;
}
if (this.ifShunZi(n)) return n;
break;
}
n.push(a);
if (s == e.length - 2) {
if (this.ifShunZi(n)) return n;
}
}
}
return null;
},
ifShunZi: function(e) {
return e.length >= 5;
},
initEventHandlers: function() {
var e = this;
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(e) {}), this.node.on("fapai", function(i) {
var t = i.data.pai;
i.data.round;
e.begin();
e.fapai(t);
}), this.node.on("kaiqiang", function(i) {
var t = i.data.curSeatid, a = i.data.list, n = i.data.isMust;
e.kaiqiang(t, a, n);
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("buqiangzhuang", function(i) {
e.buqiangzhuang(i.data);
}), this.node.on("dingzhuang", function(i) {
if (0 == i.errcode) {
e.dingzhuangData = i.data;
e.dingzhuang(i.data);
} else {
e.hideTips();
cc.vv.popMgr.tip(i.errmsg);
e.no_rob = !0;
e.initJipaiqi();
}
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
e.jipai = null;
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
}), this.node.on("chupai", function(i) {
0 == i.errcode ? e.chupai(i.data) : cc.vv.popMgr.tip(i.errmsg);
}), this.node.on("operate", function(i) {
e.operate(i.data);
}), this.node.on("tip", function(i) {
e.tishipai = i.data.pai;
}), this.node.on("shoupai", function(e) {}), this.node.on("chuPaiShiBai", function(e) {}), 
this.node.on("chongxinfapai", function(e) {}), this.node.on("la", function(i) {
e.showLa(i.data.la);
}), this.node.on("ti", function(i) {
e.showTi(i.data.seatid);
}), this.node.on("laOk", function(i) {
e.laOk(i.data);
}), this.node.on("tiOk", function(i) {
e.tiOk(i.data);
}), this.node.on("beginOpenPai", function(i) {
e.canMingpai = !0;
}), this.node.on("openPai", function(i) {
var t = i.data.pai, a = i.data.seatid, n = i.data.power;
e.showMingPai(t, a);
e.updateBeiShu(n, 0);
e.isMingPai = !0;
e.playSFX(a, "mingpai");
cc.vv.audioMgr.playSFX("ddz/effect/effect_flower");
}), this.node.on("showMing", function(i) {
var t = i.pai, a = i.seatid;
e.showMingPai(t, a);
}), this.node.on("updateBeiShu", function(i) {
e.updateBeiShu(i.power, 0);
}), this.node.on("showClock", function(i) {
e.showClock(i.seatid);
}), this.node.on("pushremeberCard", function(i) {
e.jipai = i.data;
e.pushremeberCard(i.data);
});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay) {
e.new_round();
cc.vv.net2.quick("stage");
}
});
},
pushremeberCard: function(e) {
this.jipaiqi.active = !0;
for (var i = 0; i < this.jipaiqi.childrenCount; i++) {
var t = this.jipaiqi.children[i], a = t.getComponent(cc.Label), n = 0;
switch (t.name) {
case "Numlz":
n = e.Numlz;
break;

case "Numdw":
n = e.Numdw;
break;

case "Numw":
n = e.Numw;
break;

case "Num2":
n = e.Num2;
break;

case "Numa":
n = e.Numa;
break;

case "Numk":
n = e.Numk;
break;

case "Numq":
n = e.Numq;
break;

case "Numj":
n = e.Numj;
break;

case "Num10":
n = e.Num10;
break;

case "Num9":
n = e.Num9;
break;

case "Num8":
n = e.Num8;
break;

case "Num7":
n = e.Num7;
break;

case "Num6":
n = e.Num6;
break;

case "Num5":
n = e.Num5;
break;

case "Num4":
n = e.Num4;
break;

case "Num3":
n = e.Num3;
}
a.string = n;
t.color = n > 0 ? new cc.Color(192, 37, 37) : new cc.Color(130, 128, 127);
}
},
laOk: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.hideLaAndTi();
var i = e.isla[e.seatid], t = cc.vv.roomMgr.viewChairID(e.seatid), a = this.jiabei.children[t];
a.active = !0;
var n = a.getComponent(cc.Sprite);
n.spriteFrame = null;
this.updateBeiShu(e.beishu, 0);
if (1 == i) {
null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "jiabei");
n.spriteFrame = this.tipAltas.getSpriteFrame("mark_la");
} else if (-1 == i) e.seatid != this._dizhu && (null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "bujiabei")); else if (0 == i && e.seatid == cc.vv.roomMgr.seatid && e.seatid != this._dizhu) {
this.latiBtns.getChildByName("btn_la").active = !0;
this.latiBtns.getChildByName("btn_bula").active = !0;
}
},
tiOk: function(e) {
this.hideLaAndTi();
this.tip(null);
this.updateBeiShu(e.beishu, 0);
var i = e.isti, t = cc.vv.roomMgr.viewChairID(e.seatid), a = this.jiabei.children[t];
a.active = !0;
a.getComponent(cc.Sprite).spriteFrame = 1 == i ? this.tipAltas.getSpriteFrame("mark_ti") : null;
1 == i ? null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 4 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "jiabei") : -1 == i && (null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 4 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "bujiabei"));
},
showLa: function(e) {
this.hideLaAndTi();
if (0 == e[cc.vv.roomMgr.seatid] && cc.vv.roomMgr.seatid != this._dizhu) {
this.tip(null);
this.latiBtns.getChildByName("btn_la").active = !0;
this.latiBtns.getChildByName("btn_bula").active = !0;
} else this.tip("tip_nm");
},
showTi: function(e) {
this.hideLaAndTi();
if (e == cc.vv.roomMgr.seatid) {
this.tip(null);
this.latiBtns.getChildByName("btn_ti").active = !0;
this.latiBtns.getChildByName("btn_buti").active = !0;
} else this.tip("tip_dizhu");
},
new_round: function() {
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeCard.removeAllChildren();
this.othercards.active = !1;
this.initDipai();
this.opts.active = !1;
cc.vv.roomMgr.stage = null;
this.dizhu.active = !1;
this.hideTips();
this.hidePassNotice();
this.clearPoker();
this.resetBtns();
this._dizhu = -1;
this.isDingZhuang = !1;
this.no_rob = !1;
this.waitclock.active = !1;
this.hideWarming();
this.hideLaAndTi();
this.zha.string = 0;
this.beishu1.string = "x1";
this.beishu2.string = "x1";
this.winUI.active = !1;
this.loseUI.active = !1;
this.threeCards = [];
this.gamebegin.active = !1;
this.isMingPai = !1;
this.hideJiabei();
this.initJipaiqi();
this.isBegin = !1;
this.canMingpai = !1;
cc.vv.roomMgr.param && 0 == cc.vv.roomMgr.param.zhuang_mode && (this.difen.string = 0);
},
initJipaiqi: function() {
for (var e = 0; e < this.jipaiqi.childrenCount; e++) {
var i = this.jipaiqi.children[e];
i.getComponent(cc.Label).string = "-";
i.color = new cc.Color(130, 128, 127);
}
},
hideJiabei: function() {
for (var e = 0; e < this.jiabei.childrenCount; ++e) {
this.jiabei.children[e].active = !1;
}
},
hideLaAndTi: function() {
for (var e = 0; e < this.latiBtns.childrenCount; ++e) {
this.latiBtns.children[e].active = !1;
}
},
hideWarming: function() {
for (var e = 0; e < this.warming.childrenCount; ++e) {
var i = this.warming.children[e];
i.getComponent(cc.Animation).stop("warming");
i.active = !1;
}
},
resetBtns: function() {
for (var e = 0; e < this.nodeXiazhu.childrenCount; e++) this.nodeXiazhu.children[e].active = !0;
var i = this.nodeXiazhu.getChildByName("btn_difen_1"), t = this.nodeXiazhu.getChildByName("btn_difen_2"), a = i.getChildByName("img").getComponent(cc.Sprite), n = t.getChildByName("img").getComponent(cc.Sprite);
a.spriteFrame = this.btnAltas.getSpriteFrame("bet_1");
n.spriteFrame = this.btnAltas.getSpriteFrame("bet_2");
},
param: function(e) {
this._feng = e.feng;
this._zhuang_mode = e.zhuang_mode;
this._fangzhu = e.fangzhu;
this.difen.string = e.feng;
this.jipaiqi.active = 1 == e.remeberCard;
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
},
begin: function() {
this.isBegin || cc.vv.audioMgr.playSFX("ddz/game_begin");
},
clearPoker: function() {
this.myfolds.removeAllChildren();
this.othterfolds.children[0].removeAllChildren();
this.othterfolds.children[1].removeAllChildren();
this.mingPai.children[0].removeAllChildren();
this.mingPai.children[1].removeAllChildren();
},
hidePassNotice: function() {
for (var e = 0; e < this.passNotice.childrenCount; ++e) this.passNotice.children[e].active = !1;
},
initDipai: function() {
this.dipai.active = !0;
for (var e = 0; e < this.dipai.childrenCount; ++e) {
this.dipai.children[e].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, 255);
}
},
fapai: function(e) {
this.isBegin = !0;
var i = this;
cc.vv.roomMgr.stage || cc.vv.roomMgr.is_replay || this.isDingZhuang || this.initJipaiqi();
if (!this.isDingZhuang) {
this.midPoker.active = !0;
this.initDipai();
this.koupai.removeAllChildren();
}
if (cc.vv.roomMgr.stage) {
this.midPoker.active = !1;
7 != cc.vv.roomMgr.stage.stage && 1 != cc.vv.roomMgr.stage.stage && this.koupai.removeAllChildren();
}
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.othercards.active = !0;
if (cc.vv.roomMgr.stage) {
i.othercards.children[0].getComponentInChildren(cc.Label).string = 17;
i.othercards.children[1].getComponentInChildren(cc.Label).string = 17;
}
this.deal_fapai(0, e.length, e, function(t) {
var a = t;
i.othercards.children[0].getComponentInChildren(cc.Label).string = ++a;
i.othercards.children[1].getComponentInChildren(cc.Label).string = a;
if (!(t < e.length - 1)) {
i.midPoker.active = !1;
i.initKoupai();
i.jipai && i.pushremeberCard(i.jipai);
var n = i;
i.showPoker(e, function(i) {
i == e.length - 1 && n.refreshHandCards();
});
i.isDingZhuang && i.dingzhuang(i.dingzhuangData);
}
});
},
showPoker: function(e, i) {
for (var t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t], n = {
index: t,
atlas: this.poker1Atlas,
value: e[t],
callback: i
};
a.emit("flip", n);
}
},
deal_fapai: function(e, i, t, a) {
this.nodeCard.removeAllChildren();
for (var n = cc.vv.roomMgr.param.xipai, s = e; s < i; s++) {
(l = cc.instantiate(this.pokerPrefab)).myTag = s;
this.nodeCard.addChild(l);
l.y = 300;
var c = {
index: s,
atlas: this.poker1Atlas,
value: t[s],
callback: a,
xipai: n
};
if (!cc.vv.roomMgr.stage && !this.isDingZhuang && !cc.vv.roomMgr.is_replay || this.no_rob) l.emit("fapai", c); else {
this.midPoker.active = !1;
l.y = 0;
l.x = 55 * s - 550;
if (0 != t[s]) {
var o = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, t[s]);
l.getChildByName("card").getComponent(cc.Sprite).spriteFrame = o;
l.getComponent("DDZPoker").setValue(t[s]);
l.value = t[s];
if (s == i - 1) {
this.refreshHandCards();
this._dizhu == cc.vv.roomMgr.seatid && l.getComponent("DDZPoker").setType(1);
}
}
}
}
if (this.isDingZhuang) for (s = 0; s < this.threeCards.length; ++s) for (var h = 0; h < this.nodeCard.childrenCount; ++h) {
var r = this.nodeCard.children[h], l = r.getComponent("DDZPoker");
if (this.threeCards[s] == r.value) {
this.selectCard(l, 1);
r.y = 45;
}
}
},
initKoupai: function() {
this.koupai.active = !0;
this.koupai.removeAllChildren();
for (var e = 0; e < 4; ++e) {
var i = cc.instantiate(this.pokerPrefab);
this.koupai.addChild(i);
i.x = 160 * e - 240;
i.getChildByName("card").getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, 255);
}
},
kaiqiang: function(e, i, t) {
if (e == cc.vv.roomMgr.seatid) {
1 == t && cc.vv.popMgr.tip("双王或者四个2必须叫地主");
this.waitclock.active = !1;
this.nodeXiazhu.active = !0;
switch (this._zhuang_mode) {
case 0:
this.nodeXiazhu.getChildByName("btn_qiang").active = !1;
var a = this.nodeXiazhu.getChildByName("btn_difen_1"), n = this.nodeXiazhu.getChildByName("btn_difen_2"), s = a.getChildByName("img").getComponent(cc.Sprite), c = n.getChildByName("img").getComponent(cc.Sprite);
if (0 == t) {
for (var o = !0, h = !0, r = 0; r < i.length; ++r) {
1 == i[r].power && (o = !1);
if (2 == i[r].power) {
o = !1;
h = !1;
}
}
a.getComponent(cc.Button).interactable = o && h;
n.getComponent(cc.Button).interactable = h;
o || (s.spriteFrame = this.btnAltas.getSpriteFrame("bet_1_gray"));
h || (c.spriteFrame = this.btnAltas.getSpriteFrame("bet_2_gray"));
} else if (1 == t) for (r = 0; r < this.nodeXiazhu.childrenCount; ++r) {
var l = (d = this.nodeXiazhu.children[r]).name;
d.active = "btn_difen_3" == l || "timepoint" == l;
}
break;

default:
if (0 == i[cc.vv.roomMgr.seatid].power) for (r = 0; r < this.nodeXiazhu.childrenCount; ++r) {
var d;
"btn_qiang" == (l = (d = this.nodeXiazhu.children[r]).name) || "btn_buqiang" == l || "timepoint" == l ? 1 == t ? d.active = "btn_qiang" == l || "timepoint" == l : 0 == t && (d.active = !0) : d.active = !1;
}
}
this.nodeXiazhu.getChildByName("timepoint").getComponentInChildren(cc.Label).string = 15;
this.schedule(this.selfTimeUpdate, 1);
} else {
var g = cc.vv.roomMgr.viewChairID(e);
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[g - 1].x;
this.waitclock.y = this.timepos.children[g - 1].y;
this.nodeXiazhu.active = !1;
}
},
selfTimeUpdate: function() {
var e = this.nodeXiazhu.getChildByName("timepoint").getComponentInChildren(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.selfTimeUpdate);
}
},
selfTimeUpdate2: function() {
var e = parseInt(this.timepoint.string);
e -= 1;
this.timepoint.string = e;
if (e <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.selfTimeUpdate2);
}
},
otherTimeUpdate: function() {
var e = this.waitclock.getComponentInChildren(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.otherTimeUpdate);
}
},
hideTips: function() {
for (var e = 0; e < this.tips.childrenCount; ++e) this.tips.children[e].active = !1;
},
tip: function(e) {
if (null != e) {
var i = this.tipAltas.getSpriteFrame(e);
this.sprTip.spriteFrame = i;
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
qiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeXiazhu.active = !1;
this.unschedule(this.selfTimeUpdate);
} else {
this.waitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
if (e.power <= 3) {
this.playSFX(e.seatid, "fen_" + e.power);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.tips.children[i].getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame("tips_" + e.power);
this.tips.children[i].active = !0;
} else this.playSFX(e.seatid, "v_rob");
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "ddz/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
buqiangzhuang: function(e) {
e.seatid == cc.vv.roomMgr.seatid && (this.nodeXiazhu.active = !1);
this.playSFX(e.seatid, "v_no_rob");
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.tips.children[i].getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame("tips_buqiang");
this.tips.children[i].active = !0;
},
showDipai: function(e) {
for (var i = 0; i < this.dipai.childrenCount; ++i) {
this.dipai.children[i].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, e[i]);
}
},
showKoupai: function(e, i) {
for (var t = 0; t < this.koupai.childrenCount; ++t) {
var a = this.koupai.children[t], n = {
index: t,
atlas: this.poker1Atlas,
value: e[t],
callback: i
};
a.emit("flip", n);
}
},
moveKoupai: function(e) {
for (var i = this, t = 0; t < this.koupai.childrenCount; ++t) {
this.koupai.children[t].runAction(cc.sequence(cc.spawn(cc.moveTo(.5, cc.v2(36 * t - 584, 177)), cc.scaleTo(.5, .3)), cc.callFunc(function() {
i.showDipai(e);
}), cc.hide(), cc.removeSelf()));
}
},
difenInfo: function(e) {
this.difen.string = e || this._feng;
},
showPais: function(e, i) {
this.othercards.active = !0;
var t = cc.vv.roomMgr.viewChairID(e);
t >= 1 && (this.othercards.children[t - 1].getComponentInChildren(cc.Label).string = i);
},
dizhuRunAction: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(e);
this.dizhu.active = !0;
var a = this.dizhupos.children[t].x, n = this.dizhupos.children[t].y, s = cc.moveTo(i, cc.v2(a, n)).easing(cc.easeElasticInOut(i)), c = cc.callFunc(function() {
i > 0 && cc.vv.audioMgr.playSFX("ddz/effect/effect_dizhuRole");
});
this.dizhu.runAction(cc.spawn(s, c));
},
dingzhuang: function(e) {
var i = this;
this._dizhu = e.seatid;
this.threeCards = e.dipai;
this.isDingZhuang = !0;
this.no_rob = !1;
this.hideTips();
this.initNMInfo(e.seatid);
cc.vv.roomMgr.is_replay && this.showDipai(e.dipai);
this.showKoupai(e.dipai, function(t) {
2 == t && i.moveKoupai(e.dipai);
});
this.difenInfo(e.power);
this.showPais(e.seatid, 20);
this.dizhuRunAction(e.seatid, 1.5);
},
initNMInfo: function(e) {
switch (e) {
case 0:
var i = cc.vv.roomMgr.viewChairID(1), t = cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").getHeadimg();
this.beishuRoot.children[0].getChildByName("head").getComponent(cc.Sprite).spriteFrame = t;
this.beishuRoot.children[0].myTag = 1;
var a = cc.vv.roomMgr.viewChairID(2), n = cc.vv.utils.getChildByTag(this._winPlayer, a).getComponent("Seat").getHeadimg();
this.beishuRoot.children[1].getChildByName("head").getComponent(cc.Sprite).spriteFrame = n;
this.beishuRoot.children[1].myTag = 2;
break;

case 1:
i = cc.vv.roomMgr.viewChairID(0), t = cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").getHeadimg();
this.beishuRoot.children[0].getChildByName("head").getComponent(cc.Sprite).spriteFrame = t;
this.beishuRoot.children[0].myTag = 0;
a = cc.vv.roomMgr.viewChairID(2), n = cc.vv.utils.getChildByTag(this._winPlayer, a).getComponent("Seat").getHeadimg();
this.beishuRoot.children[1].getChildByName("head").getComponent(cc.Sprite).spriteFrame = n;
this.beishuRoot.children[1].myTag = 2;
break;

case 2:
i = cc.vv.roomMgr.viewChairID(0), t = cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").getHeadimg();
this.beishuRoot.children[0].getChildByName("head").getComponent(cc.Sprite).spriteFrame = t;
this.beishuRoot.children[0].myTag = 0;
a = cc.vv.roomMgr.viewChairID(1), n = cc.vv.utils.getChildByTag(this._winPlayer, a).getComponent("Seat").getHeadimg();
this.beishuRoot.children[1].getChildByName("head").getComponent(cc.Sprite).spriteFrame = n;
this.beishuRoot.children[1].myTag = 1;
}
this.beishuRoot.children[0].getChildByName("head").setContentSize(cc.size(51, 51));
this.beishuRoot.children[1].getChildByName("head").setContentSize(cc.size(51, 51));
},
updateBeiShu: function(e, i) {
for (var t = 0; t < e.length; ++t) {
t == this.beishuRoot.children[0].myTag && (this.beishu1.string = "x" + e[t]);
t == this.beishuRoot.children[1].myTag && (this.beishu2.string = "x" + e[t]);
}
this.zha.string = i;
},
onGameOver: function(e) {
this.hideWarming();
this.hidePassNotice();
this.waitclock.active = !1;
this.unschedule(this.selfTimeUpdate);
this.unschedule(this.selfTimeUpdate2);
this.unschedule(this.otherTimeUpdate);
if (e == this._dizhu) if (cc.vv.roomMgr.seatid == this._dizhu) {
this.winUI.active = !0;
cc.vv.audioMgr.playSFX("ddz/game_win");
} else {
cc.vv.audioMgr.playSFX("ddz/game_lose");
this.loseUI.active = !0;
} else if (cc.vv.roomMgr.seatid == this._dizhu) {
cc.vv.audioMgr.playSFX("ddz/game_lose");
this.loseUI.active = !0;
} else {
this.winUI.active = !0;
cc.vv.audioMgr.playSFX("ddz/game_win");
}
},
chupai: function(e) {
this.updateBeiShu(e.beishu, e.nowZha);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.passNotice.children[i].active = !1;
if (0 == e.list.length) {
this.passNotice.children[i].active = !0;
var t = [ "buyao1", "buyao2", "buyao3", "buyao4" ], a = t[Math.floor(Math.random() * t.length)];
this.playSFX(e.seatid, a);
} else {
cc.vv.audioMgr.playSFX("ddz/effect/effect_playcard");
1 == e.shouchu && this.hidePassNotice();
this.showChupaiType(e);
if (e.pais <= 2 && e.pais > 0) {
cc.vv.audioMgr.playBGM("ddz/bg_music_quick");
this.playSFX(e.seatid, "baojing" + e.pais);
var n = this.warming.children[i];
n.active = !0;
n.getComponent(cc.Animation).play("warming");
}
}
0 == e.pais && this.onGameOver(e.seatid);
this.showChupai(e.seatid, e.list, this._dizhu);
this.showPais(e.seatid, e.pais);
if (e.seatid != cc.vv.roomMgr.seatid) {
if (this.isMingPai || cc.vv.roomMgr.is_replay) {
var s = this.mingPai.children[i - 1];
this.removePoker(s, e.list);
}
} else {
this.setAllCardUnSelected();
this.shadow.active = !1;
this.opts.active = !1;
this.unschedule(this.selfTimeUpdate2);
this._tipIndex = 0;
this.removePoker(this.nodeCard, e.list);
this.refreshHandCards();
}
},
showChupai: function(e, i, t) {
var a = cc.vv.roomMgr.viewChairID(e), n = null;
(n = e == cc.vv.roomMgr.seatid ? this.myfolds : this.othterfolds.children[a - 1]).removeAllChildren();
for (var s = 0; s < i.length; ++s) {
var c = cc.instantiate(this.pokerPrefab);
c.scale = .6;
var o = c.getComponent("DDZPoker");
if (0 != i[s]) {
var h = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, i[s]);
c.getChildByName("card").getComponent(cc.Sprite).spriteFrame = h;
n.addChild(c);
s == i.length - 1 && o.setType(e == t ? 1 : 0);
}
}
},
showChupaiType: function(e) {
var i = this, t = "", a = "", n = [ "dani1", "dani2", "dani3" ];
switch (e.type) {
case 17:
t = "wangzha";
a = "effect_rocket";
cc.loader.loadRes("game/ddz/animation/rocket/doudizhu_huojian", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = 0;
i.ske.node.y = -234;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu_huojian", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 16:
t = "zhadan";
a = "effect_bomb";
this.playSFX(e.seatid, t);
cc.vv.audioMgr.playSFX("ddz/effect/" + a);
cc.loader.loadRes("game/ddz/animation/bomb/doudizhu_zha_normal", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = 0;
i.ske.node.y = -179;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu zha", !1);
i.ske.setCompleteListener(function() {});
});
cc.loader.loadRes("game/ddz/animation/bomb/doudizhu_zha_add", sp.SkeletonData, function(e, t) {
i.ske2.node.x = 0;
i.ske2.node.y = -179;
i.ske2.skeletonData = t;
i.ske2.timeScale = .8;
i.ske2.setAnimation(0, "doudizhu zha", !1);
});
break;

case 15:
t = "sidaisan";
break;

case 14:
t = "sidailiangdui";
break;

case 13:
t = "sidaier";
break;

case 12:
case 11:
case 10:
case 9:
t = "feiji";
a = "effect_plane";
cc.loader.loadRes("game/ddz/animation/plane/feiji", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -184;
i.ske.node.y = -384;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu_feiji", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 8:
t = "liandui";
a = "effect_boat";
cc.loader.loadRes("game/ddz/animation/boat/shunzi", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -230;
i.ske.node.y = -99;
i.ske.skeletonData = t;
i.ske.setSkin("lian");
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 7:
t = "shunzi";
a = "effect_boat";
cc.loader.loadRes("game/ddz/animation/boat/shunzi", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -230;
i.ske.node.y = -99;
i.ske.skeletonData = t;
i.ske.setSkin("shun");
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 6:
t = 1 == e.shouchu ? "sandaiyidui" : n[Math.floor(Math.random() * n.length)];
break;

case 5:
t = 1 == e.shouchu ? "sandaier" : n[Math.floor(Math.random() * n.length)];
break;

case 4:
t = 1 == e.shouchu ? "sandaiyi" : n[Math.floor(Math.random() * n.length)];
break;

case 3:
for (var s = 0, c = 0; c < e.list.length; c++) if (96 != e.list[c]) {
s = e.list[c];
break;
}
t = "pai/tuple" + s % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
break;

case 2:
for (s = 0, c = 0; c < e.list.length; c++) if (96 != e.list[c]) {
s = e.list[c];
break;
}
t = "pai/dui" + s % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
break;

case 1:
if (95 == (s = e.list[0])) t = "pai/16"; else if (79 == s) t = "pai/15"; else {
t = "pai/" + s % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
}
}
if (16 != e.type) {
"" != a && cc.vv.audioMgr.playSFX("ddz/effect/" + a);
this.playSFX(e.seatid, t);
}
},
operate: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.passNotice.children[i].active = !1;
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip(null);
this.myfolds.removeAllChildren();
this.waitclock.active = !1;
this.opts.active = !0;
this.opts.getChildByName("btn_ming").active = this.canMingpai && 0 == e.isMingPai;
this.timepoint.string = 15;
this.schedule(this.selfTimeUpdate2, 1);
this.btn_yaobuqi.active = 0 == e.can;
this.shadow.active = 0 == e.can || 4 == e.can;
if (0 == e.can || 4 == e.can) {
this.noMove = !0;
this.btn_buchu.active = !1;
this.btn_chupai.active = !1;
this.btn_tishi.active = !1;
} else if (1 == e.can) {
this.noMove = !1;
this.btn_buchu.active = !0;
this.btn_chupai.active = !0;
this.btn_tishi.active = !0;
} else if (2 == e.can) {
this.noMove = !1;
this.btn_buchu.active = !1;
this.btn_chupai.active = !0;
this.btn_tishi.active = !1;
}
} else {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[i - 1].x;
this.waitclock.y = this.timepos.children[i - 1].y;
this.othterfolds.children[i - 1].removeAllChildren();
}
},
showClock: function(e) {
var i = cc.vv.roomMgr.viewChairID(e);
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.waitclock.scale = .7;
if (i >= 1) {
this.waitclock.x = this.timepos.children[i - 1].x;
this.waitclock.y = this.timepos.children[i - 1].y;
} else {
this.waitclock.x = -456;
this.waitclock.y = -56;
}
},
pokerTip: function(e) {
this.setAllCardUnSelected();
var i = e[this._tipIndex];
if (this._tipIndex >= e.length) {
this._tipIndex = 0;
this.setAllCardUnSelected();
} else {
i.sort(function(e, i) {
return e < i;
});
for (var t = 0; t < i.length; ++t) for (var a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (i[t] == n.value) {
var s = n.getComponent("DDZPoker");
this.selectCard(s, 1);
break;
}
}
this._tipIndex++;
}
},
jiesuan: function(e) {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
this.hideWarming();
if (1 == e.spring) {
cc.vv.audioMgr.playSFX("ddz/effect/effect_spring");
cc.loader.loadRes("game/ddz/animation/spring/chuntian", sp.SkeletonData, function(e, t) {
i.ske.node.x = 0;
i.ske.node.y = 0;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
var a = i;
i.ske.setCompleteListener(function() {
a.ske.node.active = !1;
a.nodeJiesuan.active = !0;
});
});
} else this.nodeJiesuan.active = !0;
var t = e.list, a = t[cc.vv.roomMgr.seatid].round_score, n = this.nodeJiesuan.getChildByName("bg").getComponent(cc.Sprite), s = this.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), c = "game/ddz/bg_win", o = null;
if (a > 0) o = "win"; else if (a < 0) {
c = "game/ddz/bg_lose";
o = "lose";
}
cc.vv.utils.loadimg(c, function(e) {
n.spriteFrame = e;
});
s.spriteFrame = this.jiesuanAltas.getSpriteFrame(o);
this.nodeJiesuan.getChildByName("now").getComponent(cc.Label).string = "第" + cc.vv.roomMgr.now + "局";
this.nodeJiesuan.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.roomid;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
this.nodeJiesuan.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("zha").getComponent(cc.Label).string = "x" + e.zha;
this._dizhu = e.zhuang;
for (var h = this.nodeJiesuan.getChildByName("resutl_list"), r = 0; r < 3; ++r) {
var l = cc.vv.roomMgr.viewChairID(r), d = h.getChildByName("s" + l);
d.x = h.children[r].x;
d.y = h.children[r].y;
d.active = !0;
var g = d.getChildByName("username").getComponent(cc.Label), u = d.getChildByName("userid").getComponent(cc.Label), _ = d.getChildByName("score").getComponent(cc.Label), v = d.getChildByName("difen").getComponent(cc.Label), p = d.getChildByName("beishu").getComponent(cc.Label);
r == this._dizhu ? p.node.active = !1 : p.node.active = !0;
var m = d.getChildByName("hand"), f = d.getChildByName("chupai"), y = d.getChildByName("dizhu");
y.active = !1;
var C = d.getChildByName("spring");
C.active = !1;
var b = d.getChildByName("lati").getComponent(cc.Sprite), w = d.getChildByName("mingpai").getComponent(cc.Sprite);
g.string = t[r].username;
u.string = t[r].userid;
_.string = t[r].round_score;
v.string = e.di;
p.string = "x" + e.power[r];
y.active = this._dizhu == t[r].seatid;
var x = this.table.seat_img(l);
d.getChildByName("head").getChildByName("img").getComponent(cc.Sprite).spriteFrame = x;
for (var z = 0; z < m.childrenCount; ++z) m.children[z].active = !1;
for (var k = 0; k < f.childrenCount; ++k) f.children[k].active = !1;
for (var M = 0; M < t[r].hand.length; ++M) {
m.children[M].active = !0;
m.children[M].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, t[r].hand[M]);
}
for (var j = t[r].outHand.length - 1; j >= 0; --j) {
f.children[j].active = !0;
f.children[j].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, t[r].outHand[j]);
}
1 == e.spring && (C.active = !0);
l = cc.vv.roomMgr.viewChairID(r);
this.table.seat_emit(l, "score", t[r].user_score);
var N = null;
1 == e.la[r] && (N = "mark_la");
1 == e.ti && r == this._dizhu && (N = "mark_ti");
b.spriteFrame = this.tipAltas.getSpriteFrame(N);
var S = null;
1 == e.isMingpai && r == this._dizhu && (S = "mingpai");
w.spriteFrame = this.tipAltas.getSpriteFrame(S);
}
},
report: function(e) {
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
null != this.table._winDissroom && (this.table._winDissroom.active = !0);
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
this.table.hide_dismiss_room();
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("wanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
for (var i = e.list, t = this.nodeReport.getChildByName("list"), a = 0, n = 0; n < 3; ++n) if (i[n].result_score < a) {
a = i[n].result_score;
n;
}
for (n = 0; n < t.childrenCount; ++n) {
var s = t.children[n];
if (0 != i[n].userid) {
var c = s.getChildByName("head").getChildByName("img"), o = s.getChildByName("username").getComponent(cc.Label), h = s.getChildByName("userid").getComponent(cc.Label), r = s.getChildByName("fangzhu");
r.active = !1;
var l = s.getChildByName("score").getComponent(cc.Label), d = s.getChildByName("bigwin"), g = (s.getChildByName("bigtuhao"), 
s.getChildByName("coins").getComponent(cc.Label));
c.getComponent("ImageLoader").loadImg(i[n].headimg);
o.string = i[n].name;
h.string = i[n].userid;
l.string = i[n].result_score;
g.string = i[n].coins;
r.active = this._fangzhu == h.string;
d.active = l.string == i[0].result_score && 0 != i[0].result_score;
} else s.active = !1;
}
},
stage: function(e) {
cc.vv.roomMgr.stage = e;
switch (e.stage) {
case 1:
this.isDingZhuang = !1;
this.fapai(e.cards);
this.updateBeiShu(e.power, e.nowZha);
this.initKoupai();
for (var i = 0; i < e.pais.length; ++i) this.showPais(i, e.pais[i]);
break;

case 3:
this.isDingZhuang = !0;
this.no_rob = !1;
this._dizhu = e.zhuang;
this.fapai(e.cards);
this.initNMInfo(e.zhuang);
this.updateBeiShu(e.power, e.nowZha);
this.dizhuRunAction(e.zhuang, 0);
this.showDipai(e.dizhupai);
for (i = 0; i < e.pais.length; ++i) this.showPais(i, e.pais[i]);
this.difen.string = e.qiangzhuang[e.zhuang].power;
for (i = 0; i < e.isla.length; ++i) this.laOk({
seatid: i,
isla: e.isla,
beishu: e.power
});
break;

case 4:
this.isDingZhuang = !0;
this.no_rob = !1;
this._dizhu = e.zhuang;
this.fapai(e.cards);
this.initNMInfo(e.zhuang);
this.updateBeiShu(e.power, e.nowZha);
this.dizhuRunAction(e.zhuang, 0);
this.showDipai(e.dizhupai);
for (i = 0; i < e.pais.length; ++i) this.showPais(i, e.pais[i]);
this.difen.string = e.qiangzhuang[e.zhuang].power;
for (i = 0; i < e.isla.length; ++i) this.laOk({
seatid: i,
isla: e.isla,
beishu: e.power
});
cc.vv.roomMgr.seatid == e.zhuang && 0 == e.isti && this.showTi(cc.vv.roomMgr.seatid);
break;

case 10:
case 5:
this.isDingZhuang = !0;
this.no_rob = !1;
this._dizhu = e.zhuang;
this.fapai(e.cards);
this.initNMInfo(e.zhuang);
this.dizhuRunAction(e.zhuang, 0);
this.showDipai(e.dizhupai);
for (i = 0; i < e.pais.length; ++i) {
this.showPais(i, e.pais[i]);
if (e.pais[i] <= 2 && e.pais[i] > 0) {
var t = cc.vv.roomMgr.viewChairID(i);
cc.vv.audioMgr.playBGM("ddz/bg_music_quick");
this.playSFX(i, "baojing" + e.pais[i]);
var a = this.warming.children[t];
a.active = !0;
a.getComponent(cc.Animation).play("warming");
}
}
this.difen.string = e.qiangzhuang[e.zhuang].power;
for (i = 0; i < e.lastPai.length; ++i) null != e.lastPai[i] && this.showChupai(e.lastPai[i].seatID, e.lastPai[i].pai, e.zhuang);
for (i = 0; i < e.openPai.length; ++i) if (1 == e.openPai[i]) {
this.isMingPai = !0;
this.showMingPai(e.pai, e.zhuang);
}
var n = cc.vv.roomMgr.viewChairID(e.chuPaiPeople);
if (0 != n) {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[n - 1].x;
this.waitclock.y = this.timepos.children[n - 1].y;
this.othterfolds.children[n - 1].removeAllChildren();
}
if (0 != cc.vv.roomMgr.param.la) for (i = 0; i < e.isla.length; ++i) this.laOk({
seatid: i,
isla: e.isla,
beishu: e.power
});
0 != cc.vv.roomMgr.param.ti && this.tiOk({
seatid: e.zhuang,
isti: e.isti,
beishu: e.power
});
this.updateBeiShu(e.power, e.nowZha);
break;

case 7:
this.fapai(e.cards);
for (i = 0; i < 3; ++i) {
t = cc.vv.roomMgr.viewChairID(i);
this.showPais(t, 17);
}
this.kaiqiang(e.qiangzhuangPeople, e.qiangzhuang, e.isMust);
this.initKoupai();
}
},
removePoker: function(e, i) {
for (var t = 0; t < i.length; ++t) for (var a = 0; a < e.childrenCount; ++a) {
var n = e.children[a];
if (i[t] == n.value) {
n.removeFromParent();
break;
}
}
},
refreshHandCards: function() {
var e = this.nodeCard.childrenCount;
if (0 != e) {
var i = e > 17 ? 55 : 70, t = e > 17 ? -30 : 0, a = parseInt((e - 1) / 2);
this.nodeCard.children[a].x = t;
for (var n = a + 1; n < e; n++) this.nodeCard.children[n].x = t + (n - a) * i;
for (n = a - 1; n >= 0; n--) this.nodeCard.children[n].x = (n - a) * i + t;
this.nodeCard.children[e - 1].getComponent("DDZPoker").setType(cc.vv.roomMgr.seatid == this._dizhu ? 1 : 0);
}
},
chuPaiShiBai: function(e) {
cc.vv.popMgr.tip(e.errmsg);
},
showMingPai: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(i);
if (t >= 1) {
var a = this.mingPai.children[t - 1];
a.active = !0;
a.removeAllChildren();
for (var n = 0, s = 0; s < e.length; ++s) if (0 != e[s]) {
var c = new cc.Node();
a.addChild(c);
c.value = e[s];
c.addComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, e[s]);
n++;
}
this.othercards.children[t - 1].getComponentInChildren(cc.Label).string = n;
}
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_buqiang":
this.nodeXiazhu.active = !1;
cc.vv.net2.quick("buqiangzhuang");
break;

case "btn_qiang":
cc.vv.net2.quick("qiangzhuang", {
power: this._feng
});
break;

case "btn_difen_1":
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_difen_2":
cc.vv.net2.quick("qiangzhuang", {
power: 2
});
break;

case "btn_difen_3":
cc.vv.net2.quick("qiangzhuang", {
power: 3
});
break;

case "btn_tishi":
this.pokerTip(this.tishipai);
break;

case "btn_chupai":
for (var t = [], a = this.getSelectPaiList(1), n = 0; n < a.length; ++n) {
var s = a[n].getComponent("DDZPoker").getValue();
t.push(s);
}
0 == t.length ? cc.vv.popMgr.tip("您必须要打出一张牌") : cc.vv.net2.quick("chupai", {
list: t
});
break;

case "btn_buchu":
case "btn_yaobuqi":
t = [];
cc.vv.net2.quick("chupai", {
list: t
});
break;

case "btn_la":
cc.vv.net2.quick("la");
break;

case "btn_bula":
cc.vv.net2.quick("bula");
break;

case "btn_ti":
cc.vv.net2.quick("ti");
break;

case "btn_buti":
cc.vv.net2.quick("buti");
break;

case "btn_ming":
e.target.active = !1;
cc.vv.net2.quick("openPai");
}
},
SortCardList: function(e, i) {
for (var t = new Array(e.length), a = 0; a < i; a++) t[a] = e[a] % 16;
var n, s = !0, c = i - 1;
do {
s = !0;
for (a = 0; a < c; a++) if (t[a] > t[a + 1] || t[a] == t[a + 1]) {
n = e[a + 1];
e[a + 1] = e[a];
e[a] = n;
n = t[a + 1];
t[a + 1] = t[a];
t[a] = n;
s = !1;
}
c--;
} while (0 == s);
}
});
cc._RF.pop();
}, {
DDZ1801Const: "DDZ1801Const",
DDZ1801ReplayMgr: "DDZ1801ReplayMgr"
} ],
DDZ1801Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "9191aNLpkRLwqpebHojUnz2", "DDZ1801Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
initEventHandlers: function() {},
doBegin: function() {
this.dispatchEvent("begin", {
errcode: 0
});
},
doFapai: function(e, i) {
i == cc.vv.roomMgr.seatid ? this.dispatchEvent("fapai", {
data: {
pai: e
}
}) : this.dispatchEvent("showMing", {
pai: e,
seatid: i
});
},
doDingZhuang: function(e, i, t) {
this.dispatchEvent("dingzhuang", {
data: {
seatid: e,
power: i,
dipai: t
},
errcode: 0
});
},
doLa: function(e) {
this.dispatchEvent("laOk", {
data: {
seatid: e.laseatid,
isla: e.isla,
beishu: e.power
}
});
},
doTi: function(e) {
this.dispatchEvent("tiOk", {
data: {
seatid: e.tiseatid,
isti: e.isti,
beishu: e.power
}
});
},
doMing: function(e) {
this.dispatchEvent("updateBeiShu", {
power: e.power
});
},
doChupai: function(e) {
var i = {
seatid: e.chuPaiPeopleSeatid,
beishu: e.power,
list: e.chupai,
pais: e.pais,
nowZha: e.nowZha,
type: e.type,
shouchu: e.shouchu
};
this.dispatchEvent("chupai", {
data: i,
errcode: 0
});
},
operate: function(e) {
this.dispatchEvent("showClock", {
seatid: e.chuPaiPeopleSeatid
});
}
});
cc._RF.pop();
}, {} ],
DDZ1801ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c9d2647iI5PzZUm1K9JofA1", "DDZ1801ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.ddzMgr.doBegin();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.ddzMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
return this._actionRecords[this._currentIndex++];
},
takeAction: function() {
var e = this.getNextAction();
if (null == e) return -1;
this._lastAction = e;
if (e.init_score) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.getSeatIndexByID(e.init_score[t].user_id), n = cc.vv.roomMgr.viewChairID(a);
cc.vv.ddzMgr.node.getComponent("Table").seat_emit(n, "score", e.init_score[t].score);
}
return .1;
}
if (1 == e.stage) {
cc.vv.ddzMgr.doFapai(e.pai, e.seatid);
return .5;
}
if (2 == e.stage) {
var s = e.qiangzhuang[e.dizhuseatid];
cc.vv.ddzMgr.doDingZhuang(e.dizhuseatid, s, e.dipai);
return 1;
}
if (3 == e.stage) {
cc.vv.ddzMgr.doLa(e);
return .5;
}
if (4 == e.stage) {
cc.vv.ddzMgr.doTi(e);
return .5;
}
if (5 == e.stage) {
cc.vv.ddzMgr.doChupai(e);
cc.vv.ddzMgr.operate(e);
return 2;
}
if (6 == e.stage) return .5;
if (9 == e.stage) {
cc.vv.ddzMgr.doMing(e);
return .5;
}
}
});
cc._RF.pop();
}, {} ],
DDZ1803Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "70ad9ujSJZE+Imrrw/ftH/4", "DDZ1803Const");
cc.Class({
extends: cc.Component,
statics: {
player3: [ {
x: -620,
y: -40,
distance: 50,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
distance: 50,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -620,
y: 143,
distance: 50,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
default_bg: "public/table/game_bg_ddz"
}
});
cc._RF.pop();
}, {} ],
DDZ1803Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "fb624Ndr/1Dcrymg40zVDT8", "DDZ1803Game");
cc.Class({
extends: cc.Component,
editor: {
executionOrder: -1
},
properties: {
_winPlayer: cc.Node,
nodeCard: cc.Node,
nodeXiazhu: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
pokerPrefab: cc.Prefab,
othercards: cc.Node,
tips: cc.Node,
dizhupos: cc.Node,
dizhu: cc.Node,
poker1Atlas: {
default: null,
type: cc.SpriteAtlas
},
poker2Atlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAltas: {
default: null,
type: cc.SpriteAtlas
},
btnAltas: {
default: null,
type: cc.SpriteAtlas
},
tipAltas: {
default: null,
type: cc.SpriteAtlas
},
zha: cc.Label,
difen: cc.Label,
dipai: cc.Node,
opts: cc.Node,
timepos: cc.Node,
waitclock: cc.Node,
myfolds: cc.Node,
othterfolds: cc.Node,
shadow: cc.Node,
passNotice: cc.Node,
beishuRoot: cc.Node,
spine1: cc.Node,
spine2: cc.Node,
warming: cc.Node,
latiBtns: cc.Node,
beishu1: cc.Label,
beishu2: cc.Label,
winUI: cc.Node,
loseUI: cc.Node,
koupai: cc.Node,
midPoker: cc.Node,
gamebegin: cc.Node,
sprTip: cc.Sprite,
mingPai: cc.Node,
jiabei: cc.Node,
jipaiqi: cc.Node,
_tipIndex: 0,
_noChoise: !0
},
onLoad: function() {
var i = e("DDZ1803Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "ddz",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_3: i.player3,
set_bg: !0,
location: !0,
is_chat: !0,
show_watch_btn: !1,
default_bg: i.default_bg
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.new_round();
this.initEventHandlers();
this.btn_buchu = this.opts.getChildByName("btn_buchu");
this.btn_tishi = this.opts.getChildByName("btn_tishi");
this.btn_chupai = this.opts.getChildByName("btn_chupai");
this.btn_yaobuqi = this.opts.getChildByName("btn_yaobuqi");
this.timepoint = this.opts.getChildByName("timepoint").getComponentInChildren(cc.Label);
this.ske = this.spine1.getComponent(sp.Skeleton);
this.ske2 = this.spine2.getComponent(sp.Skeleton);
this.isDingZhuang = !1;
this.no_rob = !1;
this.noMove = !0;
this.tishipai = [];
this.isMingPai = !1;
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
this.nodeCard.on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_END, this.touchend, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_CANCEL, this.touchcancel, this);
cc.vv.ddzMgr = this.node.getComponent("DDZ1803Mgr");
var t = e("DDZ1803ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
this.jipaiqi.active = !1;
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.ddzMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
i.timepos.children[0].x = 456;
i.timepos.children[0].y = 80;
i.timepos.children[1].x = -456;
i.timepos.children[1].y = 80;
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
isInRect: function(e) {
for (var i = this.nodeCard.childrenCount - 1; i >= 0; --i) {
var t = this.nodeCard.children[i];
if (t.getBoundingBoxToWorld().contains(e)) {
t.getComponent("DDZPoker").setMove(1);
t.isChiose = !0;
return t;
}
}
return null;
},
setAllCardUnSelected: function() {
for (var e = 0; e < this.nodeCard.childrenCount; e++) {
var i = this.nodeCard.children[e].getComponent("DDZPoker");
this.selectCard(i, 0);
}
},
selectCard: function(e, i) {
e.setSelect(i);
},
getSelectPaiList: function(e) {
for (var i = [], t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t];
a.getComponent("DDZPoker").isSelect() == e && i.push(a);
}
return i;
},
touchstart: function(e) {
e.stopPropagation();
var i = e.getLocation();
if (this.isInRect(i)) return !0;
if (this.getSelectPaiList(1).length > 0) {
this._noChoise = !this._noChoise;
this._noChoise && this.setAllCardUnSelected();
}
return !1;
},
touchmove: function(e) {
e.stopPropagation();
var i = e.getLocation();
this.isInRect(i);
},
touchend: function(e) {
for (var i = 0, t = [], a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (n.isChiose) {
i++;
var s = n.getComponent("DDZPoker");
s.setMove(0);
this.selectCard(s, s.isSelect() ? 0 : 1);
n.isChiose = !1;
1 == s.isSelect() && t.push({
value: n.value % 16,
node: n
});
}
}
if (i > 0) {
cc.vv.audioMgr.click();
var c = this.getShunzi(t.reverse());
null != c && this.xuanpai(t, c);
}
},
touchcancel: function(e) {
this.touchend(e);
},
xuanpai: function(e, i) {
for (var t = 0; t < e.length; t++) e[t].node.getComponent("DDZPoker").setSelect(0);
for (;i.length > 0; ) for (var a = i.pop(), n = 0; n < e.length; n++) if (a == e[n].value) {
e[n].node.getComponent("DDZPoker").setSelect(1);
break;
}
},
getShunzi: function(e) {
if (0 == e.length) return null;
for (var i = 0; i < e.length; i++) {
var t = -1, a = -1, n = [];
n.push(e[i].value);
for (var s = i; s < e.length - 1; s++) {
if ((t = e[s].value) + 1 != (a = e[s + 1].value)) {
if (t == a) {
if (s == e.length - 2) {
if (this.ifShunZi(n)) return n;
}
continue;
}
if (this.ifShunZi(n)) return n;
break;
}
n.push(a);
if (s == e.length - 2) {
if (this.ifShunZi(n)) return n;
}
}
}
return null;
},
ifShunZi: function(e) {
return e.length >= 5;
},
initEventHandlers: function() {
var e = this;
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(e) {}), this.node.on("fapai", function(i) {
var t = i.data.pai;
i.data.round;
e.handlist = t;
e.begin();
e.fapai(t, i.data.luckpai, i.data.luckpeople);
}), this.node.on("kaiqiang", function(i) {
var t = i.data.curSeatid, a = i.data.list, n = i.data.isMust;
e.kaiqiang(t, a, n);
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("buqiangzhuang", function(i) {
e.buqiangzhuang(i.data);
}), this.node.on("dingzhuang", function(i) {
if (0 == i.errcode) {
e.dingzhuangData = i.data;
e.dingzhuang(i.data);
} else {
e.hideTips();
cc.vv.popMgr.tip(i.errmsg);
e.no_rob = !0;
e.initJipaiqi();
}
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
e.jipai = null;
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
}), this.node.on("chupai", function(i) {
e.chupai(i.data);
}), this.node.on("operate", function(i) {
e.operate(i.data);
}), this.node.on("tip", function(i) {
e.tishipai = i.data.pai;
}), this.node.on("shoupai", function(e) {}), this.node.on("chuPaiShiBai", function(i) {
e.chuPaiShiBai(i);
}), this.node.on("chongxinfapai", function(e) {}), this.node.on("la", function(i) {
e.showLa(i.data.la);
}), this.node.on("ti", function(i) {
e.showTi(i.data.seatid);
}), this.node.on("laOk", function(i) {
e.laOk(i.data);
}), this.node.on("tiOk", function(i) {
e.tiOk(i.data);
}), this.node.on("beginOpenPai", function(i) {
e.canMingpai = !0;
}), this.node.on("openPai", function(i) {
var t = i.data.pai, a = i.data.seatid, n = i.data.power;
e.showMingPai(t, a);
e.updateBeiShu(n, 0);
e.isMingPai = !0;
e.playSFX(a, "mingpai");
cc.vv.audioMgr.playSFX("ddz/effect/effect_flower");
}), this.node.on("showMing", function(i) {
var t = i.pai, a = i.seatid;
e.showMingPai(t, a);
}), this.node.on("updateBeiShu", function(i) {
e.updateBeiShu(i.power, 0);
}), this.node.on("showClock", function(i) {
e.showClock(i.seatid);
}), this.node.on("pushremeberCard", function(i) {
e.jipai = i.data;
e.pushremeberCard(i.data);
});
this.node.on("luck", function(i) {
e.luckpeople = i.data.luckpeople;
e.luckpai = i.data.luckpai;
});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay) {
e.new_round();
cc.vv.net2.quick("stage");
}
});
},
pushremeberCard: function(e) {
this.jipaiqi.active = !0;
for (var i = 0; i < this.jipaiqi.childrenCount; i++) {
var t = this.jipaiqi.children[i], a = t.getComponent(cc.Label), n = 0;
switch (t.name) {
case "Numdw":
n = e.Numdw;
break;

case "Numw":
n = e.Numw;
break;

case "Num2":
n = e.Num2;
break;

case "Numa":
n = e.Numa;
break;

case "Numk":
n = e.Numk;
break;

case "Numq":
n = e.Numq;
break;

case "Numj":
n = e.Numj;
break;

case "Num10":
n = e.Num10;
break;

case "Num9":
n = e.Num9;
break;

case "Num8":
n = e.Num8;
break;

case "Num7":
n = e.Num7;
break;

case "Num6":
n = e.Num6;
break;

case "Num5":
n = e.Num5;
break;

case "Num4":
n = e.Num4;
break;

case "Num3":
n = e.Num3;
}
a.string = n;
t.color = n > 0 ? new cc.Color(192, 37, 37) : new cc.Color(130, 128, 127);
}
},
laOk: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.hideLaAndTi();
var i = e.isla[e.seatid], t = cc.vv.roomMgr.viewChairID(e.seatid), a = this.jiabei.children[t];
a.active = !0;
var n = a.getComponent(cc.Sprite);
n.spriteFrame = null;
this.updateBeiShu(e.beishu, 0);
if (1 == i) {
null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "jiabei");
n.spriteFrame = this.tipAltas.getSpriteFrame("mark_la");
} else if (-1 == i) e.seatid != this._dizhu && (null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "bujiabei")); else if (0 == i && e.seatid == cc.vv.roomMgr.seatid && e.seatid != this._dizhu) {
this.latiBtns.getChildByName("btn_la").active = !0;
this.latiBtns.getChildByName("btn_bula").active = !0;
}
},
tiOk: function(e) {
this.hideLaAndTi();
this.tip(null);
this.updateBeiShu(e.beishu, 0);
var i = e.isti, t = cc.vv.roomMgr.viewChairID(e.seatid), a = this.jiabei.children[t];
a.active = !0;
a.getComponent(cc.Sprite).spriteFrame = 1 == i ? this.tipAltas.getSpriteFrame("mark_ti") : null;
1 == i ? null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 4 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "jiabei") : -1 == i && (null != cc.vv.roomMgr.stage && (null == cc.vv.roomMgr.stage || 1 != cc.vv.roomMgr.stage.stage && 3 != cc.vv.roomMgr.stage.stage && 4 != cc.vv.roomMgr.stage.stage && 7 != cc.vv.roomMgr.stage.stage) || this.playSFX(e.seatid, "bujiabei"));
},
showLa: function(e) {
this.hideLaAndTi();
if (1 == e[cc.vv.roomMgr.seatid]) {
this.tip(null);
this.latiBtns.getChildByName("btn_la").active = !0;
this.latiBtns.getChildByName("btn_bula").active = !0;
} else this.tip("tip_nm");
},
showTi: function(e) {
this.hideLaAndTi();
if (e == cc.vv.roomMgr.seatid) {
this.tip(null);
this.latiBtns.getChildByName("btn_ti").active = !0;
this.latiBtns.getChildByName("btn_buti").active = !0;
} else this.tip("tip_dizhu");
},
new_round: function() {
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeCard.removeAllChildren();
this.othercards.active = !1;
this.initDipai();
this.opts.active = !1;
cc.vv.roomMgr.stage = null;
this.dizhu.active = !1;
this.hideTips();
this.hidePassNotice();
this.clearPoker();
this.resetBtns();
this._dizhu = -1;
this.isDingZhuang = !1;
this.no_rob = !1;
this.waitclock.active = !1;
this.hideWarming();
this.hideLaAndTi();
this.zha.string = 0;
this.beishu1.string = "x1";
this.beishu2.string = "x1";
this.winUI.active = !1;
this.loseUI.active = !1;
this.threeCards = [];
this.gamebegin.active = !1;
this.isMingPai = !1;
this.hideJiabei();
this.initJipaiqi();
this.isBegin = !1;
this.canMingpai = !1;
cc.vv.roomMgr.param && 0 == cc.vv.roomMgr.param.zhuang_mode && (this.difen.string = 0);
},
initJipaiqi: function() {
for (var e = 0; e < this.jipaiqi.childrenCount; e++) {
var i = this.jipaiqi.children[e];
i.getComponent(cc.Label).string = "-";
i.color = new cc.Color(130, 128, 127);
}
},
hideJiabei: function() {
for (var e = 0; e < this.jiabei.childrenCount; ++e) {
this.jiabei.children[e].active = !1;
}
},
hideLaAndTi: function() {
for (var e = 0; e < this.latiBtns.childrenCount; ++e) {
this.latiBtns.children[e].active = !1;
}
},
hideWarming: function() {
for (var e = 0; e < this.warming.childrenCount; ++e) {
var i = this.warming.children[e];
i.getComponent(cc.Animation).stop("warming");
i.active = !1;
}
},
resetBtns: function() {
for (var e = 0; e < this.nodeXiazhu.childrenCount; e++) this.nodeXiazhu.children[e].active = !0;
var i = this.nodeXiazhu.getChildByName("btn_difen_1"), t = this.nodeXiazhu.getChildByName("btn_difen_2"), a = i.getChildByName("img").getComponent(cc.Sprite), n = t.getChildByName("img").getComponent(cc.Sprite);
a.spriteFrame = this.btnAltas.getSpriteFrame("bet_1");
n.spriteFrame = this.btnAltas.getSpriteFrame("bet_2");
},
param: function(e) {
this._feng = e.feng;
this._zhuang_mode = e.zhuang_mode;
this._fangzhu = e.fangzhu;
this.difen.string = e.feng;
this.jipaiqi.active = 1 == e.remeberCard;
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
},
begin: function() {
this.isBegin || cc.vv.audioMgr.playSFX("ddz/game_begin");
},
clearPoker: function() {
this.myfolds.removeAllChildren();
this.othterfolds.children[0].removeAllChildren();
this.othterfolds.children[1].removeAllChildren();
this.mingPai.children[0].removeAllChildren();
this.mingPai.children[1].removeAllChildren();
},
hidePassNotice: function() {
for (var e = 0; e < this.passNotice.childrenCount; ++e) this.passNotice.children[e].active = !1;
},
initDipai: function() {
this.dipai.active = !0;
for (var e = 0; e < this.dipai.childrenCount; ++e) {
var i = this.dipai.children[e];
i.active = !1;
i.getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, 255);
}
},
luckQiang: function(e, i, t, a) {
var n = this, s = cc.vv.roomMgr.viewChairID(t), c = this.node.getChildByName("mgr"), o = cc.instantiate(this.pokerPrefab), h = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, 255);
o.getChildByName("card").getComponent(cc.Sprite).spriteFrame = h;
c.addChild(o);
o.y = 182;
var r = null, l = cc.v2(0, 0), d = .5;
switch (s) {
case 0:
l.x = 70 * a - 570 + 80;
l.y = -238;
d = 1;
cc.vv.log3.info("飞入位置1:" + l.x);
r = function() {
e.splice(a, 0, i);
n.nodeCard.removeAllChildren();
for (var t = 0; t < e.length; t++) {
var s = cc.instantiate(n.pokerPrefab);
s.myTag = t;
n.nodeCard.addChild(s);
s.x = 60 * t - 570;
if (0 != e[t]) {
var c = cc.vv.utils.getPokerSpriteFrame(n.poker1Atlas, e[t]);
s.getChildByName("card").getComponent(cc.Sprite).spriteFrame = c;
s.getComponent("DDZPoker").setValue(e[t]);
s.value = e[t];
if (e[t] == i) {
n.selectCard(s.getComponent("DDZPoker"), 1);
s.y = 45;
}
t == e.length - 1 && n.refreshHandCards();
}
}
for (t = 0; t < n.nodeCard.childrenCount; t++) {
var o = n.nodeCard.children[t];
if (o.value == i) {
cc.vv.log3.info("飞入位置2:" + t + "," + o.x);
break;
}
}
};
break;

case 1:
l.x = this.othercards.children[0].x;
l.y = this.othercards.children[0].y;
break;

case 2:
l.x = this.othercards.children[1].x;
l.y = this.othercards.children[1].y;
}
o.runAction(cc.sequence(cc.scaleTo(.25, 0, 1), cc.callFunc(function() {
var e = cc.vv.utils.getPokerSpriteFrame(n.poker1Atlas, i);
o.getChildByName("card").getComponent(cc.Sprite).spriteFrame = e;
}, n), cc.scaleTo(.25, 1, 1), cc.delayTime(1), cc.spawn(cc.moveTo(.5, l), cc.scaleTo(.5, d, d)), cc.removeSelf(), cc.callFunc(function() {
r && r();
})));
},
fapai: function(e, i, t) {
var a = -1;
if (null == cc.vv.roomMgr.stage && !cc.vv.roomMgr.is_replay && !this.isDingZhuang || this.no_rob) for (var n = 0; n < e.length; n++) if (e[n] == i) {
a = n;
e.splice(n, 1);
}
this.isBegin = !0;
var s = this;
cc.vv.roomMgr.stage || cc.vv.roomMgr.is_replay || this.isDingZhuang || this.initJipaiqi();
if (!this.isDingZhuang) {
this.midPoker.active = !0;
this.initDipai();
this.koupai.removeAllChildren();
}
if (cc.vv.roomMgr.stage) {
this.midPoker.active = !1;
7 != cc.vv.roomMgr.stage.stage && 1 != cc.vv.roomMgr.stage.stage && this.koupai.removeAllChildren();
}
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.othercards.active = !0;
if (cc.vv.roomMgr.stage) {
s.othercards.children[0].getComponentInChildren(cc.Label).string = 16;
s.othercards.children[1].getComponentInChildren(cc.Label).string = 16;
}
this.deal_fapai(0, e.length, e, function(n) {
var c = n;
s.othercards.children[0].getComponentInChildren(cc.Label).string = ++c;
s.othercards.children[1].getComponentInChildren(cc.Label).string = c;
if (!(n < e.length - 1)) {
s.othercards.children[0].getComponentInChildren(cc.Label).string = 16;
s.othercards.children[1].getComponentInChildren(cc.Label).string = 16;
s.midPoker.active = !1;
s.luckQiang(e, i, t, a);
s.initKoupai();
s.jipai && s.pushremeberCard(s.jipai);
var o = s;
s.showPoker(e, function(i) {
i == e.length - 1 && o.refreshHandCards();
});
s.isDingZhuang && s.dingzhuang(s.dingzhuangData);
}
});
},
showPoker: function(e, i) {
for (var t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t], n = {
index: t,
atlas: this.poker1Atlas,
value: e[t],
callback: i
};
a.emit("flip", n);
}
},
deal_fapai: function(e, i, t, a) {
this.nodeCard.removeAllChildren();
var n = 0;
cc.vv.roomMgr.param && (n = cc.vv.roomMgr.param.xipai);
for (var s = e; s < i; s++) {
(l = cc.instantiate(this.pokerPrefab)).myTag = s;
this.nodeCard.addChild(l);
l.y = 300;
l.value = t[s];
var c = {
index: s,
atlas: this.poker1Atlas,
value: t[s],
callback: a,
xipai: n
};
if (!cc.vv.roomMgr.stage && !this.isDingZhuang && !cc.vv.roomMgr.is_replay || this.no_rob) l.emit("fapai", c); else {
this.midPoker.active = !1;
l.y = 0;
l.x = 60 * s - 570;
if (0 != t[s]) {
var o = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, t[s]);
l.getChildByName("card").getComponent(cc.Sprite).spriteFrame = o;
l.getComponent("DDZPoker").setValue(t[s]);
l.value = t[s];
if (s == i - 1) {
this.refreshHandCards();
this._dizhu == cc.vv.roomMgr.seatid && l.getComponent("DDZPoker").setType(1);
}
}
}
}
if (this.isDingZhuang) for (s = 0; s < this.threeCards.length; ++s) for (var h = 0; h < this.nodeCard.childrenCount; ++h) {
var r = this.nodeCard.children[h], l = r.getComponent("DDZPoker");
if (this.threeCards[s] == r.value) {
this.selectCard(l, 1);
r.y = 45;
}
}
},
initKoupai: function() {
this.koupai.active = !0;
this.koupai.removeAllChildren();
for (var e = 0; e < 4; ++e) {
var i = cc.instantiate(this.pokerPrefab);
this.koupai.addChild(i);
i.x = 160 * e - 240;
i.getChildByName("card").getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, 255);
}
},
kaiqiang: function(e, i, t) {
if (e == cc.vv.roomMgr.seatid) {
1 == t && cc.vv.popMgr.tip("双王必须叫地主");
this.waitclock.active = !1;
this.nodeXiazhu.active = !0;
switch (this._zhuang_mode) {
case 0:
this.nodeXiazhu.getChildByName("btn_qiang").active = !1;
var a = this.nodeXiazhu.getChildByName("btn_difen_1"), n = this.nodeXiazhu.getChildByName("btn_difen_2"), s = a.getChildByName("img").getComponent(cc.Sprite), c = n.getChildByName("img").getComponent(cc.Sprite);
if (0 == t) {
for (var o = !0, h = !0, r = 0; r < i.length; ++r) {
1 == i[r].power && (o = !1);
if (2 == i[r].power) {
o = !1;
h = !1;
}
}
a.getComponent(cc.Button).interactable = o && h;
n.getComponent(cc.Button).interactable = h;
o || (s.spriteFrame = this.btnAltas.getSpriteFrame("bet_1_gray"));
h || (c.spriteFrame = this.btnAltas.getSpriteFrame("bet_2_gray"));
} else if (1 == t) for (r = 0; r < this.nodeXiazhu.childrenCount; ++r) {
var l = (d = this.nodeXiazhu.children[r]).name;
d.active = "btn_difen_3" == l || "timepoint" == l;
}
break;

default:
if (0 == i[cc.vv.roomMgr.seatid].power) for (r = 0; r < this.nodeXiazhu.childrenCount; ++r) {
var d;
"btn_qiang" == (l = (d = this.nodeXiazhu.children[r]).name) || "btn_buqiang" == l || "timepoint" == l ? 1 == t ? d.active = "btn_qiang" == l || "timepoint" == l : 0 == t && (d.active = !0) : d.active = !1;
}
}
this.nodeXiazhu.getChildByName("timepoint").getComponentInChildren(cc.Label).string = 15;
this.schedule(this.selfTimeUpdate, 1);
} else {
var g = cc.vv.roomMgr.viewChairID(e);
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[g - 1].x;
this.waitclock.y = this.timepos.children[g - 1].y;
this.nodeXiazhu.active = !1;
}
},
selfTimeUpdate: function() {
var e = this.nodeXiazhu.getChildByName("timepoint").getComponentInChildren(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.selfTimeUpdate);
}
},
selfTimeUpdate2: function() {
var e = parseInt(this.timepoint.string);
e -= 1;
this.timepoint.string = e;
if (e <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.selfTimeUpdate2);
}
},
otherTimeUpdate: function() {
var e = this.waitclock.getComponentInChildren(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.otherTimeUpdate);
}
},
hideTips: function() {
for (var e = 0; e < this.tips.childrenCount; ++e) this.tips.children[e].active = !1;
},
tip: function(e) {
if (null != e) {
var i = this.tipAltas.getSpriteFrame(e);
this.sprTip.spriteFrame = i;
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
qiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeXiazhu.active = !1;
this.unschedule(this.selfTimeUpdate);
} else {
this.waitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
if (e.power <= 3) {
this.playSFX(e.seatid, "fen_" + e.power);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.tips.children[i].getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame("tips_" + e.power);
this.tips.children[i].active = !0;
} else this.playSFX(e.seatid, "v_rob");
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "ddz/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
buqiangzhuang: function(e) {
e.seatid == cc.vv.roomMgr.seatid && (this.nodeXiazhu.active = !1);
this.playSFX(e.seatid, "v_no_rob");
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.tips.children[i].getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame("tips_buqiang");
this.tips.children[i].active = !0;
},
showDipai: function(e, i) {
for (var t = 0; t < 4; ++t) {
var a = this.dipai.children[t];
a.active = !0;
var n = a.getComponent(cc.Sprite);
cc.vv.roomMgr.seatid == i || cc.vv.roomMgr.is_replay ? n.spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, e[t]) : n.spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, 255);
}
},
showKoupai: function(e, i) {
for (var t = 0; t < this.koupai.childrenCount; ++t) {
var a = this.koupai.children[t], n = {
index: t,
atlas: this.poker1Atlas,
value: e[t],
callback: i
};
a.emit("flip", n);
}
},
moveKoupai: function(e) {
for (var i = this, t = 0; t < this.koupai.childrenCount; ++t) {
this.koupai.children[t].runAction(cc.sequence(cc.spawn(cc.moveTo(.5, cc.v2(36 * t - 584, 177)), cc.scaleTo(.5, .3)), cc.callFunc(function() {
i.showDipai(e, i._dizhu);
}), cc.hide(), cc.removeSelf()));
}
},
difenInfo: function(e) {
this.difen.string = e || this._feng;
},
showPais: function(e, i) {
this.othercards.active = !0;
var t = cc.vv.roomMgr.viewChairID(e);
t >= 1 && (this.othercards.children[t - 1].getComponentInChildren(cc.Label).string = i);
},
dizhuRunAction: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(e);
this.dizhu.active = !0;
var a = this.dizhupos.children[t].x, n = this.dizhupos.children[t].y, s = cc.moveTo(i, cc.v2(a, n)).easing(cc.easeElasticInOut(i)), c = cc.callFunc(function() {
i > 0 && cc.vv.audioMgr.playSFX("ddz/effect/effect_dizhuRole");
});
this.dizhu.runAction(cc.spawn(s, c));
},
dizhuRunAction2: function(e) {
var i = cc.vv.roomMgr.viewChairID(e);
this.dizhu.active = !0;
var t = this.dizhupos.children[i].x, a = this.dizhupos.children[i].y;
this.dizhu.x = t;
this.dizhu.y = a;
},
dingzhuang: function(e) {
var i = this;
this._dizhu = e.seatid;
this.threeCards = e.dipai;
this.isDingZhuang = !0;
this.no_rob = !1;
this.hideTips();
this.initNMInfo(e.seatid);
cc.vv.roomMgr.is_replay && this.showDipai(e.dipai, e.seatid);
cc.vv.roomMgr.seatid == e.seatid ? this.showKoupai(e.dipai, function(t) {
3 == t && i.moveKoupai(e.dipai);
}) : i.moveKoupai(e.dipai);
this.difenInfo(e.power);
this.showPais(e.seatid, 20);
this.dizhuRunAction(e.seatid, 1.5);
},
initNMInfo: function(e) {
switch (e) {
case 0:
var i = cc.vv.roomMgr.viewChairID(1), t = cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").getHeadimg();
this.beishuRoot.children[0].getChildByName("head").getComponent(cc.Sprite).spriteFrame = t;
this.beishuRoot.children[0].myTag = 1;
var a = cc.vv.roomMgr.viewChairID(2), n = cc.vv.utils.getChildByTag(this._winPlayer, a).getComponent("Seat").getHeadimg();
this.beishuRoot.children[1].getChildByName("head").getComponent(cc.Sprite).spriteFrame = n;
this.beishuRoot.children[1].myTag = 2;
break;

case 1:
i = cc.vv.roomMgr.viewChairID(0), t = cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").getHeadimg();
this.beishuRoot.children[0].getChildByName("head").getComponent(cc.Sprite).spriteFrame = t;
this.beishuRoot.children[0].myTag = 0;
a = cc.vv.roomMgr.viewChairID(2), n = cc.vv.utils.getChildByTag(this._winPlayer, a).getComponent("Seat").getHeadimg();
this.beishuRoot.children[1].getChildByName("head").getComponent(cc.Sprite).spriteFrame = n;
this.beishuRoot.children[1].myTag = 2;
break;

case 2:
i = cc.vv.roomMgr.viewChairID(0), t = cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").getHeadimg();
this.beishuRoot.children[0].getChildByName("head").getComponent(cc.Sprite).spriteFrame = t;
this.beishuRoot.children[0].myTag = 0;
a = cc.vv.roomMgr.viewChairID(1), n = cc.vv.utils.getChildByTag(this._winPlayer, a).getComponent("Seat").getHeadimg();
this.beishuRoot.children[1].getChildByName("head").getComponent(cc.Sprite).spriteFrame = n;
this.beishuRoot.children[1].myTag = 1;
}
this.beishuRoot.children[0].getChildByName("head").setContentSize(cc.size(51, 51));
this.beishuRoot.children[1].getChildByName("head").setContentSize(cc.size(51, 51));
},
updateBeiShu: function(e, i) {
for (var t = 0; t < e.length; ++t) {
t == this.beishuRoot.children[0].myTag && (this.beishu1.string = "x" + e[t]);
t == this.beishuRoot.children[1].myTag && (this.beishu2.string = "x" + e[t]);
}
this.zha.string = i;
},
onGameOver: function(e) {
this.hideWarming();
this.hidePassNotice();
this.waitclock.active = !1;
this.unschedule(this.selfTimeUpdate);
this.unschedule(this.selfTimeUpdate2);
this.unschedule(this.otherTimeUpdate);
if (e == this._dizhu) if (cc.vv.roomMgr.seatid == this._dizhu) {
this.winUI.active = !0;
cc.vv.audioMgr.playSFX("ddz/game_win");
} else {
cc.vv.audioMgr.playSFX("ddz/game_lose");
this.loseUI.active = !0;
} else if (cc.vv.roomMgr.seatid == this._dizhu) {
cc.vv.audioMgr.playSFX("ddz/game_lose");
this.loseUI.active = !0;
} else {
this.winUI.active = !0;
cc.vv.audioMgr.playSFX("ddz/game_win");
}
},
chupai: function(e) {
this.updateBeiShu(e.beishu, e.nowZha);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.passNotice.children[i].active = !1;
if (0 == e.list.length) {
this.passNotice.children[i].active = !0;
var t = [ "buyao1", "buyao2", "buyao3", "buyao4" ], a = t[Math.floor(Math.random() * t.length)];
this.playSFX(e.seatid, a);
} else {
cc.vv.audioMgr.playSFX("ddz/effect/effect_playcard");
1 == e.shouchu && this.hidePassNotice();
this.showChupaiType(e);
if (e.pais <= 2 && e.pais > 0) {
cc.vv.audioMgr.playBGM("ddz/bg_music_quick");
this.playSFX(e.seatid, "baojing" + e.pais);
var n = this.warming.children[i];
n.active = !0;
n.getComponent(cc.Animation).play("warming");
}
}
0 == e.pais && this.onGameOver(e.seatid);
this.showChupai(e.seatid, e.list, this._dizhu);
this.showPais(e.seatid, e.pais);
if (e.seatid != cc.vv.roomMgr.seatid) {
if (this.isMingPai || cc.vv.roomMgr.is_replay) {
var s = this.mingPai.children[i - 1];
this.removePoker(s, e.list);
}
} else {
this.setAllCardUnSelected();
this.shadow.active = !1;
this.opts.active = !1;
this.unschedule(this.selfTimeUpdate2);
this._tipIndex = 0;
this.removePoker(this.nodeCard, e.list);
this.refreshHandCards();
}
},
showChupai: function(e, i, t) {
var a = cc.vv.roomMgr.viewChairID(e), n = null;
(n = e == cc.vv.roomMgr.seatid ? this.myfolds : this.othterfolds.children[a - 1]).removeAllChildren();
for (var s = 0; s < i.length; ++s) {
var c = cc.instantiate(this.pokerPrefab);
c.scale = .6;
var o = c.getComponent("DDZPoker");
if (0 != i[s]) {
var h = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, i[s]);
c.getChildByName("card").getComponent(cc.Sprite).spriteFrame = h;
n.addChild(c);
s == i.length - 1 && o.setType(e == t ? 1 : 0);
}
}
},
showChupaiType: function(e) {
var i = this, t = "", a = "", n = [ "dani1", "dani2", "dani3" ];
switch (e.type) {
case 15:
t = "wangzha";
a = "effect_rocket";
cc.loader.loadRes("game/ddz/animation/rocket/doudizhu_huojian", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = 0;
i.ske.node.y = -234;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu_huojian", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 14:
t = "zhadan";
a = "effect_bomb";
this.playSFX(e.seatid, t);
cc.vv.audioMgr.playSFX("ddz/effect/" + a);
cc.loader.loadRes("game/ddz/animation/bomb/doudizhu_zha_normal", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = 0;
i.ske.node.y = -179;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu zha", !1);
i.ske.setCompleteListener(function() {});
});
cc.loader.loadRes("game/ddz/animation/bomb/doudizhu_zha_add", sp.SkeletonData, function(e, t) {
i.ske2.node.x = 0;
i.ske2.node.y = -179;
i.ske2.skeletonData = t;
i.ske2.timeScale = .8;
i.ske2.setAnimation(0, "doudizhu zha", !1);
});
break;

case 13:
t = "sidailiangdui";
break;

case 12:
t = "sidaier";
break;

case 11:
case 8:
case 10:
t = "feiji";
a = "effect_plane";
cc.loader.loadRes("game/ddz/animation/plane/feiji", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -184;
i.ske.node.y = -384;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu_feiji", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 7:
t = "liandui";
a = "effect_boat";
cc.loader.loadRes("game/ddz/animation/boat/shunzi", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -230;
i.ske.node.y = -99;
i.ske.skeletonData = t;
i.ske.setSkin("lian");
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 6:
t = "shunzi";
a = "effect_boat";
cc.loader.loadRes("game/ddz/animation/boat/shunzi", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -230;
i.ske.node.y = -99;
i.ske.skeletonData = t;
i.ske.setSkin("shun");
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 5:
t = 1 == e.shouchu ? "sandaiyidui" : n[Math.floor(Math.random() * n.length)];
break;

case 4:
t = 1 == e.shouchu ? "sandaiyi" : n[Math.floor(Math.random() * n.length)];
break;

case 3:
t = "pai/tuple" + (s = e.list[0]) % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
break;

case 2:
t = "pai/dui" + (s = e.list[0]) % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
break;

case 1:
var s;
if (95 == (s = e.list[0])) t = "pai/16"; else if (79 == s) t = "pai/15"; else {
t = "pai/" + s % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
}
}
if (14 != e.type) {
"" != a && cc.vv.audioMgr.playSFX("ddz/effect/" + a);
this.playSFX(e.seatid, t);
}
},
operate: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.passNotice.children[i].active = !1;
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip(null);
this.myfolds.removeAllChildren();
this.waitclock.active = !1;
this.opts.active = !0;
this.opts.getChildByName("btn_ming").active = this.canMingpai && 0 == e.isMingPai;
this.timepoint.string = 15;
this.schedule(this.selfTimeUpdate2, 1);
this.btn_yaobuqi.active = 0 == e.can;
this.shadow.active = 0 == e.can || 4 == e.can;
if (0 == e.can || 4 == e.can) {
this.noMove = !0;
this.btn_buchu.active = !1;
this.btn_chupai.active = !1;
this.btn_tishi.active = !1;
} else if (1 == e.can) {
this.noMove = !1;
this.btn_buchu.active = !0;
this.btn_chupai.active = !0;
this.btn_tishi.active = !0;
} else if (2 == e.can) {
this.noMove = !1;
this.btn_buchu.active = !1;
this.btn_chupai.active = !0;
this.btn_tishi.active = !1;
}
} else {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[i - 1].x;
this.waitclock.y = this.timepos.children[i - 1].y;
this.othterfolds.children[i - 1].removeAllChildren();
}
},
showClock: function(e) {
var i = cc.vv.roomMgr.viewChairID(e);
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.waitclock.scale = .7;
if (i >= 1) {
this.waitclock.x = this.timepos.children[i - 1].x;
this.waitclock.y = this.timepos.children[i - 1].y;
} else {
this.waitclock.x = -456;
this.waitclock.y = -56;
}
},
pokerTip: function(e) {
this.setAllCardUnSelected();
var i = e[this._tipIndex];
if (this._tipIndex >= e.length) {
this._tipIndex = 0;
this.setAllCardUnSelected();
} else {
i.sort(function(e, i) {
return e < i;
});
for (var t = 0; t < i.length; ++t) for (var a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (i[t] == n.value) {
var s = n.getComponent("DDZPoker");
this.selectCard(s, 1);
break;
}
}
this._tipIndex++;
}
},
jiesuan: function(e) {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
this.hideWarming();
if (1 == e.spring) {
cc.vv.audioMgr.playSFX("ddz/effect/effect_spring");
cc.loader.loadRes("game/ddz/animation/spring/chuntian", sp.SkeletonData, function(e, t) {
i.ske.node.x = 0;
i.ske.node.y = 0;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
var a = i;
i.ske.setCompleteListener(function() {
a.ske.node.active = !1;
a.nodeJiesuan.active = !0;
});
});
} else this.nodeJiesuan.active = !0;
var t = e.list, a = t[cc.vv.roomMgr.seatid].round_score, n = this.nodeJiesuan.getChildByName("bg").getComponent(cc.Sprite), s = this.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), c = "game/ddz/bg_win", o = null;
if (a > 0) o = "win"; else if (a < 0) {
c = "game/ddz/bg_lose";
o = "lose";
}
cc.vv.utils.loadimg(c, function(e) {
n.spriteFrame = e;
});
s.spriteFrame = this.jiesuanAltas.getSpriteFrame(o);
this.nodeJiesuan.getChildByName("now").getComponent(cc.Label).string = "第" + cc.vv.roomMgr.now + "局";
this.nodeJiesuan.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.roomid;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
this.nodeJiesuan.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("zha").getComponent(cc.Label).string = "x" + e.zha;
this._dizhu = e.zhuang;
for (var h = this.nodeJiesuan.getChildByName("resutl_list"), r = 0; r < 3; ++r) {
var l = cc.vv.roomMgr.viewChairID(r), d = h.getChildByName("s" + l);
d.x = h.children[r].x;
d.y = h.children[r].y;
d.active = !0;
var g = d.getChildByName("username").getComponent(cc.Label), u = d.getChildByName("userid").getComponent(cc.Label), _ = d.getChildByName("score").getComponent(cc.Label), v = d.getChildByName("difen").getComponent(cc.Label), p = d.getChildByName("beishu").getComponent(cc.Label);
r == this._dizhu ? p.node.active = !1 : p.node.active = !0;
var m = d.getChildByName("hand"), f = d.getChildByName("chupai"), y = d.getChildByName("dizhu");
y.active = !1;
var C = d.getChildByName("spring");
C.active = !1;
var b = d.getChildByName("lati").getComponent(cc.Sprite), w = d.getChildByName("mingpai").getComponent(cc.Sprite);
g.string = t[r].username;
u.string = t[r].userid;
_.string = t[r].round_score;
v.string = e.di;
p.string = "x" + e.power[r];
y.active = this._dizhu == t[r].seatid;
var x = this.table.seat_img(l);
d.getChildByName("head").getChildByName("img").getComponent(cc.Sprite).spriteFrame = x;
for (var z = 0; z < m.childrenCount; ++z) m.children[z].active = !1;
for (var k = 0; k < f.childrenCount; ++k) f.children[k].active = !1;
for (var M = 0; M < t[r].hand.length; ++M) {
m.children[M].active = !0;
m.children[M].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, t[r].hand[M]);
}
for (var j = t[r].outHand.length - 1; j >= 0; --j) {
f.children[j].active = !0;
f.children[j].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, t[r].outHand[j]);
}
1 == e.spring && (C.active = !0);
l = cc.vv.roomMgr.viewChairID(r);
this.table.seat_emit(l, "score", t[r].user_score);
var N = null;
1 == e.la[r] && (N = "mark_la");
1 == e.ti && r == this._dizhu && (N = "mark_ti");
b.spriteFrame = this.tipAltas.getSpriteFrame(N);
var S = null;
1 == e.isMingpai && r == this._dizhu && (S = "mingpai");
w.spriteFrame = this.tipAltas.getSpriteFrame(S);
}
},
report: function(e) {
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
null != this.table._winDissroom && (this.table._winDissroom.active = !0);
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
this.table.hide_dismiss_room();
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("wanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
for (var i = e.list, t = this.nodeReport.getChildByName("list"), a = 0, n = 0; n < 3; ++n) if (i[n].result_score < a) {
a = i[n].result_score;
n;
}
for (n = 0; n < t.childrenCount; ++n) {
var s = t.children[n];
if (0 != i[n].userid) {
var c = s.getChildByName("head").getChildByName("img"), o = s.getChildByName("username").getComponent(cc.Label), h = s.getChildByName("userid").getComponent(cc.Label), r = s.getChildByName("fangzhu");
r.active = !1;
var l = s.getChildByName("score").getComponent(cc.Label), d = s.getChildByName("bigwin"), g = (s.getChildByName("bigtuhao"), 
s.getChildByName("coins").getComponent(cc.Label));
c.getComponent("ImageLoader").loadImg(i[n].headimg);
o.string = i[n].name;
h.string = i[n].userid;
l.string = i[n].result_score;
g.string = i[n].coins;
r.active = this._fangzhu == h.string;
d.active = l.string == i[0].result_score && 0 != i[0].result_score;
} else s.active = !1;
}
},
stage: function(e) {
cc.vv.roomMgr.stage = e;
switch (e.stage) {
case 1:
this.isDingZhuang = !1;
this.fapai(e.cards);
this.updateBeiShu(e.power, e.nowZha);
this.initKoupai();
for (var i = 0; i < e.pais.length; ++i) this.showPais(i, e.pais[i]);
break;

case 3:
this.isDingZhuang = !0;
this.no_rob = !1;
this._dizhu = e.zhuang;
this.fapai(e.cards);
this.initNMInfo(e.zhuang);
this.updateBeiShu(e.power, e.nowZha);
this.dizhuRunAction2(e.zhuang);
this.showDipai(e.dizhupai, e.zhuang);
for (i = 0; i < e.pais.length; ++i) this.showPais(i, e.pais[i]);
this.difen.string = e.qiangzhuang[e.zhuang].power;
for (i = 0; i < e.isla.length; ++i) this.laOk({
seatid: i,
isla: e.isla,
beishu: e.power
});
break;

case 4:
this.isDingZhuang = !0;
this.no_rob = !1;
this._dizhu = e.zhuang;
this.fapai(e.cards);
this.initNMInfo(e.zhuang);
this.updateBeiShu(e.power, e.nowZha);
this.dizhuRunAction2(e.zhuang);
this.showDipai(e.dizhupai, e.zhuang);
for (i = 0; i < e.pais.length; ++i) this.showPais(i, e.pais[i]);
this.difen.string = e.qiangzhuang[e.zhuang].power;
for (i = 0; i < e.isla.length; ++i) this.laOk({
seatid: i,
isla: e.isla,
beishu: e.power
});
cc.vv.roomMgr.seatid == e.zhuang && 0 == e.isti && this.showTi(cc.vv.roomMgr.seatid);
break;

case 10:
case 5:
this.isDingZhuang = !0;
this.no_rob = !1;
this._dizhu = e.zhuang;
this.fapai(e.cards);
this.initNMInfo(e.zhuang);
this.updateBeiShu(e.power, e.nowZha);
this.dizhuRunAction2(e.zhuang);
this.showDipai(e.dizhupai, e.zhuang);
for (i = 0; i < e.pais.length; ++i) {
this.showPais(i, e.pais[i]);
if (e.pais[i] <= 2 && e.pais[i] > 0) {
var t = cc.vv.roomMgr.viewChairID(i);
cc.vv.audioMgr.playBGM("ddz/bg_music_quick");
this.playSFX(i, "baojing" + e.pais[i]);
var a = this.warming.children[t];
a.active = !0;
a.getComponent(cc.Animation).play("warming");
}
}
this.difen.string = e.qiangzhuang[e.zhuang].power;
for (i = 0; i < e.lastPai.length; ++i) null != e.lastPai[i] && this.showChupai(e.lastPai[i].seatID, e.lastPai[i].pai, e.zhuang);
for (i = 0; i < e.openPai.length; ++i) if (1 == e.openPai[i]) {
this.isMingPai = !0;
this.showMingPai(e.pai[e.zhuang], e.zhuang);
}
var n = cc.vv.roomMgr.viewChairID(e.chuPaiPeople);
if (0 != n) {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[n - 1].x;
this.waitclock.y = this.timepos.children[n - 1].y;
this.othterfolds.children[n - 1].removeAllChildren();
}
if (0 != cc.vv.roomMgr.param.la) for (i = 0; i < e.isla.length; ++i) this.laOk({
seatid: i,
isla: e.isla,
beishu: e.power
});
0 != cc.vv.roomMgr.param.ti && this.tiOk({
seatid: e.zhuang,
isti: e.isti,
beishu: e.power
});
break;

case 7:
this.fapai(e.cards);
for (i = 0; i < 3; ++i) {
t = cc.vv.roomMgr.viewChairID(i);
this.showPais(t, e.pais[i]);
}
this.kaiqiang(e.qiangzhuangPeople, e.qiangzhuang, e.isMust);
this.initKoupai();
}
},
removePoker: function(e, i) {
for (var t = 0; t < i.length; ++t) for (var a = 0; a < e.childrenCount; ++a) {
var n = e.children[a];
if (i[t] == n.value) {
n.removeFromParent();
break;
}
}
},
refreshHandCards: function() {
var e = this.nodeCard.childrenCount;
if (0 != e) {
var i = e > 17 ? 60 : 70, t = e > 17 ? -30 : 0, a = parseInt((e - 1) / 2);
this.nodeCard.children[a].x = t;
for (var n = a + 1; n < e; n++) this.nodeCard.children[n].x = t + (n - a) * i;
for (n = a - 1; n >= 0; n--) this.nodeCard.children[n].x = (n - a) * i + t;
this.nodeCard.children[e - 1].getComponent("DDZPoker").setType(cc.vv.roomMgr.seatid == this._dizhu ? 1 : 0);
}
},
chuPaiShiBai: function(e) {
cc.vv.popMgr.tip(e.errmsg);
},
showMingPai: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(i);
if (t >= 1) {
var a = this.mingPai.children[t - 1];
a.active = !0;
a.removeAllChildren();
for (var n = 0, s = 0; s < e.length; ++s) if (0 != e[s]) {
var c = new cc.Node();
a.addChild(c);
c.value = e[s];
c.addComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, e[s]);
n++;
}
this.othercards.children[t - 1].getComponentInChildren(cc.Label).string = n;
}
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_buqiang":
this.nodeXiazhu.active = !1;
cc.vv.net2.quick("buqiangzhuang");
break;

case "btn_qiang":
cc.vv.net2.quick("qiangzhuang", {
power: this._feng
});
break;

case "btn_difen_1":
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_difen_2":
cc.vv.net2.quick("qiangzhuang", {
power: 2
});
break;

case "btn_difen_3":
cc.vv.net2.quick("qiangzhuang", {
power: 3
});
break;

case "btn_tishi":
this.pokerTip(this.tishipai);
break;

case "btn_chupai":
for (var t = [], a = this.getSelectPaiList(1), n = 0; n < a.length; ++n) {
var s = a[n].getComponent("DDZPoker").getValue();
t.push(s);
}
0 == t.length ? cc.vv.popMgr.tip("您必须要打出一张牌") : cc.vv.net2.quick("chupai", {
list: t
});
break;

case "btn_buchu":
case "btn_yaobuqi":
t = [];
cc.vv.net2.quick("chupai", {
list: t
});
break;

case "btn_la":
cc.vv.net2.quick("la");
break;

case "btn_bula":
cc.vv.net2.quick("bula");
break;

case "btn_ti":
cc.vv.net2.quick("ti");
break;

case "btn_buti":
cc.vv.net2.quick("buti");
break;

case "btn_ming":
e.target.active = !1;
cc.vv.net2.quick("openPai");
}
},
SortCardList: function(e, i) {
for (var t = new Array(e.length), a = 0; a < i; a++) t[a] = e[a] % 16;
var n, s = !0, c = i - 1;
do {
s = !0;
for (a = 0; a < c; a++) if (t[a] > t[a + 1] || t[a] == t[a + 1]) {
n = e[a + 1];
e[a + 1] = e[a];
e[a] = n;
n = t[a + 1];
t[a + 1] = t[a];
t[a] = n;
s = !1;
}
c--;
} while (0 == s);
}
});
cc._RF.pop();
}, {
DDZ1803Const: "DDZ1803Const",
DDZ1803ReplayMgr: "DDZ1803ReplayMgr"
} ],
DDZ1803Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e5072q8VhVBaaLpGGi4Nuhd", "DDZ1803Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
initEventHandlers: function() {},
doBegin: function() {
this.dispatchEvent("begin", {
errcode: 0
});
},
doFapai: function(e, i) {
i == cc.vv.roomMgr.seatid ? this.dispatchEvent("fapai", {
data: {
pai: e
}
}) : this.dispatchEvent("showMing", {
pai: e,
seatid: i
});
},
doDingZhuang: function(e, i, t) {
this.dispatchEvent("dingzhuang", {
data: {
seatid: e,
power: i,
dipai: t
},
errcode: 0
});
},
doLa: function(e) {
this.dispatchEvent("laOk", {
data: {
seatid: e.laseatid,
isla: e.isla,
beishu: e.power
}
});
},
doTi: function(e) {
this.dispatchEvent("tiOk", {
data: {
seatid: e.tiseatid,
isti: e.isti,
beishu: e.power
}
});
},
doMing: function(e) {
this.dispatchEvent("updateBeiShu", {
power: e.power
});
},
doChupai: function(e) {
var i = {
seatid: e.chuPaiPeopleSeatid,
beishu: e.power,
list: e.chupai,
pais: e.pais,
nowZha: e.nowZha,
type: e.type,
shouchu: e.shouchu
};
this.dispatchEvent("chupai", {
data: i
});
},
operate: function(e) {
this.dispatchEvent("showClock", {
seatid: e.chuPaiPeopleSeatid
});
}
});
cc._RF.pop();
}, {} ],
DDZ1803ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "0e141lIevNEIaCToV8EK7mM", "DDZ1803ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.ddzMgr.doBegin();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.ddzMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
return this._actionRecords[this._currentIndex++];
},
takeAction: function() {
var e = this.getNextAction();
if (null == e) return -1;
this._lastAction = e;
if (e.init_score) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.getSeatIndexByID(e.init_score[t].user_id), n = cc.vv.roomMgr.viewChairID(a);
cc.vv.ddzMgr.node.getComponent("Table").seat_emit(n, "score", e.init_score[t].score);
}
return .1;
}
if (1 == e.stage) {
cc.vv.ddzMgr.doFapai(e.pai, e.seatid);
return .5;
}
if (2 == e.stage) {
var s = e.qiangzhuang[e.dizhuseatid];
cc.vv.ddzMgr.doDingZhuang(e.dizhuseatid, s, e.dipai);
return 1;
}
if (3 == e.stage) {
cc.vv.ddzMgr.doLa(e);
return .5;
}
if (4 == e.stage) {
cc.vv.ddzMgr.doTi(e);
return .5;
}
if (5 == e.stage) {
cc.vv.ddzMgr.doChupai(e);
cc.vv.ddzMgr.operate(e);
return 2;
}
if (6 == e.stage) return .5;
if (9 == e.stage) {
cc.vv.ddzMgr.doMing(e);
return .5;
}
}
});
cc._RF.pop();
}, {} ],
DDZPoker: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8302bwpEu1Mgp9EFEAMLu0z", "DDZPoker");
cc.Class({
extends: cc.Component,
properties: {
card: cc.Sprite,
type: cc.Sprite,
_value: 255,
_select: 0
},
onLoad: function() {
this.initEventHandlers();
this.type.node.active = !1;
},
initEventHandlers: function() {
var e = this;
this.node.on("fapai", function(i) {
e.fapai(i);
});
this.node.on("trun", function(i) {
e.trun(i);
});
this.node.on("flip", function(i) {
e.flip(i);
});
},
fapai: function(e) {
var i = 0;
1 == e.xipai ? e.index >= 0 && e.index <= 4 ? i = 0 : e.index >= 5 && e.index <= 9 ? i = 4 : e.index >= 10 && e.index <= 14 ? i = 8 : e.index >= 15 && e.index <= 19 && (i = 12) : i = e.index / 2;
this.node.runAction(cc.sequence(cc.hide(), cc.delayTime(.15 * i), cc.show(), cc.callFunc(function() {
cc.vv.audioMgr.playSFX("nn/flop");
}), cc.sequence(cc.moveTo(.15, cc.v2(70 * e.index - 560)), cc.callFunc(function() {})), cc.delayTime(.15), cc.callFunc(function() {
e.callback && e.callback(e.index);
}, this)));
},
flip: function(e) {
var i = this;
if (255 == this._value) {
var t = i.node.scale;
i.node.runAction(cc.sequence(cc.scaleTo(.25, 0, t), cc.callFunc(function() {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
i.node.value = e.value;
}, i), cc.scaleTo(.25, t, t), cc.callFunc(function() {
e.callback && e.callback(e.index);
})));
}
},
trun: function(e) {
var i = this;
if (255 == this._value) {
var t = i.node.scale;
i.node.runAction(cc.sequence(cc.scaleTo(.15, 0, t), cc.callFunc(function() {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}, i), cc.scaleTo(.15, t, t), cc.callFunc(function() {
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type);
})));
}
},
onPaiClicked: function() {
cc.vv.audioMgr.click();
this._select = 1 == this._select ? 0 : 1;
this.node.y = 0 == this._select ? 0 : 20;
},
isSelect: function() {
return this._select;
},
setEnabled: function(e) {
var i = this.node.getComponent(cc.Button);
i || (i = this.node.addComponent(cc.Button));
e ? i.node.on("click", this.onPaiClicked, this) : this.node.removeComponent(cc.Button);
},
setSelect: function(e) {
this._select = e;
this.node.y = 0 == this._select ? 0 : 20;
},
setMove: function(e) {
var i = new cc.Color(150, 150, 150);
0 == e && (i = new cc.Color(255, 255, 255));
this.card.node.color = i;
this.type.node.color = i;
},
setValue: function(e) {
this._value = e;
},
getValue: function() {
return this._value;
},
setType: function(e) {
this.type.node.active = 1 == e;
}
});
cc._RF.pop();
}, {} ],
DQ2700Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d884a0ZwldKvJu7DOcJS1gS", "DQ2700Const");
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -600,
y: -30,
scale: 1,
pos: {
score: {
x: -445,
y: -45
},
tip: {
x: 0,
y: 50
},
fold: {
x: 0,
y: -44
},
time: {
x: 0,
y: 0
},
zhuafen: {
x: -500,
y: -42
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -45,
y: -495,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 600,
y: 144,
scale: .8,
pos: {
score: {
x: 445,
y: 125
},
tip: {
x: 340,
y: 61
},
fold: {
x: 552,
y: 99
},
time: {
x: 478,
y: 107
},
zhuafen: {
x: 490,
y: 191
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -314,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -168,
y: 267,
scale: .8,
pos: {
score: {
x: -38,
y: 325
},
tip: {
x: 0,
y: 200
},
fold: {
x: -135,
y: 233
},
time: {
x: -69,
y: 225
},
zhuafen: {
x: -66,
y: 305
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 400,
y: -84,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -600,
y: 144,
scale: .8,
pos: {
score: {
x: -445,
y: 125
},
tip: {
x: -340,
y: 67
},
fold: {
x: -552,
y: 99
},
time: {
x: -478,
y: 107
},
zhuafen: {
x: -500,
y: 192
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -430,
y: -84,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
player5: [ {
x: -600,
y: -30,
scale: 1,
pos: {
score: {
x: -445,
y: -45
},
tip: {
x: 0,
y: 50
},
fold: {
x: 0,
y: -44
},
time: {
x: 0,
y: 0
},
zhuafen: {
x: -500,
y: -42
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -200,
y: -248,
scale: 1.2
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 600,
y: 144,
scale: .8,
pos: {
score: {
x: 445,
y: 125
},
tip: {
x: 340,
y: 67
},
fold: {
x: 552,
y: 99
},
time: {
x: 478,
y: 107
},
zhuafen: {
x: 500,
y: 191
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 124,
y: 267,
scale: .8,
pos: {
score: {
x: 260,
y: 300
},
tip: {
x: 280,
y: 200
},
fold: {
x: 148,
y: 233
},
time: {
x: 225,
y: 225
},
zhuafen: {
x: 234,
y: 305
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -365,
y: 267,
scale: .8,
pos: {
score: {
x: -210,
y: 300
},
tip: {
x: -210,
y: 200
},
fold: {
x: -340,
y: 233
},
time: {
x: -263,
y: 225
},
zhuafen: {
x: -256,
y: 305
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 202,
y: 201,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -600,
y: 144,
scale: .8,
pos: {
score: {
x: -445,
y: 125
},
tip: {
x: -340,
y: 67
},
fold: {
x: -552,
y: 99
},
time: {
x: -478,
y: 107
},
zhuafen: {
x: -500,
y: 191
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
default_bg: "public/table/game_bg_dq"
}
});
cc._RF.pop();
}, {} ],
DQ2700Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "7161fcfyhNOsYak4rZdqJTU", "DQ2700Game");
var a, n;
function s(e, i, t) {
i in e ? Object.defineProperty(e, i, {
value: t,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[i] = t;
return e;
}
cc.Class((s(n = {
extends: cc.Component,
editor: {
executionOrder: -1
},
properties: (a = {
_winPlayer: cc.Node,
nodeCard: cc.Node,
nodeXiazhu: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
pokerPrefab: cc.Prefab,
othercards: cc.Node,
opts: cc.Node,
timepos: cc.Node,
poker1Atlas: {
default: null,
type: cc.SpriteAtlas
},
poker2Atlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAltas: {
default: null,
type: cc.SpriteAtlas
},
btnAltas: {
default: null,
type: cc.SpriteAtlas
},
tipAltas: {
default: null,
type: cc.SpriteAtlas
},
gamebegin: cc.Node,
sprTip: cc.Sprite,
waitclock: cc.Node,
othterfolds: cc.Node,
gaipaiTip: cc.Node,
zhuafenNode: cc.Node,
mainPoker: cc.Sprite,
tablefen: cc.Node,
gaipaiNode: cc.Node,
difen: cc.Label,
robNum: cc.Sprite,
btn_lookgaipai: cc.Node,
spine1: cc.Node,
spine2: cc.Node,
tips: cc.Node
}, s(a, "sprTip", cc.Sprite), s(a, "totalZhuafen", cc.Label), s(a, "bignumlos", cc.BitmapFont), 
s(a, "bignumwin", cc.BitmapFont), s(a, "animationNode", cc.Node), s(a, "btn_fanzhu", cc.Node), 
s(a, "reportItemPrefab", cc.Prefab), s(a, "_tipIndex", 0), s(a, "_noChoise", !0), 
s(a, "_turn", 1), s(a, "_idx", 0), a),
onLoad: function() {
var i = e("DQ2700Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "dq",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_4: i.player4,
player_5: i.player5,
set_bg: !0,
location: !1,
show_watch_btn: !1,
default_bg: i.default_bg
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.new_round();
this.initEventHandlers();
this.btn_tishi = this.opts.getChildByName("btn_tishi");
this.btn_chupai = this.opts.getChildByName("btn_chupai");
this.timepoint = this.opts.getChildByName("timepoint").getComponentInChildren(cc.Label);
this.btn_gaipai = this.opts.getChildByName("btn_gaipai");
this.btn_touxiang = this.opts.getChildByName("btn_touxiang");
this.ske = this.spine1.getComponent(sp.Skeleton);
this.ske2 = this.spine2.getComponent(sp.Skeleton);
this.noMove = !0;
this.initPos();
this.anim = this.animationNode.getComponent(cc.Animation);
this.anim.on("finished", this.onFinished, this);
},
onFinished: function() {
this.animationNode.active = !1;
},
initPos: function() {
for (var e = this.nodeJiesuan.getChildByName("results"), i = 0; i < cc.vv.roomMgr.ren; i++) {
this.othterfolds.children[i].x = cc.vv.game.config["player_" + cc.vv.roomMgr.ren][i].pos.fold.x;
this.othterfolds.children[i].y = cc.vv.game.config["player_" + cc.vv.roomMgr.ren][i].pos.fold.y;
this.timepos.children[i].x = cc.vv.game.config["player_" + cc.vv.roomMgr.ren][i].pos.time.x;
this.timepos.children[i].y = cc.vv.game.config["player_" + cc.vv.roomMgr.ren][i].pos.time.y;
this.zhuafenNode.children[i].x = cc.vv.game.config["player_" + cc.vv.roomMgr.ren][i].pos.zhuafen.x;
this.zhuafenNode.children[i].y = cc.vv.game.config["player_" + cc.vv.roomMgr.ren][i].pos.zhuafen.y;
this.tips.children[i].x = cc.vv.game.config["player_" + cc.vv.roomMgr.ren][i].pos.tip.x;
this.tips.children[i].y = cc.vv.game.config["player_" + cc.vv.roomMgr.ren][i].pos.tip.y;
e.children[i].active = !0;
e.children[i].x = cc.vv.game.config["player_" + cc.vv.roomMgr.ren][i].pos.score.x;
e.children[i].y = cc.vv.game.config["player_" + cc.vv.roomMgr.ren][i].pos.score.y;
}
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
this.nodeCard.on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_END, this.touchend, this);
cc.vv.dqMgr = this.node.getComponent("DQ2700Mgr");
var t = e("DQ2700ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.dqMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
initEventHandlers: function() {
var e = this;
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(e) {}), this.node.on("fapai", function(i) {
var t = i.data.pai;
e.begin();
e.fapai(t);
}), this.node.on("paiXu", function(i) {
e.sortCard(i.data.list);
});
this.node.on("jiesuan", function(i) {
e.gaipaiArr = i.data.gaipai;
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
}), this.node.on("chupai", function(i) {
e.chupai(i.data);
}), this.node.on("opera", function(i) {
e.operate(i.data);
}), this.node.on("robMain", function(e) {});
this.node.on("getMain", function(i) {
e.getMain(i.data);
});
this.node.on("getZhungPoker", function(i) {
e.getZhungPoker(i.data);
});
this.node.on("gaipai", function(i) {
e.gaipai(i.data);
});
this.node.on("error", function(e) {
cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("tip", function(i) {
e.tishipai = i.data;
});
this.node.on("pushLun", function(i) {
e.pushLun(i.data);
});
this.node.on("showFriend", function(i) {
e.totalZhuafen.string = i.data.AllFen;
i.data.seatId != e._gongtou && e.showGongYou(i.data.seatId);
});
this.node.on("chaoDi", function(i) {
e._level = i.data.level;
e._power = i.data.power;
});
this.node.on("showClock", function(i) {
e.showClock(i.seatid);
}), this.node.on("showMiners", function(i) {
e.showMiners(i.data);
}), this.node.on("beaginTouxiang", function(i) {
e.Touxiang(i.data);
}), cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay) {
e.new_round();
cc.vv.popMgr.wait("正在恢复桌面", function() {
setTimeout(function() {
cc.vv.net2.quick("stage");
}, 500);
});
}
});
},
isInRect: function(e) {
for (var i = this.nodeCard.childrenCount - 1; i >= 0; --i) {
var t = this.nodeCard.children[i], a = t.getBoundingBoxToWorld(), n = t.getChildByName("button");
if (a.contains(e) && !n.active) {
t.getComponent("DQPoker").setMove(1);
t.isChiose = !0;
return t;
}
}
return null;
},
setAllCardUnSelected: function() {
for (var e = 0; e < this.nodeCard.childrenCount; e++) {
var i = this.nodeCard.children[e].getComponent("DQPoker");
this.selectCard(i, 0);
}
},
selectCard: function(e, i) {
e.setSelect(i);
},
getSelectPaiList: function(e) {
for (var i = [], t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t];
a.getComponent("DQPoker").isSelect() == e && i.push(a);
}
return i;
},
touchstart: function(e) {
e.stopPropagation();
var i = e.getLocation();
if (this.isInRect(i)) return !0;
if (this.getSelectPaiList(1).length > 0) {
this._noChoise = !this._noChoise;
this._noChoise && this.setAllCardUnSelected();
}
return !1;
},
touchmove: function(e) {
e.stopPropagation();
var i = e.getLocation();
this.isInRect(i);
},
touchend: function(e) {
for (var i = 0, t = [], a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (n.isChiose) {
i++;
var s = n.getComponent("DQPoker");
s.setMove(0);
this.selectCard(s, s.isSelect() ? 0 : 1);
n.isChiose = !1;
1 == s.isSelect() && t.push({
value: n.value % 16,
node: n
});
}
}
i > 0 && cc.vv.audioMgr.click();
},
new_round: function() {
this.nodeXiazhu.active = !1;
this.disableButtons();
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeCard.removeAllChildren();
this.othercards.active = !1;
this.opts.active = !1;
cc.vv.roomMgr.stage = null;
this.hideTips();
this.clearAllPoker();
this.waitclock.active = !1;
this.gamebegin.active = !1;
this.isBegin = !1;
cc.vv.roomMgr.stage = null;
this.is_jiaozhu = !1;
this.is_fanzhu = !1;
this.hideZhuafen();
this.mainPoker.spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, 255);
this.tablefen.active = !1;
this.tablefen.getChildByName("fen").getComponent(cc.Label).string = 0;
this.clearPlayerMark();
this.gaipaiNode.active = !1;
this._turn = 1;
this.robNum.spriteFrame = this.tipAltas.getSpriteFrame("x0");
this.btn_lookgaipai.active = !1;
this.sprTip.node.active = !1;
this.totalZhuafen.string = 0;
this._gongyou = 99;
this._gongtou = 99;
this.mainValue = -1;
this.gamestate = "";
this.mainArr = [];
this._idx = 0;
this.mainColor = 99;
this.btn_fanzhu.active = !1;
this.gaipaiTip.active = !1;
this._kuangzhu = 0;
this.canTouxiang = !1;
this.mainSize = 0;
this.robPoke = 99;
this.tishipai = null;
this.gaipaiArr = null;
this.hand = null;
},
hideZhuafen: function() {
for (var e = 0; e < this.zhuafenNode.childrenCount; e++) this.zhuafenNode.children[e].active = !1;
},
hideTips: function() {
for (var e = 0; e < this.tips.childrenCount; e++) {
this.tips.children[e].active = !1;
}
},
disableButtons: function() {
for (var e = this.nodeXiazhu.getChildByName("mainbtns"), i = 0; i < e.childrenCount; i++) {
var t = e.children[i];
t.getComponent(cc.Button).interactable = !1;
var a = t.getChildByName("select"), n = t.getChildByName("num");
a.active = !1;
n.active = !1;
}
this.nodeXiazhu.getChildByName("btn_main1").active = !1;
this.nodeXiazhu.getChildByName("btn_main2").active = !1;
},
begin: function() {},
param: function(e) {
this._fangzhu = e.fangzhu;
this.difen.string = e.difen;
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
}
}, "begin", function() {
this.isBegin || cc.vv.audioMgr.playSFX("ddz/game_begin");
}), s(n, "clearAllPoker", function() {
for (var e = 0; e < this.othterfolds.childrenCount; e++) this.othterfolds.children[e].removeAllChildren();
}), s(n, "clearPoker", function(e) {
this.othterfolds.children[e].removeAllChildren();
}), s(n, "fapai", function(e) {
this.isBegin = !0;
this.hand = e;
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.nodeXiazhu.active = !1;
this.disableButtons();
this.mainArr = [];
this.is_jiaozhu = !1;
this.nodeCard.removeAllChildren();
if (cc.vv.roomMgr.is_replay) {
this.nodeCard.getComponent(cc.Layout).enabled = !1;
this.deal_fapai(e);
} else {
this.unschedule(this.otherTimeUpdate);
this.tip("waitjiaozhu");
this.waitclock.x = 0;
this.waitclock.y = 25;
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 20;
this.schedule(this.otherTimeUpdate, 1);
this.unschedule(this.newPoker);
this.is_jiaozhu = !1;
this.gamestate = "fapai";
this.nodeCard.getComponent(cc.Layout).enabled = !0;
this.nodeCard.getComponent(cc.Layout).spacingX = 20 == e.length ? -104 : -114;
var i = 15 / e.length;
this.schedule(this.newPoker, i, e.length);
}
for (var t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = this.zhuafenNode.children[t];
a.active = !0;
a.getChildByName("fen").getComponent(cc.Label).string = 0;
}
}), s(n, "fapai2", function(e) {
this.isBegin = !0;
20 != e.length && 25 != e.length || (this.hand = e);
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.nodeXiazhu.active = !1;
this.disableButtons();
this.mainArr = [];
this.unschedule(this.newPoker);
this.nodeCard.removeAllChildren();
this.nodeCard.width = 2e3;
this.nodeCard.getComponent(cc.Layout).enabled = !1;
this.deal_fapai(e);
for (var i = 0; i < cc.vv.roomMgr.ren; i++) {
var t = this.zhuafenNode.children[i];
t.active = !0;
t.getChildByName("fen").getComponent(cc.Label).string = 0;
}
}), s(n, "newPoker", function() {
if (this.nodeCard.childrenCount >= this.hand.length) {
this.nodeCard.getComponent(cc.Layout).enabled = !1;
this.nodeCard.width = 2e3;
this._idx = 0;
} else {
var e = this.hand[this._idx++], i = cc.instantiate(this.pokerPrefab), t = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, e);
i.getChildByName("card").getComponent(cc.Sprite).spriteFrame = t;
i.value = e;
if (("fapai" == this.gamestate || "getMain" == this.gamestate) && e % 16 == 7) {
this.mainArr.push(e);
if (this.is_jiaozhu) {
if (!this.is_fanzhu) {
for (var a = !1, n = 7; n <= 55; n++) {
var s = this.isMain(n);
if (2 == s.length && s[0] != this.robPoke) {
this.nodeXiazhu.active = !1;
this.btn_fanzhu.active = !0;
this.tip(null);
a = !0;
}
}
if (!a) {
this.btn_fanzhu.active = !1;
this.tip("waitfanzhu");
}
}
} else this.refreshJiaozhu();
}
this.nodeCard.addChild(i);
for (var c = [], o = 0; o < this.nodeCard.childrenCount; o++) {
i = this.nodeCard.children[o];
c.push(i.value);
}
this.sortCardNode(c);
}
}), s(n, "Touxiang", function() {
this.canTouxiang = !0;
this.btn_touxiang.active = !0;
}), s(n, "refreshJiaozhu", function() {
this.nodeXiazhu.active = !0;
for (var e = this.nodeXiazhu.getChildByName("mainbtns"), i = 0, t = 0, a = 0, n = 0, s = 0; s < this.mainArr.length; s++) {
var c = 0, o = this.mainArr[s], h = e.getChildByName("main" + o);
7 == o ? c = ++i : 23 == o ? c = ++t : 39 == o ? c = ++a : 55 == o && (c = ++n);
h.getComponent(cc.Button).interactable = !0;
h.getChildByName("num").getComponent(cc.Sprite).spriteFrame = this.btnAltas.getSpriteFrame(c + "zhang");
h.getChildByName("num").active = !0;
}
}), s(n, "deal_fapai", function(e) {
var i = this.SortCardList(e);
this.mainArr = [];
for (var t = 0; t < i.length; t++) {
var a = cc.instantiate(this.pokerPrefab);
a.myTag = t;
this.nodeCard.addChild(a);
a.x = 60 * t - 570;
var n = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, i[t]);
a.getChildByName("card").getComponent(cc.Sprite).spriteFrame = n;
a.value = i[t];
i[t] % 16 == 7 && this.mainArr.push(i[t]);
t == i.length - 1 && this.refreshHandCards();
}
cc.vv.roomMgr.stage && (1 == cc.vv.roomMgr.stage.stage || 2 == cc.vv.roomMgr.stage.stage ? this.selectZhu2() : 4 == cc.vv.roomMgr.stage.stage && this.getTip(this.tishipai));
if (28 == e.length || 33 == e.length) {
this.nodeCard.getComponent(cc.Layout).enabled = !0;
this.nodeCard.getComponent(cc.Layout).spacingX = 28 == e.length ? -104 : -114;
this.nodeCard.scale = .75;
}
}), s(n, "clearPlayerMark", function() {
for (var e = 0; e < this._winPlayer.childrenCount; e++) {
var i = this._winPlayer.children[e], t = i.getChildByName("gongtou"), a = i.getChildByName("gongyou");
null != t && t.removeFromParent();
null != a && a.removeFromParent();
}
}), s(n, "showMiners", function(e) {
this._kuangzhu = 1;
this.showGongTou(e.seatId);
}), s(n, "showGongTou", function(e) {
if (99 != e) {
var i = null;
i = "icon_gongtou";
1 == this._kuangzhu && (i = "icon_kuangzhu");
var t = cc.vv.roomMgr.viewChairID(e);
this._gongtou = e;
for (var a = 0; a < cc.vv.roomMgr.ren; a++) {
var n = cc.vv.utils.getChildByTag(this._winPlayer, a), s = this.zhuafenNode.children[a], c = (s.getChildByName("fen").getComponent(cc.Label), 
n.getChildByName("gongtou"));
null != c && c.removeFromParent();
if (n.myTag == t) {
(c = new cc.Node("gongtou")).addComponent(cc.Sprite).spriteFrame = this.btnAltas.getSpriteFrame(i);
n.addChild(c);
var o = cc.v2(0, 50);
if (1 == this._kuangzhu || cc.vv.roomMgr.stage || cc.vv.roomMgr.is_replay) {
c.x = 0;
c.y = 50;
} else {
c.x = 0 - n.x;
c.y = 0 - n.y;
var h = cc.moveTo(1.5, o).easing(cc.easeElasticInOut(1.5)), r = cc.callFunc(function() {
cc.vv.audioMgr.playSFX("ddz/effect/effect_dizhuRole");
});
c.runAction(cc.spawn(h, r));
}
s.active = !1;
} else s.active = !0;
}
}
}), s(n, "showGongYou", function(e) {
if (99 != e) {
var i = cc.vv.roomMgr.viewChairID(e);
this._gongyou = e;
for (var t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = cc.vv.utils.getChildByTag(this._winPlayer, t), n = this.zhuafenNode.children[t].getChildByName("fen").getComponent(cc.Label), s = a.getChildByName("gongyou");
null != s && s.removeFromParent();
if (a.myTag == i) {
n.string = 0;
(s = new cc.Node("gongyou")).addComponent(cc.Sprite).spriteFrame = this.btnAltas.getSpriteFrame("icon_gongyou");
a.addChild(s);
var c = cc.v2(0, 50);
if (cc.vv.roomMgr.stage || cc.vv.roomMgr.is_replay) {
s.x = 0;
s.y = 50;
} else {
s.x = 0 - a.x;
s.y = 0 - a.y;
var o = cc.moveTo(1.5, c).easing(cc.easeElasticInOut(1.5)), h = cc.callFunc(function() {
cc.vv.audioMgr.playSFX("ddz/effect/effect_dizhuRole");
});
s.runAction(cc.spawn(o, h));
}
}
}
}
}), s(n, "tip", function(e) {
if (null != e) {
this.sprTip.spriteFrame = this.tipAltas.getSpriteFrame("tip_" + e);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
}), s(n, "tip2", function(e, i) {
var t = this.tips.children[e];
if (null != i) {
t.getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame("tip_" + i);
t.active = !0;
} else t.active = !1;
}), s(n, "robMain", function(e) {
e.jiaozhu ? this.tip("waitfanzhu") : this.tip("waitjiaozhu");
this.nodeXiazhu.active = !1;
this.disableButtons();
this.is_jiaozhu = e.jiaozhu;
for (var i = 0; i < e.robPeople.length; i++) if (cc.vv.roomMgr.seatid == e.robPeople[i].seatId) {
this.robSelect();
this.tip(null);
}
}), s(n, "getRobPoker", function(e) {
var i = 99;
switch (e) {
case 0:
i = 7;
break;

case 1:
i = 23;
break;

case 2:
i = 39;
break;

case 3:
i = 55;
}
this.robPoke = i;
}), s(n, "getMain", function(e) {
this.btn_fanzhu.active = !1;
this.nodeXiazhu.active = !1;
this.unschedule(this.otherTimeUpdate);
this.waitclock.active = !1;
this.unschedule(this.selfTimeUpdate2);
this.gamestate = "getMain";
var i = this;
this.robPoke = e.pais[0];
7 == e.pais[0] ? this.mainColor = 0 : 23 == e.pais[0] ? this.mainColor = 1 : 39 == e.pais[0] ? this.mainColor = 2 : 55 == e.pais[0] && (this.mainColor = 3);
this.tip(null);
this.hideTips();
var t = cc.vv.roomMgr.viewChairID(e.seatId);
this.mainSize = e.pais.length;
if (1 == e.pais.length) {
this.showGongTou(e.seatId);
this.is_jiaozhu = !0;
this.tip2(t, "jiaozhu");
this.playSFX(e.seatId, "jiaozhu");
if (!cc.vv.roomMgr.is_replay) {
for (var a = !1, n = 7; n <= 55; n++) {
var s = this.isMain(n);
if (2 == s.length && s[0] != this.robPoke) {
this.nodeXiazhu.active = !1;
this.btn_fanzhu.active = !0;
a = !0;
}
}
if (!a) {
this.btn_fanzhu.active = !1;
this.tip("waitfanzhu");
}
}
} else if (2 == e.pais.length) {
this.is_fanzhu = !0;
this.btn_fanzhu.active = !1;
if (this.is_jiaozhu) {
this.tip2(t, "fanzhu");
this.playSFX(e.seatId, "fanzhu");
} else {
this.is_jiaozhu = !0;
this.tip2(t, "jiaozhu");
this.playSFX(e.seatId, "jiaozhu");
}
this._kuangzhu = 1;
}
for (var c = 0; c < cc.vv.roomMgr.ren; c++) {
var o = this.zhuafenNode.children[c];
o.active = c != t;
}
var h = this.getlist();
this.sortCardNode(h);
var r = new cc.Node();
r.addComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, e.pais[0]);
this.node.getChildByName("mgr").addChild(r);
r.y = 100;
r.runAction(cc.sequence(cc.delayTime(.5), cc.spawn(cc.moveTo(.5, cc.v2(-494, 292)), cc.scaleTo(.5, .4)), cc.callFunc(function() {
i.showMainPoker(i.mainColor, i.nodeCard);
i.robNum.spriteFrame = i.tipAltas.getSpriteFrame("x" + e.pais.length);
}), cc.hide(), cc.removeSelf()));
}), s(n, "showMainPoker", function(e, i) {
if (99 != e) {
var t = 0, a = 0, n = 0, s = 0;
switch (e) {
case 0:
t = 2;
a = 14;
n = 7;
s = 2;
break;

case 1:
t = 18;
a = 30;
n = 23;
s = 18;
break;

case 2:
t = 34;
a = 46;
n = 39;
s = 34;
break;

case 3:
t = 50;
a = 62;
n = 55;
s = 50;
}
0 != n && (this.mainPoker.spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, n));
for (var c = 0; c < i.childrenCount; c++) {
var o = i.children[c], h = o.getChildByName("type"), r = h.getComponent(cc.Sprite);
if (o.value >= t && o.value <= a || o.value % 16 == 2 || o.value % 16 == 7) {
o.value == s || o.value == n ? r.spriteFrame = this.tipAltas.getSpriteFrame("typ_zhu") : o.value % 16 == 2 || o.value % 16 == 7 ? r.spriteFrame = this.tipAltas.getSpriteFrame("typ_fu") : r.spriteFrame = this.tipAltas.getSpriteFrame("typ_nomal");
h.active = !0;
} else h.active = !1;
}
}
}), s(n, "robSelect", function() {
this.is_jiaozhu ? this.btn_fanzhu.active = !0 : this.selectZhu();
}), s(n, "selectZhu2", function() {
this.disableButtons();
for (var e = 7; e <= 55; e += 16) {
var i = this.isMain(e), t = this.nodeXiazhu.getChildByName("mainbtns").getChildByName("main" + e), a = t.getChildByName("num").getComponent(cc.Sprite);
if (i.length > 0) if (this.is_jiaozhu) this.is_fanzhu || 2 != i.length || i[0] == this.robPoke || (this.btn_fanzhu.active = !0); else {
this.nodeXiazhu.active = !0;
t.getComponent(cc.Button).interactable = !0;
a.node.active = !0;
a.spriteFrame = this.btnAltas.getSpriteFrame(i.length + "zhang");
}
}
}), s(n, "selectZhu", function() {
this.disableButtons();
for (var e = 7; e <= 55; e += 16) {
var i = this.isMain(e), t = this.nodeXiazhu.getChildByName("mainbtns").getChildByName("main" + e), a = t.getChildByName("num").getComponent(cc.Sprite);
if (i.length > 0) if (this.is_jiaozhu) {
if (!this.is_fanzhu && 2 == i.length && i[0] != this.robPoke) {
this.nodeXiazhu.active = !0;
t.getComponent(cc.Button).interactable = !0;
a.node.active = !0;
a.spriteFrame = this.btnAltas.getSpriteFrame(i.length + "zhang");
}
} else {
this.nodeXiazhu.active = !0;
t.getComponent(cc.Button).interactable = !0;
a.node.active = !0;
a.spriteFrame = this.btnAltas.getSpriteFrame(i.length + "zhang");
}
}
}), s(n, "getZhungPoker", function(e) {
this.gamestate = "getZhungPoker";
var i = cc.vv.roomMgr.viewChairID(e.seatId);
this.tip2(i, null);
this.clearPoker(i);
this.btn_fanzhu.active = !1;
this.unschedule(this.newPoker);
if (cc.vv.roomMgr.seatid == e.seatId) {
this.zhuangPoker = e.pai;
this.gaipaiTip.active = !0;
this.gaipaiTip.getComponentInChildren(cc.Label).string = 0;
this.tip(null);
this.nodeXiazhu.active = !1;
if (cc.vv.roomMgr.is_replay) this.opts.active = !1; else {
this.opts.active = !0;
this.btn_chupai.active = !1;
this.btn_tishi.active = !1;
this.btn_touxiang.active = !1;
this.btn_gaipai.active = !0;
this.timepoint.string = 15;
this.schedule(this.selfTimeUpdate2, 1);
this.btn_gaipai.getComponent(cc.Button).interactable = !1;
this.btn_gaipai.getComponentInChildren(cc.Button).interactable = !1;
this.schedule(this.gaipaiState, 1 / 60);
}
if (null != this.hand) {
for (var t = [], a = 0; a < e.pai.length; a++) t.push(e.pai[a]);
for (var n = 0; n < this.hand.length; n++) t.push(this.hand[n]);
this.sortCardNode(t);
this.nodeCard.getComponent(cc.Layout).enabled = !0;
this.nodeCard.scale = .75;
}
} else {
null != this.hand && this.sortCardNode(this.hand);
this.nodeXiazhu.active = !1;
this.tip("waitkoupai");
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[i].x;
this.waitclock.y = this.timepos.children[i].y;
}
}), s(n, "gaipaiState", function() {
var e = this.getSelectPaiList(1);
this.gaipaiTip.active = !0;
this.btn_gaipai.getComponent(cc.Button).interactable = 8 == e.length;
this.btn_gaipai.getComponentInChildren(cc.Button).interactable = 8 == e.length;
this.gaipaiTip.getComponentInChildren(cc.Label).string = e.length;
}), s(n, "getlist", function() {
for (var e = [], i = 0; i < this.nodeCard.childrenCount; i++) e.push(this.nodeCard.children[i].value);
return e;
}), s(n, "gaipai", function(e) {
this.gamestate = "gaipai";
this.tip(null);
this.gaipaiArr = e.hand;
this.tmpGaiPaiArr = this.gaipaiArr;
if (cc.vv.roomMgr.seatid == e.seatId) {
this.initPoker();
this.unschedule(this.gaipaiState);
this.removePoker(this.nodeCard, e.hand);
this.hand = this.getlist();
this.nodeCard.getComponent(cc.Layout).enabled = !1;
this.nodeCard.scale = 1;
this.nodeCard.width = 2e3;
this.opts.active = !1;
this.unschedule(this.selfTimeUpdate2);
this.btn_gaipai.active = !1;
this.gaipaiTip.active = !1;
this.nodeXiazhu.active = !1;
this.refreshHandCards();
this.setAllCardUnSelected();
} else {
this.waitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
var i = this.getlist();
this.sortCardNode(i);
}
if (!cc.vv.roomMgr.is_replay && !this.is_fanzhu) {
for (var t = !1, a = 7; a <= 55; a++) {
var n = this.isMain(a);
if (2 == n.length && n[0] != this.robPoke) {
this.nodeXiazhu.active = !1;
this.btn_fanzhu.active = !0;
t = !0;
}
}
if (!t) {
this.btn_fanzhu.active = !1;
this.tip("waitfanzhu");
}
}
}), s(n, "showChupaiTip", function(e) {
for (var i = new cc.Color(150, 150, 150), t = this.getlist(), a = 0; a < e.length; a++) for (var n = 0; n < t.length; n++) if (e[a] == t[n]) {
t.splice(n, 1);
break;
}
for (var s = 0; s < t.length; s++) for (var c = 0; c < this.nodeCard.childrenCount; c++) {
var o = this.nodeCard.children[c], h = o.getChildByName("card"), r = o.getChildByName("button");
r.width = 4 == cc.vv.roomMgr.ren ? 50 : 60;
var l = o.getComponent("DQPoker");
if (o.value == t[s]) {
h.color = i;
r.active = !0;
c == this.nodeCard.childrenCount - 1 && (r.width = 162);
1 == l.isSelect() && this.setAllCardUnSelected();
}
}
}), s(n, "getTip", function(e) {
if (null != e) {
var i = e.canPai, t = e.canPai2;
this.canPai = e.canPai;
this.canPai2 = e.canPai2;
var a = this.othterfolds.children[cc.vv.roomMgr.ren - 1];
if (0 != a.childrenCount) if (i.length > 0) a.childrenCount < 4 ? this.showChupaiTip(i) : t.length > 0 && t.length >= a.childrenCount && this.showChupaiTip(t); else if (t.length > 0) {
this.showChupaiTip(t);
t.length < a.childrenCount && this.schedule(this.otherCanPai, 1 / 60);
}
}
}), s(n, "otherCanPai2", function() {
for (var e = [], i = [], t = 0; t < this.canPai.length; t++) for (var a = 0; a < this.canPai2.length; a++) if (this.canPai[t] == this.canPai2[a]) {
this.canPai2.splice(a, 1);
break;
}
for (var n = 0; n < this.canPai.length; n++) for (var s = 0; s < this.nodeCard.childrenCount; s++) {
(g = this.nodeCard.children[s]).value == this.canPai[n] && e.push(g);
}
for (var c = 0; c < this.canPai2.length; c++) for (var o = 0; o < this.nodeCard.childrenCount; o++) {
(g = this.nodeCard.children[o]).value == this.canPai2[c] && i.push(g);
}
for (var h = !0, r = 0; r < e.length; r++) if (0 == e[r].y) {
h = !1;
break;
}
if (h) for (var l = 0; l < this.canPai2.length; l++) for (var d = 0; d < i.length; d++) {
var g, u = (g = i[d]).getChildByName("card"), _ = g.getChildByName("button");
if (g.value == this.canPai2[l]) {
u.color = new cc.Color(255, 255, 255);
_.active = !1;
}
}
}), s(n, "otherCanPai", function() {
for (var e = [], i = this.getlist(), t = 0; t < this.canPai2.length; t++) for (var a = 0; a < i.length; a++) if (this.canPai2[t] == i[a]) {
i.splice(a, 1);
break;
}
for (var n = 0; n < this.canPai2.length; n++) for (var s = 0; s < this.nodeCard.childrenCount; s++) {
(l = this.nodeCard.children[s]).value == this.canPai2[n] && e.push(l);
}
for (var c = !0, o = 0; o < e.length; o++) if (0 == e[o].y) {
c = !1;
break;
}
if (c) for (var h = 0; h < i.length; h++) for (var r = 0; r < this.nodeCard.childrenCount; r++) {
var l, d = (l = this.nodeCard.children[r]).getChildByName("card"), g = l.getChildByName("button");
if (l.value == i[h]) {
d.color = new cc.Color(255, 255, 255);
g.active = !1;
}
}
}), s(n, "removePoker", function(e, i) {
for (var t = 0; t < i.length; ++t) for (var a = 0; a < e.childrenCount; ++a) {
var n = e.children[a];
if (i[t] == n.value) {
n.removeFromParent();
break;
}
}
}), s(n, "initPoker", function() {
for (var e = 0; e < this.nodeCard.childrenCount; e++) {
var i = this.nodeCard.children[e];
i.getChildByName("card").color = new cc.Color(255, 255, 255);
i.getChildByName("button").active = !1;
}
}), s(n, "chupai", function(e) {
this.canTouxiang = !1;
var i = cc.vv.roomMgr.viewChairID(e.seatid);
if (0 == i) {
this.tishipai = null;
this.unschedule(this.otherCanPai);
this.setAllCardUnSelected();
this.opts.active = !1;
this.unschedule(this.selfTimeUpdate2);
this.removePoker(this.nodeCard, e.list);
this.refreshHandCards();
this.initPoker();
} else {
this.waitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
this.showChupai(i, e.list);
this.showChupaiType(e);
this.showTableFen(e.list);
this._turn++;
}), s(n, "showTableFen", function(e) {
this.tablefen.active = !0;
for (var i = parseInt(this.tablefen.getChildByName("fen").getComponent(cc.Label).string), t = 0, a = 0; a < e.length; a++) e[a] % 16 == 5 ? t += 5 : e[a] % 16 == 10 ? t += 10 : e[a] % 16 == 13 && (t += 10);
this.tablefen.getChildByName("fen").getComponent(cc.Label).string = i + t;
}), s(n, "showChupai", function(e, i) {
this.clearPoker(e);
for (var t = this.othterfolds.children[e], a = 0; a < i.length; ++a) {
var n = cc.instantiate(this.pokerPrefab);
n.scale = .6;
if (0 != i[a]) {
var s = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, i[a]);
n.getChildByName("card").getComponent(cc.Sprite).spriteFrame = s;
t.addChild(n);
n.value = i[a];
}
}
this.showMainPoker(this.mainColor, t);
}), s(n, "showChupaiMax", function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = this.othterfolds.children[i];
if (1 == this._turn || 1 == e.sha || 1 == e.daZhu) {
for (var a = 0; a < t.childrenCount; a++) {
t.children[a].getChildByName("max").active = !0;
}
for (var n = 0; n < this.othterfolds.childrenCount; n++) {
var s = this.othterfolds.children[n];
if (n != i) for (var c = 0; c < s.childrenCount; c++) {
s.children[c].getChildByName("max").active = !1;
}
}
}
}), s(n, "showChupaiType", function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.showChupaiMax(e);
if (4 == e.type) {
this.playSFX(e.seatid, "tuolaji");
this.tip2(i, "tuolaji");
} else if (1 == e.sha) {
var t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.animationNode.x = t[i].pos.tip.x;
this.animationNode.y = t[i].pos.tip.y;
this.playSFX(e.seatid, "sha");
cc.vv.audioMgr.playSFX("dq/effect/game_sha");
this.animationNode.active = !0;
this.anim.play("kill");
} else if (1 == e.daZhu) {
this.playSFX(e.seatid, "dazhu");
this.tip2(i, "dazhu");
} else if (1 == e.diaozhu) {
this.playSFX(e.seatid, "diaozhu");
this.tip2(i, "diaozhu");
} else if (1 != this._turn) {
this.playSFX(e.seatid, "dianpai");
this.tip2(i, "dianpai");
} else 2 == e.type ? this.playSFX(e.seatid, "yizhang") : 3 == e.type && this.playSFX(e.seatid, "duizi");
}), s(n, "selfTimeUpdate", function() {
var e = this.nodeXiazhu.getChildByName("timepoint").getComponentInChildren(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.selfTimeUpdate);
}
}), s(n, "selfTimeUpdate2", function() {
var e = parseInt(this.timepoint.string);
e -= 1;
this.timepoint.string = e;
if (e <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.selfTimeUpdate2);
}
}), s(n, "otherTimeUpdate", function() {
var e = this.waitclock.getComponentInChildren(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.otherTimeUpdate);
}
}), s(n, "pushLun", function(e) {
this.unschedule(this.selfTimeUpdate2);
this.unschedule(this.otherTimeUpdate);
this.waitclock.active = !1;
this.opts.active = !1;
this._turn = 1;
var i = cc.vv.roomMgr.viewChairID(e.maxPeople), t = this.zhuafenNode.children[i].getChildByName("fen"), a = parseInt(this.tablefen.getChildByName("fen").getComponent(cc.Label).string);
a > 0 && e.maxPeople != this._gongtou && this.table.seat_emit(i, "win", a);
t.getComponent(cc.Label).string = e.zhuafen;
null != e.AllFen && e.maxPeople != this._gongtou && (this.totalZhuafen.string = e.AllFen);
}), s(n, "showTotalZhuafen", function() {
for (var e = 0, i = 0; i < cc.vv.roomMgr.ren; i++) {
var t = this.zhuafenNode.children[i];
if (i != cc.vv.roomMgr.viewChairID(this._gongtou)) if (99 == this._gongyou) {
e += parseInt(t.getChildByName("fen").getComponent(cc.Label).string);
} else if (i != cc.vv.roomMgr.viewChairID(this._gongyou)) {
e += parseInt(t.getChildByName("fen").getComponent(cc.Label).string);
}
}
this.totalZhuafen.string = e;
}), s(n, "getDiPokerFen", function() {
for (var e = 0, i = 0; i < this.gaipaiArr.length; i++) this.gaipaiArr[i] % 16 == 5 ? e += 5 : this.gaipaiArr[i] % 16 == 10 ? e += 10 : this.gaipaiArr[i] % 16 == 13 && (e += 10);
return e;
}), s(n, "operate", function(e) {
this.tip(null);
if (1 == this._turn) {
this.hideTips();
this.clearAllPoker();
this.tablefen.getChildByName("fen").getComponent(cc.Label).string = 0;
}
this.btn_fanzhu.active = !1;
var i = cc.vv.roomMgr.viewChairID(e.seatId);
this.clearPoker(i);
this.nodeXiazhu.active = !1;
if (cc.vv.roomMgr.seatid == e.seatId) {
this.getTip(this.tishipai);
this.opts.active = !0;
this.btn_chupai.active = !0;
this.btn_gaipai.active = !1;
this.waitclock.active = !1;
this.timepoint.string = 15;
this.schedule(this.selfTimeUpdate2, 1);
this.btn_lookgaipai.active = e.seatId == this._gongtou;
this.btn_touxiang.active = this.canTouxiang;
} else {
this.nodeXiazhu.active = !1;
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[i].x;
this.waitclock.y = this.timepos.children[i].y;
}
}), s(n, "showClock", function(e) {
if (1 == this._turn) {
this.hideTips();
this.clearAllPoker();
this.tablefen.getChildByName("fen").getComponent(cc.Label).string = 0;
}
var i = cc.vv.roomMgr.viewChairID(e);
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.waitclock.scale = .7;
var t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
if (i >= 1) {
this.waitclock.x = t[i].pos.tip.x + 10;
this.waitclock.y = t[i].pos.tip.y + 50;
} else {
this.waitclock.x = -330;
this.waitclock.y = -56;
}
}), s(n, "refreshHandCards", function() {
var e = this.nodeCard.childrenCount;
if (0 != e) {
var i = e > 20 ? 55 : 60, t = e > 20 ? -27.5 : -30;
if (20 == e) {
i = 58;
t = -29;
} else if (28 == e) {
i = 58;
t = -29;
} else if (25 == e || 24 == e || 23 == e) {
i = 48;
t = 0;
} else if (33 == e) {
i = 48;
t = 0;
}
var a = parseInt((e - 1) / 2);
this.nodeCard.children[a].x = t;
for (var n = a + 1; n < e; n++) this.nodeCard.children[n].x = t + (n - a) * i;
for (n = a - 1; n >= 0; n--) this.nodeCard.children[n].x = t + (n - a) * i;
}
}), s(n, "jiesuan", function(e) {
this.unschedule(this.selfTimeUpdate);
this.unschedule(this.otherTimeUpdate);
this.nodeJiesuan.active = !0;
var i = (d = e.list)[cc.vv.roomMgr.seatid].round_score, t = this.nodeJiesuan.getChildByName("bg").getComponent(cc.Sprite), a = this.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), n = null, s = null;
if (i > 0) {
n = "bg_win";
s = "txt_win";
} else if (i < 0) {
n = "bg_lose";
s = "txt_lose";
}
t.spriteFrame = this.jiesuanAltas.getSpriteFrame(n);
a.spriteFrame = this.jiesuanAltas.getSpriteFrame(s);
this.nodeJiesuan.getChildByName("now").getComponent(cc.Label).string = "第" + cc.vv.roomMgr.now + "局";
this.nodeJiesuan.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.roomid;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
this.nodeJiesuan.getChildByName("time").getComponent(cc.Label).string = e.time;
for (var c = 0, o = 0; o < e.zhuaFenArr.length; o++) o != this._gongtou && o != this._gongyou && (c += e.zhuaFenArr[o]);
this.nodeJiesuan.getChildByName("zhuafen").getComponent(cc.Label).string = c;
this.nodeJiesuan.getChildByName("koudifen").getComponent(cc.Label).string = e.kdFen;
this.nodeJiesuan.getChildByName("totalscore").getComponent(cc.Label).string = e.zhuafen;
this.nodeJiesuan.getChildByName("koudifan").getComponent(cc.Label).string = this._power;
this.nodeJiesuan.getChildByName("koudijishu").getComponent(cc.Label).string = e.level;
this.nodeJiesuan.getChildByName("suanfen").getComponent(cc.Label).string = e.suanfen;
for (var h = this.nodeJiesuan.getChildByName("dipai"), r = 0; r < h.childrenCount; r++) {
(l = h.children[r]).active = !1;
}
for (r = 0; r < this.gaipaiArr.length; r++) {
var l;
(l = h.children[r]).getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, this.gaipaiArr[r]);
l.active = !0;
}
var d = this.nodeJiesuan.getChildByName("results");
for (r = 0; r < e.list.length; r++) {
var g = cc.vv.roomMgr.viewChairID(e.list[r].seatid), u = d.children[g].getComponent(cc.Label);
if (cc.vv.utils.numInt(e.list[r].round_score) >= 0) {
u.string = "+" + e.list[r].round_score;
u.font = this.bignumwin;
} else {
u.string = e.list[r].round_score;
u.font = this.bignumlos;
}
this.table.seat_emit(g, "score", e.list[r].user_score);
}
}), s(n, "report", function(e) {
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
null != this.table._winDissroom && (this.table._winDissroom.active = !0);
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
this.table.hide_dismiss_room();
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("wanfa").getComponent(cc.Label).string = "玩法：" + cc.vv.roomMgr.enter.desc;
e.list;
var i = this.nodeReport.getChildByName("list");
i.removeAllChildren();
for (var t = 0; t < e.list.length; ++t) {
var a = {
name: e.list[t].name,
userid: e.list[t].userid,
headimg: e.list[t].headimg,
score: e.list[t].result_score,
dayingjia: e.list[t].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: !1
}, n = cc.instantiate(this.reportItemPrefab);
i.addChild(n);
n.emit("info", a);
0 == cc.vv.roomMgr.viewChairID(e.list[t].seatid) && (this.nodeReport.getChildByName("socre").getComponentInChildren(cc.Label).string = "+" + e.list[t].coins);
}
}), s(n, "stage", function(e) {
this.node.getChildByName("pop").removeAllChildren();
if (null != e.ready) {
cc.vv.roomMgr.stage = e;
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
null == e.round && (cc.vv.roomMgr.now = e.now);
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
if (void 0 != e.mainColor) {
this.getRobPoker(e.mainColor);
this.is_fanzhu = 2 == e.mainSize;
}
switch (e.stage) {
case 1:
case 2:
this.mainColor = e.mainColor;
this.is_jiaozhu = e.jiaozhu;
this._kuangzhu = e.ShowKuangZhu;
this.robNum.spriteFrame = this.tipAltas.getSpriteFrame("x" + e.mainSize);
this.mainSize = e.mainSize;
this.fapai2(e.cards);
e.jiaozhu && this.showGongTou(e.zhuang);
this.showMainPoker(e.mainColor, this.nodeCard);
break;

case 3:
this.mainColor = e.mainColor;
this.is_jiaozhu = e.jiaozhu;
this._kuangzhu = e.ShowKuangZhu;
this.robNum.spriteFrame = this.tipAltas.getSpriteFrame("x" + e.mainSize);
this.mainSize = e.mainSize;
this.showGongTou(e.zhuang);
this.fapai2(e.cards);
this.showMainPoker(e.mainColor, this.nodeCard);
if (cc.vv.roomMgr.seatid == e.zhuang) {
this.opts.active = !0;
this.btn_chupai.active = !1;
this.btn_tishi.active = !1;
this.btn_gaipai.active = !0;
this.timepoint.string = 15;
this.schedule(this.selfTimeUpdate2, 1);
}
break;

case 5:
case 4:
this.mainColor = e.mainColor;
this.is_jiaozhu = e.jiaozhu;
this.gaipaiArr = e.eightPai;
this._kuangzhu = e.ShowKuangZhu;
this.robNum.spriteFrame = this.tipAltas.getSpriteFrame("x" + e.mainSize);
this.mainSize = e.mainSize;
this.tablefen.active = !0;
this.tablefen.getChildByName("fen").getComponent(cc.Label).string = 0;
for (var i = 0; i < e.lastPai.length; ++i) if (null != e.lastPai[i]) {
var t = cc.vv.roomMgr.viewChairID(e.lastPai[i].seatID);
this.showChupai(t, e.lastPai[i].pai);
this.showTableFen(e.lastPai[i].pai);
this._turn++;
}
this.fapai2(e.cards);
this.showGongYou(e.zhuangFriend);
this.showGongTou(e.zhuang);
for (i = 0; i < e.zhuafen.length; i++) {
var a = cc.vv.roomMgr.viewChairID(i), n = this.zhuafenNode.children[a];
n.active = i != e.zhuang;
n.getChildByName("fen").getComponent(cc.Label).string = e.zhuafen[i];
}
this.totalZhuafen.string = e.AllFen;
if (0 != (a = cc.vv.roomMgr.viewChairID(e.chuPaiPeople))) {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[a].x;
this.waitclock.y = this.timepos.children[a].y;
this.clearPoker(a);
}
this.btn_lookgaipai.active = cc.vv.roomMgr.seatid == e.zhuang;
this.showMainPoker(e.mainColor, this.nodeCard);
}
}
}), s(n, "isMain", function(e) {
var i = [];
if (0 != e) {
for (var t = 0; t < this.mainArr.length; t++) e == this.mainArr[t] && i.push(e);
return i;
}
}), s(n, "playSFX", function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "dq/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
}), s(n, "selectMain", function(e) {
var i = this.isMain(e);
if (1 == i.length) {
var t = 0;
null == cc.vv.roomMgr.stage && this._idx <= 5 && 1 == cc.vv.roomMgr.param.touwu && (t = 1);
this.nodeXiazhu.getChildByName("btn_main1").active = !1;
this.nodeXiazhu.getChildByName("btn_main2").active = !1;
cc.vv.net2.quick("getMain", {
list: i,
touwu: t
});
} else if (2 == i.length) if (this.is_jiaozhu) {
this.nodeXiazhu.getChildByName("btn_main1").active = !1;
this.nodeXiazhu.getChildByName("btn_main2").active = !1;
cc.vv.net2.quick("getMain", {
list: i
});
} else {
this.nodeXiazhu.getChildByName("btn_main1").active = !0;
this.nodeXiazhu.getChildByName("btn_main2").active = !0;
}
}), s(n, "MainClickd", function(e, i) {
for (var t = 0; t < 4; t++) {
var a = e.target.parent.children[t];
a.getChildByName("select").acitve = a.name == e.target.name;
}
this.mainValue = parseInt(i);
this.selectMain(this.mainValue);
}), s(n, "onBtnClicked", function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_main1":
var i = 0;
null == cc.vv.roomMgr.stage && this._idx <= 5 && 1 == cc.vv.roomMgr.param.touwu && (i = 1);
(t = []).push(this.mainValue);
cc.vv.net2.quick("getMain", {
list: t,
touwu: i
});
break;

case "btn_main2":
var t;
(t = []).push(this.mainValue);
t.push(this.mainValue);
cc.vv.net2.quick("getMain", {
list: t
});
break;

case "btn_gaipai":
var a = [];
if (8 == (c = this.getSelectPaiList(1)).length) {
for (var n = 0; n < c.length; ++n) {
var s = c[n].value;
a.push(s);
}
cc.vv.net2.quick("gaipai", {
list: a
});
this.btn_gaipai.active = !1;
this.gaipaiTip.active = !1;
} else cc.vv.popMgr.tip("请选择八张牌");
break;

case "btn_chupai":
a = [];
var c = this.getSelectPaiList(1);
for (n = 0; n < c.length; ++n) {
s = c[n].value;
a.push(s);
}
0 == a.length ? cc.vv.popMgr.tip("您必须要打出一张牌") : cc.vv.net2.quick("chupai", {
list: a
});
break;

case "btn_lookgaipai":
this.gaipaiNode.active = !0;
for (n = 0; n < this.gaipaiArr.length; n++) {
this.gaipaiNode.children[n + 1].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, this.gaipaiArr[n]);
}
break;

case "bg_gaipai":
this.gaipaiNode.active = !1;
break;

case "btn_fanzhu":
var o = 0, h = {};
for (n = 7; n <= 55; n += 16) {
var r = this.isMain(n);
if (2 == r.length && r[0] != this.robPoke) {
o++;
h[n] = r;
}
}
if (1 == o) {
this.nodeXiazhu.active = !1;
var l = Object.keys(h);
cc.vv.net2.quick("getMain", {
list: h[l[0]]
});
} else if (o > 1) {
this.nodeXiazhu.active = !0;
this.selectZhu();
}
e.target.active = !1;
break;

case "btn_touxiang":
cc.vv.net2.quick("touXiang");
}
}), s(n, "SortCardList", function(e) {
for (var i = 0; i < e.length; i++) for (var t = 0; t < e.length - i - 1; t++) {
var a = e[t] % 16 * 10 + 1e3 * parseInt(e[t] / 16), n = e[t + 1] % 16 * 10 + 1e3 * parseInt(e[t + 1] / 16);
2 == e[t] && (a = 920);
2 == e[t + 1] && (n = 920);
e[t] % 16 == 2 && (this.mainColor == parseInt(e[t] / 16) ? a = 302100 : a *= 100);
e[t + 1] % 16 == 2 && (this.mainColor == parseInt(e[t + 1] / 16) ? n = 302100 : n *= 100);
e[t] % 16 == 7 && (this.mainColor == parseInt(e[t] / 16) ? a = 30700100 : a *= 1e4);
e[t + 1] % 16 == 7 && (this.mainColor == parseInt(e[t + 1] / 16) ? n = 30700100 : n *= 1e4);
e[t] % 16 == 15 && (a = 1e5 * a + 100);
e[t + 1] % 16 == 15 && (n *= 1e5);
this.mainColor == parseInt(e[t] / 16) && (a += 5e3);
this.mainColor == parseInt(e[t + 1] / 16) && (n += 5e3);
if (a < n) {
var s = e[t], c = e[t + 1];
e[t] = c;
e[t + 1] = s;
}
}
return e;
}), s(n, "sortCardNode", function(e) {
if (null != e) {
var i = this.SortCardList(e);
this.mainArr = [];
this.nodeCard.removeAllChildren();
for (var t = 0; t < i.length; t++) {
var a = cc.instantiate(this.pokerPrefab);
a.myTag = t;
this.nodeCard.addChild(a);
a.x = 60 * t - 570;
var n = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, i[t]);
a.getChildByName("card").getComponent(cc.Sprite).spriteFrame = n;
a.value = i[t];
i[t] % 16 == 7 && this.mainArr.push(i[t]);
t == i.length - 1 && this.refreshHandCards();
}
this.showMainPoker(this.mainColor, this.nodeCard);
}
}), n));
cc._RF.pop();
}, {
DQ2700Const: "DQ2700Const",
DQ2700ReplayMgr: "DQ2700ReplayMgr"
} ],
DQ2700Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "ebe02MWaQ5KbYBz2Xi9Ax/3", "DQ2700Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
initEventHandlers: function() {},
doBegin: function() {
this.dispatchEvent("begin", {
errcode: 0
});
},
doFapai: function(e, i) {
i == cc.vv.roomMgr.seatid && this.dispatchEvent("fapai", {
data: {
pai: e
}
});
},
doSetmain: function(e, i) {
this.dispatchEvent("getMain", {
data: {
pais: e,
seatId: i
}
});
},
doGetZhuangPoker: function(e, i) {
this.dispatchEvent("getZhungPoker", {
data: {
pai: e,
seatId: i
}
});
},
doGaipai: function(e, i) {
this.dispatchEvent("gaipai", {
data: {
hand: e,
seatId: i
}
});
},
doChupai: function(e) {
var i = {
seatid: e.chuPaiPeopleSeatid,
list: e.chupai,
pais: e.pais,
type: e.type,
sha: e.sha,
diaozhu: e.diaoZhu,
daZhu: e.daZhu,
dianPai: e.dianPai
};
this.dispatchEvent("chupai", {
data: i
});
},
operate: function(e) {
this.dispatchEvent("showClock", {
seatid: e.chuPaiPeopleSeatid
});
},
doPushlun: function(e) {
this.dispatchEvent("pushLun", {
data: e
});
},
showMiners: function(e) {
this.dispatchEvent("showMiners", {
data: e
});
},
showFriend: function(e) {
this.dispatchEvent("showFriend", {
data: e
});
}
});
cc._RF.pop();
}, {} ],
DQ2700ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a4e98/0ISBGx6KxTLvSIy3G", "DQ2700ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.dqMgr.doBegin();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.dqMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
return this._actionRecords[this._currentIndex++];
},
takeAction: function() {
var e = this.getNextAction();
if (null == e) return -1;
this._lastAction = e;
if (e.init_score) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.getSeatIndexByID(e.init_score[t].user_id), n = cc.vv.roomMgr.viewChairID(a);
cc.vv.dqMgr.node.getComponent("Table").seat_emit(n, "score", e.init_score[t].score);
}
return .1;
}
if (1 == e.stage) {
cc.vv.dqMgr.doFapai(e.pai, e.seatid);
return .5;
}
if ("setMain" == e.stage) {
cc.vv.dqMgr.doSetmain(e.pais, e.seatid);
return 2;
}
if ("getZhungPoker" == e.stage) {
cc.vv.dqMgr.doGetZhuangPoker(e.pai, e.seatId);
return 2;
}
if ("gaipai" == e.stage) {
cc.vv.dqMgr.doGaipai(e.pai, e.seatId);
return 1;
}
if (5 == e.stage) {
cc.vv.dqMgr.operate(e);
cc.vv.dqMgr.doChupai(e);
return 1;
}
if ("pushLun" == e.stage) {
cc.vv.dqMgr.doPushlun(e);
return 2;
}
if ("showMiners" == e.stage) {
cc.vv.dqMgr.showMiners(e);
return 2;
}
if ("showFriend" == e.stage) {
cc.vv.dqMgr.showFriend(e);
return 2;
}
return "touXiang" == e.stage ? 2 : void 0;
}
});
cc._RF.pop();
}, {} ],
DQPoker: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "2f49btgB0BBvY5VN1PkIG2o", "DQPoker");
cc.Class({
extends: cc.Component,
properties: {
card: cc.Sprite,
type: cc.Sprite,
_value: 255,
_select: 0
},
onLoad: function() {
this.initEventHandlers();
this.type.node.active = !1;
},
initEventHandlers: function() {
var e = this;
this.node.on("fapai", function(i) {
e.fapai(i);
});
this.node.on("trun", function(i) {
e.trun(i);
});
this.node.on("flip", function(i) {
e.flip(i);
});
},
fapai: function(e) {
var i = 0;
1 == e.xipai ? e.index >= 0 && e.index <= 4 ? i = 0 : e.index >= 5 && e.index <= 9 ? i = 4 : e.index >= 10 && e.index <= 14 ? i = 8 : e.index >= 15 && e.index <= 19 && (i = 12) : i = e.index / 2;
this.node.runAction(cc.sequence(cc.hide(), cc.delayTime(.15 * i), cc.show(), cc.callFunc(function() {
cc.vv.audioMgr.playSFX("nn/flop");
}), cc.sequence(cc.moveTo(.15, cc.v2(60 * e.index - 650)), cc.callFunc(function() {})), cc.delayTime(.15), cc.callFunc(function() {
e.callback && e.callback(e.index);
}, this)));
},
flip: function(e) {
var i = this;
if (255 == this._value) {
var t = i.node.scale;
i.node.runAction(cc.sequence(cc.scaleTo(.25, 0, t), cc.callFunc(function() {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
i.node.value = e.value;
}, i), cc.scaleTo(.25, t, t), cc.callFunc(function() {
e.callback && e.callback(e.index);
})));
}
},
trun: function(e) {
var i = this;
if (255 == this._value) {
var t = i.node.scale;
i.node.runAction(cc.sequence(cc.scaleTo(.25, 0, t), cc.callFunc(function() {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}, i), cc.scaleTo(.25, t, t), cc.callFunc(function() {
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type);
})));
}
},
onPaiClicked: function() {
cc.vv.audioMgr.click();
this._select = 1 == this._select ? 0 : 1;
this.node.y = 0 == this._select ? 0 : 20;
},
isSelect: function() {
return this._select;
},
setEnabled: function(e) {
var i = this.node.getComponent(cc.Button);
i || (i = this.node.addComponent(cc.Button));
e ? i.node.on("click", this.onPaiClicked, this) : this.node.removeComponent(cc.Button);
},
setSelect: function(e) {
this._select = e;
this.node.y = 0 == this._select ? 0 : 20;
},
setMove: function(e) {
var i = new cc.Color(150, 150, 150);
0 == e && (i = new cc.Color(255, 255, 255));
this.card.node.color = i;
this.type.node.color = i;
},
setValue: function(e) {
this._value = e;
},
getValue: function() {
return this._value;
},
setType: function(e) {
this.type.node.active = 1 == e;
}
});
cc._RF.pop();
}, {} ],
DSG2100Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "ef13aFVthpEnJvSQ8cagLvY", "DSG2100Const");
cc.Class({
extends: cc.Component,
statics: {
player5: [ {
x: -500,
y: -250,
distance: 130,
toright: 200,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -200,
y: -248,
scale: 1.2
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -535,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -433,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -535,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -433,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 513,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 302,
y: 201,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 558,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 350,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
player8: [ {
x: -500,
y: -250,
distance: 110,
toright: 220,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -380,
y: -275,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -580,
y: -60,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: -70,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 90,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 248,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -286,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -208,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 10,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 85,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: 90,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: -104,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: -115,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: -250,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: -262,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
chat_path: "dsg",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
cuopai: [ {
card: {
x: 0,
y: 0,
scale: 2
}
} ],
selfPoke5: {
x: -75,
y: -250,
distance: 50,
scale: 1
},
selfPoke8: {
x: -240,
y: -276,
distance: 50,
scale: 1
}
}
});
cc._RF.pop();
}, {} ],
DSG2100Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "01a36wSGuxKYYHxuyUbS1/X", "DSG2100Game");
cc.Class({
extends: cc.Component,
properties: {
pokerPrefab: cc.Prefab,
reportItemPrefab: cc.Prefab,
reportItemMinPrefab: cc.Prefab,
pokerAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
btnAtlas: {
default: null,
type: cc.Font
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
btnKaipai: cc.Node,
btncuopai: cc.Node,
btnfanpai: cc.Node,
nodeCard: cc.Node,
nodezhuang: cc.Node,
nodeXiazhu: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeCuopai: cc.Node,
nodeCardone: cc.Node,
NodeWaitclock: cc.Node,
labelScore: cc.Label,
labelRoomwanfa: cc.Label,
sprTip: cc.Sprite,
_feng: 0,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0
},
editor: {
executionOrder: -1
},
onLoad: function() {
cc.winSize.width / cc.winSize.height - 16 / 9 > .1 && (this.node.getChildByName("bgtop").width = cc.winSize.width);
var i = e("DSG2100Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "dsg",
hide_nothing_seat: !0,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_5: i.player5,
player8: i.player8,
cuopai: i.cuopai,
selfPoke_5: i.selfPoke5,
selfPoke_10: i.selfPoke8,
set_bg: !1,
location: !1,
show_watch_btn: !0
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.node_watchgame = this.node.getChildByName("watchgame");
this.startAnimation = this.node.getChildByName("startAnimation");
this.animation = this.startAnimation.getComponent(cc.Animation);
this.initEventHandlers();
this.initEventAniamtion();
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.dsgMgr = this.node.getComponent("DSG2100Mgr");
var t = e("DSG2100ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.dsgMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
watch_game_list: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0; i < e.length; i++) if (0 != e[i].userid) {
var t = cc.vv.roomMgr.viewChairID(e[i].seatid), a = cc.vv.utils.getChildByTag(this._winPlayer, t);
0 != e[i].sitStatus ? a.getChildByName("watch_game").active = !0 : a.getChildByName("watch_game").active = !1;
}
if (this.watch_game()) {
this.new_round();
this.node_watchgame.active = !0;
this.nodeJiesuan.active = !1;
}
},
watch: function(e) {
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (i[t].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("watchgame").active = !0;
var a = this.node.getChildByName("sit");
0 == e.canSit.length ? a.active = !1 : a.active = !0;
}
if (e.userid == cc.vv.userMgr.userid) {
this.tip("zhunbei");
this.new_round();
a.active = !0;
}
},
canSit: function(e) {
var i = this.node.getChildByName("sit");
if (0 == e.canSit.length) i.active = !1; else {
cc.vv.popMgr.alert("有空位置了是否坐入", function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
this.node.getChildByName("sit") && (this.node.getChildByName("sit").active = !1);
}, !0);
i.active = !0;
}
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd()) {
e.new_round();
cc.vv.net2.quick("stage");
}
});
this.node.on("error", function(i) {
e.error(i);
}), this.node.on("canSit", function(i) {
e.canSit(i.data);
});
this.node.on("watch", function(i) {
e.watch(i.data);
});
this.node.on("begin", function() {
e.watch_game_list();
}), this.node.on("user_status_change", function(i) {
e.user_status_change(i.data);
}), this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("fapai_1", function(i) {
e.fapai1Data = i.data;
e.begin();
}), this.node.on("kaiqiang", function(i) {
e.kaiqiang(i.data);
}), this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("fapai_2", function(i) {
e.fapai_2(i.data);
}), this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
if (-1 != i.errcode) e.report(i.data); else {
cc.vv.roomMgr.started = 1;
e.nodeJiesuan.active = !1;
}
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("fanpai", function(i) {
e.fanpai(i.data);
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
},
initEventAniamtion: function() {
this.animation.on("finished", function() {
if (this.node) {
var e = this.fapai1Data;
this.fapai_1(e);
}
}, this);
},
error: function(e) {
-99 == e.errcode ? cc.vv.popMgr.alert("" + e.errmsg, function() {
cc.director.loadScene("hall");
}) : cc.vv.popMgr.tip("" + e.errmsg);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodezhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang");
break;

case "btn_qiangzhuang":
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
var t = parseInt(i);
cc.vv.net2.quick("xiazhu", {
power: t
});
break;

case "btn_cuopai":
this.cuopaiClick();
break;

case "btn_fanpai":
this.fanpaiClick();
break;

case "btn_kaipai":
this.nodeCuopai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.btnKaipai.active = !1;
cc.vv.net2.quick("kaipai");
}
cc.vv.audioMgr.click();
},
new_round: function() {
this.btnKaipai.active = !1;
this.nodezhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.NodeWaitclock.active = !1;
this.nodeCuopai.active = !1;
this.nodeCard.removeAllChildren();
this.nodeCardone.removeAllChildren();
this.node_watchgame.active = !1;
this.NodeWaitclock.getChildByName("time").getComponent(cc.Label).string = 15;
this.isFanPai = !1;
this.isCuopai = !1;
1 != this._zhuang_mode && this.table.seat_emit(null, "dingzhuang", {
seatid: null
});
this._kaipai = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
},
begin: function() {
this.sprTip.node.active = !1;
cc.vv.audioMgr.playSFX("nn/round");
this.animation.play("niu_play");
},
param: function(e) {
this._wanfa = e.wanfa;
this._feng = e.feng;
this._zhuang_mode = e.zhuang;
this._zhuang = 0;
this.zhuang_mode = e.zhuang_mode;
},
ready: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("zhunbei");
this.new_round();
this.table.seat_emit(null, "hideBet");
}
},
fapai_1: function(e) {
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.deal_fapai(0, 3, e, function(e, i) {});
},
fapai_1_stage: function(e, i) {
this.hidetip();
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.show_fapai(0, 3, e, i, function(e, i) {});
},
kaiqiang: function(e) {
this.hidetip();
null != e && this.auto_tips(e.time, "不抢庄");
if (this.isStage) {
if (1 == cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid].qiang) return;
}
switch (this.zhuang_mode) {
case 0:
this.nodezhuang.active = !0;
break;

default:
this.nodezhuang.active = !1;
}
this.watch_game() && (this.nodezhuang.active = !1);
},
show_xiazhu: function() {
if (this.isStage) {
var e = cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid];
if (null == e) return;
if (0 != e.bet) {
this.hidetip();
return;
}
}
if (this.watch_game()) this.nodeXiazhu.active = !1; else {
if (0 != this._feng) {
cc.vv.net2.quick("xiazhu", {
power: this._feng
});
return;
}
this.tip("xiazhu");
this.nodeXiazhu.active = !0;
}
},
xiazhu: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeXiazhu.active = !1;
this.hidetip();
}
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = new cc.Node("BetNode"), a = t.addComponent(cc.Label);
a.font = this.btnAtlas;
a.string = e.power;
t.y = 6;
this.table.seat_emit(i, "bet", {
node: t
});
},
fapai_2: function(e) {
this.auto_tips(e.time, "开牌");
this.hidetip();
this.data = e;
this.NodeWaitclock.active = !0;
this.schedule(this.otherTimeUpdate, 1);
if (3 != this._wanfa) {
this.btncuopai.active = !0;
this.btnfanpai.active = !0;
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !0;
}
if (1 == this.watch_game()) {
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
},
watch_game: function() {
var e = !1, i = cc.vv.roomMgr.table.list;
if (!cc.vv.roomMgr.is_replay) for (var t = cc.vv.roomMgr.guanzhan_table.list, a = 0; a < t.length; a++) 0 != t[a].userid && t[a].userid == cc.vv.userMgr.userid && (e = !0);
for (a = 0; a < i.length; a++) if (0 != i[a].userid && 0 != i[a].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(i[a].seatid) && (e = !0);
}
return e;
},
dingzhuang: function(e) {
var i = this;
this.auto_tips(e.time, "下注最小注");
this._zhuang = e.seatid;
this.nodezhuang.active = !1;
var t = this.watch_game();
this.table.dingzhuang(e, function() {
var a = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: a
});
1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != e.seatid ? 1 != t && i.show_xiazhu() : i.tip("otherxiazhu"));
});
},
kaipai_callback: function(e, i, t, a, n, s) {
if (2 == t) {
var c = e, o = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], h = o[i].pos.card, r = o[i].toright, l = o[i].scale, d = new cc.Node("TypeBg"), g = new cc.Node("TypeNode"), u = new cc.Node("Typebei");
d.addComponent(cc.Sprite).spriteFrame = a - 1 <= 10 ? c.typeAtlas.getSpriteFrame("btn_bg1") : c.typeAtlas.getSpriteFrame("btn_bg3");
var _ = "dsg_" + (a - 1);
g.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(_);
var v = "x" + n;
u.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(v);
d.addChild(g);
d.addChild(u);
u.y = -40;
c.nodeCard.addChild(d);
d.zIndex = 100;
d.scale = l;
d.x = h.x + r - 30;
d.y = h.y - 40;
if (0 == i) {
d.y = h.y - 60;
d.x = h.x + r - 28;
}
if (null != s) {
var p = [], m = !1;
if (null != a && a % 10 == 5) {
p = c.isHaveZuo(s);
m = !0;
} else if (null != a && a % 10 == 0) {
p = c.isHaveNiu(s);
m = !0;
} else m = !1;
for (var f = 0; f < 5; ++f) 1 == m && c.isInArray(p, f);
}
}
},
kaipai: function(e) {
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = e.type;
this.play_dsg_mp3(e.seatid, t);
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("kaipai");
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
this.show_jiaobiao(i);
if (0 == i) {
for (var a = 0; a < 5; ++a) {
var n = {
obj: this,
viewid: i,
index: a,
value: e.pai[a],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate
};
this.send_card_emit(i, a, "trun", n);
}
var s = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (a = 0; a < 5; ++a) {
n = {
obj: this,
viewid: i,
index: a,
type: e.type,
rate: e.rate,
x: s.x + a * s.distance,
y: s.y,
scale: s.scale,
pai: e.pai,
callback: this.kaipai_callback
};
this.send_card_emit(i, a, "shousuo", n);
}
} else for (a = 0; a < 5; ++a) {
n = {
obj: this,
viewid: i,
index: a,
value: e.pai[a],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate,
pai: e.pai,
callback: this.kaipai_callback
};
this.send_card_emit(i, a, "trun", n);
}
}
},
user_status_change: function(e) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) if (0 != i[t].userid) {
if (1 == e.change_item[t]) {
0 == cc.vv.roomMgr.viewChairID(t) && (this._my_isin_game = !0);
}
i[t].sitStatus = e.change_item[t];
}
},
new_real: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0, t = 0, a = 0; a < e.length; a++) {
0 != e[a].userid && t++;
var n = cc.vv.roomMgr.getSeatIndexByID(e[a].userid);
0 != e[a].sitStatus ? i++ : 0 == n && (this._my_isin_game = !1);
}
return t - i;
},
auto_ready: function() {
this.autoready--;
this.nodeJiesuan.getChildByName("btn_ready").getChildByName("lbl").getComponent(cc.Label).string = this.autoready;
if (this.autoready <= 0) {
this.autoready = 0;
this.unschedule(this.auto_ready);
}
},
jiesuan: function(e) {
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
this.autoready = 10;
this.schedule(this.auto_ready, 1);
var i = this;
this.hidetip();
this.nodeCuopai.active = !1;
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
if (!this.isStage || 97 != cc.vv.roomMgr.stage.stage) for (var t = 0; t < cc.vv.roomMgr.real; ++t) {
var a = cc.vv.roomMgr.viewChairID(t);
if (1 != this._kaipai[e.list[t].seatid]) if (e.list[t].seatid == cc.vv.roomMgr.seatid) {
for (var n = 0; n < 3; ++n) {
var s = {
obj: this,
viewid: a,
index: n,
value: e.list[t].hand[n],
type: e.list[t].type,
atlas: this.pokerAtlas,
rate: e.rate
};
i.send_card_emit(a, n, "trun", s);
}
var c = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (n = 0; n < 3; ++n) {
s = {
obj: i,
viewid: a,
index: n,
type: e.list[t].type,
rate: e.list[t].rate,
x: c.x + n * c.distance,
y: c.y,
scale: c.scale,
pai: e.list[t].hand,
callback: this.kaipai_callback
};
i.send_card_emit(a, n, "shousuo", s);
}
} else for (n = 0; n < 3; ++n) {
s = {
obj: i,
viewid: a,
index: n,
value: e.list[t].hand[n],
type: e.list[t].type,
atlas: i.pokerAtlas,
rate: e.rate,
pai: e.list[t].hand,
callback: this.kaipai_callback
};
i.send_card_emit(a, n, "trun", s);
}
}
var o = 0;
for (t = 0; t < e.list.length; t++) 0 != e.list[t].userid && o++;
var h = [], r = cc.vv.roomMgr.table.list, l = 0;
for (n = 0; n < r.length; n++) 0 != r[n].userid && 0 != r[n].sitStatus && (h[l++] = r[n]);
for (t = 0; t < o; ++t) {
a = cc.vv.roomMgr.viewChairID(t);
0 == e.list[t].userSitStatus && i.table.seat_emit(a, "score", e.list[t].user_score);
e.list[t].round_score > 0 ? i.table.seat_emit(a, "win", e.list[t].round_score) : i.table.seat_emit(a, "lost", e.list[t].round_score);
}
var d = this.nodeJiesuan.getChildByName("list");
for (t = 0; t < d.children.length; ++t) d.children[t].active = !1;
var g = -1, u = !0, _ = 0;
for (t = 0; t < o; ++t) {
if (0 == (a = cc.vv.roomMgr.viewChairID(t)) || 1 != u) {
u = !1;
_++;
var v = e.list[t].nickname, p = this.table.seat_img(a);
(y = d.getChildByName("item" + (t - (g + 1)))).active = !0;
y.getChildByName("img").getComponent(cc.Sprite).spriteFrame = p;
y.getChildByName("name").getComponent(cc.Label).string = v;
var m = "dsg_" + (e.list[t].type - 1);
y.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(m);
y.getChildByName("zhuang").active = t == e.zhuang;
var f = y.getChildByName("score").getComponent(cc.Label);
if (e.list[t].round_score > 0) {
f.font = i.winFont;
f.string = "+" + cc.vv.utils.numInt(e.list[t].round_score);
} else if (e.list[t].round_score < 0) {
f.font = i.lostFont;
f.string = cc.vv.utils.numInt(e.list[t].round_score);
} else {
f.font = i.winFont;
f.string = cc.vv.utils.numInt(e.list[t].round_score);
}
if (1 == e.list[t].userSitStatus) {
y.getChildByName("watch").active = !0;
f.string = "-";
} else y.getChildByName("watch").active = !1;
} else g = t;
}
for (t = 0; t < g + 1; ++t) {
var y;
a = cc.vv.roomMgr.viewChairID(t), v = e.list[t].nickname, p = this.table.seat_img(a);
(y = d.getChildByName("item" + (t + _))).active = !0;
y.getChildByName("img").getComponent(cc.Sprite).spriteFrame = p;
y.getChildByName("name").getComponent(cc.Label).string = v;
m = "dsg_" + (e.list[t].type - 1);
y.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(m);
f = y.getChildByName("score").getComponent(cc.Label);
if (e.list[t].round_score > 0) {
f.font = i.winFont;
f.string = "+" + cc.vv.utils.numInt(e.list[t].round_score);
} else if (e.list[t].round_score < 0) {
f.font = i.lostFont;
f.string = cc.vv.utils.numInt(e.list[t].round_score);
} else {
f.font = i.winFont;
f.string = cc.vv.utils.numInt(e.list[t].round_score);
}
if (1 == e.list[t].userSitStatus) {
y.getChildByName("watch").active = !0;
f.string = "-";
} else y.getChildByName("watch").active = !1;
y.getChildByName("zhuang").active = t == e.zhuang;
}
cc.vv.audioMgr.playSFX("nn/chips");
var C = i.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), b = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_left").getComponent(cc.Sprite), w = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_right").getComponent(cc.Sprite), x = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_left").getComponent(cc.Sprite), z = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_right").getComponent(cc.Sprite);
function k(e) {
if (1 == e) {
C.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shengli");
b.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
w.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
x.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
z.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
} else {
C.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shibai");
b.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
w.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
x.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
z.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
}
for (t = 0; t < o; t++) {
if (0 == (a = cc.vv.roomMgr.viewChairID(e.list[t].seatid))) if (e.list[t].round_score < 0) {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3, i);
k(0);
} else {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3, i);
k(1);
}
}
if (1 == this.watch_game()) {
C.spriteFrame = i.jiesuanAtlas.getSpriteFrame("guanzhan");
b.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
w.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
x.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
z.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
}
function M() {
i.nodeJiesuan.active = !0;
}
var j = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
cc.vv.roomMgr.is_replay ? setTimeout(function() {
M();
}, 5e3) : setTimeout(function() {
M();
}, 2e3);
for (t = 0; t < o; t++) {
var N = cc.callFunc(function() {});
if (e.list[t].seatid != this._zhuang) if (e.list[t].round_score < 0) {
var S = cc.vv.roomMgr.viewChairID(e.list[t].seatid), F = cc.vv.roomMgr.viewChairID(this._zhuang);
this.playBetByXY(this._winPlayer, j[S].x, j[S].y, j[F].x, j[F].y, 10, N);
} else if (e.list[t].round_score > 0) {
S = cc.vv.roomMgr.viewChairID(this._zhuang), F = cc.vv.roomMgr.viewChairID(e.list[t].seatid);
this.playBetByXY(this._winPlayer, j[S].x, j[S].y, j[F].x, j[F].y, 10, N);
}
}
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
report: function(e) {
this.nodeCuopai.active = !1;
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.nodeReport.getChildByName("otherScore").getComponent(cc.Label).string = "其他:" + e.otherScore;
this.labelRoomwanfa.string = "玩法：" + e.desc;
for (var i, t = 0, a = 0; a < e.list.length; a++) 0 == e.list[a].hasJoinedBattle && t++;
this.table.hide_dismiss_room();
(i = cc.vv.roomMgr.real - t <= 5 ? this.nodeReport.getChildByName("list1") : this.nodeReport.getChildByName("list2")).removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
var n = 0;
for (a = 0; a < e.list.length; ++a) e.list[a].result_score > n && (n = e.list[a].result_score);
var s = 0;
for (a = 0; a < e.list.length; ++a) if (e.list[a].result_score < s) {
s = e.list[a].result_score;
a;
}
var c = 0;
for (a = 0; a < e.list.length; ++a) e.list[a].userid > 0 && c++;
c = cc.vv.roomMgr.ren;
for (a = 0; a < c; ++a) if (0 != e.list[a].userid && 1 == e.list[a].hasJoinedBattle) {
var o, h = cc.vv.roomMgr.viewChairID(a), r = {
name: e.list[a].name,
userid: e.list[a].userid,
headimg: e.list[a].headimg,
score: e.list[a].result_score,
dayingjia: e.list[a].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[a].result_score == s
};
r.datuhao = !1;
o = c - t <= 5 ? cc.instantiate(this.reportItemPrefab) : cc.instantiate(this.reportItemMinPrefab);
i.addChild(o);
o.emit("info", r);
0 == h && (this.labelScore.string = "+" + e.list[a].coins);
}
},
auto_tips: function(e, i) {
var t = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (e <= 0 || null == e) t.active = !1; else {
this.text = i;
this.auto_time = e;
this.unschedule(this.upd_auto_time);
this.schedule(this.upd_auto_time, 1);
t.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !0;
}
},
upd_auto_time: function() {
var e = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (this.auto_time <= 0) {
this.unschedule(this.upd_auto_time);
e.active = !1;
}
this.auto_time--;
e.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
},
qiangzhuang: function(e) {
e.seatid == cc.vv.roomMgr.seatid && (this.nodezhuang.active = !1);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.table.seat_emit(i, "qiangzhuang");
},
stage: function(e) {
this.node.getChildByName("pop").removeAllChildren();
if (null != e.ready) {
this.new_round();
this.watch_game_list();
cc.vv.roomMgr.stage = e;
cc.vv.roomMgr.stage && (this.isStage = !0);
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.now;
this.node.getChildByName("mgr").getChildByName("hud").emit("round");
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
switch (e.stage) {
case 1:
case 2:
this.auto_tips(e.deal_time, "不抢庄");
var i = cc.vv.roomMgr.param.wanfa, t = e.cards;
if (1 == i) t[4] = 0; else if (2 == i) {
t[3] = 0;
t[4] = 0;
}
this.fapai_1_stage({
pai: t
});
this.fapai1Data = e;
for (var a = 0; a < e.bet.length; a++) {
0 == (n = cc.vv.roomMgr.viewChairID(a)) && 0 == e.bet[a].qiang && 2 == e.stage && this.kaiqiang();
}
break;

case 3:
this.auto_tips(e.deal_time, "下注最小注");
this._zhuang = e.zhuang;
var n = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: n
});
this.fapai_1_stage({
pai: e.cards
});
this.fapai1Data = e;
for (var s = e.bet, c = 0; c < s.length; c++) 0 != s[c].bet && this.xiazhu({
seatid: c,
power: s[c].bet
});
if (cc.vv.roomMgr.seatid != e.zhuang) {
this.tip("xiazhu");
this.show_xiazhu();
} else this.tip("otherxiazhu");
break;

case 4:
this.auto_tips(e.deal_time, "开牌");
this._zhuang = e.zhuang;
n = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: n
});
t = cc.vv.utils.deepCopy(e).cards;
this.data = e;
this.data.pai = e.cards;
var o = !1;
for (a = 0; a < e.kaipai.length; a++) {
if (0 == (n = cc.vv.roomMgr.viewChairID(a)) && 0 == e.kaipai[a]) {
o = !0;
if (1 == (i = cc.vv.roomMgr.param.wanfa)) t[2] = 0; else if (3 == i) {
t[0] = 0;
t[1] = 0;
t[2] = 0;
}
}
}
this.fapai_1_stage({
pai: t
});
for (s = e.bet, c = 0; c < s.length; c++) 0 != s[c].bet && this.xiazhu({
seatid: c,
power: s[c].bet
});
if (o) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !0;
this.btncuopai.active = !0;
3 == cc.vv.roomMgr.param.wanfa && (this.btncuopai.active = !1);
if (this.watch_game()) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
}
} else {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
}
this.watch_game() && (this.btnKaipai.active = !1);
break;

case 97:
1 == e.ready && (this.node.getChildByName("watchgame").active = !1);
this._zhuang = e.zhuang;
n = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: n
});
}
this.isStage = !1;
}
},
deal_fapai: function(e, i, t, a) {
var n = this, s = t.pai;
if (null != s) {
for (var c = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], o = [], h = [], r = [], l = 0, d = cc.vv.roomMgr.table.list, g = 0; g < d.length; g++) 0 != d[g].userid && l++;
l = cc.vv.roomMgr.ren;
for (g = 0; g < l; ++g) for (var u = cc.vv.roomMgr.viewChairID(g), _ = 0, v = c[u].pos.card, p = (c[u].scale, 
e); p < i; p++) if (0 == d[g].sitStatus) {
0 == u && (_ = s[p]);
var m = {
obj: n,
viewid: u,
index: p,
time: p,
atlas: n.pokerAtlas,
value: _,
x: v.x + p * c[u].distance,
y: v.y,
scale: v.scale,
callback: a
}, f = {
obj: n,
viewid: u,
index: p,
time: p,
atlas: n.pokerAtlas,
value: _,
x: v.x + p * c[u].distance,
y: v.y,
scale: v.scale,
callback: a
};
(b = cc.instantiate(this.pokerPrefab)).getComponent("NNPoker").node.scale = .8;
h.push(f);
r.push(m);
o.push(b);
this.nodeCard.addChild(b);
b.myTag = m.viewid + "_" + m.index;
}
for (var y = r.length, C = (a = function(e, i) {
for (var t = 0; t < y; t++) {
o[t].zIndex = t;
}
if (0 == e && 2 == i) for (var a = 0; a < y; a++) {
var s = r[a];
0 != s.value && n.send_card_emit(s.viewid, s.index, "trun", s);
}
}, 0); C < y; C++) {
var b;
(b = o[C]).zIndex = y - C;
var w = h[C];
w.value = 0;
5 == cc.vv.roomMgr.ren && (w.time = C);
w.callback = a;
b.emit("fapai", w);
}
}
},
show_fapai: function(e, i, t, a, n) {
var s = this.isStage, c = t.pai;
if (null != c) {
for (var o = cc.vv.roomMgr.table.list, h = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], r = 0; r < cc.vv.roomMgr.ren; ++r) for (var l = cc.vv.roomMgr.viewChairID(r), d = 0, g = h[l].pos.card, u = (h[l].scale, 
e); u < i; u++) if (0 == o[r].sitStatus) {
0 == l && (d = c[u]);
var _ = {
obj: this,
viewid: l,
index: u,
time: u,
atlas: this.pokerAtlas,
value: d,
x: g.x + u * h[l].distance,
y: g.y,
scale: g.scale,
callback: n
}, v = cc.instantiate(this.pokerPrefab);
v.getComponent("NNPoker");
this.nodeCard.addChild(v);
v.myTag = _.viewid + "_" + _.index;
v.emit("show", _);
}
a && 1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu(s) : this.tip("otherxiazhu"));
}
},
tip: function(e) {
if (null != e) {
var i = "tips_" + e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
this.watch_game() && (this.sprTip.node.active = !1);
} else this.sprTip.node.active = !1;
},
hidetip: function() {
this.sprTip.node.active = !1;
},
play_dsg_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "dsg/" + t + "/type_" + (i - 1);
cc.vv.audioMgr.playSFX(a);
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeCard, n);
s && s.emit(t, a);
},
fanpaiClick: function() {
var e = this;
if (!this.isFanPai) {
this.isFanPai = !0;
for (var i = function(i, t, a, n) {
if (0 == t && 2 == a) {
e.btncuopai.active = !1;
e.btnfanpai.active = !1;
e.btnKaipai.active = !0;
}
}, t = 0; t < 3; ++t) {
var a = {
viewid: 0,
obj: this,
type: 0,
index: t,
atlas: e.pokerAtlas,
value: e.data.pai[t],
rate: e.data.rate,
callback: i
};
e.send_card_emit(0, t, "trun", a);
}
}
},
fanpai: function(e) {
for (var i = this, t = function(e, t, a, n) {
i.show_jiaobiao(t);
}, a = 0; a < 3; ++a) {
var n = {
viewid: 0,
obj: this,
type: 0,
index: a,
atlas: i.pokerAtlas,
value: e.pai[a],
callback: t
};
i.send_card_emit(0, a, "trun", n);
}
},
cuopaiClick: function() {
if (!this.isCuopai) {
this.isCuopai = !0;
1 == this._wanfa ? this.cuopaiOnePai() : this.cuopaiTwoPai();
}
},
cuopaiOnePai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var i = cc.vv.game.config.cuopai, t = 0, a = 0, n = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[2],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, s = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(s);
s.scale = 1;
s.zIndex = 0;
s.emit("fapai", n);
var c = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, o = cc.instantiate(this.pokerPrefab), h = o.getChildByName("card");
this.nodeCardone.addChild(o);
h.setPosition(0, 0);
o.scale = 1;
o.zIndex = 0;
o.emit("fapai", c);
h.on("touchmove", function(e) {
var i = e.touch.getDelta(), n = i.x / 2, s = i.y / 2;
t += n;
a += s;
h.setPosition(h.x + n, h.y + s);
}, this);
h.on("touchend", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
h.on("touchcancel", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
},
cuopaiTwoPai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.btnKaipai.active = !1;
var i = cc.vv.game.config.cuopai, t = function(e, i, t, a) {}, a = 0, n = 0, s = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[4],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, c = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(c);
c.scale = 1;
c.emit("fapai", s);
var o = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[3],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, h = cc.instantiate(this.pokerPrefab), r = h.getChildByName("card");
this.nodeCardone.addChild(h);
r.setPosition(0, 0);
h.scale = 1;
h.emit("fapai", o);
var l = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, d = cc.instantiate(this.pokerPrefab), g = d.getChildByName("card");
this.nodeCardone.addChild(d);
g.setPosition(0, 0);
d.scale = 1;
d.emit("fapai", l);
function u() {
r.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
r.setPosition(r.x + t, r.y + s);
}, e);
r.on("touchend", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
r.on("touchcancel", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
}
g.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
g.setPosition(g.x + t, g.y + s);
}, this);
g.on("touchend", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
g.on("touchcancel", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
},
show_jiaobiao: function(e) {
if (1 == this._wanfa) this.send_card_emit(e, 4, "setType", 2); else if (2 == this._wanfa) {
this.send_card_emit(e, 3, "setType", 1);
this.send_card_emit(e, 4, "setType", 2);
}
},
otherTimeUpdate: function() {
var e = this.NodeWaitclock.getChildByName("time").getComponent(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
getVectorRadians: function(e, i) {
var t = t = Math.abs(e) / Math.abs(i), a = 0;
e > 0 && i < 0 ? a = 180 * Math.atan(t) / Math.PI - 90 : e > 0 && i > 0 ? a = 90 - 180 * Math.atan(t) / Math.PI : e < 0 && i < 0 ? a = 180 * -Math.atan(t) / Math.PI - 90 : e < 0 && i > 0 && (a = 180 * Math.atan(t) / Math.PI + 90);
return a;
},
isHaveNiu: function(e) {
for (var i = [], t = [ 0, 0, 0, 0, 0 ], a = 0; a < 5; a++) e[a] < 255 && (t[a] = e[a]);
for (a = 0; a < t.length; a++) for (var n = a + 1; n < t.length; n++) for (var s = n + 1; s < t.length; s++) {
var c = t[a] % 16, o = t[n] % 16, h = t[s] % 16;
c > 10 && (c = 10);
o > 10 && (o = 10);
h > 10 && (h = 10);
if (0 != c || 0 != o || 0 != h) {
if ((c + o + h) % 10 == 0) {
i.push(a);
i.push(n);
i.push(s);
return i;
}
}
}
return i;
},
isHaveZuo: function(e) {
for (var i = [], t = [ 0, 0, 0, 0, 0 ], a = 0; a < 5; a++) e[a] < 255 && (t[a] = e[a]);
for (a = 0; a < t.length; a++) for (var n = a + 1; n < t.length; n++) for (var s = n + 1; s < t.length; s++) {
var c = t[a] % 16, o = t[n] % 16, h = t[s] % 16;
c > 10 && (c = 10);
o > 10 && (o = 10);
h > 10 && (h = 10);
if (c == o && o == h && 0 != c) {
i.push(a);
i.push(n);
i.push(s);
return i;
}
}
return i;
},
isInArray: function(e, i) {
for (var t = 0; t < e.length; t++) if (i === e[t]) return !0;
return !1;
},
onDestroy: function() {
this.animation.off("finished");
cc.loader.setAutoRelease(this, !0);
}
});
cc._RF.pop();
}, {
DSG2100Const: "DSG2100Const",
DSG2100ReplayMgr: "DSG2100ReplayMgr"
} ],
DSG2100Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "2bd3c4XwkhD0YSEWSBjEtdz", "DSG2100Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doFapai: function(e) {
for (var i = e.length, t = 0; t < i; t++) {
var a = cc.vv.roomMgr.param.wanfa;
if (0 == cc.vv.roomMgr.viewChairID(t) && 1 == a) {
var n = e[t];
n[2] = 0;
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
}
}
},
doDingZhuang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doXiaZhu: function(e) {
for (var i = e.length, t = 0; t < i; t++) 0 != e[t] && this.dispatchEvent("xiazhu", {
data: {
seatid: t,
power: e[t]
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
0 == cc.vv.roomMgr.viewChairID(t) && this.dispatchEvent("fanpai", {
data: {
seatid: t,
pai: e[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
DSG2100ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "bef61V4B/tEsrj02XSdLxXf", "DSG2100ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.dsgMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("faPai" == e.action) {
cc.vv.dsgMgr.doFapai(e.data);
return 3;
}
if ("dingZhuang" == e.action) {
cc.vv.dsgMgr.doDingZhuang(e.data);
return 1;
}
if ("xiaZhu" == e.action) {
cc.vv.dsgMgr.doXiaZhu(e.data);
return 2;
}
if ("hand" == e.action) {
cc.vv.dsgMgr.doKaipai(e.data);
return 2;
}
}
});
cc._RF.pop();
}, {} ],
DSG2101Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "0b9a1lp91hMi7waUqLYLVv9", "DSG2101Const");
cc.Class({
extends: cc.Component,
statics: {
player5: [ {
x: -500,
y: -250,
distance: 130,
toright: 200,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -200,
y: -248,
scale: 1.2
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -535,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -535,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 513,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 202,
y: 201,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 558,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
player8: [ {
x: -500,
y: -250,
distance: 110,
toright: 220,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -380,
y: -276,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -580,
y: -60,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: -75,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 60,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 248,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -286,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -208,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 10,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 85,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: 87,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: -104,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: -70,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: -250,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: -262,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
cuopai: [ {
card: {
x: 0,
y: 0,
scale: 2
}
} ],
selfPoke5: {
x: -75,
y: -250,
distance: 50,
scale: 1
},
selfPoke8: {
x: -240,
y: -276,
distance: 50,
scale: 1
}
}
});
cc._RF.pop();
}, {} ],
DSG2101Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e1144mgsu1Eu5IBxengEE8i", "DSG2101Game");
cc.Class({
extends: cc.Component,
properties: {
pokerPrefab: cc.Prefab,
reportItemPrefab: cc.Prefab,
reportItemMinPrefab: cc.Prefab,
pokerAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
btnAtlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
fontBet: {
default: null,
type: cc.Font
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
nodeKaipai: cc.Node,
btncuopai: cc.Node,
btnfanpai: cc.Node,
nodeCard: cc.Node,
nodezhuang: cc.Node,
nodeXiazhu: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeCuopai: cc.Node,
nodeCardone: cc.Node,
NodeWaitclock: cc.Node,
nodeQie: cc.Node,
nodeGuo: cc.Node,
labelScore: cc.Label,
labelRoomwanfa: cc.Label,
labelMax: cc.Label,
labelSmall: cc.Label,
labelFen: cc.Label,
labelGuofen: cc.Label,
sprTip: cc.Sprite,
xiazhuSli: cc.Slider,
_feng: 0,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0
},
editor: {
executionOrder: -1
},
onLoad: function() {
cc.winSize.width / cc.winSize.height - 16 / 9 > .1 && (this.node.getChildByName("bgtop").width = cc.winSize.width);
var i = e("DSG2101Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "jgdsg",
hide_nothing_seat: !0,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_5: i.player5,
player_10: i.player8,
cuopai: i.cuopai,
selfPoke_5: i.selfPoke5,
selfPoke_10: i.selfPoke8,
set_bg: !1,
location: !1,
show_watch_btn: !1
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.startAnimation = this.node.getChildByName("startAnimation");
this.animation = this.startAnimation.getComponent(cc.Animation);
this.initEventHandlers();
this.initEventAniamtion();
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.jgdsgMgr = this.node.getComponent("DSG2101Mgr");
var t = e("DSG2101ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.jgdsgMgr.prepareReplay(cc.vv.roomMgr.jiesuan);
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
beginXiazhu: function(e) {
this.show_Xiazhu = [];
null != e.minXiazhu ? this.show_Xiazhu[0] = e.minXiazhu : this.show_Xiazhu[0] = this.show_min_Xiazhu;
null != e.maxXiazhu ? this.show_Xiazhu[1] = e.maxXiazhu : this.show_Xiazhu[1] = this.show_max_Xiazhu;
this.show_xiazhu();
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd()) {
e.new_round();
cc.vv.net2.quick("stage");
}
});
this.node.on("beginXiazhu", function(i) {
1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != e._zhuang ? e.beginXiazhu(i.data) : e.tip("otherxiazhu"));
}), this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("init_data", function(i) {
e.init_data(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function() {}), this.node.on("kaiqiang", function(i) {
e.kaiqiang(i.data);
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
}), this.node.on("fapai_1", function(i) {
e.fapai1Data = i.data;
e.fapai_1_animation();
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("fapai_2", function(i) {
e.fapai_2(i.data);
}), this.node.on("fanpai", function(i) {
e.fanpai(i.data);
}), this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
cc.vv.roomMgr.jiesuan = i.data;
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
if (-1 != i.errcode) e.report(i.data); else {
cc.vv.roomMgr.started = 1;
e.nodeJiesuan.active = !1;
}
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
},
initEventAniamtion: function() {
this.animation.on("finished", function() {
if (this.node) {
var e = this.fapai1Data;
this.fapai_1(e, !0);
}
}, this);
},
param: function(e) {
this._wanfa = e.wanfa;
this._feng = 0;
this._zhuang_mode = e.zhuang;
this._zhuang = 0;
cc.vv.roomMgr.is_replay || (this.labelGuofen.string = e.guo);
},
init_data: function(e) {
this.labelGuofen.string = e.init_data.guo;
},
ready: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("zhunbei");
this.new_round();
this.table.seat_emit(null, "hideBet");
}
},
kaiqiang: function() {
this.hidetip();
if (this.isStage) {
if (1 == cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid].qiang) return;
}
this.nodezhuang.active = !0;
},
qiangzhuang: function(e) {
e.seatid == cc.vv.roomMgr.seatid && (this.nodezhuang.active = !1);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.table.seat_emit(i, "qiangzhuang");
},
dingzhuang: function(e) {
var i = this;
this._zhuang = e.seatid;
this.nodezhuang.active = !1;
this.table.dingzhuang(e, function() {
var t = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: t
});
});
},
fapai_1_animation: function() {
this.sprTip.node.active = !1;
cc.vv.audioMgr.playSFX("nn/round");
this.animation.play("niu_play");
},
fapai_1: function(e, i) {
this.hidetip();
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.deal_fapai(0, 3, e, i, function(e, i) {});
},
fapai_1_stage: function(e, i) {
this.hidetip();
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.show_fapai(0, 3, e, i, function(e, i) {});
},
deal_fapai: function(e, i, t, a, n) {
var s = this, c = (this.isStage, t.pai);
if (null != c) {
for (var o = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], h = [], r = [], l = [], d = 0; d < cc.vv.roomMgr.real; ++d) for (var g = cc.vv.roomMgr.viewChairID(d), u = 0, _ = o[g].pos.card, v = (o[g].scale, 
e); v < i; v++) {
0 == g && (u = c[v]);
var p = {
obj: s,
viewid: g,
index: v,
time: v,
atlas: s.pokerAtlas,
value: u,
x: _.x + v * o[g].distance,
y: _.y,
scale: _.scale,
callback: n
}, m = {
obj: s,
viewid: g,
index: v,
time: v,
atlas: s.pokerAtlas,
value: u,
x: _.x + v * o[g].distance,
y: _.y,
scale: _.scale,
callback: n
};
(C = cc.instantiate(this.pokerPrefab)).getComponent("NNPoker").node.scale = .8;
r.push(m);
l.push(p);
h.push(C);
this.nodeCard.addChild(C);
C.myTag = p.viewid + "_" + p.index;
}
for (var f = l.length, y = (n = function(e, i) {
if (0 == e && 2 == i) for (var t = 0; t < f; t++) {
var a = l[t];
h[t].zIndex = t;
0 != a.value && s.send_card_emit(a.viewid, a.index, "trun", a);
}
}, 0); y < f; y++) {
var C;
(C = h[y]).zIndex = f - y;
var b = r[y];
b.value = 0;
5 == cc.vv.roomMgr.ren && (b.time = y);
b.callback = n;
C.emit("fapai", b);
}
}
},
show_fapai: function(e, i, t, a, n) {
var s = this.isStage, c = t.pai;
if (null != c) {
for (var o = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], h = 0; h < cc.vv.roomMgr.real; ++h) for (var r = cc.vv.roomMgr.viewChairID(h), l = 0, d = o[r].pos.card, g = (o[r].scale, 
e); g < i; g++) {
0 == r && (l = c[g]);
var u = {
obj: this,
viewid: r,
index: g,
time: g,
atlas: this.pokerAtlas,
value: l,
x: d.x + g * o[r].distance,
y: d.y,
scale: d.scale,
callback: n
}, _ = cc.instantiate(this.pokerPrefab);
_.getComponent("NNPoker");
this.nodeCard.addChild(_);
_.myTag = u.viewid + "_" + u.index;
_.emit("show", u);
}
a && 1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu(s) : this.tip("otherxiazhu"));
}
},
show_xiazhu: function(e) {
if (e) {
if (0 != cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid].bet) {
this.hidetip();
return;
}
}
if (0 == this._feng) {
this.tip("xiazhu");
if (null != this.show_Xiazhu) var i = this.show_Xiazhu[0]; else i = this.show_min_Xiazhu;
if (null != this.show_Xiazhu) var t = this.show_Xiazhu[1]; else t = this.show_max_Xiazhu;
this.labelSmall.string = i;
this.labelMax.string = t;
this.labelFen.string = i;
this.nodeXiazhu.active = !0;
} else cc.vv.net2.quick("xiazhu", {
power: this._feng
});
},
xiazhu: function(e) {
this.hidetip();
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeXiazhu.active = !1;
this.hidetip();
}
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = new cc.Node("BetNode");
t.addComponent(cc.Label);
t.getComponent(cc.Label).string = e.power + "分";
t.getComponent(cc.Label).font = this.fontBet;
this.table.seat_emit(i, "bet", {
node: t
});
},
fapai_2: function(e) {
this.hidetip();
this.data = e;
this.NodeWaitclock.active = !0;
this.schedule(this.otherTimeUpdate, 1);
if (1 != cc.vv.roomMgr.is_replay) if (3 != this._wanfa) {
this.btncuopai.active = !0;
this.btnfanpai.active = !0;
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !0;
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
},
fanpai: function(e) {
for (var i = this, t = function(e, t, a, n) {
i.show_jiaobiao(t);
}, a = 0; a < 3; ++a) {
var n = {
viewid: 0,
obj: this,
type: 0,
index: a,
atlas: i.pokerAtlas,
value: e.pai[a],
callback: t
};
i.send_card_emit(0, a, "trun", n);
}
},
kaipai_callback: function(e, i, t, a, n, s) {
if (2 == t) {
var c = e, o = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], h = o[i].pos.card, r = o[i].toright, l = o[i].scale, d = new cc.Node("TypeBg"), g = new cc.Node("TypeNode"), u = new cc.Node("Typebei");
d.addComponent(cc.Sprite).spriteFrame = a - 1 <= 10 ? c.typeAtlas.getSpriteFrame("btn_bg1") : c.typeAtlas.getSpriteFrame("btn_bg3");
var _ = "dsg_" + (a - 1);
g.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(_);
var v = "x" + n;
u.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(v);
d.addChild(g);
d.addChild(u);
u.y = -40;
c.nodeCard.addChild(d);
d.zIndex = 100;
d.scale = l;
d.x = h.x + r - 30;
d.y = h.y - 40;
if (0 == i) {
d.y = h.y - 60;
d.x = h.x + r - 28;
}
if (null != s) {
var p = [], m = !1;
if (null != a && a % 10 == 5) {
p = c.isHaveZuo(s);
m = !0;
} else if (null != a && a % 10 == 0) {
p = c.isHaveNiu(s);
m = !0;
} else m = !1;
for (var f = 0; f < 5; ++f) 1 == m && c.isInArray(p, f);
}
}
},
kaipai: function(e) {
this.tip("kaipai");
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = e.type;
this.play_dsg_mp3(e.seatid, t);
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
this.show_jiaobiao(i);
if (0 == i) {
for (var a = 0; a < 5; ++a) {
var n = {
obj: this,
viewid: i,
index: a,
value: e.hand[a],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate
};
this.send_card_emit(i, a, "trun", n);
}
var s = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (a = 0; a < 5; ++a) {
n = {
obj: this,
viewid: i,
index: a,
type: e.type,
rate: e.rate,
x: s.x + a * s.distance,
y: s.y,
scale: s.scale,
pai: e.hand,
callback: this.kaipai_callback
};
this.send_card_emit(i, a, "shousuo", n);
}
} else for (a = 0; a < 5; ++a) {
n = {
obj: this,
viewid: i,
index: a,
value: e.hand[a],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate,
pai: e.hand,
callback: this.kaipai_callback
};
this.send_card_emit(i, a, "trun", n);
}
}
},
jiesuan: function(e) {
var i = this;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
if (!this.isStage || 97 != cc.vv.roomMgr.stage.stage) for (var t = 0; t < cc.vv.roomMgr.real; ++t) {
var a = cc.vv.roomMgr.viewChairID(t);
if (1 != this._kaipai[e.list[t].seatid]) if (0 == a) {
for (var n = 0; n < 3; ++n) {
var s = {
obj: this,
viewid: a,
index: t,
value: e.list[t].hand[n],
type: e.list[t].type,
atlas: this.pokerAtlas,
rate: e.rate
};
i.send_card_emit(a, n, "trun", s);
}
var c = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (n = 0; n < 3; ++n) {
s = {
obj: i,
viewid: a,
index: n,
type: e.list[t].type,
rate: e.list[t].rate,
x: c.x + n * c.distance,
y: c.y,
scale: c.scale,
pai: e.list[t].hand,
callback: this.kaipai_callback
};
i.send_card_emit(a, n, "shousuo", s);
}
} else for (n = 0; n < 3; ++n) {
s = {
obj: i,
viewid: a,
index: n,
value: e.list[t].hand[n],
type: e.list[t].type,
atlas: i.pokerAtlas,
rate: e.rate,
pai: e.list[t].hand,
callback: this.kaipai_callback
};
i.send_card_emit(a, n, "trun", s);
}
}
this.labelGuofen.string = e.guo;
this.isQieguo = e.qieguo;
for (t = 0; t < cc.vv.roomMgr.real; ++t) {
a = cc.vv.roomMgr.viewChairID(t);
i.table.seat_emit(a, "score", e.list[t].user_score);
e.list[t].round_score > 0 ? i.table.seat_emit(a, "win", e.list[t].round_score) : i.table.seat_emit(a, "lost", e.list[t].round_score);
}
var o = this.nodeJiesuan.getChildByName("list");
for (t = 0; t < o.children.length; ++t) o.children[t].active = !1;
var h = -1, r = !0, l = 0;
for (t = 0; t < cc.vv.roomMgr.real; ++t) {
if (0 == (a = cc.vv.roomMgr.viewChairID(t)) || 1 != r) {
r = !1;
l++;
a = cc.vv.roomMgr.viewChairID(t);
var d = cc.vv.roomMgr.table.list[t].nickname, g = this.table.seat_img(a);
(v = o.getChildByName("item" + (t - (h + 1)))).active = !0;
v.getChildByName("img").getComponent(cc.Sprite).spriteFrame = g;
v.getChildByName("name").getComponent(cc.Label).string = d;
var u = "dsg_" + (e.list[t].type - 1);
v.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(u);
v.getChildByName("zhuang").active = t == e.zhuang;
var _ = v.getChildByName("score").getComponent(cc.Label);
if (e.list[t].round_score > 0) {
_.font = i.winFont;
_.string = "+" + cc.vv.utils.numInt(e.list[t].round_score);
} else if (e.list[t].round_score < 0) {
_.font = i.lostFont;
_.string = cc.vv.utils.numInt(e.list[t].round_score);
} else {
_.font = i.winFont;
_.string = cc.vv.utils.numInt(e.list[t].round_score);
}
} else h = t;
}
for (t = 0; t < h + 1; ++t) {
var v;
a = cc.vv.roomMgr.viewChairID(t), d = cc.vv.roomMgr.table.list[t].nickname, g = this.table.seat_img(a);
(v = o.getChildByName("item" + (t + l))).active = !0;
v.getChildByName("img").getComponent(cc.Sprite).spriteFrame = g;
v.getChildByName("name").getComponent(cc.Label).string = d;
u = "dsg_" + (e.list[t].type - 1);
v.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(u);
_ = v.getChildByName("score").getComponent(cc.Label);
if (e.list[t].round_score > 0) {
_.font = i.winFont;
_.string = "+" + cc.vv.utils.numInt(e.list[t].round_score);
} else if (e.list[t].round_score < 0) {
_.font = i.lostFont;
_.string = cc.vv.utils.numInt(e.list[t].round_score);
} else {
_.font = i.winFont;
_.string = cc.vv.utils.numInt(e.list[t].round_score);
}
v.getChildByName("zhuang").active = t == e.zhuang;
}
cc.vv.audioMgr.playSFX("nn/chips");
var p = i.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), m = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_left").getComponent(cc.Sprite), f = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_right").getComponent(cc.Sprite), y = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_left").getComponent(cc.Sprite), C = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_right").getComponent(cc.Sprite);
function b(e) {
if (1 == e) {
p.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shengli");
m.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
f.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
y.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
C.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
} else {
p.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shibai");
m.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
f.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
y.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
C.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
}
for (t = 0; t < cc.vv.roomMgr.real; t++) {
if (0 == (a = cc.vv.roomMgr.viewChairID(e.list[t].seatid))) if (e.list[t].round_score < 0) {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3);
b(0);
} else {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3);
b(1);
}
}
function w() {
i.nodeJiesuan.active = !0;
}
var x = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
cc.vv.roomMgr.is_replay ? setTimeout(function() {
w();
}, 5e3) : setTimeout(function() {
w();
}, 2e3);
for (t = 0; t < cc.vv.roomMgr.real; t++) {
var z = cc.callFunc(function() {});
if (e.list[t].seatid != this._zhuang) if (e.list[t].round_score < 0) {
var k = cc.vv.roomMgr.viewChairID(e.list[t].seatid);
this.playBetByXY(this._winPlayer, x[k].x, x[k].y, this.nodeGuo.x, this.nodeGuo.y, 10, z);
} else if (e.list[t].round_score > 0) {
var M = cc.vv.roomMgr.viewChairID(e.list[t].seatid);
this.playBetByXY(this._winPlayer, this.nodeGuo.x, this.nodeGuo.y, x[M].x, x[M].y, 10, z);
}
}
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
report: function(e) {
var i;
this.nodeCuopai.active = !1;
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.labelRoomwanfa.string = "玩法：" + e.desc;
this.table.hide_dismiss_room();
(i = cc.vv.roomMgr.real <= 5 ? this.nodeReport.getChildByName("list1") : this.nodeReport.getChildByName("list2")).removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
for (var t = 0, a = 0; a < e.list.length; ++a) e.list[a].result_score >= t && (t = e.list[a].result_score);
var n = 0;
for (a = 0; a < e.list.length; ++a) if (e.list[a].result_score < n) {
n = e.list[a].result_score;
a;
}
var s = 0;
for (a = 0; a < e.list.length; ++a) e.list[a].userid > 0 && s++;
for (a = 0; a < s; ++a) {
var c, o = cc.vv.roomMgr.viewChairID(a), h = {
zhuang: e.zhuang,
seatid: e.list[a].seatid,
name: e.list[a].name,
userid: e.list[a].userid,
headimg: e.list[a].headimg,
score: e.list[a].result_score,
dayingjia: e.list[a].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[a].result_score == n
};
h.datuhao = !1;
c = s <= 5 ? cc.instantiate(this.reportItemPrefab) : cc.instantiate(this.reportItemMinPrefab);
i.addChild(c);
c.emit("info", h);
0 == o && (this.labelScore.string = "+" + e.list[a].coins);
}
},
stage: function(e) {
this.new_round();
cc.vv.roomMgr.stage = e;
cc.vv.roomMgr.stage && (this.isStage = !0);
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
switch (e.stage) {
case 8:
break;

case 1:
for (var i = 0; i < e.bet.length; i++) {
0 == (t = cc.vv.roomMgr.viewChairID(i)) && 0 == e.bet[i].qiang && this.kaiqiang();
}
break;

case 2:
this.show_max_Xiazhu = e.max;
this.show_min_Xiazhu = e.min;
this._zhuang = e.zhuang;
var t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.fapai1Data = e;
this.fapai_1_stage({
pai: e.cards
}, !0);
break;

case 3:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.fapai1Data = e;
this.fapai_1_stage({
pai: e.cards
}, !0);
for (var a = e.bet, n = 0; n < a.length; n++) 0 != a[n].bet && this.xiazhu({
seatid: n,
power: a[n].bet
});
break;

case 4:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
var s = cc.vv.utils.deepCopy(e).cards;
this.data = e;
this.data.hand = e.cards;
this.data.pai = e.cards;
var c = !1;
for (i = 0; i < e.kaipai.length; i++) {
if (0 == (t = cc.vv.roomMgr.viewChairID(i)) && 0 == e.kaipai[i]) {
c = !0;
var o = cc.vv.roomMgr.param.wanfa;
if (1 == o) s[2] = 0; else if (3 == o) {
s[0] = 0;
s[1] = 0;
s[2] = 0;
}
}
}
this.fapai_1_stage({
pai: s
}, !1);
for (a = e.bet, n = 0; n < a.length; n++) 0 != a[n].bet && this.xiazhu({
seatid: n,
power: a[n].bet
});
if (1 != cc.vv.roomMgr.is_replay) if (3 == this._wanfa) if (c) {
this.nodeKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !0;
} else {
this.nodeKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
hand: e.cards,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
} else if (c) {
this.nodeKaipai.active = !1;
this.btncuopai.active = !0;
this.btnfanpai.active = !0;
} else {
this.nodeKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
hand: e.cards,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
} else {
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
break;

case 97:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
}
this.isStage = !1;
},
new_round: function() {
this.nodeKaipai.active = !1;
this.nodezhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.nodeQie.active = !1;
this.NodeWaitclock.active = !1;
this.nodeCuopai.active = !1;
this.nodeCard.removeAllChildren();
this.nodeCardone.removeAllChildren();
this.NodeWaitclock.getChildByName("time").getComponent(cc.Label).string = 15;
this.isFanPai = !1;
this.isCuopai = !1;
this._kaipai = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
this.isQieguo = 0;
this.xiazhuSli.progress = 0;
this.hidetip();
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodezhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang");
break;

case "btn_qiangzhuang":
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
i = this.labelFen.string;
var t = parseInt(i);
cc.vv.net2.quick("xiazhu", {
power: t
});
break;

case "btn_cuopai":
this.cuopaiClick();
break;

case "btn_fanpai":
this.fanpaiClick();
break;

case "btn_kaipai":
this.nodeCuopai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.nodeKaipai.active = !1;
cc.vv.net2.quick("kaipai");
break;

case "btn_qie":
cc.vv.net2.quick("qieguo");
break;

case "btn_ready":
if (1 == cc.vv.roomMgr.jiesuan.isEnd) cc.vv.net2.quick("report"); else if (0 != this.isQieguo && cc.vv.roomMgr.seatid == this._zhuang) {
this.nodeJiesuan.active = !1;
this.nodeQie.active = !0;
} else this.table.node.emit("jgnnready");
}
cc.vv.audioMgr.click();
},
onChangeClick: function(e) {
var i = parseInt(this.labelSmall.string), t = parseInt(this.labelMax.string), a = t - i, n = 10 * Math.floor((e.progress * a + i) / 10);
t <= 10 && (n = Math.floor(e.progress * a + i));
0 == n && (n = 1);
this.labelFen.string = n;
},
cuopaiClick: function() {
if (!this.isCuopai) {
this.isCuopai = !0;
1 == this._wanfa ? this.cuopaiOnePai() : this.cuopaiTwoPai();
}
},
cuopaiOnePai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var i = cc.vv.game.config.cuopai, t = 0, a = 0, n = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[2],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, s = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(s);
s.scale = 1;
s.emit("fapai", n);
var c = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, o = cc.instantiate(this.pokerPrefab), h = o.getChildByName("card");
this.nodeCardone.addChild(o);
h.setPosition(0, 0);
o.scale = 1;
o.emit("fapai", c);
h.on("touchmove", function(e) {
var i = e.touch.getDelta(), n = i.x / 2, s = i.y / 2;
t += n;
a += s;
h.setPosition(h.x + n, h.y + s);
}, this);
h.on("touchend", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
h.on("touchcancel", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
},
cuopaiTwoPai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var i = cc.vv.game.config.cuopai, t = function(e, i, t, a) {}, a = 0, n = 0, s = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[4],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, c = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(c);
c.scale = 1;
c.zIndex = 0;
c.emit("fapai", s);
var o = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[3],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, h = cc.instantiate(this.pokerPrefab), r = h.getChildByName("card");
this.nodeCardone.addChild(h);
r.setPosition(0, 0);
h.scale = 1;
h.zIndex = 0;
h.emit("fapai", o);
var l = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, d = cc.instantiate(this.pokerPrefab), g = d.getChildByName("card");
this.nodeCardone.addChild(d);
g.setPosition(0, 0);
d.scale = 1;
d.zIndex = 0;
d.emit("fapai", l);
function u() {
r.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
r.setPosition(r.x + t, r.y + s);
}, e);
r.on("touchend", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
r.on("touchcancel", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
}
g.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
g.setPosition(g.x + t, g.y + s);
}, this);
g.on("touchend", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
g.on("touchcancel", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
},
fanpaiClick: function() {
var e = this;
if (!this.isFanPai) {
this.isFanPai = !0;
for (var i = function(i, t, a, n) {
if (0 == t && 2 == a) {
e.btncuopai.active = !1;
e.btnfanpai.active = !1;
e.nodeKaipai.active = !0;
}
}, t = 0; t < 3; ++t) {
var a = {
viewid: 0,
obj: this,
type: 0,
index: t,
atlas: e.pokerAtlas,
value: e.data.pai[t],
rate: e.data.rate,
callback: i
};
e.send_card_emit(0, t, "trun", a);
}
}
},
show_jiaobiao: function(e) {
if (1 == this._wanfa) this.send_card_emit(e, 4, "setType", 2); else if (2 == this._wanfa) {
this.send_card_emit(e, 3, "setType", 1);
this.send_card_emit(e, 4, "setType", 2);
}
},
tip: function(e) {
if (null != e) {
var i = "tips_" + e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
hidetip: function() {
this.sprTip.node.active = !1;
},
play_dsg_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "dsg/" + t + "/type_" + (i - 1);
cc.vv.audioMgr.playSFX(a);
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeCard, n);
s && s.emit(t, a);
},
otherTimeUpdate: function() {
var e = this.NodeWaitclock.getChildByName("time").getComponent(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (0 == i) {
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
getVectorRadians: function(e, i) {
var t = t = Math.abs(e) / Math.abs(i), a = 0;
e > 0 && i < 0 ? a = 180 * Math.atan(t) / Math.PI - 90 : e > 0 && i > 0 ? a = 90 - 180 * Math.atan(t) / Math.PI : e < 0 && i < 0 ? a = 180 * -Math.atan(t) / Math.PI - 90 : e < 0 && i > 0 && (a = 180 * Math.atan(t) / Math.PI + 90);
return a;
},
isHaveNiu: function(e) {
for (var i = [], t = [ 0, 0, 0, 0, 0 ], a = 0; a < 5; a++) e[a] < 255 && (t[a] = e[a]);
for (a = 0; a < t.length; a++) for (var n = a + 1; n < t.length; n++) for (var s = n + 1; s < t.length; s++) {
var c = t[a] % 16, o = t[n] % 16, h = t[s] % 16;
c > 10 && (c = 10);
o > 10 && (o = 10);
h > 10 && (h = 10);
if (0 != c || 0 != o || 0 != h) {
if ((c + o + h) % 10 == 0) {
i.push(a);
i.push(n);
i.push(s);
return i;
}
}
}
return i;
},
isHaveZuo: function(e) {
for (var i = [], t = [ 0, 0, 0, 0, 0 ], a = 0; a < 5; a++) e[a] < 255 && (t[a] = e[a]);
for (a = 0; a < t.length; a++) for (var n = a + 1; n < t.length; n++) for (var s = n + 1; s < t.length; s++) {
var c = t[a] % 16, o = t[n] % 16, h = t[s] % 16;
c > 10 && (c = 10);
o > 10 && (o = 10);
h > 10 && (h = 10);
if (c == o && o == h && 0 != c) {
i.push(a);
i.push(n);
i.push(s);
return i;
}
}
return i;
},
isInArray: function(e, i) {
for (var t = 0; t < e.length; t++) if (i === e[t]) return !0;
return !1;
},
onDestroy: function() {
this.animation.off("finished");
cc.loader.setAutoRelease(this, !0);
}
});
cc._RF.pop();
}, {
DSG2101Const: "DSG2101Const",
DSG2101ReplayMgr: "DSG2101ReplayMgr"
} ],
DSG2101Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "af61bOh2NFBbp+KZNyLJhL4", "DSG2101Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {},
prepareReplay: function(e) {
cc.vv.roomMgr.param.guo = e.guo;
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doFapai: function(e) {
for (var i = e.length, t = 0; t < i; t++) {
var a = cc.vv.roomMgr.param.wanfa;
if (0 == cc.vv.roomMgr.viewChairID(t) && 1 == a) {
var n = e[t];
n[2] = 0;
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
}
}
},
doDingZhuang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doXiaZhu: function(e) {
for (var i = e.length, t = 0; t < i; t++) 0 != e[t] && this.dispatchEvent("xiazhu", {
data: {
seatid: t,
power: e[t]
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
0 == cc.vv.roomMgr.viewChairID(t) && this.dispatchEvent("fanpai", {
data: {
seatid: t,
pai: e[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
DSG2101ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8ad60ancZtNeKu2LuGdQGeo", "DSG2101ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.jgdsgMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("dingZhuang" == e.action) {
cc.vv.jgdsgMgr.doDingZhuang(e.data);
return 1;
}
if ("faPai" == e.action) {
cc.vv.jgdsgMgr.doFapai(e.data);
return 3;
}
if ("xiaZhu" == e.action) {
cc.vv.jgdsgMgr.doXiaZhu(e.data);
return 2;
}
if ("hand" == e.action) {
cc.vv.jgdsgMgr.doKaipai(e.data);
return 2;
}
}
});
cc._RF.pop();
}, {} ],
DSGPoker: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b3c08CZV6JEEoUH5BnwJEan", "DSGPoker");
cc.Class({
extends: cc.Component,
properties: {
card: cc.Sprite,
_value: 255,
type_three: cc.SpriteFrame
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("fapai", function(i) {
e.fapai(i);
});
this.node.on("trun", function(i) {
e.trun(i);
});
this.node.on("kaipai", function(i) {
e._value = i.value;
e.trun(i);
});
this.node.on("show", function(i) {
e.show(i);
});
this.node.on("top", function() {
e.top();
});
this.node.on("shousuo", function(i) {
e.shousuo(i);
});
this.node.on("setType", function(i) {
e.setType(i);
});
},
fapai: function(e) {
var i = this, t = 0;
t = e.time ? .05 * e.time : .05 * e.index;
i.node.runAction(cc.sequence(cc.delayTime(t), cc.callFunc(function() {
if (0 != e.value) {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}
e.iscuopai || cc.vv.audioMgr.playSFX("nn/flop");
}), cc.spawn(cc.moveTo(.05, cc.v2(e.x, e.y)), cc.scaleTo(.05, e.scale)), cc.delayTime(.05), cc.callFunc(function() {
null != e.callback && e.callback(e.viewid, e.index);
}, this)));
},
shousuo: function(e) {
this.node.runAction(cc.sequence(cc.delayTime(.5), cc.spawn(cc.moveTo(.25, cc.v2(e.x, e.y)), cc.scaleTo(.25, e.scale)), cc.delayTime(.1), cc.callFunc(function() {
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type, e.rate, e.pai);
}, this)));
},
show: function(e) {
if (255 == this._value) {
this.node.scale;
var i = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
this.card.spriteFrame = i;
this._value = e.value;
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type);
}
},
top: function() {
this.node.y += 10;
},
trun: function(e) {
var i = this;
if (255 == this._value) {
var t = i.node.scale;
i.node.runAction(cc.sequence(cc.scaleTo(.15, 0, t), cc.callFunc(function() {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}, i), cc.scaleTo(.15, t, t), cc.callFunc(function() {
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type, e.rate, e.pai);
})));
}
},
setType: function(e) {
if (1 == e) {
this.type.active = !0;
this.type.getComponent(cc.Sprite).spriteFrame = this.type_three;
} else this.type.active = !1;
}
});
cc._RF.pop();
}, {} ],
DismissRoomItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "24453QvYnpDvqQGDcXJP1mL", "DismissRoomItem");
cc.Class({
extends: cc.Component,
properties: {
spriteHeadimg: cc.Sprite,
lblName: cc.Label,
lblStatus: cc.Label
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("show", function(i) {
var t = i;
e.spriteHeadimg.spriteFrame = t.headimg;
e.lblName.string = t.name;
e.lblStatus.string = 1 == t.status ? "同意" : "待确认";
});
}
});
cc._RF.pop();
}, {} ],
DismissRoom: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8b6e2oSKl1KSJLM4vcA/I6K", "DismissRoom");
cc.Class({
extends: cc.Component,
properties: {
nodeList: cc.Node,
nodeList2: cc.Node,
context: cc.Label,
disroomItem: cc.Prefab,
time: cc.Label,
btnTongyi: cc.Button,
btnJujue: cc.Button,
_endTime: -1
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("init", function(i) {
e.table = i.table;
}), this.node.on("refuse_dismiss_room", function(i) {
e.node.removeFromParent();
});
this.node.on("agree_dismiss_room", function(i) {
var t = i;
e.show(t.list);
});
this.node.on("try_dismiss_room", function(i) {
var t = !1;
if (!cc.vv.roomMgr.is_replay && null != cc.vv.roomMgr.guanzhan_table) for (var a = cc.vv.roomMgr.guanzhan_table.list, n = 0; n < a.length; n++) 0 != a[n].userid && a[n].userid == cc.vv.userMgr.userid && (t = !0);
if (cc.vv.roomMgr.table) {
var s = cc.vv.roomMgr.table.list;
for (n = 0; n < s.length; n++) if (0 != s[n].userid && 1 == s[n].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(s[n].seatid) && (t = !0);
}
}
e.node.getChildByName("watch_back").active = 1 == t;
var c = i;
e.context.string = c.nickname + " 请求解散";
e._endTime = c.time;
e.show(c.list);
});
},
btn_back: function() {
this.node.active = !1;
},
show: function(e) {
this.nodeList.removeAllChildren();
this.nodeList2.removeAllChildren();
for (var i = 0; i < e.length; ++i) if (0 != e[i].userid) {
e[i].headimg = cc.vv.game.table.seat_img(cc.vv.roomMgr.viewChairID(i));
var t = cc.instantiate(this.disroomItem);
cc.vv.roomMgr.ren > 5 ? this.nodeList2.addChild(t) : this.nodeList.addChild(t);
t.emit("show", e[i]);
if (e[i].userid == cc.vv.userMgr.userid) if (0 != e[i].status) {
this.btnJujue.node.active = !1;
this.btnTongyi.node.active = !1;
} else {
this.btnJujue.node.active = !0;
this.btnTongyi.node.active = !0;
}
}
var a = !1;
if (cc.vv.roomMgr.guanzhan_table) for (var n = cc.vv.roomMgr.guanzhan_table.list, s = 0; s < n.length; s++) 0 != n[s].userid && n[s].userid == cc.vv.userMgr.userid && (a = !0);
if (a) {
this.btnJujue.node.active = !1;
this.btnTongyi.node.active = !1;
}
},
onBtnClicked: function(e, i) {
if (("btn_tongyi" == e.target.name || "btn_jujue" == e.target.name) && cc.vv.roomMgr.guanzhan_table) for (var t = cc.vv.roomMgr.guanzhan_table.list, a = 0; a < t.length; a++) if (t[a].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("btn").active = !1;
this.node.getChildByName("btn_back").active = !1;
cc.vv.popMgr.tip("您是观战玩家无法操作！");
}
switch (e.target.name) {
case "btn_tongyi":
cc.vv.net2.quick("agree_dismiss_room");
break;

case "btn_jujue":
cc.vv.net2.quick("refuse_dismiss_room");
}
},
update: function(e) {
if (this._endTime > 0) {
var i = (this._endTime - Date.now()) / 1e3;
i <= 0 && (this._endTime = -1);
var t = Math.floor(i / 60), a = Math.ceil(i - 60 * t), n = "";
t > 0 && (n += t + "分");
this.time.string = n + a + "秒后自动解散房间";
}
}
});
cc._RF.pop();
}, {} ],
Feedback: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "40e2aWhS2dB8qz7m7GYmbBw", "Feedback");
cc.Class({
extends: cc.Component,
properties: {
textOpinion: cc.EditBox,
textWxCode: cc.EditBox
},
onSendFeedback: function() {
cc.vv.audioMgr.click();
var e = this.textOpinion.string, i = this.textWxCode.string;
if ("" != e && "" != i) if (cc.vv.utils.isEmojiCharacter(e) || cc.vv.utils.isEmojiCharacter(i)) {
this.textOpinion.string = "";
this.textWxCode.string = "";
cc.vv.popMgr.tip("信息不能包含特殊字符");
} else cc.vv.net1.quick("feedback", {
info: e,
wxid: i
}); else cc.vv.popMgr.tip("信息输入不完整");
}
});
cc._RF.pop();
}, {} ],
FitSize: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "50d1a65xjpAnpKhGnIilrZH", "FitSize");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
if ("Pwb_tips" != this.node.name && cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
var e = cc.winSize.width;
this.node.width = e;
}
},
onBtnoClick: function() {
this.node.active = !1;
},
start: function() {}
});
cc._RF.pop();
}, {} ],
G3Plugin: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b6a92QVj91KdrELyD92hRvm", "G3Plugin");
cc.ErrorMsg = {};
var a = function() {
for (var e = arguments.length, i = Array(e), t = 0; t < e; t++) i[t] = arguments[t];
if (window.exceptions != JSON.stringify(i) && cc.vv.userMgr.userid) {
window.exceptions = JSON.stringify(i);
var a = {};
a.userId = cc.vv.userMgr.userid ? cc.vv.userMgr.userid : 0;
a.clientVersion = cc.VERSION;
a.deviceType = cc.vv.utils.getDeviceType();
a.deviceVersion = cc.PUBLISH;
a.deviceTag = "deviceTag";
i[4] ? a.errorInfo = i[4].hasOwnProperty("stack") ? i[4].stack : i : a.errorInfo = i;
var n = JSON.stringify(a);
cc.vv.http.sendRequestUrl(cc.REPORT_SERVER, {
data: n
}, null, "POST");
}
};
if (cc.sys.isNative) {
var n = void 0;
window.__errorHandler && (n = window.__errorHandler);
window.__errorHandler = function() {
a.apply(void 0, arguments);
n && n.apply(void 0, arguments);
};
}
if (cc.sys.isBrowser) {
var s = void 0;
window.onerror && (s = window.onerror);
window.onerror = function() {
a.apply(void 0, arguments);
s && s.apply(void 0, arguments);
};
}
cc.Class({
extends: cc.Component,
properties: {
_android: "scunt.wanshung.thuan.G3Plugin",
_ios: "AppController",
_share_call: null,
_isCapturing: !1
},
onLoad: function() {},
onPowerResult: function(e) {
cc.vv.global.power = e;
},
onLocationResult: function(e, i, t, a, n) {
cc.sys.localStorage.setItem("latitude", i);
cc.sys.localStorage.setItem("longitude", t);
cc.vv.global.latitude = i;
cc.vv.global.longitude = t;
cc.vv.global.citycode = a;
cc.vv.global.address = n.substring(0, n.lastIndexOf(" "));
},
onXianliaoYQ: function(e, i, t, a) {
(i = parseInt(i)).length < 3 || 0 == i || ("hall" == cc.director.getScene().name ? cc.vv.userMgr.join(i, 0, 0) : "login" == cc.director.getScene().name ? cc.vv.global.lastYQroomid = i : cc.vv.global.lastYQroomid = null);
},
onNetworkResult: function(e, i) {
cc.vv.global.net_type = e;
cc.vv.global.net_level = i;
cc.vv.gameNetMgr.dispatchEvent("network");
},
onUserResult: function(e, i) {
cc.log("code = ", e);
switch (e) {
case 1:
var t = "https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxd10ad8e546464feb&secret=771c6e7811f8ce7d9e30a932614eb6bb&code=" + i + "&grant_type=authorization_code";
cc.vv.http.sendRequestUrl(t, "", function(e) {
var i = "https://api.weixin.qq.com/sns/userinfo?access_token=" + (e = JSON.parse(e)).access_token + "&openid=" + e.openid;
cc.vv.http.sendRequestUrl(i, "", function(e) {
cc.vv.userMgr.login(cc.vv.utils.encode(e));
}, "GET");
}, "GET");
break;

case 0:
cc.vv.popMgr.hide();
cc.vv.popMgr.alert("请重新登录");
break;

case -1:
cc.vv.popMgr.hide();
cc.vv.popMgr.alert("您已取消授权登录");
cc.vv.g3Plugin.logout();
break;

case 2:
cc.vv.userMgr.login(i);
}
},
onShoppingResult: function(e, i, t) {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(i);
1 == e && cc.vv.net1.quick("order_purchased", {
no: t
});
},
onShareResult: function(e, i) {
switch (e) {
case 1:
if (this._share_call) {
this._share_call(e, i);
this._share_call = null;
}
}
},
init: function() {
if (cc.sys.isNative) {
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod(this._android, "init", "()V");
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod(this._ios, "init");
}
}
},
vibrate: function(e) {
if (cc.sys.isNative) {
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "vibrate", "(I)V", e);
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "vibrate:", e);
}
},
location: function() {
if (cc.sys.isNative) {
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "location", "()V");
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("IosHelper", "location");
}
},
calculateLineDistance: function(e, i) {
if (void 0 == e || "" == e || "," == e) return -1;
if (void 0 == i || "" == i || "," == i) return -1;
var t = e.split(","), a = i.split(","), n = parseFloat(t[1]), s = parseFloat(t[0]), c = parseFloat(a[1]), o = parseFloat(a[0]), h = Math.PI, r = n * h / 180, l = c * h / 180, d = r - l, g = s * h / 180 - o * h / 180, u = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(d / 2), 2) + Math.cos(r) * Math.cos(l) * Math.pow(Math.sin(g / 2), 2)));
u *= 6378137;
return u = Math.round(1e4 * u) / 1e4;
},
copyText: function(e) {
if (cc.sys.isNative) {
e += "";
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "copy", "(Ljava/lang/String;)V", e);
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("IosHelper", "copy:", e);
}
},
getRoomId: function() {
if (!cc.sys.isNative) return "";
if (cc.sys.os == cc.sys.OS_ANDROID) {
return jsb.reflection.callStaticMethod(this._android, "getRoomid", "()Ljava/lang/String;");
}
if (cc.sys.os == cc.sys.OS_IOS) {
return jsb.reflection.callStaticMethod(this._ios, "getRoomid");
}
},
shareText: function(e, i, t, a) {
if (cc.sys.isNative) {
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "shareText", "(ILjava/lang/String;Ljava/lang/String;)V", e, i, t);
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "shareText:title:text:", e, i, t);
this._share_call = a;
}
},
shareXLText: function(e) {
if (cc.sys.isNative) {
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "shareTextToXL", "(Ljava/lang/String;)V", e);
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "shareTextToXL:text:", 1, e);
}
},
shareXLTimg: function(e) {
if (cc.sys.isNative) {
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "shareImgToXL", "(Ljava/lang/String;)V", e);
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "XLshareImg:text:", 1, e);
}
},
shareXLTUrl: function(e, i, t, a) {
if (cc.sys.isNative) {
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "shareURLToXL", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, i, t, a);
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "XLshareWeb:title:text:imgurl:url:", 1, t, a, e, i);
}
},
shareXLTYaoqing: function(e, i, t, a, n, s) {
if (cc.sys.isNative) {
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "shareYQToXL", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, i, t, a, n, s);
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "XLshareYQ:title:text:imgurl:url:roomid:roomtoken:", 1, n, s, e, a, i, t);
}
},
shareWeb: function(e, i, t, a, n, s) {
if (cc.sys.isNative) {
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "shareWeb", "(ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, i, t, a, n);
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "shareWeb:title:text:imgurl:url:", e, i, t, a, n);
this._share_call = s;
}
},
screenShare: function(e, i) {
if (!this._isCapturing) {
this._isCapturing = !0;
var t = cc.winSize, a = jsb.fileUtils.getWritablePath() + "result_share.jpg";
jsb.fileUtils.isFileExist(a) && jsb.fileUtils.removeFile(a);
var n = new cc.RenderTexture(Math.floor(t.width), Math.floor(t.height), cc.Texture2D.PIXEL_FORMAT_RGBA8888, gl.DEPTH24_STENCIL8_OES);
n.setPosition(cc.v2(t.width / 2, t.height / 2));
n.begin();
cc.director.getRunningScene().visit();
n.end();
n.saveToFile("result_share.jpg", cc.IMAGE_FORMAT_JPEG);
var s = this, c = 0;
setTimeout(function t() {
if (jsb.fileUtils.isFileExist(a)) {
cc.sys.os != cc.sys.OS_ANDROID && cc.sys.os != cc.sys.OS_IOS || (4 == e ? cc.vv.g3Plugin.shareXLTimg(a) : cc.vv.g3Plugin.shareImg(e, "", a, "", i));
s._isCapturing = !1;
} else {
if (++c > 10) {
console.log("time out...");
return;
}
setTimeout(t, 50);
}
}, 50);
}
},
shareImg: function(e, i, t, a, n) {
if (cc.sys.isNative) {
this._share_call = n;
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "shareImg", "(ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", e, i, t, a);
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "shareImg:title:imgurl:url:", e, i, t, a);
}
},
login: function(e) {
cc.log("platfrom = ", e);
if (cc.sys.isNative) {
cc.log("platfrom = ", e);
if (cc.sys.os == cc.sys.OS_ANDROID) {
cc.log("调用微信登录？");
jsb.reflection.callStaticMethod("scunt.wanshung.thuan.WXAPI", "login", "(I)V", e);
}
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "login:", e);
} else cc.log("111");
},
logout: function(e) {
if (cc.sys.isNative) {
cc.sys.os == cc.sys.OS_ANDROID && jsb.reflection.callStaticMethod(this._android, "logout", "(I)V", e);
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "logout:", e);
}
},
shopping: function(e, i) {
if (cc.sys.isNative) {
cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod(this._ios, "iap:no:", e, i);
this._share_call = func;
} else cc.vv.popMgr.hide();
}
});
cc._RF.pop();
}, {} ],
GSJ2500Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d0035LrFM1CmqucSAHhDawg", "GSJ2500Const");
cc.Class({
extends: cc.Component,
statics: {
player3: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 200,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -620,
y: 143,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
threeD: {
card3: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -290,
y: -48,
scale: .6,
distance: [ 0, 74, 74, 75, 72, 72, 72, 72, 72, 72, 72, 74, 75, 74, -952, 75, 76, 76, 72, 72, 72, 72, 72, 72, 72, 74, 75, 75, -958, 77, 76, 76, 72, 72, 72, 72, 72, 72, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -333,
y: 104,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 139,
y: 10,
scale: .6,
distance: [ 0, -4, -4, -2, -4, -2, -2, 110, -4, -4, -4, -4, -4, -4, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -535,
y: -120
}, {
x: -515,
y: -20
}, {
x: -495,
y: 80
}, {
x: -475,
y: 180
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: -464,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -136,
y: 206,
scale: .6,
distance: [ 0, -3, -4, -4, -3, -4, -4, -66, -4, -5, -5, -4, -4, -6, -61, -5, -6, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -55, -55, -58, 325, -52, -52, -54, -54, -56, -57, 326, -52, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -434,
y: 300
}, {
x: -454,
y: 190
}, {
x: -474,
y: 80
}, {
x: -494,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ]
},
chat_path: "mj",
quick_chat: [ {
id: 0,
info: "你太牛啦"
}, {
id: 1,
info: "哈哈，手气真好"
}, {
id: 2,
info: "快点出牌啊"
}, {
id: 3,
info: "今天真高兴"
}, {
id: 4,
info: "这个吃的好"
}, {
id: 5,
info: "你放炮，我不胡"
}, {
id: 6,
info: "你家里是开银行的吗"
}, {
id: 7,
info: "不好意思，我有事要先走一步了"
}, {
id: 8,
info: "你的牌打的太好了"
}, {
id: 9,
info: "大家好，很高心见到各位"
}, {
id: 10,
info: "怎么又断线了，网络怎么这么差啊"
} ],
TIME_ITEM: 100,
TIME_THREE: 100,
TIME_SAIZI: 1e3,
TIME_HOLDS: 1e3,
TIME_HIDE_SAIZI: 3e3,
TIME_DING_ZHUANG: 2e3,
TIME_FRIST_TURE_CHANGE: 4e3,
TIME_FRIST_ACTION: 3e3,
TIME_START: 10
}
});
cc._RF.pop();
}, {} ],
GSJ2500Folds: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "60bfeC7A15Pk73nfCN4iqYr", "GSJ2500Folds");
cc.Class({
extends: cc.Component,
properties: {
_pointers: null,
_folds: null,
_huas: null
},
onLoad: function() {
cc.vv;
},
start: function() {
this.initView();
this.initEventHandler();
},
initView: function() {
this._folds = {};
this._pointers = {};
this._huas = {};
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
var t = e[i];
this._folds[t] = [];
this._pointers[t] = [];
this._huas[t] = [];
}
},
initEventHandler: function() {
this.node.on("game_begin", function(e) {});
this.node.on("login_finished", function(e) {});
this.node.on("game_sync", function(e) {});
this.node.on("game_chupai_notify", function(e) {});
this.node.on("buhua_notify", function(e) {});
this.node.on("guo_notify", function(e) {});
},
change_color_outcrad: function(e) {
this._chupai_pai = e;
var i = cc.vv.mahjongMgr._seats;
for (var t in i) {
var a = i[t].folds;
if (null == a) return;
for (var n = cc.vv.roomMgr.viewChairID(i[t].seatIndex), s = 0; s < a.length; ++s) {
var c = n + "_folds_" + (r = s);
a.length;
if (a[s] == e) {
var o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
}
}
var h = i[t].chipenggang;
if (null == h) return;
for (s = 0; s < h.length; ++s) {
var r = s, l = (h.length, cc.vv.game.majiangTable.getHoldParent(n, "penggangs")), d = (c = n + "_nodeChipenggang_" + r, 
cc.vv.utils.getChildByTag(l, c));
c = n + "_chipenggang_" + r + "_0";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_1";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_2";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_3";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
}
}
},
hideAllFolds: function() {
for (var e = cc.find("Canvas/mgr/game"), i = cc.vv.mahjongMgr._sides, t = 0; t < i.length; ++t) {
var a = i[t];
e.getChildByName(a).getChildByName("folds").getChildByName("list").removeAllChildren();
}
},
hideChupai: function() {
if (-1 != cc.vv.mahjongMgr._turn) if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
var e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn), i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length;
cc.vv.game.majiangTable.hideFolds(e, i);
} else {
e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn);
if (0 == cc.vv.mahjongMgr._seats.length) return;
var t = e + "_chupai_" + (i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length), a = cc.vv.game.majiangTable.getHoldParent(e, "holdschupai");
cc.vv.game.majiangTable.send_card_emit(a, "nodeDestroy", {}, t);
var n = cc.vv.game.majiangTable._chupaiArr, s = n.indexOf(t);
-1 != s && n.splice(s, 1);
}
},
initAllFolds: function() {
var e = cc.vv.mahjongMgr._seats;
for (var i in e) this.initFolds(e[i]);
this.initPointer();
},
initPointer: function() {
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) for (var t = e[i], a = cc.vv.mahjongMgr.getViewidBySide(e[i]), n = this._pointers[t], s = 0; s < n.length; s++) {
var c = n[s];
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", {
isShow: !1
}, c);
}
},
initFolds: function(e) {
e.folds;
},
setSpritePointer: function(e, i, t) {
var a = cc.vv.roomMgr.viewChairID(e);
this.initPointer();
var n = a + "_folds_" + i, s = {
isShow: t
};
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", s, n);
this.setPointers(t, a, n);
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setShandian", {}, n);
},
setPointers: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._pointers[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setFolds: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._folds[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setHua: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._huas[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
}
});
cc._RF.pop();
}, {} ],
GSJ2500Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "6e9582gaV1E87yaTQUUiuU4", "GSJ2500Game");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
cc.vv.log3.debug("GSJ2500Game:onLoad");
cc.vv.audioMgr.playBGM("mj_bg_01");
if (!cc.sys.isNative && cc.sys.isMobile) {
var i = this.node.getComponent(cc.Canvas);
i.fitHeight = !0;
i.fitWidth = !0;
}
if (cc.vv) {
cc.vv.game = this;
var t = e("GSJ2500Const");
cc.vv.game.config = {
type: "3dmj",
name: "gsj",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: t.chat_path,
quick_chat: t.quick_chat,
player_4: t.player4,
player_3: t.player3,
player_2: t.player2,
card_4: t.threeD.card4,
card_3: t.threeD.card3,
card_2: t.threeD.card2,
TIME_ITEM: t.TIME_ITEM,
TIME_THREE: t.TIME_THREE,
TIME_SAIZI: t.TIME_SAIZI,
TIME_HOLDS: t.TIME_HOLDS,
TIME_HIDE_SAIZI: t.TIME_HIDE_SAIZI,
TIME_DING_ZHUANG: t.TIME_DING_ZHUANG,
TIME_FRIST_TURE_CHANGE: t.TIME_FRIST_TURE_CHANGE,
TIME_FRIST_ACTION: t.TIME_FRIST_ACTION,
TIME_START: t.TIME_START,
isTinghougang: !1,
isLianzhuang: !0,
isBaoting: !1,
isGangfen: !0,
set_bg: !1,
location: !0,
isSelectSit: !0,
show_watch_btn: !1,
is_kanhu: !0
};
} else cc.director.loadScene("loading");
},
start: function() {
cc.vv.log3.debug("GSJ2500Game:start");
var i = this;
this.majiangTable = this.node.getComponent("majiangTable");
this.table = this.node.getComponent("Table");
cc.vv.mahjongMgr = this.node.getComponent("GSJ2500Mgr");
cc.vv.folds = this.node.getComponent("GSJ2500Folds");
this._winPlayer = cc.find("Canvas/mgr/players");
this.majiangTable.initView();
this.majiangTable.new_round();
this.initEventHandlers();
cc.vv.roomMgr.is_replay && (cc.vv.mahjongMgr._magicPai = cc.vv.roomMgr.action.init.magicPai);
var t = e("GSJ2500ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.mahjongMgr.prepareReplay(cc.vv.roomMgr.action.init, cc.vv.roomMgr.seatid);
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
for (var t = cc.vv.roomMgr.table.list, a = cc.vv.roomMgr.action.init.score, n = 0; n < t.length; ++n) {
e = cc.vv.roomMgr.getSeatIndexByID(a[n].user_id);
var s = cc.vv.roomMgr.viewChairID(e);
i.table.seat_emit(s, "score", a[n].score);
cc.vv.utils.getChildByTag(i._winPlayer, e).getComponent("Seat").ready(!1);
}
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
i.majiangTable.onGameBeign();
}
};
a.emit("get_open", n);
}
},
initEventHandlers: function() {
var e = this;
this.node.on("game_saizi", function(i) {
e.dispatchEvent("game_kaiju_table");
setTimeout(function() {
e.dispatchEvent("game_saizi_table", i);
}, cc.vv.game.config.TIME_SAIZI);
});
this.node.on("game_magic", function(i) {
e.dispatchEvent("game_magic_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("showAction", i);
});
this.node.on("game_holds", function() {
setTimeout(function() {
e.dispatchEvent("game_holds_table");
}, cc.vv.game.config.TIME_HOLDS);
});
this.node.on("mj_count", function() {
var i = {
data: {
count: cc.vv.mahjongMgr._numOfMJ
}
};
e.dispatchEvent("mj_count_table", i);
});
this.node.on("login_finished", function(i) {
e.dispatchEvent("game_begin_table");
});
this.node.on("game_begin", function() {
e.dispatchEvent("game_begin_table");
setTimeout(function() {
e.dispatchEvent("game_hideSaizi_table");
}, cc.vv.game.config.TIME_HIDE_SAIZI);
setTimeout(function() {
var i = {
data: {
seatid: cc.vv.mahjongMgr._zhuang
}
};
e.dispatchEvent("game_dingzhuang_table", i);
}, cc.vv.game.config.TIME_DING_ZHUANG);
setTimeout(function() {
e.dispatchEvent("game_fristTurnChange_table");
}, cc.vv.game.config.TIME_FRIST_TURE_CHANGE);
setTimeout(function() {
e.dispatchEvent("game_fristShowAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION);
setTimeout(function() {
e.dispatchEvent("game_fristShowTing1Action_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 200);
});
this.node.on("game_playing", function(i) {
e.dispatchEvent("game_playing_table", i);
});
this.node.on("game_chupai", function(i) {
e.dispatchEvent("game_chupai_table", i);
});
this.node.on("game_chupai_notify", function(i) {
e.dispatchEvent("game_chupai_notify_table", i);
});
this.node.on("game_mopai", function(i) {
e.dispatchEvent("game_mopai_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("game_showaction_table", i);
});
this.node.on("jiesuan", function(i) {
i = i.data;
e.dispatchEvent("game_jiesuan_table", i);
});
this.node.on("report", function(i) {
i = i.data;
e.dispatchEvent("game_report_table", i);
});
this.node.on("guo_notify", function(i) {
e.dispatchEvent("guo_notify_table", i);
});
this.node.on("peng_notify", function(i) {
e.dispatchEvent("peng_notify_table", i);
});
this.node.on("chi_notify", function(i) {
e.dispatchEvent("chi_notify_table", i);
});
this.node.on("gang_notify", function(i) {
e.dispatchEvent("gang_notify_table", i);
});
this.node.on("hupai", function(i) {
e.dispatchEvent("hupai_table", i);
});
this.node.on("chupai_limit_notify", function(i) {
e.dispatchEvent("chupai_limit_notify_table", i);
});
this.node.on("bao_ting_push", function(i) {
e.dispatchEvent("bao_ting_push_table", i);
});
this.node.on("buhua_notify", function(i) {
e.dispatchEvent("buhua_notify_table", i);
});
this.node.on("hangang_notify", function(i) {
var t = cc.vv.roomMgr.viewChairID(i);
e.majiangTable.playEfx(t, "play_gang");
e.majiangTable.playSFX(i, "gang");
e.majiangTable.hideOptions();
e.majiangTable.hideGangPaiOpts();
e.majiangTable.hideChipaiOpts();
});
this.node.on("game_sync", function(i) {
e.dispatchEvent("game_sync_table", i);
});
this.node.on("game_action_ting", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting_table", i);
});
this.node.on("game_action_ting1", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting1_table", i);
});
this.node.on("guo_result", function() {
e.dispatchEvent("guo_result_table");
});
this.node.on("view_ting", function(i) {
e.dispatchEvent("view_ting_table", i);
});
this.node.on("guohu_game", function(i) {
e.dispatchEvent("guohu_table", i);
});
this.node.on("hujiaozhuanyi_game", function(i) {
e.dispatchEvent("hujiaozhuanyi_table", i);
});
this.node.on("cheat", function(i) {
i = i.data;
cc.vv.popMgr.open("ShowPai", function(t) {
e.ViewShowPai = t;
e.ViewShowPai.getComponent("ShowPai").show_card(i.list.pai);
});
});
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "game_sync_push":
this.onButtonQieGuo("game_sync_push", {
errcode: 0,
data: {
liupaiCnt: 0,
button: 0,
numofmj: 80,
chuPai: -1,
state: 3,
turn: 0,
zhuang: 0,
seats: [ {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [],
baoting: !1,
wangangs: [],
guohu: !1,
userid: 3208,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
holds: [ 6, 13, 1, 4, 6, 11, 13, 14, 16, 26, 29, 32, 33, 37 ],
pengs: [],
hued: !1,
status: 2
}, {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [],
baoting: !1,
wangangs: [],
userid: 3244,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
pengs: [],
hued: !1,
status: 2
}, {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [],
baoting: !1,
wangangs: [],
userid: 3210,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
pengs: [],
hued: !1,
status: 2
} ],
magicPai: 24,
saizi_2: 5,
saizi_1: 5
},
errmsg: "ok",
model: "game",
event: "game_sync_push"
});
}
},
onGangChecked: function(e) {
cc.vv.audioMgr.click();
cc.vv.net2.quick("gang", {
pai: e.target.pai,
wik: e.target.paiWik
});
},
onOptionClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btnPeng":
cc.vv.net2.quick("peng");
cc.vv.folds.initPointer();
break;

case "btnTing":
cc.vv.net2.quick("baoting");
this.majiangTable.initbnaoting();
break;

case "btnHu":
cc.vv.net2.quick("hu");
break;

case "btnGuo":
this.ops_bgclick_guo();
break;

case "cancelbtnGuo":
1 == this.majiangTable._baoting && this.majiangTable.cencelbaoting();
cc.vv.net2.quick("guo");
break;

case "btnGang":
this.majiangTable.showGang(e.target.pai, e.target.paiWik, e.target.actpai);
cc.vv.folds.initPointer();
break;

case "btnChi":
this.majiangTable.showChipai(e.target.pai, e.target.paiWik);
cc.vv.folds.initPointer();
break;

case "btnshowall":
cc.vv.net2.quick("cheat");
}
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_button_01");
},
ops_bgclick_guo: function() {
cc.vv.net2.quick("guo");
this.majiangTable.hideOptions();
1 == this.majiangTable._baoting && 1 == this.majiangTable._tinghuhoupai && 1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
},
shoot: function(e, i) {
this.majiangTable.baotingopsUi(!1);
if (null != e) {
1 == this.majiangTable._baoting && (this.majiangTable._autoOutCrad = !0);
if (cc.vv.mahjongMgr._canChui) {
var t = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid];
cc.vv.mahjongMgr._canChui = !1;
cc.vv.folds.change_color_outcrad(-4);
if (1 == this.majiangTable._yiting) {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 1,
index: i
});
this.majiangTable._yiting = !1;
var a = t.folds.length, n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: a,
pai: e,
baoting: 1,
index: i
});
} else {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 0,
index: i
});
if (!cc.vv.game.majiangTable._baotingchupai) {
n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: -1,
pai: e,
baoting: 0,
index: i
});
}
}
cc.vv.folds.initAllFolds();
1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
this.majiangTable.hideGuohu();
this.majiangTable.hideting();
this.majiangTable.hideOptions();
this.majiangTable.hideChipaiOpts();
this.majiangTable.hideGangPaiOpts();
this.majiangTable.hideTingOpts();
cc.find("Canvas/open/tingPaiList").active = !1;
}
}
},
sortHolds: function(e) {
var i = e.holds;
if (null == i) return null;
var t = null, a = i.length;
2 != a && 5 != a && 8 != a && 11 != a && 14 != a || (t = i.pop());
var n = cc.vv.mahjongMgr._magicPai;
cc.vv.mahjongMgr.sortMJ(i, n);
null != t && i.push(t);
return i;
},
sortHoldsByPai: function(e) {
if (null == e) return null;
var i = null, t = e.length;
2 != t && 5 != t && 8 != t && 11 != t && 14 != t || (i = e.pop());
var a = cc.vv.mahjongMgr._magicPai;
cc.vv.mahjongMgr.sortMJ(e, a);
null != i && e.push(i);
return e;
},
getMJIndex: function(e, i) {
return i;
},
getStartIndex: function(e) {
if (null == e) return null;
var i = e.length;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getStartIndexByNum: function(e) {
var i = e;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getFourteenTo: function(e) {
var i = cc.vv.game.sortHoldsByPai(cc.vv.mahjongMgr._oldholds), t = cc.vv.game.getStartIndex(i), a = i.length, n = i[13 - t];
if (n == e) return t - 1;
for (var s = t; s < t + a; s++) if (i[s - t] != e && n < i[s - t]) return s - 1;
return 13;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
testData: function(e, i) {
cc.vv.mahjongMgr.node.emit(e, i);
},
onButtonQieGuo: function(e, i) {
this.testData(e, i);
}
});
cc._RF.pop();
}, {
GSJ2500Const: "GSJ2500Const",
GSJ2500ReplayMgr: "GSJ2500ReplayMgr"
} ],
GSJ2500Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "42440mMrYBL5pZDMHTYJQs8", "GSJ2500Mgr");
cc.Class({
extends: cc.Component,
properties: {
mahjongAltas: {
default: null,
type: cc.SpriteAtlas
},
pengPrefabSelf: {
default: null,
type: cc.Prefab
},
_sides: null,
_pres: null,
_foldPres: null,
_fangxiang: null,
_mahjongSprites: [],
_turn: -1,
_last: -1,
_zhuang: -1,
_saizi_1: 0,
_saizi_2: 0,
_magicPai: -1,
_magicPai2: -1,
_seats: [],
_numOfMJ: 0,
_liupaiCnt: 0,
_maxNumOfGames: 0,
_numOfGames: 0,
_isOver: !0,
_button: -1,
_gamestate: -1,
_canChui: !1,
_curaction: null,
_baoting_index: -1,
_oldholds: []
},
onLoad: function() {
if (null != cc.vv) {
switch (cc.vv.roomMgr.ren) {
case 4:
this._sides = [ "myself", "right", "up", "left" ];
this._pres = [ "M_", "R_", "B_", "L_" ];
this._foldPres = [ "B_", "R_", "B_", "L_" ];
this._fangxiang = [ "nan", "dong", "bei", "xi" ];
break;

case 3:
this._sides = [ "myself", "right", "left" ];
this._pres = [ "M_", "R_", "L_" ];
this._foldPres = [ "B_", "R_", "L_" ];
this._fangxiang = [ "nan", "dong", "xi" ];
break;

case 2:
this._sides = [ "myself", "up" ];
this._pres = [ "M_", "B_" ];
this._foldPres = [ "B_", "B_" ];
this._fangxiang = [ "nan", "bei" ];
}
for (var e = 1; e < 10; ++e) this._mahjongSprites.push("B" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("T" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("W" + e);
this._mahjongSprites.push("F2");
this._mahjongSprites.push("F3");
this._mahjongSprites.push("F4");
this._mahjongSprites.push("F5");
this._mahjongSprites.push("F1");
this._mahjongSprites.push("F6");
this._mahjongSprites.push("F7");
this._mahjongSprites.push("J1");
this._mahjongSprites.push("J2");
this._mahjongSprites.push("J3");
this._mahjongSprites.push("J4");
this._mahjongSprites.push("H3");
this._mahjongSprites.push("H2");
this._mahjongSprites.push("H1");
this._mahjongSprites.push("H4");
this.initEventHandlers();
}
},
prepareReplay: function(e, i) {
this._seats = [];
if (null != e.zhuang) {
this._zhuang = e.zhuang;
this._turn = e.zhuang;
}
for (var t = 0; t < cc.vv.roomMgr.table.list.length; ++t) {
var a = {};
a.seatIndex = t;
a.score = null;
a.holds = e.game_seats[t];
a.pengs = [];
a.chis = [];
a.huas = [];
a.piaonum = 0;
a.angangs = [];
a.diangangs = [];
a.wangangs = [];
a.folds = [];
a.chipenggang = [];
i == cc.vv.roomMgr.table.list[t].userid && (cc.vv.roomMgr.seatid = t);
this._seats[t] = a;
}
if (e.numofmj) {
this._numOfMJ = e.numofmj;
this._liupaiCnt = e.liupaiCnt;
}
e.magicPai && (this._magicPai = e.magicPai);
this._gamestate = 3;
},
initEventHandlers: function() {
var e = this;
this.node.on("login_result", function(i) {
if (0 === i.errcode) {
i = i.data;
e._seats = i.seats;
e._isOver = !1;
e.reset();
}
});
this.node.on("sit", function(i) {
i = i.data;
if (null != e._seats[i.seatid]) {
e._seats[i.seatid].seatIndex = i.seatid;
e._seats[i.seatid].userid = i.userid;
e._seats[i.seatid].headimg = i.headimg;
}
});
this.node.on("game_saizi_push", function(i) {
i = i.data;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e.dispatchEvent("game_saizi", i);
});
this.node.on("game_magic_push", function(i) {
i = i.data;
e._magicPai = i.magic;
e.dispatchEvent("game_magic", i);
});
this.node.on("game_action_push", function(i) {
i = i.data;
e._curaction = i;
e.dispatchEvent("game_action", i);
});
this.node.on("game_holds_push", function(i) {
i = i.data;
e._seats[cc.vv.roomMgr.seatid].holds = i.holds;
for (var t = 0; t < e._seats.length; ++t) {
var a = e._seats[t];
null == a.folds && (a.folds = []);
null == a.pengs && (a.pengs = []);
null == a.chis && (a.chis = []);
null == a.huas && (a.huas = []);
a.piaonum = 0;
null == a.angangs && (a.angangs = []);
null == a.diangangs && (a.diangangs = []);
null == a.wangangs && (a.wangangs = []);
null == a.chipenggang && (a.chipenggang = []);
a.ready = !1;
}
e.dispatchEvent("game_holds");
});
this.node.on("mj_count_push", function(i) {
i = i.data;
e.doMjCount(i.numOfMJ, i.liupaiCnt);
});
this.node.on("game_begin_push", function(i) {
i = i.data;
e._button = i.button;
e._turn = i.button;
e._zhuang = i.zhuang;
e._gamestate = 2;
e.dispatchEvent("game_begin");
});
this.node.on("game_playing_push", function(i) {
i = i.data;
e._gamestate = 3;
e.dispatchEvent("game_playing");
});
this.node.on("game_chupai_push", function(i) {
i = i.data;
if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
null != i.game_action_push && (e._curaction = i.game_action_push);
null != i.game_action_ting && null != i.game_action_ting.data && (cc.vv.game.majiangTable._datating = i.game_action_ting.data);
}
var t = cc.vv.roomMgr.getSeatIndexByID(i.userId);
e.doTurnChange(t, i);
});
this.node.on("game_chupai_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
-1 != n && (cc.vv.game.majiangTable._baotingchupai || n != cc.vv.roomMgr.seatid) && e.doChupai(n, a, i.baoTing_index, i.baoting, i.index);
});
this.node.on("game_mopai_push", function(i) {
i = i.data;
e.doMopai(cc.vv.roomMgr.seatid, i.pai, i.is_auto);
});
this.node.on("guo_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGuo(n, a);
});
this.node.on("peng_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doPeng(n, a);
});
this.node.on("chi_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.chiPai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doChi(s, a, n);
});
this.node.on("gang_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.gangpai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGang(s, a, n, i.gangtype);
});
this.node.on("chupai_limit_notify_push", function(i) {
e.dispatchEvent("chupai_limit_notify");
});
this.node.on("baoting_notify_push", function(i) {
i = i.data;
e.doTing(i);
});
this.node.on("hu_push", function(i) {
i = i.data;
e.doHu(i);
});
this.node.on("guohu", function(i) {
i = i.data;
e.doGuoHu(i);
});
this.node.on("game_sync_push", function(i) {
i = i.data;
e.reset();
e._liupaiCnt = i.liupaiCnt;
e._magicPai = i.magicPai;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e._gamestate = i.state;
e._turn = i.turn;
e._zhuang = i.zhuang;
e._button = i.button;
e._chupai = i.chuPai;
e._numOfMJ = i.numofmj;
for (var t = 0; t < cc.vv.roomMgr.ren; ++t) {
e._seats[t].baoTing_index = i.seats[t].m_bBaoTing_index;
e._seats[t].status = i.seats[t].status;
var a = e._seats[t], n = i.seats[t];
a.baoting = n.baoting;
a.holds = n.holds;
a.folds = n.folds;
a.angangs = n.angangs;
a.diangangs = n.diangangs;
a.wangangs = n.wangangs;
a.pengs = n.pengs;
a.chis = n.chis;
a.huas = n.huas;
a.hued = n.hued;
a.iszimo = n.iszimo;
a.huinfo = n.huinfo;
a.huanpais = n.huanpais;
a.chipenggang = [];
for (var s = 0; s < a.angangs.length; s++) {
var c = a.angangs[s];
a.chipenggang.push([ 2, c ]);
}
for (var o = 0; o < a.diangangs.length; o++) {
var h = a.diangangs[o];
a.chipenggang.push([ 3, h ]);
}
for (var r = 0; r < a.wangangs.length; r++) {
var l = a.wangangs[r];
a.chipenggang.push([ 4, l ]);
}
for (var d = a.pengs.length, g = 0; g < d; g++) {
var u = a.pengs[g];
-1 != e.arrayReturn(a.wangangs, u) ? a.pengs.splice(g, 1) : a.chipenggang.push([ 1, u ]);
}
for (var _ = 0; _ < a.chis.length; _++) {
var v = a.chis[_];
a.chipenggang.push([ 0, v ]);
}
t == e.seatIndex && (e.dingque = n.que);
}
e.dispatchEvent("game_sync", i);
});
},
doMopai: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
a.holds.push(i);
this.dispatchEvent("game_mopai", {
seatIndex: e,
pai: i,
is_auto: t
});
}
},
doChupai: function(e, i, t, a, n) {
this._chupai = i;
var s = this._seats[e];
s.seatIndex = e;
this._seats[s.seatIndex].baoTing_index = t;
if (s.holds) {
var c = s.holds.indexOf(i), o = cc.vv.game.getStartIndex(s.holds);
cc.vv.roomMgr.is_replay && (n = o + c);
e == cc.vv.roomMgr.seatid && (this._oldholds = cc.vv.utils.deepCopy(s.holds));
s.holds.splice(c, 1);
}
this.dispatchEvent("game_chupai_notify", {
seatData: s,
pai: i,
baoTing_index: t,
baoting: a,
index: n
});
},
doMjCount: function(e, i) {
this._numOfMJ = e;
this._liupaiCnt = i;
this.dispatchEvent("mj_count", null);
},
doTurnChange: function(e, i) {
i = {
last: this._turn,
turn: e,
data: i
};
this._last = this._turn;
this._turn = e;
this.dispatchEvent("game_chupai", i);
},
doGuo: function(e, i) {
var t = this._seats[e];
this.dispatchEvent("guo_notify", t);
},
doPeng: function(e, i) {
var t = this._seats[e];
t.pengs.push(i);
t.chipenggang.push([ 1, i ]);
if (t.holds) for (var a = 0; a < 2; ++a) {
var n = t.holds.indexOf(i[1]);
t.holds.splice(n, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("peng_notify", {
seatData: t,
pengpai: i
});
},
doChi: function(e, i, t) {
var a = this._seats[e];
a.chis.push(t);
a.chipenggang.push([ 0, i ]);
if (a.holds) for (var n = 1; n < t.length; ++n) if (t[n] != i) {
var s = a.holds.indexOf(t[n]);
-1 != s && a.holds.splice(s, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("chi_notify", {
seatData: a,
chipai: i
});
},
doGang: function(e, i, t, a) {
var n = this._seats[e];
if (11 == a) for (var s = 0; s < n.pengs.length; ++s) if (n.pengs[s][1] == i) {
n.pengs.splice(s, 1);
break;
}
if (9 == a || 12 == a) {
n.angangs.push(t);
n.chipenggang.push([ 2, t ]);
} else if (10 == a || 13 == a) {
n.diangangs.push(t);
n.chipenggang.push([ 3, t ]);
this.removeChupai(t[0]);
} else if (14 == a || 11 == a) {
n.wangangs.push(t);
for (var c = n.chipenggang, o = 0; o < c.length; o++) 1 == c[o][0] && c[o][1][1] == i && (c[o][0] = 4);
}
if (n.holds) {
if (9 == a || 12 == a || 10 == a || 11 == a) for (var h = 1; h <= t.length; ++h) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
if (13 == a) for (h = 1; h <= t.length; ++h) if (t[h] != i) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
}
this.dispatchEvent("gang_notify", {
seatData: n,
gangtype: a,
gangpai: t
});
},
doTing: function(e) {
this.dispatchEvent("bao_ting_push", e);
},
doHu: function(e) {
e.turn = this._turn;
e.foldslength = -1;
if (-1 != e.turn) {
var i = cc.vv.mahjongMgr._seats[e.turn].folds.length;
e.foldslength = i;
}
this.dispatchEvent("hupai", e);
},
doGuoHu: function(e) {
this.dispatchEvent("guohu_game", e);
},
doHujiaozhuanyi: function(e) {
var i = e.seatid;
cc.vv.mahjongMgr._seats[i].holds.pop();
this.dispatchEvent("hujiaozhuanyi_game", e);
},
doBuhua: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
var n = a.holds.indexOf(i);
-1 != n && a.holds.splice(n, 1);
}
a.huas && a.huas.push(i);
a.piaonum = t;
this.dispatchEvent("buhua_notify", a);
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "mj/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
switchHuMp3: function(e, i) {
switch (i) {
case "平胡":
this.playSFX(e, "hu");
break;

case "自摸":
this.playSFX(e, "zimo");
break;

case "七小对":
case "七对":
this.playSFX(e, "qidui");
break;

case "清一色七小对":
case "清一色七对":
case "豪华七对":
case "豪华七小对":
this.playSFX(e, "haohuaqidui");
break;

case "清一色":
this.playSFX(e, "qinyise");
break;

case "十三幺":
this.playSFX(e, "shisanyao");
break;

case "清一色一条龙":
case "一条龙":
this.playSFX(e, "yitaolong");
break;

default:
this.playSFX(e, "hu");
}
},
reset: function() {
this._turn = -1;
this._last = -1;
this._zhuang = -1;
this._chupai = -1, this._button = -1;
this._magicPai = -1;
this._saizi_1 = -1, this._saizi_2 = -1, this._gamestate = -1;
this._curaction = null;
for (var e = 0; e < this._seats.length; ++e) {
this._seats[e].holds = [];
this._seats[e].folds = [];
this._seats[e].pengs = [];
this._seats[e].chipenggang = [];
this._seats[e].chis = [];
this._seats[e].huas = [];
this._seats[e].piaonum = 0;
this._seats[e].angangs = [];
this._seats[e].diangangs = [];
this._seats[e].wangangs = [];
this._seats[e].dingque = -1;
this._seats[e].ready = !1;
this._seats[e].hued = !1;
this._seats[e].huanpais = null;
this._seats[e].baoting = !0;
}
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
clear: function() {
this.dataEventHandler = null;
null == this.isOver && (this._seats = null);
},
getGangType: function(e, i) {
if (-1 != e.pengs.indexOf(i)) return "wangang";
for (var t = 0, a = 0; a < e.holds.length; ++a) e.holds[a] == i && t++;
return 3 == t ? "diangang" : "angang";
},
getMahjongPai: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 10 : 1 == parseInt(e / 10) ? e += 10 : 2 == parseInt(e / 10) && (e -= 20);
return e;
},
getMahjongPaiReturn: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 20 : 1 == parseInt(e / 10) ? e -= 10 : 2 == parseInt(e / 10) && (e -= 10);
return e;
},
getMahjongPaiThree: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e -= 1 : 1 == parseInt(e / 10) ? e -= 2 : 2 == parseInt(e / 10) ? e -= 3 : 3 == parseInt(e / 10) && (e -= 4);
return e;
},
getMahjongType: function(e) {
return e >= 0 && e < 9 ? 0 : e >= 9 && e < 18 ? 1 : e >= 18 && e < 27 ? 2 : void 0;
},
getAudioURLByMJID: function(e) {
var i = 0;
e >= 0 && e < 9 ? i = e + 21 : e >= 9 && e < 18 ? i = e - 8 : e >= 18 && e < 27 ? i = e - 7 : e >= 27 && e < 34 && (i = e + 4);
return i;
},
getTargetSide: function(e, i) {
var t = (e.seatIndex + 1) % cc.vv.roomMgr.ren, a = (e.seatIndex + 2) % cc.vv.roomMgr.ren, n = (e.seatIndex + 3) % cc.vv.roomMgr.ren;
return i == t ? 2 : i == a ? 1 : i == n ? 0 : -1;
},
sortMJ: function(e, i) {
e.sort(function(e, t) {
if (i >= 0) {
if (i == e) return -1;
if (i == t) return 1;
}
return e - t;
});
},
getSide: function(e) {
return this._sides[e];
},
getFangxiang: function(e) {
return this._fangxiang[e];
},
getPre: function(e) {
return this._pres[e];
},
getFoldPre: function(e) {
return this._foldPres[e];
},
getSeatidByFangxiang: function(e) {
for (var i = 0, t = 0; t < this._fangxiang.length; t++) {
e == this._fangxiang[t] && (i = t);
}
return i;
},
getViewidBySide: function(e) {
for (var i = this._sides, t = 0; t < i.length; t++) if (i[t] == e) return t;
},
getNumberPai: function(e) {
var i = this._seats[e], t = 0;
null != i.pengs && (t += i.pengs.length);
null != i.angangs && (t += i.angangs.length);
null != i.diangangs && (t += i.diangangs.length);
null != i.wangangs && (t += i.wangangs.length);
null != i.chis && (t += i.chis.length);
return t *= 3;
},
removeChupai: function(e) {
if (i = e) var i = cc.vv.mahjongMgr._turn;
var t = this._seats[i];
t && t.folds && t.folds.pop();
},
getWangIndex: function(e, i) {
for (var t = e.chipenggang, a = 0; a < t.length; a++) if (4 == t[a][0] && t[a][1][1] == i) return a;
},
getBgSpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
},
getSpriteFrameByMJID: function(e, i) {
var t = cc.vv.game.majiangTable.selfhandAtlasThreeD, a = cc.vv.mahjongMgr.getMahjongPai(i);
return t.getSpriteFrame("img_cardvalue" + a);
},
getEmptySpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
},
arrayReturn: function(e, i) {
for (var t = -1, a = 0; a < e.length; a++) i[1] == e[a][1] && (t = a);
return t;
}
});
cc._RF.pop();
}, {} ],
GSJ2500ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "17859dJqApEuobmSzIcLzka", "GSJ2500ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.majiangTable.game_magicshow();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex, cc.vv.mahjongMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
si: e.si,
type: e.type,
pai: e.pai,
actPai: e.act
};
},
takeAction: function() {
var e = this.getNextAction();
null == this._lastAction || 1 != this._lastAction.type && 8 != this._lastAction.type || null != e && 3 != e.type && 4 != e.type && 5 != e.type && 7 != e.type && cc.vv.mahjongMgr.doGuo(this._lastAction.si, this._lastAction.pai);
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.type) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.nnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return 0;
}
if (1 == e.type) {
3 == e.actPai.length ? cc.vv.mahjongMgr.doChupai(e.si, e.pai, e.actPai[1], e.actPai[2]) : cc.vv.mahjongMgr.doChupai(e.si, e.pai);
return .5;
}
if (2 == e.type) {
3 == e.actPai.length && cc.vv.mahjongMgr.doMjCount(e.actPai[1], e.actPai[2]);
cc.vv.mahjongMgr.doTurnChange(e.si);
cc.vv.mahjongMgr.doMopai(e.si, e.pai);
return .5;
}
if (3 == e.type) {
cc.vv.mahjongMgr.doPeng(e.si, e.actPai);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (9 == e.type || 10 == e.type || 11 == e.type || 12 == e.type || 13 == e.type || 14 == e.type) {
cc.vv.mahjongMgr.dispatchEvent("hangang_notify", e.si);
cc.vv.mahjongMgr.doGang(e.si, e.pai, e.actPai, e.type);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (5 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !1
});
return 1.5;
}
if (6 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !0
});
return 1.5;
}
if (7 == e.type) {
cc.vv.mahjongMgr.doChi(e.si, e.pai, e.actPai);
return 1;
}
if (8 == e.type) {
cc.vv.mahjongMgr.doBuhua(e.si, e.pai, 0);
return 1;
}
if (15 == e.type) {
cc.vv.mahjongMgr.doTing({
userid: e.pai
});
return 1;
}
if (16 == e.type) {
cc.vv.mahjongMgr.doGuoHu({
seatid: e.si
});
return .5;
}
if (17 == e.type) {
cc.vv.mahjongMgr.doHujiaozhuanyi({
seatid: e.si
});
return .5;
}
}
});
cc._RF.pop();
}, {} ],
GameClubMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "56263H3t+pMNI7KczQ1JdRV", "GameClubMgr");
cc.Class({
extends: cc.Component,
properties: {
dataEventHandler: null
},
dispatchEvent: function(e, i) {
this.dataEventHandler ? this.dataEventHandler.emit(e, i) : cc.vv.log3.error("---------------------");
},
clear: function() {
this.dataEventHandler = null;
},
initHandlers: function() {
var e = this;
cc.vv.net1.addHandler("club", function(i) {
e.club(i);
});
},
club: function(e) {
var i = e.data;
switch (e.event) {
case "club_list":
if (0 !== e.errcode) {
cc.vv.popMgr.alert(e.errmsg);
cc.vv.popMgr.hide();
return;
}
cc.vv.userMgr.clublist = {};
cc.vv.userMgr.clublist2 = [];
for (var t = 0; t < i.list.length; ++t) {
for (var a = 0; a < i.list[t].rules.length; ++a) "string" == typeof i.list[t].rules[a].conf && (i.list[t].rules[a].conf = JSON.parse(i.list[t].rules[a].conf));
cc.vv.userMgr.clublist[i.list[t].club_id] = i.list[t];
cc.vv.userMgr.clublist[i.list[t].club_id].myTag = t;
cc.vv.userMgr.clublist2.push(i.list[t]);
}
if (cc.vv.club && cc.vv.club.clubMain) {
cc.vv.club.clubMain.getChildByName("room").removeAllChildren();
cc.vv.userMgr.clubroom = null;
cc.vv.club.clubMain.getComponent("ClubMain").show(0);
}
break;

case "club_room_list":
if (0 !== e.errcode) {
cc.vv.popMgr.alert(e.errmsg);
cc.vv.popMgr.hide();
return;
}
if (-1 == cc.vv.userMgr.clublist[i.clubid].userStatus) return;
null == cc.vv.userMgr.clubroom && (cc.vv.userMgr.clubroom = {});
cc.vv.userMgr.clubroom[i.clubid] = {};
for (t = 0; t < i.list.length; ++t) cc.vv.userMgr.clubroom[i.clubid][i.list[t].roomid] = i.list[t];
this.dispatchEvent("club_room_list_plugs", e);
break;

case "club_room":
if (0 !== e.errcode) {
cc.vv.popMgr.alert(e.errmsg);
return;
}
if (-1 == cc.vv.userMgr.clublist[i.clubid].userStatus) return;
null == cc.vv.userMgr.clubroom && (cc.vv.userMgr.clubroom = {});
null == cc.vv.userMgr.clubroom[i.clubid] && (cc.vv.userMgr.clubroom[i.clubid] = {});
cc.vv.userMgr.clubroom[i.clubid][i.roomid] = i;
this.dispatchEvent("club_room_plugs", e);
break;

case "club_room_player_change":
if (0 !== e.errcode) {
cc.vv.popMgr.alert(e.errmsg);
return;
}
if (-1 == cc.vv.userMgr.clublist[i.clubid].userStatus) return;
null == cc.vv.userMgr.clubroom && (cc.vv.userMgr.clubroom = {});
null == cc.vv.userMgr.clubroom[i.clubid] && (cc.vv.userMgr.clubroom[i.clubid] = {});
cc.vv.userMgr.clubroom[i.clubid][i.roomid].table = i.table;
e.data = cc.vv.userMgr.clubroom[i.clubid][i.roomid];
this.dispatchEvent("club_room_plugs", e);
break;

case "club_room_round":
if (0 !== e.errcode) {
cc.vv.popMgr.alert(e.errmsg);
return;
}
if (-1 == cc.vv.userMgr.clublist[i.clubid].userStatus) return;
null == cc.vv.userMgr.clubroom && (cc.vv.userMgr.clubroom = {});
null == cc.vv.userMgr.clubroom[i.clubid] && (cc.vv.userMgr.clubroom[i.clubid] = {});
cc.vv.userMgr.clubroom[i.clubid][i.roomid].now_round = i.now_round;
e.data = cc.vv.userMgr.clubroom[i.clubid][i.roomid];
this.dispatchEvent("club_room_plugs", e);
break;

case "club_room_end":
break;

case "club_room_del":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
if (-2 == e.errcode) {
delete cc.vv.userMgr.clubroom[i.clubid][i.roomid];
i.clubid == cc.vv.userMgr.club_id && cc.vv.club.clubMain && cc.vv.club.clubMain.emit("club_room_del", e);
}
return;
}
if (-1 == cc.vv.userMgr.clublist[i.clubid].userStatus) return;
if (null == cc.vv.userMgr.clubroom) return;
if (null == cc.vv.userMgr.clubroom[i.clubid]) return;
delete cc.vv.userMgr.clubroom[i.clubid][i.roomid];
this.dispatchEvent("club_room_del_plugs", e);
break;

case "club_rule_ptz_view":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
return;
}
if (-1 == cc.vv.userMgr.clublist[i.club_id].userStatus) return;
if (1 == i.type) {
var n = !0;
for (t = 0; t < cc.vv.userMgr.clublist[i.club_id].rules.length; ++t) if (i.id == cc.vv.userMgr.clublist[i.club_id].rules[t].id) {
cc.vv.userMgr.clublist[i.club_id].rules[t] = i.rule;
n = !1;
break;
}
n && cc.vv.userMgr.clublist[i.club_id].rules.push(i.rule);
} else {
var s = cc.vv.userMgr.clublist[i.club_id].rules;
for (t = 0; t < s.length; ++t) if (s[t].id == i.id) {
s.splice(t, 1);
break;
}
}
this.dispatchEvent("club_rule_ptz_view_plugs", e);
break;

case "club_rule_pwz_view":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
return;
}
if (-1 == cc.vv.userMgr.clublist[i.club_id].userStatus) return;
if (1 == i.type) {
for (n = !0, t = 0; t < cc.vv.userMgr.clublist[i.club_id].rules.length; ++t) if (i.id == cc.vv.userMgr.clublist[i.club_id].rules[t].id) {
cc.vv.userMgr.clublist[i.club_id].rules[t] = i.rule;
n = !1;
break;
}
n && cc.vv.userMgr.clublist[i.club_id].rules.push(i.rule);
if (cc.vv.userMgr.club_id == i.club_id) {
cc.vv.club.clubMain && cc.vv.club.clubMain.emit("club_room_list", {
type: 1
});
null != cc.vv.club._clubSetRule && cc.vv.club._clubSetRule.active && cc.vv.club._clubSetRule.getComponent("ClubSetRule").createRule(i.rule);
null != cc.vv.club._clubGameList && cc.vv.club._clubGameList.active && cc.vv.club._clubGameList.getComponent("ClubGameList").show();
}
} else for (s = cc.vv.userMgr.clublist[i.club_id].rules, t = 0; t < s.length; ++t) if (s[t].id == i.id) {
s.splice(t, 1);
break;
}
this.dispatchEvent("club_rule_pwz_view_plugs", e);
break;

case "club_user_status_change":
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
cc.vv.popMgr.hide();
return;
}
cc.vv.userMgr.clublist[i.clubid].userStatus = i.userStatus;
this.dispatchEvent("club_user_status_change_plugs", e);
break;

case "club_user_pwb":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
return;
}
cc.vv.popMgr.tip(e.errmsg);
cc.vv.game ? cc.vv.game.node.emit("club_user_pwb", e) : this.dispatchEvent("club_user_pwb_plugs", e);
break;

case "club_user_pwb_change":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
return;
}
cc.vv.userMgr.clublist[i.clubid].pwb = i.pwb;
cc.vv.userMgr.clublist[i.clubid].ticket = i.ticket;
this.dispatchEvent("club_user_pwb_change_plugs", e);
break;

case "club_user_admin_view":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
return;
}
if (i.userId == cc.vv.userMgr.userid) {
cc.vv.userMgr.clublist[i.clubId].job = i.job;
i.clubId == cc.vv.userMgr.club_id && cc.vv.club.clubMain && cc.vv.club.clubMain.getComponent("ClubMain").show(i.clubId);
if (2 != i.job && i.clubId == cc.vv.userMgr.club_id) {
cc.vv.club.clubMain && cc.vv.club.clubMain.getComponent("ClubMain").show(i.clubId);
cc.vv.club._clubSet && (cc.vv.club._clubSet.active = !1);
cc.vv.club._clubSetRule && (cc.vv.club._clubSetRule.active = !1);
cc.vv.popMgr.del_pop("ClubSelectType");
cc.vv.popMgr.del_pop("ClubPwz");
cc.vv.popMgr.del_pop("CreateRoom");
cc.vv.popMgr.del_pop("ClubInputPwz");
}
}
if (null == cc.vv.userMgr.clubUsers) cc.vv.net1.quick("club_users", {
club_id: i.clubId,
type: 4
}); else {
cc.vv.userMgr.clubUsers[i.clubId][i.userId].job = i.job;
cc.vv.club._clubSet && cc.vv.club._clubSet.active && cc.vv.club._clubSet.getComponent("ClubSetting").admSet();
}
break;

case "club_info_view":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
return;
}
cc.vv.userMgr.clublist[i.club_id].name = i.name;
cc.vv.userMgr.clublist[i.club_id].desc = i.desc;
cc.vv.userMgr.clublist[i.club_id].info = i.info;
cc.vv.userMgr.clublist[i.club_id].max_user = i.max_user;
cc.vv.userMgr.clublist[i.club_id].max_table = i.max_table;
this.dispatchEvent("club_info_view_plugs", e);
break;

case "club_creator_update_view":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
return;
}
cc.vv.userMgr.clublist[i.club_id].creator = i.creator;
cc.vv.userMgr.clublist[i.club_id].creator_headimg = i.headimg;
cc.vv.userMgr.clublist[i.club_id].creator_name = i.name;
cc.vv.userMgr.clublist[i.club_id].ticket = i.ticket;
cc.vv.userMgr.clublist[i.club_id].clubno = i.clubno;
cc.vv.userMgr.userid == i.creator && (cc.vv.userMgr.clublist[i.club_id].job = 9);
this.dispatchEvent("club_creator_update_view_plugs", e);
break;

case "club_add_del":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
return;
}
null == cc.vv.userMgr.clublist && (cc.vv.userMgr.clublist = {});
if (void 0 == i.type) {
cc.vv.userMgr.clublist2.push(i);
i.myTag = cc.vv.userMgr.clublist2.length - 1;
cc.vv.userMgr.clublist[i.club_id] = i;
} else {
delete cc.vv.userMgr.clublist[i.club_id];
for (t = 0; t < cc.vv.userMgr.clublist2.length; t++) if (i.club_id == cc.vv.userMgr.clublist2[t].club_id) {
cc.vv.userMgr.clublist2.splice(t, 1);
break;
}
}
this.dispatchEvent("club_add_del_plugs", e);
break;

case "club_notice":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.alert(e.errmsg);
return;
}
this.dispatchEvent("club_notice_plugs", e);
break;

case "club_user_master":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
return;
}
if (!cc.vv.userMgr.clublist[i.club_id]) return;
cc.vv.userMgr.clublist[i.club_id].is_master = i.is_master;
cc.vv.userMgr.clublist[i.club_id].rate = i.rate;
this.dispatchEvent("club_user_master_plugs", e);
break;

case "club_info":
cc.vv.popMgr.hide();
if (0 !== e.errcode) {
cc.vv.popMgr.tip(e.errmsg);
return;
}
var c = !0;
for (t = 0; t < cc.vv.userMgr.clublist2.length; t++) if (i.club_id == cc.vv.userMgr.clublist2[t].club_id) {
c = !1;
break;
}
if (c) {
cc.vv.userMgr.clublist2.push(i);
i.myTag = cc.vv.userMgr.clublist2.length - 1;
} else i.myTag = cc.vv.userMgr.clublist[i.club_id].myTag;
cc.vv.userMgr.clublist[i.club_id] = i;
this.dispatchEvent("club_info_plugs", e);
break;

default:
this.dispatchEvent(e.event, e);
}
}
});
cc._RF.pop();
}, {} ],
GameConst: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "02ebc+xvOhDCphHGmf7XbLb", "GameConst");
cc.Class({
extends: cc.Component,
statics: {
player5: [ {
x: -228,
y: -248,
scale: 1
}, {
x: -504,
y: -102,
scale: 1
}, {
x: 439,
y: -102,
scale: 1
}, {
x: -513,
y: 151,
scale: 1
}, {
x: -422,
y: 151,
scale: 1
} ]
}
});
cc._RF.pop();
}, {} ],
GameHelp: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "0435fBU/8tBY5BWq6tsYihl", "GameHelp");
cc.Class({
extends: cc.Component,
properties: {
sprHelp: cc.Sprite,
scrollView: cc.ScrollView
},
start: function() {
this.onLoadHelp("tdh1600");
if (1 == cc.APP_STORE_REVIEW && 1 == cc.vv.userMgr.ios_review && cc.sys.os == cc.sys.OS_IOS) {
this.node.getChildByName("list").getChildByName("view").getChildByName("content").getChildByName("kd1700").active = !1;
this.node.getChildByName("list").getChildByName("view").getChildByName("content").getChildByName("ddz1800").active = !1;
}
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
var t = e.target.name;
this.onLoadHelp(t);
},
onLoadHelp: function(e) {
var i = this;
cc.loader.loadRes("hall/help/" + e, cc.SpriteFrame, function(e, t) {
if (e) cc.error(e); else {
i.sprHelp.spriteFrame = t;
i.scrollView.scrollToTop(0);
}
});
}
});
cc._RF.pop();
}, {} ],
GameInAddPwb: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "06565ElWkdPX7n9vX+DhjGU", "GameInAddPwb");
cc.Class({
extends: cc.Component,
properties: {
lblNum: cc.Label,
lblName: cc.Label,
lblID: cc.Label,
lblPwb: cc.Label,
head: cc.Node,
identify: cc.Sprite,
statusAtlas: {
default: null,
type: cc.SpriteAtlas
},
_job: 0
},
onLoad: function() {
this.initEventHandlers();
},
show: function(e) {
this.lblName.string = e.username;
this.lblID.string = e.userid;
this.head.getComponent(cc.Sprite).spriteFrame = e.headimg;
null !== e.pwb && (this.lblPwb.string = e.pwb);
this.lblNum && (this.lblNum.string = 0);
this._job = e.job;
this.userStatus(e.status);
},
refreshBtns: function(e, i) {
this.btns.getChildByName("btn_tcqz1").active = 1 == e;
this.btns.getChildByName("btn_tcqz2").active = 0 == e;
this.btns.getChildByName("btn_jinwan1").active = 1 == e && 1 == i;
this.btns.getChildByName("btn_jinwan2").active = 0 == e && 1 == i;
this.btns.getChildByName("btn_jiejin1").active = 1 == e && -1 == i;
this.btns.getChildByName("btn_jiejin2").active = 0 == e && -1 == i;
},
userStatus: function(e) {
var i = null;
i = -1 == e ? this.statusAtlas.getSpriteFrame("club_member_black") : this.userIdentify();
this.identify.spriteFrame = i;
},
userIdentify: function() {
var e = null;
switch (this._job) {
case 9:
e = this.statusAtlas.getSpriteFrame("club_member_type0");
break;

case 2:
e = this.statusAtlas.getSpriteFrame("group_member_type1");
break;

case 1:
e = this.statusAtlas.getSpriteFrame("group_member_type2");
break;

case 0:
e = null;
}
return e;
},
changePwb: function(e) {
this.lblNum.string = e.toFixed(1);
},
newPwb: function(e) {
this.lblPwb.string = e;
cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][this.lblID.string].pwb = e;
},
info: function(e) {
e = e.data;
this.lblPwb.string = e.pwb;
this.lblNum.string = 0;
this.lblName.string = e.name;
this.lblID.string = e.playerid;
this.node.getChildByName("head").getChildByName("headimg").getComponent("ImageLoader").loadImg(e.headimg);
null !== e.pwb && (this.lblPwb.string = e.pwb);
this.lblNum && (this.lblNum.string = 0);
this.clubid = e.club_id;
this._job = e.job;
var i;
i = this.userIdentify();
this.identify.spriteFrame = i;
var t = this.node.getChildByName("suofen");
if (0 == e.diFen) t.active = !1; else {
t.active = !0;
t.getComponent(cc.Label).string = e.diFen;
}
},
initEventHandlers: function() {
var e = this;
this.node.getChildByName("pwb").getChildByName("editpwb").getChildByName("outnum").on(cc.Node.EventType.TOUCH_START, function() {
cc.vv.popMgr.pop("table/input_pwb", function(i) {
i.getComponent("Inputpwb").info(e.lblID.string, e.lblPwb.string, e.lblNum, 1);
});
});
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
var i = this, t = this.lblPwb.string;
switch (e.target.name) {
case "btn_pwb":
cc.vv.net1.quick("club_pwb_list", {
club_id: cc.vv.userMgr.club_id,
player_id: this.lblID.string,
type: 0
});
this.node.active = !1;
break;

case "btn_plus50":
var a = parseFloat(this.lblNum.string) - 50;
0 == t ? a <= 0 && (a = 0) : t > 0 ? a + t < 0 && (a = 0 - t) : t < 0 && a + t < 0 && a < 0 && (a = 0);
this.changePwb(a);
break;

case "btn_plus100":
a = parseFloat(this.lblNum.string) - 100;
0 == t ? a <= 0 && (a = 0) : t > 0 ? a + t < 0 && (a = 0 - t) : t < 0 && a + t < 0 && a < 0 && (a = 0);
this.changePwb(a);
break;

case "btn_add50":
a = parseInt(this.lblNum.string) + 50;
this.changePwb(a);
break;

case "btn_add100":
a = parseInt(this.lblNum.string) + 100;
this.changePwb(a);
break;

case "btn_save":
if (this.lblNum.string < 0) {
cc.vv.popMgr.tip("该玩家正在游戏中无法扣除胜点");
return;
}
if (0 != this.lblNum.string) {
var n = {
method: "club_user_pwb",
data: {
version: cc.SERVER,
club_id: this.clubid,
user_id: this.lblID.string,
pwb: this.lblNum.string
}
};
cc.vv.popMgr.wait("正在修改胜点", function() {
cc.vv.net2.send(n);
});
this.lblNum.string = 0;
}
break;

case "btn_jinwan1":
e.target.active = !1;
cc.vv.net1.quick("club_user_black", {
club_id: cc.vv.userMgr.club_id,
user_id: this.lblID.string,
status: -1
});
this.btns.getChildByName("btn_jiejin1").active = !0;
break;

case "btn_jiejin1":
e.target.active = !1;
cc.vv.net1.quick("club_user_black", {
club_id: cc.vv.userMgr.club_id,
user_id: this.lblID.string,
status: 1
});
this.btns.getChildByName("btn_jinwan1").active = !0;
break;

case "btn_tcqz1":
cc.vv.popMgr.alert("确定要将玩家" + i.lblName.string + "踢出圈子吗？", function() {
cc.vv.net1.quick("club_user_kick", {
club_id: cc.vv.userMgr.club_id,
user_id: i.lblID.string
});
}, !0);
break;

default:
cc.vv.popMgr.tip("敬请期待");
}
}
});
cc._RF.pop();
}, {} ],
GameNetMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "65945aQF5pBqaZmN+EC9Man", "GameNetMgr");
cc.Class({
extends: cc.Component,
properties: {
dataEventHandler: null
},
dispatchEvent: function(e, i) {
if (this.dataEventHandler) {
this.dataEventHandler.emit(e, i);
this.dataEventHandler.emit("other", i);
} else cc.vv.log3.error("---------------------");
},
unlink: function(e) {
cc.vv.popMgr.alert(e.errmsg, function() {
cc.game.end();
});
},
hall: function(e) {
switch (e.event) {
case "init":
"hall" != cc.director.getScene().name && cc.vv.popMgr.hide();
e.data.sign = "sd49KylCxsHxK59z";
cc.SIGN.hall = "sd49KylCxsHxK59z";
cc.NET_KEY.hall = "sd49KylCxsHxK59z";
this.dispatchEvent(e.event, e);
break;

case "unlink":
this.unlink(e);
break;

case "new":
cc.vv.popMgr.kuaixun(e.errmsg);
break;

case "dealer":
cc.vv.userMgr.is_dealer = e.data.is_dealer;
1 == cc.vv.userMgr.is_dealer ? cc.vv.popMgr.tip("您已经是代理") : cc.vv.popMgr.tip("您已经不是代理");
break;

case "property":
if (0 === e.errcode) {
var i = e.data;
cc.vv.userMgr.lv = i.lv;
cc.vv.userMgr.coins = i.coins;
cc.vv.userMgr.gems = i.gems;
cc.vv.userMgr.daikai = i.daikai;
cc.vv.userMgr.ticket = i.ticket;
cc.vv.userMgr.is_dealer = i.is_dealer;
this.dispatchEvent("hall_property", e);
}
break;

default:
this.dispatchEvent(e.event, e);
}
},
game: function(e) {
switch (e.event) {
case "shake":
cc.vv.userMgr.is_shake && cc.vv.g3Plugin.vibrate(1e3);
break;

case "init":
e.data.sign = "sd49KylCxsHxK59z";
cc.SIGN.game = "sd49KylCxsHxK59z";
cc.NET_KEY.game = "sd49KylCxsHxK59z";
var i = {
method: "enter",
data: {
user_id: cc.vv.userMgr.userid,
room_id: cc.vv.roomMgr.roomid,
club_id: cc.vv.roomMgr.clubid,
token: cc.vv.userMgr.token,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
}
};
cc.vv.net2.send(i);
break;

case "enter":
if (0 != e.errcode) {
cc.vv.popMgr.alert(e.errmsg);
cc.vv.popMgr.hide();
cc.director.loadScene("hall");
return;
}
cc.vv.roomMgr._minmoney = !1;
cc.vv.roomMgr.enter = e.data;
cc.vv.roomMgr.ren = e.data.ren;
cc.vv.roomMgr.now = e.data.round;
cc.vv.roomMgr.max = e.data.max_round;
cc.vv.roomMgr.clubid = e.data.clubid;
cc.vv.roomMgr.is_replay = !1;
null != cc.vv.club.roomPool && cc.vv.club.roomPool.clear();
cc.director.loadScene(cc.vv.roomMgr.room_type);
break;

case "unlink":
this.unlink(e);
break;

case "new":
cc.vv.popMgr.kuixun(e.errmsg);
break;

default:
this.dispatchEvent(e.event, e);
}
},
clear: function() {
this.dataEventHandler = null;
},
initHandlers: function() {
var e = this;
e.connectNum = 0;
e.tipTxt = "正在连接服务器";
cc.vv.net1.addHandler("hall", function(i) {
e.hall(i);
});
cc.vv.net2.addHandler("game", function(i) {
e.game(i);
});
},
connectGameServer: function(e) {
cc.log("链接到游戏服务器11122");
cc.vv.net2.ip = e;
cc.vv.net2.type = "game";
cc.NET_KEY.game = cc.DEF_KEY;
cc.log("链接到游戏服务器111");
cc.vv.net2.close();
cc.vv.net2.connect(function() {
cc.vv.net2.send({
method: "init",
data: {}
});
}, function() {
cc.vv.popMgr.alert("服务器连接失败");
});
},
connectHallServer: function(e) {
0 == cc.vv.connceNum ? this.tipTxt = "正在连接服务器" : this.tipTxt = "网络错误 正在重新链接...";
cc.vv.popMgr.wait2(this.tipTxt, function(e) {
cc.vv.popMgr.hide();
});
var i = cc.vv.hallServerArr[cc.vv.connceNum];
cc.vv.net1.ip = i;
cc.vv.net1.type = "hall";
cc.NET_KEY.hall = cc.DEF_KEY;
cc.vv.net1.close();
cc.vv.net1.connect(function() {
cc.vv.net1.send({
method: "init",
data: {}
});
"function" == typeof e && e();
}, function() {});
},
getHallServerIndex: function() {
var e, i = cc.vv.hallServerArr.length;
e = Math.floor(Math.random() * i);
cc.vv.log3.debug("index: " + e);
return e;
}
});
cc._RF.pop();
}, {} ],
Global: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "abf68rU7+xDN5rY0yt6avpl", "Global");
cc.Class({
extends: cc.Component,
statics: {
address: "",
adcode: 0,
latitude: "",
longitude: "",
power: 50,
ip: "",
net_type: 0,
net_level: 2
}
});
cc._RF.pop();
}, {} ],
GoodLuck: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "40078C25ahBIojir1/EEZqM", "GoodLuck");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.node.on("show", function(e) {
cc.vv.popMgr.tip("播放动画");
});
}
});
cc._RF.pop();
}, {} ],
HIstoryItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "11188qt73JDnKuGyuz1exAx", "HIstoryItem");
cc.Class({
extends: cc.Component,
properties: {
time: cc.Label,
room_id: cc.Label,
creator: cc.Label,
creator_name: cc.Label,
round: cc.Label,
player: cc.Node,
btnDetail: cc.Node,
btnReplay: cc.Node,
btnShare: cc.Node,
gameName: cc.Label,
ren: cc.Node,
itemID: 0
},
updateID: function(e) {
this.itemID = e;
},
onLoad: function() {
var e = this, i = e.player.children;
this.node.on("history", function(t) {
for (var a = t, n = 0; n < i.length; ++n) i[n].active = !1;
e.time.string = a.time.replace(" ", "\r\n");
e.room_id.string = a.room_id;
e.creator.string = a.creator;
e.creator_name.string = a.creator_name;
e.gameName.string = a.name;
var s = a.scores.split(","), c = a.names.split(","), o = a.uids.split(",");
for (n = 0; n < s.length; ++n) {
if (n > 5) return;
i[n].active = !0;
i[n].getChildByName("name").getComponent(cc.Label).string = c[n];
i[n].getChildByName("score").getComponent(cc.Label).string = s[n];
i[n].getChildByName("userid").getComponent(cc.Label).string = "(" + o[n] + ")";
}
e._battle_id = a.battle_id;
e.round.string = "";
e.btnDetail.active = !0;
e.btnReplay.active = !1;
e.btnShare.active = !1;
});
this.node.on("round", function(t) {
for (var a = t, n = 0; n < i.length; ++n) i[n].active = !1;
e.time.string = a.created.replace(" ", "\r\n");
var s = a.scores.split(",");
for (n = 0; n < s.length; ++n) {
i[n].active = !0;
i[n].getChildByName("score").getComponent(cc.Label).string = s[n];
}
e.round.string = "第" + a.round + "局";
var c = a.round >= 10 ? a.round : "0" + a.round;
e._replay_id = "" + a.battle_id + c + a.key;
e.btnReplay.active = !0;
e.btnShare.active = !0;
e.btnDetail.active = !1;
});
},
history: function(e) {
for (var i = this.player.children, t = 0; t < i.length; ++t) i[t].active = !1;
this.btnDetail.active = !1;
this.time.string = e.time.replace(" ", "\r\n");
this.room_id.string = e.room_id;
this.creator.string = e.creator;
this.creator_name.string = e.creator_name;
this.gameName.string = e.name;
var a = e.scores.split(","), n = e.names.split(","), s = 0, c = e.uids.split(",");
for (t = 0; t < a.length; ++t) parseFloat(a[t]) > s && (s = a[t]);
for (t = 0; t < a.length; ++t) {
i[t].active = !0;
i[t].getChildByName("dayinjia").active = 0 != s && a[t] == s;
i[t].getChildByName("name").getComponent(cc.Label).string = n[t];
i[t].getChildByName("score").getComponent(cc.Label).string = a[t];
i[t].getChildByName("userid").getComponent(cc.Label).string = "(" + c[t] + ")";
}
this.btnDetail.active = !1;
this.btnReplay.active = !1;
this.btnShare.active = !1;
this._battle_id = e.battle_id;
this.round.string = "";
},
share: function() {
var e, i = "";
i = null == this._replay_id ? this._battle_id + "" : this._replay_id + "";
e = cc.GAME_NAME + " - 游戏回放码:" + i + " - 点击复制";
cc.vv.g3Plugin.copyText(e);
cc.vv.popMgr.alert("复制游戏回放码 " + i + " 成功，可以去微信分享了");
},
onBtnClicked: function(e, i) {
var t = this;
switch (e.target.name) {
case "btnDetail":
cc.vv.popMgr.wait2("战绩获取中", function() {
cc.vv.net1.quick("history_round", {
battle_id: t._battle_id
});
});
break;

case "btnReplay":
cc.vv.popMgr.wait2("正在准备回放", function() {
cc.vv.popMgr.hide();
cc.vv.net1.quick("history_replay", {
replay_id: t._replay_id
});
});
break;

case "btnShare":
t.share();
break;

case "btnDetail_club":
cc.vv.popMgr.wait2("战绩获取中", function() {
cc.vv.net1.quick("club_history_round", {
battle_id: t._battle_id
});
});
break;

case "btnReplay_club":
cc.vv.popMgr.wait2("正在准备回放", function() {
cc.vv.popMgr.hide();
cc.vv.net1.quick("club_history_replay", {
replay_id: t._replay_id
});
});
break;

case "btnShare_club":
t.share();
}
}
});
cc._RF.pop();
}, {} ],
HS3100Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a71c2VRGLpLoay/E+jfyhmQ", "HS3100Const");
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -343,
y: 330,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: -620,
y: 93,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
player3: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -620,
y: 93,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
player2: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: -343,
y: 330,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
threeD: {
card2: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -290,
y: -48,
scale: .6,
distance: [ 0, 74, 74, 75, 72, 72, 72, 72, 72, 72, 72, 74, 75, 74, -952, 75, 76, 76, 72, 72, 72, 72, 72, 72, 72, 74, 75, 75, -958, 77, 76, 76, 72, 72, 72, 72, 72, 72, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu2", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: 223,
y: 328,
scale: .6,
distance: [ 0, -59, -59, -59, -60, -60, -59, -60, -60, -60, -59, -59, -59, -91 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "Frame_shangjia_shupai_14", "Frame_shangjia_shupai_13", "Frame_shangjia_shupai_12", "Frame_shangjia_shupai_11", "Frame_shangjia_shupai_10", "Frame_shangjia_shupai_9", "Frame_shangjia_shupai_8", "Frame_shangjia_shupai_7", "Frame_shangjia_shupai_6", "Frame_shangjia_shupai_5", "Frame_shangjia_shupai_4", "Frame_shangjia_shupai_3", "Frame_shangjia_shupai_2", "Frame_shangjia_shupai_1" ],
size: [ {
width: 72,
height: 91
}, {
width: 69,
height: 91
}, {
width: 68,
height: 91
}, {
width: 67,
height: 91
}, {
width: 66,
height: 91
}, {
width: 65,
height: 91
}, {
width: 66,
height: 91
}, {
width: 67,
height: 91
}, {
width: 68,
height: 91
}, {
width: 70,
height: 91
}, {
width: 71,
height: 91
}, {
width: 73,
height: 91
}, {
width: 74,
height: 91
}, {
width: 75,
height: 91
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
} ]
},
paiIndex: [ 9, 9, 9, 9, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
xhide: 223,
yhide: 318,
scalehide: .6,
distancehide: [ 0, -58, -59, -59, -59, -58, -59, -59, -59, -59, -59, -59, -59, -91 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_shangjia_pingpai_fan_14", "Frame_shangjia_pingpai_fan_13", "Frame_shangjia_pingpai_fan_12", "Frame_shangjia_pingpai_fan_11", "Frame_shangjia_pingpai_fan_10", "Frame_shangjia_pingpai_fan_9", "Frame_shangjia_pingpai_fan_8", "Frame_shangjia_pingpai_fan_7", "Frame_shangjia_pingpai_fan_6", "Frame_shangjia_pingpai_fan_5", "Frame_shangjia_pingpai_fan_4", "Frame_shangjia_pingpai_fan_3", "Frame_shangjia_pingpai_fan_2", "Frame_shangjia_pingpai_fan_1" ],
imgshow: [ "Frame_shangjia_pingpai_zheng_14", "Frame_shangjia_pingpai_zheng_13", "Frame_shangjia_pingpai_zheng_12", "Frame_shangjia_pingpai_zheng_11", "Frame_shangjia_pingpai_zheng_10", "Frame_shangjia_pingpai_zheng_9", "Frame_shangjia_pingpai_zheng_8", "Frame_shangjia_pingpai_zheng_7", "Frame_shangjia_pingpai_zheng_6", "Frame_shangjia_pingpai_zheng_5", "Frame_shangjia_pingpai_zheng_4", "Frame_shangjia_pingpai_zheng_3", "Frame_shangjia_pingpai_zheng_2", "Frame_shangjia_pingpai_zheng_1" ],
sizehide: [ {
width: 71,
height: 93
}, {
width: 71,
height: 94
}, {
width: 72,
height: 93
}, {
width: 71,
height: 93
}, {
width: 74,
height: 93
}, {
width: 73,
height: 93
}, {
width: 76,
height: 93
}, {
width: 77,
height: 93
}, {
width: 77,
height: 93
}, {
width: 78,
height: 93
}, {
width: 81,
height: 93
}, {
width: 82,
height: 93
}, {
width: 83,
height: 93
}, {
width: 84,
height: 93
} ],
dianScalehideAll: 1.2,
dianhide: {
position: [ {
x: .5,
y: 20
}, {
x: .5,
y: 20
}, {
x: 0,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2.5,
y: 20
}, {
x: -3,
y: 20
}, {
x: -3,
y: 20
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
haoScale: 1.3,
hao: [ {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
} ],
skew: [ {
x: -1,
y: 0
}, {
x: 0,
y: 0
}, {
x: .5,
y: 0
}, {
x: 1,
y: 0
}, {
x: 2,
y: 0
}, {
x: 3,
y: 0
}, {
x: 3,
y: 0
}, {
x: 4,
y: 0
}, {
x: 4,
y: 0
}, {
x: 5,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 8,
y: 0
} ],
dianScale: [ {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
} ]
},
paiIndexhide: [ 1, 2, 3, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -4,
y: 222,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 299,
y: 179,
scale: .6,
distance: [ 0, -74, -77, -78, -72, -72, -72, -72, -72, -72, -72, -75, -77, -74, 958, -74, -75, -76, -72, -72, -72, -72, -72, -72, -72, -75, -75, -74, 952, -72, -74, -75, -72, -72, -72, -72, -72, -72, -72, -75, -74, -72 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 85, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
img: [ "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue" ],
dianScale: [ {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
} ]
},
paiIndex: [ 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 15, 14, 13, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 11, 10, 9, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 7, 6, 5 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: -450,
spacingY: 0,
destination: [ {
x: 243,
y: 328
}, {
x: 123,
y: 328
}, {
x: 3,
y: 328
}, {
x: -117,
y: 328
} ],
fourPai: {
x: 2,
y: 30
}
},
ting: {
scale: .9,
x: 0,
y: -60
}
} ],
card3: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -290,
y: -58,
scale: .6,
distance: [ 0, 74, 74, 75, 72, 72, 72, 72, 72, 72, 72, 74, 75, 74, -952, 75, 76, 76, 72, 72, 72, 72, 72, 72, 72, 74, 75, 75, -958, 77, 76, 76, 72, 72, 72, 72, 72, 72, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu2", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -313,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 139,
y: 10,
scale: .6,
distance: [ 0, -4, -4, -2, -4, -2, -2, 110, -4, -4, -4, -4, -4, -4, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
imghide: [ "you1_1", "you1_2", "you1_3", "you1_4", "you1_5", "you1_6", "you1_7", "you2_1", "you2_2", "you2_3", "you2_4", "you2_5", "you2_6", "you2_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -515,
y: -185
}, {
x: -495,
y: -75
}, {
x: -475,
y: 35
}, {
x: -455,
y: 145
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: -464,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -136,
y: 206,
scale: .6,
distance: [ 0, -3, -4, -4, -3, -4, -4, -66, -4, -5, -5, -4, -4, -6, -61, -5, -6, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -55, -55, -58, 325, -52, -52, -54, -54, -56, -57, 326, -52, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
imghide: [ "zuo1_7", "zuo2_6", "zuo1_5", "zuo1_4", "zuo1_3", "zuo1_2", "zuo1_1", "zuo2_7", "zuo2_6", "zuo2_5", "zuo2_4", "zuo2_3", "zuo2_2", "zuo2_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -434,
y: 300
}, {
x: -454,
y: 190
}, {
x: -474,
y: 80
}, {
x: -494,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ],
card4: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: .94,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -67.5,
y: -50,
scale: .55,
distance: [ 0, 74, 74, 75, 72, 72, 74, 75, 74, -592, 75, 76, 76, 72, 72, 74, 75, 75, -597, 77, 76, 76, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -313,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 115,
y: 0,
scale: .55,
distance: [ 0, -4, -4, -2, -3.5, -3.5, -3, -2, -2, 115, -4, -4, -4, -4, -4, -4, -4, -4, 120, -6, -4, -6, -6, -6, -6, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 54, 54, 52, 52, 50, -426, 56, 54, 54, 54, 54, 52, 52, 50, -426, 56, 54, 54, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_4", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_4", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_4", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
imghide: [ "you1_1", "you1_2", "you1_3", "you1_4", "you1_4", "you1_4", "you1_5", "you1_6", "you1_7", "you2_1", "you2_2", "you2_3", "you2_4", "you2_4", "you2_4", "you2_5", "you2_6", "you2_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_4", "you3_4", "you3_5", "you3_6", "you3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 105,
height: 89
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 106,
height: 89
}, {
width: 105,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 108,
height: 89
}, {
width: 105,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -535,
y: -120
}, {
x: -515,
y: -20
}, {
x: -495,
y: 80
}, {
x: -475,
y: 180
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: 223,
y: 328,
scale: .6,
distance: [ 0, -59, -59, -59, -60, -60, -59, -60, -60, -60, -59, -59, -59, -91 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "Frame_shangjia_shupai_14", "Frame_shangjia_shupai_13", "Frame_shangjia_shupai_12", "Frame_shangjia_shupai_11", "Frame_shangjia_shupai_10", "Frame_shangjia_shupai_9", "Frame_shangjia_shupai_8", "Frame_shangjia_shupai_7", "Frame_shangjia_shupai_6", "Frame_shangjia_shupai_5", "Frame_shangjia_shupai_4", "Frame_shangjia_shupai_3", "Frame_shangjia_shupai_2", "Frame_shangjia_shupai_1" ],
size: [ {
width: 72,
height: 91
}, {
width: 69,
height: 91
}, {
width: 68,
height: 91
}, {
width: 67,
height: 91
}, {
width: 66,
height: 91
}, {
width: 65,
height: 91
}, {
width: 66,
height: 91
}, {
width: 67,
height: 91
}, {
width: 68,
height: 91
}, {
width: 70,
height: 91
}, {
width: 71,
height: 91
}, {
width: 73,
height: 91
}, {
width: 74,
height: 91
}, {
width: 75,
height: 91
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
} ]
},
paiIndex: [ 9, 9, 9, 9, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
xhide: 223,
yhide: 318,
scalehide: .6,
distancehide: [ 0, -58, -59, -59, -59, -58, -59, -59, -59, -59, -59, -59, -59, -91 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_shangjia_pingpai_fan_14", "Frame_shangjia_pingpai_fan_13", "Frame_shangjia_pingpai_fan_12", "Frame_shangjia_pingpai_fan_11", "Frame_shangjia_pingpai_fan_10", "Frame_shangjia_pingpai_fan_9", "Frame_shangjia_pingpai_fan_8", "Frame_shangjia_pingpai_fan_7", "Frame_shangjia_pingpai_fan_6", "Frame_shangjia_pingpai_fan_5", "Frame_shangjia_pingpai_fan_4", "Frame_shangjia_pingpai_fan_3", "Frame_shangjia_pingpai_fan_2", "Frame_shangjia_pingpai_fan_1" ],
imgshow: [ "Frame_shangjia_pingpai_zheng_14", "Frame_shangjia_pingpai_zheng_13", "Frame_shangjia_pingpai_zheng_12", "Frame_shangjia_pingpai_zheng_11", "Frame_shangjia_pingpai_zheng_10", "Frame_shangjia_pingpai_zheng_9", "Frame_shangjia_pingpai_zheng_8", "Frame_shangjia_pingpai_zheng_7", "Frame_shangjia_pingpai_zheng_6", "Frame_shangjia_pingpai_zheng_5", "Frame_shangjia_pingpai_zheng_4", "Frame_shangjia_pingpai_zheng_3", "Frame_shangjia_pingpai_zheng_2", "Frame_shangjia_pingpai_zheng_1" ],
sizehide: [ {
width: 71,
height: 93
}, {
width: 71,
height: 94
}, {
width: 72,
height: 93
}, {
width: 71,
height: 93
}, {
width: 74,
height: 93
}, {
width: 73,
height: 93
}, {
width: 76,
height: 93
}, {
width: 77,
height: 93
}, {
width: 77,
height: 93
}, {
width: 78,
height: 93
}, {
width: 81,
height: 93
}, {
width: 82,
height: 93
}, {
width: 83,
height: 93
}, {
width: 84,
height: 93
} ],
dianScalehideAll: 1.2,
dianhide: {
position: [ {
x: .5,
y: 20
}, {
x: .5,
y: 20
}, {
x: 0,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2.5,
y: 20
}, {
x: -3,
y: 20
}, {
x: -3,
y: 20
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
haoScale: 1.3,
hao: [ {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
} ],
skew: [ {
x: -1,
y: 0
}, {
x: 0,
y: 0
}, {
x: .5,
y: 0
}, {
x: 1,
y: 0
}, {
x: 2,
y: 0
}, {
x: 3,
y: 0
}, {
x: 3,
y: 0
}, {
x: 4,
y: 0
}, {
x: 4,
y: 0
}, {
x: 5,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 8,
y: 0
} ],
dianScale: [ {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
} ]
},
paiIndexhide: [ 1, 2, 3, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -4,
y: 222,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 69,
y: 179,
scale: .55,
distance: [ 0, -74, -77, -78, -78, -78, -75, -77, -74, 605, -74, -75, -76, -76, -76, -75, -75, -74, 598, -72, -74, -75, -75, -75, -75, -74, -72 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 87, 0, 0, 0, 0, 0, 0, 0, 0, 85, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
img: [ "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue" ],
dianScale: [ {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
} ]
},
paiIndex: [ 12, 12, 12, 12, 12, 12, 15, 14, 13, 8, 8, 8, 8, 8, 8, 11, 10, 9, 4, 4, 4, 4, 4, 4, 7, 6, 5 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: -450,
spacingY: 0,
destination: [ {
x: 243,
y: 328
}, {
x: 123,
y: 328
}, {
x: 3,
y: 328
}, {
x: -117,
y: 328
} ],
fourPai: {
x: 2,
y: 30
}
},
ting: {
scale: .9,
x: 0,
y: -60
}
}, {
holds: {
x: -454,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -124,
y: 102,
scale: .55,
distance: [ 0, -3, -4, -4, -4, -4, -3, -4, -4, -58, -4, -5, -5, -5, -5, -4, -4, -6, -53, -5, -6, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -54, -54, -55, -55, -58, 433, -52, -52, -54, -54, -54, -54, -56, -57, 434, -52, -52, -54, -54, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_4", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_4", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_4", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
imghide: [ "zuo1_7", "zuo2_6", "zuo1_5", "zuo1_4", "zuo1_4", "zuo1_4", "zuo1_3", "zuo1_2", "zuo1_1", "zuo2_7", "zuo2_6", "zuo2_5", "zuo2_4", "zuo2_4", "zuo2_4", "zuo2_3", "zuo2_2", "zuo2_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_4", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 108,
height: 92
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 109,
height: 92
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 111,
height: 92
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -414,
y: 300
}, {
x: -434,
y: 190
}, {
x: -454,
y: 80
}, {
x: -474,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ]
},
chat_path: "mj",
quick_chat: [ {
id: 0,
info: "你太牛啦"
}, {
id: 1,
info: "哈哈，手气真好"
}, {
id: 2,
info: "快点出牌啊"
}, {
id: 3,
info: "今天真高兴"
}, {
id: 4,
info: "这个吃的好"
}, {
id: 5,
info: "你放炮，我不胡"
}, {
id: 6,
info: "你家里是开银行的吗"
}, {
id: 7,
info: "不好意思，我有事要先走一步了"
}, {
id: 8,
info: "你的牌打的太好了"
}, {
id: 9,
info: "大家好，很高心见到各位"
}, {
id: 10,
info: "怎么又断线了，网络怎么这么差啊"
} ],
TIME_ITEM: 100,
TIME_THREE: 100,
TIME_SAIZI: 500,
TIME_HOLDS: 500,
TIME_HIDE_SAIZI: 1e3,
TIME_DING_ZHUANG: 1e3,
TIME_FRIST_TURE_CHANGE: 1500,
TIME_FRIST_ACTION: 1e3,
TIME_START: 10
}
});
cc._RF.pop();
}, {} ],
HS3100Folds: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "0c1e4QFDFdBZrUFJM8TBfsy", "HS3100Folds");
cc.Class({
extends: cc.Component,
properties: {
_pointers: null,
_folds: null,
_huas: null
},
onLoad: function() {
cc.vv;
},
start: function() {
this.initView();
this.initEventHandler();
},
initView: function() {
this._folds = {};
this._pointers = {};
this._huas = {};
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
var t = e[i];
this._folds[t] = [];
this._pointers[t] = [];
this._huas[t] = [];
}
},
initEventHandler: function() {
this.node.on("game_begin", function(e) {});
this.node.on("login_finished", function(e) {});
this.node.on("game_sync", function(e) {});
this.node.on("game_chupai_notify", function(e) {});
this.node.on("buhua_notify", function(e) {});
this.node.on("guo_notify", function(e) {});
},
change_color_outcrad: function(e) {
this._chupai_pai = e;
var i = cc.vv.mahjongMgr._seats;
for (var t in i) {
var a = i[t].folds;
if (null == a) return;
for (var n = cc.vv.roomMgr.viewChairID(i[t].seatIndex), s = 0; s < a.length; ++s) {
var c = n + "_folds_" + (r = s);
a.length;
if (a[s] == e) {
var o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
}
}
var h = i[t].chipenggang;
if (null == h) return;
for (s = 0; s < h.length; ++s) {
var r = s, l = (h.length, cc.vv.game.majiangTable.getHoldParent(n, "penggangs")), d = (c = n + "_nodeChipenggang_" + r, 
cc.vv.utils.getChildByTag(l, c));
c = n + "_chipenggang_" + r + "_0";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_1";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_2";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_3";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
}
}
},
hideAllFolds: function() {
for (var e = cc.find("Canvas/mgr/game"), i = cc.vv.mahjongMgr._sides, t = 0; t < i.length; ++t) {
var a = i[t];
e.getChildByName(a).getChildByName("folds").getChildByName("list").removeAllChildren();
}
},
hideChupai: function() {
if (-1 != cc.vv.mahjongMgr._turn) if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
var e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn), i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length;
cc.vv.game.majiangTable.hideFolds(e, i);
} else {
e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn);
if (0 == cc.vv.mahjongMgr._seats.length) return;
var t = e + "_chupai_" + (i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length), a = cc.vv.game.majiangTable.getHoldParent(e, "holdschupai");
cc.vv.game.majiangTable.send_card_emit(a, "nodeDestroy", {}, t);
var n = cc.vv.game.majiangTable._chupaiArr, s = n.indexOf(t);
-1 != s && n.splice(s, 1);
}
},
initAllFolds: function() {
var e = cc.vv.mahjongMgr._seats;
for (var i in e) this.initFolds(e[i]);
this.initPointer();
},
initPointer: function() {
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) for (var t = e[i], a = cc.vv.mahjongMgr.getViewidBySide(e[i]), n = this._pointers[t], s = 0; s < n.length; s++) {
var c = n[s];
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", {
isShow: !1
}, c);
}
},
initFolds: function(e) {
e.folds;
},
setSpritePointer: function(e, i, t) {
var a = cc.vv.roomMgr.viewChairID(e);
this.initPointer();
var n = a + "_folds_" + i, s = {
isShow: t
};
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", s, n);
this.setPointers(t, a, n);
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setShandian", {}, n);
},
setPointers: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._pointers[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setFolds: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._folds[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setHua: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._huas[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
}
});
cc._RF.pop();
}, {} ],
HS3100Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "26770/QXytEy6kHSP+SMXEw", "HS3100Game");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
cc.vv.log3.debug("HS3100Game:onLoad");
cc.vv.audioMgr.playBGM("mj_bg_01");
if (!cc.sys.isNative && cc.sys.isMobile) {
var i = this.node.getComponent(cc.Canvas);
i.fitHeight = !0;
i.fitWidth = !0;
}
if (cc.vv) {
cc.vv.game = this;
var t = e("HS3100Const");
cc.vv.game.config = {
type: "3dmj",
name: "hs3100",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: t.chat_path,
quick_chat: t.quick_chat,
player_4: t.player4,
player_3: t.player3,
player_2: t.player2,
card_4: t.threeD.card4,
card_3: t.threeD.card3,
card_2: t.threeD.card2,
TIME_ITEM: t.TIME_ITEM,
TIME_THREE: t.TIME_THREE,
TIME_SAIZI: t.TIME_SAIZI,
TIME_HOLDS: t.TIME_HOLDS,
TIME_HIDE_SAIZI: t.TIME_HIDE_SAIZI,
TIME_DING_ZHUANG: t.TIME_DING_ZHUANG,
TIME_FRIST_TURE_CHANGE: t.TIME_FRIST_TURE_CHANGE,
TIME_FRIST_ACTION: t.TIME_FRIST_ACTION,
TIME_START: t.TIME_START,
set_bg: !1,
isTinghougang: !1,
isLianzhuang: !1,
isBaoting: !1,
isGangfen: !0,
location: !0,
isSelectSit: !0,
isXiayu: !0,
isGuoPeng: !0,
isyipaoduoxiang: !1,
show_watch_btn: !1,
is_sanguiyi: !0,
is_show_fanshu: !0,
is_tingfan: !0,
is_showtingdown: !0,
is_showgangfen: !0,
is_showzimo: !0,
is_lastGenZhuangSuccess: !0,
is_lastLiuJuSuccess: !0,
is_lastLiuJuScore: !0,
is_kaiju: !0,
is_no_fapaiAnimation: !0,
is_time_jiesuan: !0,
is_showHuangZhuang: !0
};
} else cc.director.loadScene("loading");
},
start: function() {
var i = this;
cc.vv.log3.debug("HS3100Game:start");
this.majiangTable = this.node.getComponent("majiangTable");
this.table = this.node.getComponent("Table");
cc.vv.mahjongMgr = this.node.getComponent("HS3100Mgr");
cc.vv.folds = this.node.getComponent("HS3100Folds");
this._winPlayer = cc.find("Canvas/mgr/players");
this.majiangTable.initView();
this.majiangTable.new_round();
this.initEventHandlers();
cc.vv.roomMgr.is_replay && (cc.vv.mahjongMgr._magicPai = cc.vv.roomMgr.action.init.magicPai);
var t = e("HS3100ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.mahjongMgr.prepareReplay(cc.vv.roomMgr.action.init, cc.vv.roomMgr.seatid);
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
for (var t = cc.vv.roomMgr.table.list, a = cc.vv.roomMgr.action.init.score, n = 0; n < t.length; ++n) {
e = cc.vv.roomMgr.getSeatIndexByID(a[n].user_id);
var s = cc.vv.roomMgr.viewChairID(e);
i.table.seat_emit(s, "score", a[n].score);
cc.vv.utils.getChildByTag(i._winPlayer, e).getComponent("Seat").ready(!1);
}
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
i.majiangTable.onGameBeign();
}
};
a.emit("get_open", n);
}
},
initEventHandlers: function() {
var e = this;
this.node.on("game_saizi", function(i) {
e.dispatchEvent("game_kaiju_table");
setTimeout(function() {
e.dispatchEvent("game_saizi_table", i);
}, cc.vv.game.config.TIME_SAIZI);
});
this.node.on("game_magic", function(i) {
e.dispatchEvent("game_magic_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("showAction", i);
});
this.node.on("game_holds", function() {
setTimeout(function() {
e.dispatchEvent("game_holds_table");
}, cc.vv.game.config.TIME_HOLDS);
});
this.node.on("mj_count", function() {
var i = {
data: {
count: cc.vv.mahjongMgr._numOfMJ
}
};
e.dispatchEvent("mj_count_table", i);
});
this.node.on("login_finished", function(i) {
e.dispatchEvent("game_begin_table");
});
this.node.on("game_begin", function() {
e.dispatchEvent("game_begin_table");
setTimeout(function() {
e.dispatchEvent("game_hideSaizi_table");
}, cc.vv.game.config.TIME_HIDE_SAIZI);
setTimeout(function() {
var i = {
data: {
seatid: cc.vv.mahjongMgr._zhuang
}
};
e.dispatchEvent("game_dingzhuang_table", i);
}, cc.vv.game.config.TIME_DING_ZHUANG);
setTimeout(function() {
e.dispatchEvent("game_fristTurnChange_table");
}, cc.vv.game.config.TIME_FRIST_TURE_CHANGE);
setTimeout(function() {
e.dispatchEvent("game_fristShowAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION);
setTimeout(function() {
e.dispatchEvent("game_fristShowTingAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 100);
setTimeout(function() {
e.dispatchEvent("game_fristShowTing1Action_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 200);
cc.vv.game.config.is_showHuangZhuang && e.dispatchEvent("huangzhuang_table");
});
this.node.on("game_playing", function(i) {
e.dispatchEvent("game_playing_table", i);
});
this.node.on("game_chupai", function(i) {
e.dispatchEvent("game_chupai_table", i);
});
this.node.on("game_chupai_notify", function(i) {
e.dispatchEvent("game_chupai_notify_table", i);
});
this.node.on("game_mopai", function(i) {
e.dispatchEvent("game_mopai_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("game_showaction_table", i);
});
this.node.on("jiesuan", function(i) {
i = i.data;
e.dispatchEvent("game_jiesuan_table", i);
});
this.node.on("report", function(i) {
i = i.data;
e.dispatchEvent("game_report_table", i);
});
this.node.on("guo_notify", function(i) {
e.dispatchEvent("guo_notify_table", i);
});
this.node.on("peng_notify", function(i) {
e.dispatchEvent("peng_notify_table", i);
});
this.node.on("chi_notify", function(i) {
e.dispatchEvent("chi_notify_table", i);
});
this.node.on("gang_notify", function(i) {
e.dispatchEvent("gang_notify_table", i);
});
this.node.on("hupai", function(i) {
e.dispatchEvent("hupai_table", i);
});
this.node.on("chupai_limit_notify", function(i) {
e.dispatchEvent("chupai_limit_notify_table", i);
});
this.node.on("bao_ting_push", function(i) {
e.dispatchEvent("bao_ting_push_table", i);
});
this.node.on("buhua_notify", function(i) {
e.dispatchEvent("buhua_notify_table", i);
});
this.node.on("hangang_notify", function(i) {
var t = cc.vv.roomMgr.viewChairID(i);
e.majiangTable.playEfx(t, "play_gang");
e.majiangTable.playSFX(i, "gang");
e.majiangTable.hideOptions();
e.majiangTable.hideGangPaiOpts();
e.majiangTable.hideChipaiOpts();
});
this.node.on("game_sync", function(i) {
e.dispatchEvent("game_sync_table", i);
});
this.node.on("game_action_ting", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting_table", i);
});
this.node.on("game_action_ting1", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting1_table", i);
});
this.node.on("guo_result", function() {
e.dispatchEvent("guo_result_table");
});
this.node.on("view_ting", function(i) {
e.dispatchEvent("view_ting_table", i);
});
this.node.on("guohu_game", function(i) {
e.dispatchEvent("guohu_table", i);
});
this.node.on("guopeng_game", function(i) {
e.dispatchEvent("guopeng_table", i);
});
this.node.on("hujiaozhuanyi_game", function(i) {
e.dispatchEvent("hujiaozhuanyi_table", i);
});
this.node.on("cheat", function(i) {
i = i.data;
cc.vv.popMgr.open("ShowPai", function(t) {
e.ViewShowPai = t;
e.ViewShowPai.getComponent("ShowPai").show_card(i.list.pai);
});
});
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "jiesuan":
this.onButtonQieGuo("game_sync_push", {
errcode: 0,
data: {
liupaiCnt: 0,
button: 0,
numofmj: 104,
round: 1,
chuPai: -1,
state: 3,
turn: 1,
zhuang: 0,
seats: [ {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35 ],
baoting: !1,
wangangs: [],
guohu: !1,
userid: 3015,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
holds: [ 16, 3, 4, 5, 6, 7, 16, 17, 19, 25, 27, 32, 35 ],
pengs: [],
hued: !1
}, {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35 ],
baoting: !1,
wangangs: [],
userid: 3028,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
pengs: [],
hued: !1
} ],
magicPai: 15,
saizi_2: 3,
saizi_1: 4
},
errmsg: "ok",
model: "game",
event: "game_sync_push"
});
}
},
onGangChecked: function(e) {
cc.vv.audioMgr.click();
cc.vv.net2.quick("gang", {
pai: e.target.pai,
wik: e.target.paiWik
});
},
onOptionClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btnPeng":
cc.vv.net2.quick("peng");
cc.vv.folds.initPointer();
break;

case "btnTing":
cc.vv.net2.quick("baoting");
this.majiangTable.initbnaoting();
break;

case "btnHu":
cc.vv.net2.quick("hu");
break;

case "btnGuo":
this.ops_bgclick_guo();
break;

case "cancelbtnGuo":
1 == this.majiangTable._baoting && this.majiangTable.cencelbaoting();
cc.vv.net2.quick("guo");
break;

case "btnGang":
this.majiangTable.showGang(e.target.pai, e.target.paiWik, e.target.actpai);
cc.vv.folds.initPointer();
break;

case "btnshowall":
cc.vv.net2.quick("cheat");
break;

case "btnChi":
this.majiangTable.showChipai(e.target.pai, e.target.paiWik);
cc.vv.folds.initPointer();
}
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_button_01");
},
ops_bgclick_guo: function() {
cc.vv.net2.quick("guo");
this.majiangTable.hideOptions();
1 == this.majiangTable._baoting && 1 == this.majiangTable._tinghuhoupai && 1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
},
shoot: function(e, i) {
this.majiangTable.baotingopsUi(!1);
if (null != e) {
1 == this.majiangTable._baoting && (this.majiangTable._autoOutCrad = !0);
if (cc.vv.mahjongMgr._canChui) {
var t = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid];
cc.vv.mahjongMgr._canChui = !1;
cc.vv.folds.change_color_outcrad(-4);
if (1 == this.majiangTable._yiting) {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 1,
index: i
});
this.majiangTable._yiting = !1;
var a = t.folds.length, n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: a,
pai: e,
baoting: 1,
index: i
});
} else {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 0,
index: i
});
if (!cc.vv.game.majiangTable._baotingchupai) {
n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: -1,
pai: e,
baoting: 0,
index: i
});
}
}
cc.vv.folds.initAllFolds();
1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
cc.vv.roomMgr.param.too_hu_must_zimo || this.majiangTable.hideGuohu();
this.majiangTable.hideGuoPeng();
this.majiangTable.hideting();
this.majiangTable.hideOptions();
this.majiangTable.hideChipaiOpts();
this.majiangTable.hideGangPaiOpts();
this.majiangTable.hideTingOpts();
cc.find("Canvas/open/tingPaiList").active = !1;
}
}
},
sortHolds: function(e) {
var i = e.holds;
if (null == i) return null;
var t = null, a = i.length;
2 != a && 5 != a && 8 != a && 11 != a && 14 != a || (t = i.pop());
var n = cc.vv.mahjongMgr._magicPai, s = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(i, n, s);
null != t && i.push(t);
return i;
},
sortHoldsByPai: function(e) {
if (null == e) return null;
var i = null, t = e.length;
2 != t && 5 != t && 8 != t && 11 != t && 14 != t || (i = e.pop());
var a = cc.vv.mahjongMgr._magicPai, n = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(e, a, n);
null != i && e.push(i);
return e;
},
getMJIndex: function(e, i) {
return i;
},
getStartIndex: function(e) {
if (null == e) return null;
var i = e.length;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getStartIndexByNum: function(e) {
var i = e;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getFourteenTo: function(e, i) {
for (var t = cc.vv.game.sortHoldsByPai(cc.vv.mahjongMgr._oldholds), a = cc.vv.game.getStartIndex(t), n = t.length, s = t[13 - a], c = a; c < a + n; c++) {
if (s == e) return a - 1;
if (s == i && s == t[c - a] || s == i && t[c - a] != e) return c - 1;
if (t[c - a] != e && t[c - a] != i && s < t[c - a]) return c - 1;
}
return 13;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
testData: function(e, i) {
cc.vv.mahjongMgr.node.emit(e, i);
},
onButtonQieGuo: function(e, i) {
this.testData(e, i);
}
});
cc._RF.pop();
}, {
HS3100Const: "HS3100Const",
HS3100ReplayMgr: "HS3100ReplayMgr"
} ],
HS3100Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "7542folYrhOFbv3DY3PZfxE", "HS3100Mgr");
cc.Class({
extends: cc.Component,
properties: {
pengPrefabSelf: {
default: null,
type: cc.Prefab
},
_sides: null,
_pres: null,
_foldPres: null,
_fangxiang: null,
_mahjongSprites: [],
_turn: -1,
_last: -1,
_zhuang: -1,
_saizi_1: 0,
_saizi_2: 0,
_magicPai: -1,
_magicPai2: -1,
_seats: [],
_numOfMJ: 0,
_liupaiCnt: 0,
_maxNumOfGames: 0,
_numOfGames: 0,
_isOver: !0,
_button: -1,
_gamestate: -1,
_canChui: !1,
_curaction: null,
_baoting_index: -1,
_oldholds: []
},
onLoad: function() {
if (null != cc.vv) {
switch (cc.vv.roomMgr.ren) {
case 4:
this._sides = [ "myself", "right", "up", "left" ];
this._pres = [ "M_", "R_", "B_", "L_" ];
this._foldPres = [ "B_", "R_", "B_", "L_" ];
this._fangxiang = [ "nan", "dong", "bei", "xi" ];
break;

case 3:
this._sides = [ "myself", "right", "left" ];
this._pres = [ "M_", "R_", "L_" ];
this._foldPres = [ "B_", "R_", "L_" ];
this._fangxiang = [ "nan", "dong", "xi" ];
break;

case 2:
this._sides = [ "myself", "up" ];
this._pres = [ "M_", "B_" ];
this._foldPres = [ "B_", "B_" ];
this._fangxiang = [ "nan", "bei" ];
}
for (var e = 1; e < 10; ++e) this._mahjongSprites.push("B" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("T" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("W" + e);
this._mahjongSprites.push("F2");
this._mahjongSprites.push("F3");
this._mahjongSprites.push("F4");
this._mahjongSprites.push("F5");
this._mahjongSprites.push("F1");
this._mahjongSprites.push("F6");
this._mahjongSprites.push("F7");
this._mahjongSprites.push("J1");
this._mahjongSprites.push("J2");
this._mahjongSprites.push("J3");
this._mahjongSprites.push("J4");
this._mahjongSprites.push("H3");
this._mahjongSprites.push("H2");
this._mahjongSprites.push("H1");
this._mahjongSprites.push("H4");
this.initEventHandlers();
}
},
prepareReplay: function(e, i) {
this._seats = [];
if (null != e.zhuang) {
this._zhuang = e.zhuang;
this._turn = e.zhuang;
}
for (var t = 0; t < cc.vv.roomMgr.table.list.length; ++t) {
var a = {};
a.seatIndex = t;
a.score = null;
a.holds = e.game_seats[t];
a.pengs = [];
a.chis = [];
a.huas = [];
a.piaonum = 0;
a.angangs = [];
a.diangangs = [];
a.wangangs = [];
a.folds = [];
a.chipenggang = [];
i == cc.vv.roomMgr.table.list[t].userid && (cc.vv.roomMgr.seatid = t);
this._seats[t] = a;
}
if (e.numofmj) {
this._numOfMJ = e.numofmj;
this._liupaiCnt = e.liupaiCnt;
}
this._gamestate = 3;
},
initEventHandlers: function() {
var e = this;
this.node.on("login_result", function(i) {
if (0 === i.errcode) {
i = i.data;
e._seats = i.seats;
e._isOver = !1;
e.reset();
}
});
this.node.on("sit", function(i) {
i = i.data;
if (null != e._seats[i.seatid]) {
e._seats[i.seatid].seatIndex = i.seatid;
e._seats[i.seatid].userid = i.userid;
e._seats[i.seatid].headimg = i.headimg;
}
});
this.node.on("game_saizi_push", function(i) {
i = i.data;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e.dispatchEvent("game_saizi", i);
});
this.node.on("game_magic_push", function(i) {
i = i.data;
e._magicPai = i.magic;
e.dispatchEvent("game_magic", i);
});
this.node.on("game_action_push", function(i) {
i = i.data;
e._curaction = i;
e.dispatchEvent("game_action", i);
});
this.node.on("game_holds_push", function(i) {
i = i.data;
e._seats[cc.vv.roomMgr.seatid].holds = i.holds;
for (var t = 0; t < e._seats.length; ++t) {
var a = e._seats[t];
null == a.folds && (a.folds = []);
null == a.pengs && (a.pengs = []);
null == a.chis && (a.chis = []);
null == a.huas && (a.huas = []);
a.piaonum = 0;
null == a.angangs && (a.angangs = []);
null == a.diangangs && (a.diangangs = []);
null == a.wangangs && (a.wangangs = []);
null == a.chipenggang && (a.chipenggang = []);
a.ready = !1;
}
e.dispatchEvent("game_holds");
});
this.node.on("mj_count_push", function(i) {
i = i.data;
e.doMjCount(i.numOfMJ, i.liupaiCnt);
});
this.node.on("game_begin_push", function(i) {
i = i.data;
e._button = i.button;
e._turn = i.button;
e._zhuang = i.zhuang;
e._gamestate = 2;
e._lastLiuJu = i.lastLiuJu;
e._lastZhuang = i.lastZhuang;
e.dispatchEvent("game_begin");
});
this.node.on("game_playing_push", function(i) {
i = i.data;
e._gamestate = 3;
e.dispatchEvent("game_playing");
});
this.node.on("game_chupai_push", function(i) {
i = i.data;
if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
null != i.game_action_push && (e._curaction = i.game_action_push);
null != i.game_action_ting && null != i.game_action_ting.data && (cc.vv.game.majiangTable._datating = i.game_action_ting.data);
}
var t = cc.vv.roomMgr.getSeatIndexByID(i.userId);
e.doTurnChange(t, i);
});
this.node.on("game_chupai_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
-1 != n && (cc.vv.game.majiangTable._baotingchupai || n != cc.vv.roomMgr.seatid) && e.doChupai(n, a, i.baoTing_index, i.baoting, i.index);
});
this.node.on("game_mopai_push", function(i) {
i = i.data;
e.doMopai(cc.vv.roomMgr.seatid, i.pai, i.is_auto);
});
this.node.on("guo_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGuo(n, a);
});
this.node.on("peng_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doPeng(n, a);
});
this.node.on("chi_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.chiPai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doChi(s, a, n);
});
this.node.on("gang_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.gangpai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGang(s, a, n, i.gangtype);
});
this.node.on("chupai_limit_notify_push", function(i) {
e.dispatchEvent("chupai_limit_notify");
});
this.node.on("baoting_notify_push", function(i) {
i = i.data;
e.doTing(i);
});
this.node.on("hu_push", function(i) {
i = i.data;
e.doHu(i);
});
this.node.on("guohu", function(i) {
i = i.data;
e.doGuoHu(i);
});
this.node.on("guopeng", function(i) {
i = i.data;
e.doGuoPeng(i);
});
this.node.on("game_sync_push", function(i) {
i = i.data;
e.reset();
e._liupaiCnt = i.liupaiCnt;
e._magicPai = i.magicPai;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e._gamestate = i.state;
e._turn = i.turn;
e._zhuang = i.zhuang;
e._button = i.button;
e._chupai = i.chuPai;
e._numOfMJ = i.numofmj;
e._lastLiuJu = i.lastLiuJu;
e._lastZhuang = i.lastZhuang;
for (var t = 0; t < cc.vv.roomMgr.ren; ++t) {
e._seats[t].baoTing_index = i.seats[t].m_bBaoTing_index;
e._seats[t].status = i.seats[t].status;
var a = e._seats[t], n = i.seats[t];
a.baoting = n.baoting;
a.holds = n.holds;
a.folds = n.folds;
a.angangs = n.angangs;
a.diangangs = n.diangangs;
a.wangangs = n.wangangs;
a.pengs = n.pengs;
a.chis = n.chis;
a.huas = n.huas;
a.hued = n.hued;
a.iszimo = n.iszimo;
a.huinfo = n.huinfo;
a.huanpais = n.huanpais;
a.m_bBaoTing_index = n.m_bBaoTing_index;
a.chipenggang = [];
for (var s = 0; s < a.angangs.length; s++) {
var c = a.angangs[s];
a.chipenggang.push([ 2, c ]);
}
for (var o = 0; o < a.diangangs.length; o++) {
var h = a.diangangs[o];
a.chipenggang.push([ 3, h ]);
}
for (var r = 0; r < a.wangangs.length; r++) {
var l = a.wangangs[r];
a.chipenggang.push([ 4, l ]);
}
for (var d = a.pengs.length, g = 0; g < d; g++) {
var u = a.pengs[g];
-1 != e.arrayReturn(a.wangangs, u) ? a.pengs.splice(g, 1) : a.chipenggang.push([ 1, u ]);
}
for (var _ = 0; _ < a.chis.length; _++) {
var v = a.chis[_];
a.chipenggang.push([ 0, v ]);
}
t == e.seatIndex && (e.dingque = n.que);
}
e.dispatchEvent("game_sync", i);
});
},
doMopai: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
a.holds.push(i);
this.dispatchEvent("game_mopai", {
seatIndex: e,
pai: i,
is_auto: t
});
}
},
doChupai: function(e, i, t, a, n) {
this._chupai = i;
var s = this._seats[e];
s.seatIndex = e;
this._seats[s.seatIndex].baoTing_index = t;
if (s.holds) {
var c = s.holds.indexOf(i), o = cc.vv.game.getStartIndex(s.holds);
cc.vv.roomMgr.is_replay && (n = o + c);
e == cc.vv.roomMgr.seatid && (this._oldholds = cc.vv.utils.deepCopy(s.holds));
s.holds.splice(c, 1);
}
this.dispatchEvent("game_chupai_notify", {
seatData: s,
pai: i,
baoTing_index: t,
baoting: a,
index: n
});
},
doMjCount: function(e, i) {
this._numOfMJ = e;
this._liupaiCnt = i;
this.dispatchEvent("mj_count", null);
},
doTurnChange: function(e, i) {
i = {
last: this._turn,
turn: e,
data: i
};
this._last = this._turn;
this._turn = e;
this.dispatchEvent("game_chupai", i);
},
doGuo: function(e, i) {
var t = this._seats[e];
this.dispatchEvent("guo_notify", t);
},
doPeng: function(e, i) {
var t = this._seats[e];
t.pengs.push(i);
t.chipenggang.push([ 1, i ]);
if (t.holds) for (var a = 0; a < 2; ++a) {
var n = t.holds.indexOf(i[1]);
t.holds.splice(n, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("peng_notify", {
seatData: t,
pengpai: i
});
},
doChi: function(e, i, t) {
var a = this._seats[e];
a.chis.push(t);
a.chipenggang.push([ 0, i ]);
if (a.holds) for (var n = 1; n < t.length; ++n) if (t[n] != i) {
var s = a.holds.indexOf(t[n]);
-1 != s && a.holds.splice(s, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("chi_notify", {
seatData: a,
chipai: i
});
},
doGang: function(e, i, t, a) {
var n = this._seats[e];
if (11 == a) for (var s = 0; s < n.pengs.length; ++s) if (n.pengs[s][1] == i) {
n.pengs.splice(s, 1);
break;
}
if (9 == a || 12 == a) {
n.angangs.push(t);
n.chipenggang.push([ 2, t ]);
} else if (10 == a || 13 == a) {
n.diangangs.push(t);
n.chipenggang.push([ 3, t ]);
this.removeChupai(t[0]);
} else if (14 == a || 11 == a) {
n.wangangs.push(t);
for (var c = n.chipenggang, o = 0; o < c.length; o++) 1 == c[o][0] && c[o][1][1] == i && (c[o][0] = 4);
}
if (n.holds) {
if (9 == a || 12 == a || 10 == a || 11 == a) for (var h = 1; h <= t.length; ++h) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
if (13 == a) for (h = 1; h <= t.length; ++h) if (t[h] != i) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
}
this.dispatchEvent("gang_notify", {
seatData: n,
gangtype: a,
gangpai: t
});
},
doTing: function(e) {
this.dispatchEvent("bao_ting_push", e);
},
doHu: function(e) {
e.turn = this._turn;
e.foldslength = -1;
if (-1 != e.turn) {
var i = cc.vv.mahjongMgr._seats[e.turn].folds.length;
e.foldslength = i;
}
this.dispatchEvent("hupai", e);
},
doGuoHu: function(e) {
this.dispatchEvent("guohu_game", e);
},
doGuoPeng: function(e) {
this.dispatchEvent("guopeng_game", e);
},
doHujiaozhuanyi: function(e) {
var i = e.seatid;
cc.vv.mahjongMgr._seats[i].holds.pop();
this.dispatchEvent("hujiaozhuanyi_game", e);
},
doBuhua: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
var n = a.holds.indexOf(i);
-1 != n && a.holds.splice(n, 1);
}
a.huas && a.huas.push(i);
a.piaonum = t;
this.dispatchEvent("buhua_notify", a);
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "mj/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
switchHuMp3: function(e, i) {
switch (i) {
case "平胡":
this.playSFX(e, "hu");
break;

case "自摸":
this.playSFX(e, "zimo");
break;

case "七小对":
case "七对":
this.playSFX(e, "qidui");
break;

case "清一色七小对":
case "清一色七对":
case "豪华七对":
case "豪华七小对":
this.playSFX(e, "haohuaqidui");
break;

case "清一色":
this.playSFX(e, "qinyise");
break;

case "十三幺":
this.playSFX(e, "shisanyao");
break;

case "清一色一条龙":
case "一条龙":
this.playSFX(e, "yitaolong");
break;

default:
this.playSFX(e, "hu");
}
},
reset: function() {
this._turn = -1;
this._last = -1;
this._zhuang = -1;
this._chupai = -1, this._button = -1;
this._magicPai = -1;
this._saizi_1 = -1, this._saizi_2 = -1, this._gamestate = -1;
this._curaction = null;
for (var e = 0; e < this._seats.length; ++e) {
this._seats[e].holds = [];
this._seats[e].folds = [];
this._seats[e].pengs = [];
this._seats[e].chipenggang = [];
this._seats[e].chis = [];
this._seats[e].huas = [];
this._seats[e].piaonum = 0;
this._seats[e].angangs = [];
this._seats[e].diangangs = [];
this._seats[e].wangangs = [];
this._seats[e].dingque = -1;
this._seats[e].ready = !1;
this._seats[e].hued = !1;
this._seats[e].huanpais = null;
this._seats[e].baoting = !0;
}
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
clear: function() {
this.dataEventHandler = null;
null == this.isOver && (this._seats = null);
},
getGangType: function(e, i) {
if (-1 != e.pengs.indexOf(i)) return "wangang";
for (var t = 0, a = 0; a < e.holds.length; ++a) e.holds[a] == i && t++;
return 3 == t ? "diangang" : "angang";
},
getMahjongPai: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 10 : 1 == parseInt(e / 10) ? e += 10 : 2 == parseInt(e / 10) && (e -= 20);
return e;
},
getMahjongPaiReturn: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 20 : 1 == parseInt(e / 10) ? e -= 10 : 2 == parseInt(e / 10) && (e -= 10);
return e;
},
getMahjongPaiThree: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e -= 1 : 1 == parseInt(e / 10) ? e -= 2 : 2 == parseInt(e / 10) ? e -= 3 : 3 == parseInt(e / 10) && (e -= 4);
return e;
},
getMahjongType: function(e) {
return e >= 0 && e < 9 ? 0 : e >= 9 && e < 18 ? 1 : e >= 18 && e < 27 ? 2 : void 0;
},
getAudioURLByMJID: function(e) {
var i = 0;
e >= 0 && e < 9 ? i = e + 21 : e >= 9 && e < 18 ? i = e - 8 : e >= 18 && e < 27 ? i = e - 7 : e >= 27 && e < 34 && (i = e + 4);
return i;
},
getTargetSide: function(e, i) {
var t = (e.seatIndex + 1) % cc.vv.roomMgr.ren, a = (e.seatIndex + 2) % cc.vv.roomMgr.ren, n = (e.seatIndex + 3) % cc.vv.roomMgr.ren;
return i == t ? 2 : i == a ? 1 : i == n ? 0 : -1;
},
sortMJ: function(e, i, t) {
t <= 0 ? e.sort(function(e, t) {
if (i >= 0) {
if (i == e) return -1;
if (i == t) return 1;
}
return e - t;
}) : e.sort(function(e, a) {
if (i >= 0 || t >= 0) {
if (i == e && t == a || i == a && t == e) return e - a;
if (i == e || t == e) return -1;
if (i == a || t == a) return 1;
}
return e - a;
});
},
getSide: function(e) {
return this._sides[e];
},
getFangxiang: function(e) {
return this._fangxiang[e];
},
getPre: function(e) {
return this._pres[e];
},
getFoldPre: function(e) {
return this._foldPres[e];
},
getSeatidByFangxiang: function(e) {
for (var i = 0, t = 0; t < this._fangxiang.length; t++) {
e == this._fangxiang[t] && (i = t);
}
return i;
},
getViewidBySide: function(e) {
for (var i = this._sides, t = 0; t < i.length; t++) if (i[t] == e) return t;
},
getNumberPai: function(e) {
var i = this._seats[e], t = 0;
null != i.pengs && (t += i.pengs.length);
null != i.angangs && (t += i.angangs.length);
null != i.diangangs && (t += i.diangangs.length);
null != i.wangangs && (t += i.wangangs.length);
null != i.chis && (t += i.chis.length);
return t *= 3;
},
removeChupai: function(e) {
if (i = e) var i = cc.vv.mahjongMgr._turn;
var t = this._seats[i];
t && t.folds && t.folds.pop();
},
getWangIndex: function(e, i) {
for (var t = e.chipenggang, a = 0; a < t.length; a++) if (4 == t[a][0] && t[a][1][1] == i) return a;
},
getBgSpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
},
getSpriteFrameByMJID: function(e, i) {
var t = cc.vv.game.majiangTable.selfhandAtlasThreeD, a = cc.vv.mahjongMgr.getMahjongPai(i);
return t.getSpriteFrame("img_cardvalue" + a);
},
getEmptySpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
},
arrayReturn: function(e, i) {
for (var t = -1, a = 0; a < e.length; a++) i[1] == e[a][1] && (t = a);
return t;
}
});
cc._RF.pop();
}, {} ],
HS3100ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "88451mTGKRFY5Lrtbwu4Lly", "HS3100ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.majiangTable.game_magicshow();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex, cc.vv.mahjongMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
si: e.si,
type: e.type,
pai: e.pai,
actPai: e.act
};
},
takeAction: function() {
var e = this.getNextAction();
null == this._lastAction || 1 != this._lastAction.type && 8 != this._lastAction.type || null != e && 3 != e.type && 4 != e.type && 5 != e.type && 7 != e.type && cc.vv.mahjongMgr.doGuo(this._lastAction.si, this._lastAction.pai);
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.type) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.nnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return 0;
}
if (1 == e.type) {
3 == e.actPai.length ? cc.vv.mahjongMgr.doChupai(e.si, e.pai, e.actPai[1], e.actPai[2]) : cc.vv.mahjongMgr.doChupai(e.si, e.pai);
return .5;
}
if (2 == e.type) {
3 == e.actPai.length && cc.vv.mahjongMgr.doMjCount(e.actPai[1], e.actPai[2]);
cc.vv.mahjongMgr.doTurnChange(e.si);
cc.vv.mahjongMgr.doMopai(e.si, e.pai);
return .5;
}
if (3 == e.type) {
cc.vv.mahjongMgr.doPeng(e.si, e.actPai);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (9 == e.type || 10 == e.type || 11 == e.type || 12 == e.type || 13 == e.type || 14 == e.type) {
cc.vv.mahjongMgr.dispatchEvent("hangang_notify", e.si);
cc.vv.mahjongMgr.doGang(e.si, e.pai, e.actPai, e.type);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (5 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !1
});
return 1.5;
}
if (6 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !0
});
return 1.5;
}
if (7 == e.type) {
cc.vv.mahjongMgr.doChi(e.si, e.pai, e.actPai);
return 1;
}
if (8 == e.type) {
cc.vv.mahjongMgr.doBuhua(e.si, e.pai, 0);
return 1;
}
if (15 == e.type) {
cc.vv.mahjongMgr.doTing({
userid: e.pai
});
return 1;
}
if (16 == e.type) {
cc.vv.mahjongMgr.doGuoHu({
seatid: e.si
});
return .5;
}
if (18 == e.type) {
cc.vv.mahjongMgr.doGuoPeng({
seatid: e.si
});
return .5;
}
if (17 == e.type) {
cc.vv.mahjongMgr.doHujiaozhuanyi({
seatid: e.si
});
return .5;
}
}
});
cc._RF.pop();
}, {} ],
HTTP: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f519bQ2aZ1KYqQ69goRXxMw", "HTTP");
cc.Class({
extends: cc.Component,
statics: {
sendRequest: function(e, i, t) {
var a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "GET", n = cc.loader.getXMLHttpRequest();
n.timeout = 5e3;
var s = "?";
for (var c in i) {
"?" != s && (s += "&");
s += c + "=" + i[c];
}
var o = e + encodeURI(s);
n.open(a, o, !0);
cc.sys.isNative;
n.onreadystatechange = function() {
if (4 === n.readyState && n.status >= 200 && n.status < 300) {
cc.vv.log3.debug("http res(" + n.responseText.length + "):" + n.responseText);
try {
null !== t && t(n.responseText);
} catch (e) {
cc.vv.log3.error("err:" + e);
}
}
};
n.send();
return n;
},
sendRequestUrl: function(e, i, t) {
var a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "GET", n = cc.loader.getXMLHttpRequest();
n.timeout = 5e3;
var s = "";
for (var c in i) s += c + "=" + i[c];
n.open(a, e, !0);
n.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
cc.sys.isNative;
n.onreadystatechange = function() {
if (4 === n.readyState && n.status >= 200 && n.status < 300) {
cc.vv.log3.debug("http res(" + n.responseText.length + "):" + n.responseText);
try {
null !== t && t(n.responseText);
} catch (e) {
cc.vv.log3.error("err:" + e);
}
}
};
n.send(s);
return n;
}
}
});
cc._RF.pop();
}, {} ],
HallLogic: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "7d5d2r/ayVOq7wQMyqPuPlm", "HallLogic");
cc.Class({
extends: cc.Component,
properties: {
lblRuningTip: cc.Label,
myInfo: cc.Node,
winCreate: cc.Node,
winOpened: cc.Node,
winClubList: cc.Node,
btnCreate: cc.Node,
btnJoin: cc.Node,
msgNotice: cc.Label,
_winHistory: cc.Node,
_winMessage: cc.Node,
_notic_2: null,
_isbtn: !1,
_btntime: -1,
handlers: {
default: {}
}
},
removeHandler: function(e) {
null == this.handlers && (this.handlers = {});
this.handlers[e] && delete this.handlers[e];
},
addHandler: function(e, i) {
null == this.handlers && (this.handlers = {});
if (!this.handlers[e]) {
this.handlers[e] = function(e) {
i(e);
};
}
},
onLoad: function() {
cc.vv.game = null;
cc.vv.hall = this;
cc.vv.memberBack = !0;
cc.vv.isLoginScene = !1;
cc.vv.hall.move_in = !1;
this.initEventHandlers();
if (1 == cc.APP_STORE_REVIEW && 1 == cc.vv.userMgr.ios_review && cc.sys.os == cc.sys.OS_IOS) {
cc.find("Canvas/tools/footer/icon_down/btn_opened").active = !1;
this.winClubList.active = !1;
} else this.winClubList.active = !0;
this.winClubList.active = !1;
this.btn_opened = cc.find("Canvas/tools/footer/icon_down/btn_opened");
this.btn_opened.active = !1;
this.msgType = 0;
cc.vv.net1.quick("message_list");
cc.vv.net1.quick("share_config");
},
start: function() {
this.hallEnter(0);
this.initView();
this.initbtn();
},
initbtn: function() {
this.cur_scene = "main";
this.tools = this.node.getChildByName("tools");
var e = this.tools.getChildByName("footer");
this.left_icon = e.getChildByName("left_icon");
this.icon_down = e.getChildByName("icon_down");
this.open = this.node.getChildByName("open");
this.btns = this.tools.getChildByName("head").getChildByName("btns");
this.title_btns = this.tools.getChildByName("head").getChildByName("title_btns");
this.middle = this.node.getChildByName("tools").getChildByName("middle");
if (cc.vv.global.lastYQroomid) {
cc.vv.userMgr.join(cc.vv.global.lastYQroomid, 0, 0);
cc.vv.global.lastYQroomid = null;
}
},
loopAnmation: function() {
var e = this;
this.schedule(function() {
e.btnCreate.getChildByName("animation").getComponent(sp.Skeleton).setAnimation(0, "idle", !1);
e.btnJoin.getChildByName("animation").getComponent(sp.Skeleton).setAnimation(0, "idle", !1);
}, 5, 1e4, 5);
},
girl_action_switch: function(e) {},
hallEnter: function(e) {
var i = {
method: "enter",
data: {
user_id: cc.vv.userMgr.userid,
token: cc.vv.userMgr.token,
adcode: cc.vv.global.adcode,
is_replay: e
}
};
cc.vv.net1.send(i);
cc.vv.audioMgr.playBGM("bgMain2");
this.checkClubRoomEnter();
cc.vv.roomMgr.dissroom = null;
},
checkClubRoomEnter: function() {
if (0 != cc.vv.userMgr.clubRoomEnter) {
cc.vv.club.clubMain.active = !0;
cc.vv.userMgr.club_id = cc.vv.userMgr.clubRoomEnter;
cc.vv.club.clubMain.getComponent("ClubMain").removeAllClub();
cc.vv.club.clubMain.getComponent("ClubMain").show(cc.vv.userMgr.clubRoomEnter);
}
},
update_password: function(e) {
e.errcode < 0 && cc.vv.popMgr.tip(e.errmsg);
if (0 == e.errcode) {
cc.sys.localStorage.setItem("is_me_password", "");
cc.vv.popMgr.tip("修改成功!");
cc.vv.popMgr.del_open("PhoneBind");
}
},
find_password: function(e) {
e.errcode < 0 && cc.vv.popMgr.tip(e.errmsg);
if (0 == e.errcode) {
cc.sys.localStorage.setItem("is_me_password", "");
cc.vv.popMgr.tip("修改成功!");
cc.vv.popMgr.del_open("PhoneBind");
}
},
initEventHandlers: function() {
var e = this;
cc.vv.gameNetMgr.dataEventHandler = this.node;
this.node.on("enter", function(e) {
-1 != e.errcode || cc.vv.popMgr.alert(e.errmsg, function() {
cc.vv.net1.close();
cc.vv.g3Plugin.logout();
cc.director.loadScene("splash");
});
});
this.node.on("find_password", function(i) {
e.find_password(i);
});
this.node.on("update_password", function(i) {
e.update_password(i);
});
this.node.on("share_config", function(e) {
cc.vv.popMgr.hide();
0 === e.errcode ? e.data && (cc.vv.userMgr.shareConfig = e.data) : cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("refer_img", function(i) {
cc.vv.popMgr.alert(i.errmsg);
var t = i.data;
if (0 === i.errcode) {
cc.vv.userMgr.headimg = t.img;
e.myInfo.getComponent("ShowUserInfo").initLabels();
cc.vv.popMgr.getNode("open", "MyInfo").getComponent("MyInfo").initLabels();
}
});
this.node.on("up_info", function(i) {
cc.vv.popMgr.tip("修改成功");
i.data;
0 === i.errcode && e.myInfo.getComponent("ShowUserInfo").initLabels();
});
this.node.on("hall_property", function(i) {
i.data;
0 === i.errcode && e.myInfo.getComponent("ShowUserInfo").refresh();
e.btn_opened.active = 1 === cc.vv.userMgr.daikai;
null != e.openechange && (e.openechange.getChildByName("bg").getChildByName("curscore").getComponent(cc.Label).string = cc.vv.userMgr.coins);
e.node.getChildByName("tools").getChildByName("head").getChildByName("title_btns").getChildByName("btn_jifen").getChildByName("num").getComponent(cc.Label).string = cc.vv.userMgr.coins;
});
this.node.on("opened_room_list", function(i) {
cc.log("ret = ", i);
e.winOpened.emit("opened_room_list", i.data.list);
});
this.node.on("feedback", function(e) {
if (0 == e.errcode) {
cc.vv.popMgr.tip("发送成功，谢谢您的宝贵的建议及意见！");
cc.vv.popMgr.del_open("Feedback");
} else cc.vv.popMgr.tip("错误id：" + e.errcode + "，错误信息" + e.errmsg);
});
this.node.on("opened_room_change", function(i) {
e.winOpened.emit("opened_room_change", i.data);
});
this.node.on("opened_room_remove", function(i) {
e.winOpened.emit("opened_room_remove", i);
});
this.node.on("version", function(e) {
cc.vv.popMgr.hide();
cc.vv.popMgr.hide_loading_tip();
cc.vv.popMgr.alert(e.errmsg, function() {
cc.game.restart();
});
});
this.node.on("updating", function(e) {
cc.vv.popMgr.hide();
cc.vv.popMgr.hide_loading_tip();
cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("create", function(i) {
if (0 === i.errcode) {
0 != i.data.clubid && (cc.vv.userMgr.clubRoomEnter = i.data.clubid);
if (2 != i.data.type) ; else {
cc.vv.popMgr.hide_loading_tip();
cc.vv.popMgr.alert("房间[" + i.data.room_id + "]创建成功\r\n\r\n快去邀请好友一起来玩吧!", function() {
cc.vv.popMgr.open("Share", function(t) {
t.getComponent("Share").onhideshare(1);
t.getComponent("Share").share(e.createroom_share, e, i.data);
}, i);
}, !0);
cc.vv.popMgr.hide();
}
} else {
cc.vv.popMgr.alert(i.errmsg);
cc.vv.popMgr.hide_loading_tip();
}
});
this.node.on("init", function(i) {
cc.vv.popMgr.hide();
e.hallEnter(1);
});
this.node.on("notic", function(i) {
var t = i.data;
if (0 === i.errcode) {
cc.vv.userMgr.notic = t;
e.initNotic();
} else {
cc.vv.popMgr.alert(i.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("join", function(e) {
var i = e.data;
if (0 === e.errcode) ; else {
cc.vv.popMgr.hide_loading_tip();
-2 == e.errcode ? 0 != i.club_id ? cc.vv.popMgr.alert(e.errmsg, function() {
cc.vv.club.clubMain.emit("club_room_del", {
data: {
roomid: i.room_id,
clubid: i.club_id
}
});
var e = {
method: "club_room_list",
data: {
club_id: i.club_id
}
};
cc.vv.net1.send(e);
}) : cc.vv.popMgr.alert(e.errmsg) : -3 == e.errcode ? cc.vv.popMgr.alert(e.errmsg, function() {
cc.vv.userMgr.join(i.room_id, i.club_id, 1);
}, !0) : cc.vv.popMgr.alert(e.errmsg);
}
});
this.node.on("room", function(e) {
var i = e.data;
if (0 === e.errcode) {
cc.log("ret = ", e);
cc.vv.roomMgr.init();
i.type && "zpj_2800" == i.type && (cc.vv.tempDataMgr.pokerNine = 0);
if (i.type && "zpj_2801" == i.type) {
cc.vv.tempDataMgr.pokerNine = 1;
i.type = "zpj_2800";
}
cc.vv.roomMgr.room_type = i.type;
cc.vv.roomMgr.roomid = i.roomid;
cc.vv.popMgr.loading_tip("join", function(e) {
e.getComponent("LoadingTip").scheduleShow(14, "无法连接到服务器", function() {
cc.vv.popMgr.alert("无法连接上服务器，请检查网络后重试", function(e) {
cc.game.restart();
});
});
cc.director.preloadScene(cc.vv.roomMgr.room_type);
var t = "ws://" + i.server + ":" + i.port;
cc.log("url = ", t);
cc.vv.gameNetMgr.connectGameServer(t);
});
}
});
this.node.on("history", function(i) {
var t = i.data;
if (0 === i.errcode) e._winHistory.getComponent("History").history(t.list); else {
cc.vv.popMgr.alert(i.errmsg);
cc.vv.popMgr.hide();
}
});
this.node.on("redeem_record", function(e) {
var i = e;
"ok" != i.errmsg ? cc.vv.popMgr.alert(i.errmsg) : cc.vv.popMgr.alert("兑换成功");
});
this.node.on("other", function(i) {
if (i) {
var t = i.event, a = e.handlers[t];
"function" == typeof a && a(i);
}
});
this.node.on("history_round", function(e) {
cc.vv.popMgr.hide();
var i = e.data;
0 === e.errcode ? cc.vv.popMgr.open("hall/History", function(e) {
e.getComponent("History").round(i);
}) : cc.vv.popMgr.alert(e.errmsg);
});
this.node.on("history_replay", function(e) {
var i = e.data;
if (0 === e.errcode) {
cc.vv.popMgr.loading_tip("join");
cc.vv.roomMgr.enter = i.enter;
cc.vv.roomMgr.table = i.table;
cc.vv.roomMgr.param = i.param;
cc.vv.roomMgr.action = i.action;
cc.vv.roomMgr.jiesuan = i.jiesuan;
cc.vv.roomMgr.roomid = i.enter.room_id;
cc.vv.roomMgr.ren = i.enter.ren;
cc.vv.roomMgr.now = i.enter.round;
cc.vv.roomMgr.max = i.enter.max_round;
cc.vv.roomMgr.room_type = i.param.model;
cc.vv.roomMgr.is_replay = !0;
null != cc.vv.club.roomPool && cc.vv.club.roomPool.clear();
cc.director.loadScene(cc.vv.roomMgr.room_type);
} else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
});
this.node.on("message_list", function(i) {
var t = i.data;
if (0 === i.errcode) if (1 == cc.vv.hall.msgType) e._winMessage.getComponent("Message").message(t.messageList); else {
e.msgNotice.node.parent.active = !1;
e.msgNotice.string = 0;
for (var a = 0, n = 0; n < t.messageList.length; ++n) {
if (0 == t.messageList[n].status) {
a++;
e.msgNotice.node.parent.active = !0;
e.msgNotice.string = a;
}
}
0 == a && (e.msgNotice.node.parent.active = !1);
} else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(i.errmsg);
}
});
this.node.on("message_add", function(e) {
e.data;
if (0 === e.errcode) ; else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
});
this.node.on("opened_room_history", function(i) {
var t = i.data;
if (0 === i.errcode) e.winOpened.emit("opened_room_history", t.list); else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(i.errmsg);
}
});
},
initView: function() {
this.myInfo.getComponent("ShowUserInfo").refresh();
this.initNotic();
"true" == cc.sys.localStorage.getItem("cuopaiset") ? cc.vv.userMgr.is_cuopai = !0 : cc.vv.userMgr.is_cuopai = !1;
"false" == cc.sys.localStorage.getItem("shakeset") ? cc.vv.userMgr.is_shake = !1 : cc.vv.userMgr.is_shake = !0;
cc.vv.userMgr.is_singletouch = "true" == cc.sys.localStorage.getItem("singletouchset");
},
initNotic: function() {
var e = cc.vv.userMgr.notic;
if (null != e) {
this.lblRuningTip.string = e.notic_1;
this._notic_2 = e.notic_2;
e.notic_3 && "" !== e.notic_3 && 1 === cc.vv.hall_pop_notice && cc.vv.popMgr.pop("hall/MessageContent", function(i) {
i.getComponent("MessageContent").notic(e.notic_3);
});
if (cc.vv.is_show_notic1) ; else {
cc.vv.is_show_notic1 = !0;
this.node.getChildByName("pop").getChildByName("aly").active = !0;
}
cc.vv.hall_pop_notice = null;
}
},
playFisrtWelcome: function() {
if (1 == cc.vv.userMgr.playFisrtWelcome) {
cc.vv.userMgr.playFisrtWelcome = 0;
var e = cc.vv.userMgr.sex;
switch (e) {
case 1:
case "1":
e = 2;
break;

case 2:
case "2":
e = 1;

default:
e = 2;
}
var i = "game_start_" + e;
cc.vv.audioMgr.playSFX(i);
}
},
share: function(e) {
var i = parseInt(e), t = cc.GAMEADRESS;
if (cc.vv.userMgr.shareConfig) {
var a = cc.vv.userMgr.shareConfig.share_url;
cc.vv.utils.loadUrlImg(a, function(e) {
var a = e || "";
4 == i ? cc.vv.g3Plugin.shareXLTUrl(a, t, "有人@你玩游戏！", "你的好友正在玩游戏！玩法超多超精彩！快来打败他！") : cc.vv.g3Plugin.shareImg(i, "", a, "", null);
});
}
},
createroom_share: function(e, i, t) {
var a = parseInt(e), n = cc.GAME_NAME + "房间号：" + t.room_id, s = "玩法:" + t.desc, c = cc.GAMEADRESS, o = jsb.fileUtils.fullPathForFilename("res/raw-assets/resources/public/dairy_icon.png");
cc.vv.g3Plugin.shareWeb(a, n, s, o, c);
},
create_action: function(e) {
var i = this.node.getChildByName("ShuangKou");
if ("right" == e) {
this.title_btns.runAction(cc.sequence(cc.moveTo(.3, cc.v2(this.title_btns.x + 90, this.title_btns.y)), cc.callFunc(function() {}, this)));
this.btns.runAction(cc.sequence(cc.moveTo(.3, cc.v2(this.btns.x, this.btns.y + 120)), cc.callFunc(function() {}, this)));
i.runAction(cc.sequence(cc.moveTo(.3, cc.v2(-600, -186)), cc.callFunc(function() {}, this)));
this.left_icon.runAction(cc.sequence(cc.moveTo(.3, cc.v2(this.left_icon.x - 155, 0)), cc.callFunc(function() {}, this)));
this.icon_down.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, -100)), cc.callFunc(function() {}, this)));
this.middle.runAction(cc.sequence(cc.spawn(cc.fadeTo(.4, 0), cc.moveTo(.4, cc.v2(150, -15)), cc.scaleTo(.4, .85, .85)), cc.callFunc(function() {}, this)));
} else if ("left" == e && null != this.cur_scene && "create" == this.cur_scene) {
this.cur_scene = "main";
var t = this.open.getChildByName("new_CreateRoom"), a = this.open.getChildByName("more_game");
if (null != t) {
(n = t.getChildByName("gameNode")).runAction(cc.sequence(cc.spawn(cc.fadeTo(.3, 0), cc.moveTo(.3, cc.v2(n.x + 300, n.y))), cc.callFunc(function() {
t.destroy();
}, this)));
}
if (null != a) {
var n;
(n = a.getChildByName("gameNode")).runAction(cc.sequence(cc.spawn(cc.fadeTo(.3, 0), cc.moveTo(.3, cc.v2(n.x + 300, n.y))), cc.callFunc(function() {
a.destroy();
}, this)));
}
this.title_btns.runAction(cc.sequence(cc.moveTo(.3, cc.v2(this.title_btns.x - 90, this.title_btns.y)), cc.callFunc(function() {}, this)));
this.btns.runAction(cc.sequence(cc.moveTo(.3, cc.v2(this.btns.x, this.btns.y - 120)), cc.callFunc(function() {}, this)));
i.runAction(cc.sequence(cc.moveTo(.3, cc.v2(-430, -186)), cc.callFunc(function() {}, this)));
this.left_icon.runAction(cc.sequence(cc.moveTo(.3, cc.v2(this.left_icon.x + 155, 0)), cc.callFunc(function() {}, this)));
this.icon_down.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, 26.5)), cc.callFunc(function() {}, this)));
this.middle.runAction(cc.sequence(cc.spawn(cc.fadeTo(.4, 255), cc.moveTo(.4, cc.v2(0, -15)), cc.scaleTo(.4, 1, 1)), cc.callFunc(function() {}, this)));
}
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
var i = this;
switch (e.target.name) {
case "btn_phone":
cc.vv.popMgr.open("hall/PhoneBind");
break;

case "back_main":
this.create_action("left");
cc.vv.hall.move_in = !1;
break;

case "btn_daili":
cc.vv.platform.order();
break;

case "btn_hongbao":
cc.vv.popMgr.pop("hall/PlugNotic");
break;

case "wodeleyuan":
if (1 == i._isbtn) return;
i._isbtn = !0;
cc.vv.popMgr.del_pop("new_CreateRoom");
if (0 == Object.keys(cc.vv.userMgr.clublist).length) {
cc.vv.popMgr.tip("您没有任何乐圈");
if (i._btntime = !1) {
clearTimeout(i._btntime);
i._btntime = -1;
}
i._isbtn = !1;
return;
}
cc.vv.club.clubMain.getComponent("ClubMain").removeRoomAllClub();
cc.vv.club.clubMain.active = !0;
cc.vv.club.clubMain.getComponent("ClubMain").show(0);
break;

case "btn_invite":
cc.vv.popMgr.open("Share", function(e) {
e.getComponent("Share").share(i.share);
});
break;

case "btn_ticket":
cc.vv.platform.order();
break;

case "img":
cc.vv.popMgr.open("hall/MyInfo");
break;

case "btn_feedback":
cc.vv.popMgr.open("hall/Feedback");
break;

case "btn_replay":
cc.vv.popMgr.open("hall/Replay");
break;

case "btn_exchange":
cc.vv.popMgr.open("hall/OpenExChange", function(e) {
i.openechange = e;
i.openechange.getChildByName("bg").getChildByName("curscore").getComponent(cc.Label).string = cc.vv.userMgr.coins;
});
break;

case "btn_wanfa":
cc.vv.popMgr.open("hall/GameHelp");
break;

case "btn_setting":
cc.vv.popMgr.open("Setting");
break;

case "btn_join":
cc.vv.popMgr.open("hall/JoinRoom");
break;

case "btn_create":
cc.vv.popMgr.tip("请加入圈子创建游戏！");
return;

case "bsai":
cc.vv.popMgr.tip("敬请期待");
return;

case "btn_opened":
cc.vv.utils.popPanel(this.winOpened);
this.winOpened.active = !0;
this.winOpened.emit("show");
break;

case "btn_message":
cc.vv.popMgr.open("hall/Message", function(e) {
i._winMessage = e;
i.msgType = 1;
cc.vv.net1.quick("message_list");
});
break;

case "btn_zhanji":
cc.vv.popMgr.open("hall/History", function(e) {
i._winHistory = e;
cc.vv.popMgr.wait2("正在获取数据", function(e) {
cc.vv.net1.quick("history", {
pay_way: 1
});
});
});
break;

case "btn_notic2":
i._notic_2 ? cc.vv.popMgr.pop("hall/MessageContent", function(e) {
e.getComponent("MessageContent").notic(i._notic_2);
}) : cc.vv.popMgr.tip("暂无公告内容");
break;

default:
cc.vv.popMgr.tip("敬请期待");
}
if (i._btntime = !1) {
clearTimeout(i._btntime);
i._btntime = -1;
}
i._btntime = setTimeout(function() {
i._isbtn = !1;
i._btntime = -1;
}, 1e3);
},
update: function(e) {},
onDestroy: function() {
cc.loader.setAutoRelease(this, !0);
}
});
cc._RF.pop();
}, {} ],
History: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "52882cvEJRE06ggk+EHRo0G", "History");
cc.Class({
extends: cc.Component,
properties: {
content: cc.Node,
scrollView: cc.ScrollView,
spacing: 20,
bufferZone: 500,
prefabCellHeight: 200,
historyItem5: cc.Prefab,
itmeJs: "HIstoryItem",
flagName: "history"
},
onLoad: function() {
this.updateTimer = 0;
this.updateInterval = .2;
this.scrollView.node.on("scrolling", this.scrollevent, this);
},
history: function(e) {
this.flagName = "history";
this.frameLoading(e);
},
frameLoading: function(e) {
if (e) {
this.items = [];
this.data = e;
"history" == this.flagName && (cc.vv.history_list = e);
this.content.removeAllChildren();
this._totalCount = e.length;
this._spawnCount = this._totalCount <= 6 ? this._totalCount : 6;
this._lastContentPosY = 0;
this.scrollView.scrollToOffset(cc.v2(-10, 0), 0);
this._curIndex = 0;
this.content.height = this._totalCount * (this.prefabCellHeight + this.spacing) + this.spacing;
var i = cc.delayTime(.01), t = cc.callFunc(function() {
this.showItem();
}.bind(this)), a = cc.sequence(i, t);
this.node.stopAllActions();
this.node.runAction(cc.repeatForever(a));
}
},
showItem: function() {
if (this._curIndex >= this._spawnCount) {
this.node.stopAllActions();
cc.vv.popMgr.hide();
} else {
var e = cc.instantiate(this.historyItem5);
if (e) {
e.setPosition(0, -e.height * (.5 + this._curIndex) - this.spacing * (this._curIndex + 1));
this.content.addChild(e);
this.items.push(e);
if ("round" == this.flagName) {
this.history.scores = this.data[this._curIndex].scores;
e.emit("history", this.history);
e.emit("round", this.data[this._curIndex]);
} else e.emit("history", this.data[this._curIndex]);
e.getComponent(this.itmeJs).updateID(this._curIndex);
this._curIndex += 1;
}
}
},
getPositionInView: function(e) {
if (!e.parent) return cc.v2(0, 0);
var i = e.parent.convertToWorldSpaceAR(e.position);
return this.scrollView.node.convertToNodeSpaceAR(i);
},
scrollevent: function() {
if (!(this._spawnCount < 6)) {
this.updateTimer += .1;
if (!(this.updateTimer < this.updateInterval)) {
this.updateTimer = 0;
for (var e = this.items, i = this.bufferZone, t = this.scrollView.content.y < this._lastContentPosY, a = (this.prefabCellHeight + this.spacing) * e.length, n = 0; n < e.length; ++n) {
if (!e[n]) return;
var s = this.getPositionInView(e[n]);
t ? s.y < -i && e[n].y + a < 0 && this.formateUpdate(e[n], !0, a) : s.y > i && e[n].y - a > -this.content.height && this.formateUpdate(e[n], !1, a);
}
this._lastContentPosY = this.scrollView.content.y;
}
}
},
formateUpdate: function(e, i, t) {
var a = e.getComponent(this.itmeJs), n = 0;
if (i) {
e.y = e.y + t;
n = a.itemID - this.items.length;
} else {
e.y = e.y - t;
n = a.itemID + this.items.length;
}
if (this.data[n]) {
e.active = !0;
if ("round" == this.flagName) {
this.history.scores = this.data[n].scores;
e.emit("history", this.history);
e.emit("round", this.data[n]);
} else e.emit("history", this.data[n]);
} else e.active = !1;
a.updateID(n);
},
round: function(e) {
this.flagName = "round";
this.history = null;
for (var i = 0; i < cc.vv.history_list.length; ++i) cc.vv.history_list[i].battle_id == e.battle_id && (this.history = cc.vv.history_list[i]);
this.frameLoading(e.list);
},
close: function() {
this.node.destroy();
}
});
cc._RF.pop();
}, {} ],
HotUpdate: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "9b19bF7hg9Lm5an70p/MkfE", "HotUpdate");
cc.Class({
extends: cc.Component,
properties: {
manifestUrl: {
type: cc.Asset,
default: null
},
info: cc.Label,
byteProgress: cc.ProgressBar,
retryBtn: cc.Node,
noteUi: cc.Node,
_updating: !1,
_canRetry: !1,
_storagePath: "",
_wait: null
},
updateCb: function(e) {
var i = !1, t = !1;
if (this._wait) {
var a = this._wait.getComponent("WaitingConnection");
a.scheduleCannel();
a.hide();
this._wait = null;
}
if (cc.isValid(this.info)) {
cc.log("------------0");
switch (e.getEventCode()) {
case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:
cc.log("------------1");
this.info.string = "本地配置文件不存在.";
t = !0;
break;

case jsb.EventAssetsManager.UPDATE_PROGRESSION:
cc.log("------------2");
if (e.getPercent() > .02) {
this.noteUi.active = !0;
this.byteProgress.progress = e.getPercent();
this.info.string = (100 * e.getPercent()).toFixed(2) + "%";
} else this.byteProgress.progress = .02;
break;

case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:
case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:
cc.log("------------3");
this.info.string = "";
this.retryBtn.active = !0;
t = !0;
break;

case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:
cc.log("------------4");
this.info.string = "已经是最新版本.";
this.node.active = !1;
cc.vv.login.loading();
break;

case jsb.EventAssetsManager.UPDATE_FINISHED:
cc.log("------------5");
this.info.string = "更新完成. ";
i = !0;
break;

case jsb.EventAssetsManager.UPDATE_FAILED:
cc.log("------------6");
this.info.string = "";
this.retryBtn.active = !1;
this._updating = !1;
this._canRetry = !0;
if (this._failCount >= 3) {
this.retryBtn.active = !0;
t = !0;
} else this.retry();
break;

case jsb.EventAssetsManager.ERROR_UPDATING:
cc.log("------------7");
this.info.string = "";
cc.vv.login.loading();
break;

case jsb.EventAssetsManager.ERROR_DECOMPRESS:
cc.log("------------8");
this.info.string = "";
cc.vv.login.loading();
}
if (t) {
this._am.setEventCallback(null);
this._updateListener = null;
this._updating = !1;
cc.vv.login.loading();
}
if (i) {
this._am.setEventCallback(null);
this._updateListener = null;
var n = jsb.fileUtils.getSearchPaths(), s = this._am.getLocalManifest().getSearchPaths();
Array.prototype.unshift.apply(n, s);
cc.sys.localStorage.setItem("HotUpdateSearchPaths", JSON.stringify(n));
jsb.fileUtils.setSearchPaths(n);
cc.game.restart();
}
}
},
retry: function() {
if (!this._updating && this._canRetry) {
this.retryBtn.active = !1;
this._canRetry = !1;
this.info.string = "正在重试";
this._failCount++;
this._am.downloadFailedAssets();
}
},
hotUpdate: function(e) {
if (cc.sys.isNative) {
this.node.active = !0;
this.noteUi.active = !1;
this._wait = e;
if (this._am && !this._updating) {
this._am.setEventCallback(this.updateCb.bind(this));
this._am.getState() === jsb.AssetsManager.State.UNINITED && this._am.loadLocalManifest(this.manifestUrl.nativeUrl);
this._failCount = 0;
this._am.update();
this._updating = !0;
}
} else {
this.node.active = !1;
cc.vv.login.loading();
}
},
onLoad: function() {
if (cc.sys.isNative) {
this._storagePath = (jsb.fileUtils ? jsb.fileUtils.getWritablePath() : "/") + "remote-asset";
cc.log("Storage path : " + this._storagePath);
this.versionCompareHandle = function(e, i) {
var t = e.split("."), a = i.split(".");
cc.log("A = ", t);
cc.log("B = ", a);
for (var n = 0; n < t.length; ++n) {
var s = parseInt(t[n]), c = parseInt(a[n] || 0);
if (s !== c) return s - c;
}
return a.length > t.length ? -1 : 0;
};
this._am = new jsb.AssetsManager("", this._storagePath, this.versionCompareHandle);
var e = this;
this._am.setVerifyCallback(function(i, t) {
cc.log("path = ", i);
var a = t.compressed;
t.md5, t.path, t.size;
if (!cc.isValid(this.info)) return !0;
if (a) {
e.info.string = "游戏内容验证中..";
return !0;
}
e.info.string = "游戏内容验证中..";
return !0;
});
cc.sys.os === cc.sys.OS_ANDROID && this._am.setMaxConcurrentTask(2);
this._am.loadLocalManifest(this.manifestUrl.nativeUrl);
this.info.string = "正在检查更新";
this.byteProgress.progress = 0;
}
},
onDestroy: function() {
if (this._updateListener) {
this._am.setEventCallback(null);
this._updateListener = null;
}
}
});
cc._RF.pop();
}, {} ],
ImageLoader: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e19f5+HOwxLGqlgSaXChddA", "ImageLoader");
function a(e, i) {
"https://thirdwx.qlogo.cn/" == e && (e = "http://img.wanshun.vip/icon.png");
cc.loader.load({
url: e,
type: "png"
}, function(e, t) {
if (e) a("http://img.wanshun.vip/icon.png", i); else {
var n = new cc.SpriteFrame(t, cc.Rect(0, 0, t.width, t.height));
i(n);
}
});
}
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
loadImg: function(e) {
var i = this;
if (null != e && "" != e) if (!e || cc.sys.isNative) {
var t = jsb.fileUtils.getWritablePath() + "img/", n = cc.vv.utils.md5(e), s = t + n + ".png";
if (jsb.fileUtils.isFileExist(s)) a(s, function(e) {
i._spriteFrame = e;
i.setupSpriteFrame();
}); else {
var c = function(e) {
if ("undefined" != typeof e) {
jsb.fileUtils.isDirectoryExist(t) || jsb.fileUtils.createDirectory(t);
if (jsb.fileUtils.writeDataToFile(new Uint8Array(e), s)) {
a(s, function(e) {
i._spriteFrame = e;
i.setupSpriteFrame();
});
return;
}
}
}, o = cc.loader.getXMLHttpRequest();
o.responseType = "arraybuffer";
o.onreadystatechange = function() {
4 === o.readyState && o.status >= 200 && o.status < 300 && c(o.response);
};
o.open("GET", e, !0);
o.send();
}
} else a(e, function(e) {
i._spriteFrame = e;
i.setupSpriteFrame();
}); else cc.loader.loadRes("public/aa", function(e, t) {
var a = new cc.SpriteFrame(t, cc.Rect(0, 0, t.width, t.height));
i._spriteFrame = a;
i.setupSpriteFrame();
});
},
setupSpriteFrame: function() {
if (this._spriteFrame) {
if (!this.node) return;
var e = this.node.getComponent(cc.Sprite);
e && (e.spriteFrame = this._spriteFrame);
}
}
});
cc._RF.pop();
}, {} ],
Inputpwb: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8408ftVQ5NCeJvTxNewrjfb", "Inputpwb");
cc.Class({
extends: cc.Component,
properties: {
text: cc.Label
},
onLoad: function() {
this.max = 1e4;
},
info: function(e, i, t, a) {
this.userid = e;
this.pwb = parseFloat(cc.vv.utils.numFormat(i));
this.pwbnum = t;
this.type = a;
this.text.string = this.pwbnum.string + "";
},
judge_pwb: function() {
var e = parseFloat(this.text.string);
0 == this.pwb ? e <= 0 && (e = 0) : this.pwb > 0 ? e + this.pwb < 0 ? e = 0 - this.pwb : e > this.max && (e = this.max) : this.pwb < 0 && e + this.pwb < 0 && e < 0 && (e = 0);
this.pwbnum.string = e + "";
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "1":
case "2":
case "3":
case "4":
case "5":
case "6":
case "7":
case "8":
case "9":
case "0":
if ("0" == this.text.string || "0.0" == this.text.string) {
this.text.string = i;
return;
}
if (-1 != this.text.string.indexOf(".")) {
0 == (t = this.text.string.split("."))[1].length && t[0].length < 5 && parseFloat(this.text.string) >= 0 ? this.text.string += i : 0 == t[1].length && t[0].length < 6 && parseFloat(this.text.string) < 0 && (this.text.string += i);
} else this.text.string.length < 4 && parseFloat(this.text.string) >= 0 ? this.text.string += i : this.text.string.length < 5 && parseFloat(this.text.string) < 0 && (this.text.string += i);
break;

case "num_+-":
var t;
(t = parseFloat(this.text.string)) > 0 ? this.text.string = "-" + this.text.string : t < 0 && (this.text.string = this.text.string.substr(1, this.text.string.length - 1));
break;

case "num_del":
if (this.text.string.length > 0) {
if (1 == this.text.string.length) {
this.text.string = "0";
return;
}
this.text.string = this.text.string.substr(0, this.text.string.length - 1);
}
break;

case "btn_ok":
if ("-" == this.text.string) {
this.text.string = "0";
cc.vv.popMgr.tip("请输入数字");
return;
}
this.judge_pwb();
this.node.destroy();
break;

case "point":
this.text.string.length > 0 && -1 == this.text.string.indexOf(".") && "-" != this.text.string && (this.text.string.length < 5 && parseFloat(this.text.string) >= 0 ? this.text.string += "." : this.text.string.length < 6 && parseFloat(this.text.string) < 0 && (this.text.string += "."));
}
}
});
cc._RF.pop();
}, {} ],
IpCheck: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "4ca83pdRfRND5xyOdT0qt5E", "IpCheck");
cc.Class({
extends: cc.Component,
properties: {
IpNode: cc.Prefab,
_btnOK: null,
_btnBack: null,
_onok: null,
_repeat: null
},
onLoad: function() {
this.iplist = this.node.getChildByName("iplist").getChildByName("view").getChildByName("content");
this._btnOK = this.node.getChildByName("btn_ok");
this._btnBack = this.node.getChildByName("btn_back");
this._repeat = this.node.getChildByName("repeat");
cc.vv.utils.addClickEvent(this._btnOK, this.node, "IpCheck", "onBtnClicked");
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
"btn_ok" == e.target.name && this._onok && this._onok();
1 == this._repeat.getComponent(cc.Toggle).isChecked && (cc.vv.roomMgr.ip_repeat = !0);
this.node.destroy();
},
show: function(e, i, t) {
this.iplist.removeAllChildren();
cc.vv.roomMgr.real > 7 && (this.iplist.height = 300);
var a = "", n = "";
for (var s in e) for (var c in e[s].names) {
a = cc.vv.utils.cutString(e[s].names[c], 6);
var o = e[s].ip;
-1 != o.indexOf("::ffff:") && (o = o.substr(7));
n = "[ " + o + " ]";
var h = cc.instantiate(this.IpNode);
h.getChildByName("content1").getComponent(cc.Label).string = a;
h.getChildByName("content2").getComponent(cc.Label).string = n;
this.iplist.addChild(h);
}
this.node.active = !0;
this._onok = i;
this._btnBack.active = !!t;
}
});
cc._RF.pop();
}, {} ],
IphoneX: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a7442v3NzlLTYtclvumfQoz", "IphoneX");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
var e = this.node.getComponent(cc.Canvas);
if (cc.winSize.width / cc.winSize.height - 16 / 9 > .1) {
e.fitHeight = !0;
e.fitWidth = !1;
this.node.getChildByName("bg").width = cc.winSize.width;
} else {
e.fitHeight = !1;
e.fitWidth = !0;
}
}
});
cc._RF.pop();
}, {} ],
JoinClub: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b5079Vt+P1O37DQ1gXj1/NW", "JoinClub");
cc.Class({
extends: cc.Component,
properties: {
textId: cc.EditBox,
textName: cc.EditBox,
invite_type: "club_user_invite"
},
OnClubJoin: function(e) {
cc.vv.audioMgr.click();
var i = this.textId.string;
if ("" != i) {
var t = parseFloat(i);
if ("NaN" !== t.toString()) {
cc.vv.net1.quick("club_user_join", {
club_id: t
});
this.node.destroy();
} else {
this.textId.string = "";
cc.vv.popMgr.tip("输入的ID非法");
}
} else cc.vv.popMgr.tip("ID不能为空");
},
OnClubCreate: function(e) {
cc.vv.audioMgr.click();
var i = this.textName.string, t = cc.vv.utils.testBad2("" + i);
if ("" != i) if (i.match(/^[ ]+$/)) {
this.textName.string = "";
cc.vv.popMgr.tip("圈子名称不能全为空格");
} else if (cc.vv.utils.isEmojiCharacter(i)) {
this.textName.string = "";
cc.vv.popMgr.tip("圈子名称不能包含特殊字符");
} else if (t) cc.vv.popMgr.alert("您输入的内容包括了不合适的关键字"); else {
cc.vv.popMgr.wait("正在创建乐圈", function() {
cc.vv.net1.quick("club_add", {
name: i
});
});
this.node.destroy();
} else cc.vv.popMgr.tip("圈子名称不能为空");
},
OnClubInvite: function(e) {
cc.vv.audioMgr.click();
var i = this.textId.string;
if ("" != i) if (i != cc.vv.userMgr.userid) {
var t = parseFloat(i);
if ("NaN" !== t.toString()) {
cc.vv.net1.quick(this.invite_type, {
club_id: cc.vv.userMgr.club_id,
player_id: t
});
this.node.destroy();
} else cc.vv.popMgr.tip("输入的ID非法");
} else cc.vv.popMgr.tip("不能邀请自己"); else cc.vv.popMgr.tip("ID不能为空");
},
setInviteType: function(e) {
this.invite_type = e;
},
OnClubOut: function(e) {
cc.vv.audioMgr.click();
var i = this.textId.string;
if ("" != i) {
var t = parseFloat(i);
if ("NaN" !== t.toString()) {
cc.vv.popMgr.wait("圈子转让中", function() {
cc.vv.net1.quick("club_creator_update", {
club_id: cc.vv.userMgr.club_id,
playerid: t
});
});
this.node.destroy();
} else cc.vv.popMgr.tip("输入的ID非法");
} else cc.vv.popMgr.tip("ID不能为空");
},
show: function(e) {
this.master_id = e;
},
onClubBind: function(e) {
cc.vv.audioMgr.click();
var i = this.textId.string;
if ("" != i) if (i != cc.vv.userMgr.userid) {
var t = parseFloat(i);
if ("NaN" !== t.toString()) {
cc.vv.net1.quick("club_friend_user_add", {
club_id: cc.vv.userMgr.club_id,
player_id: t,
master_id: this.master_id
});
this.node.destroy();
} else cc.vv.popMgr.tip("输入的ID非法");
} else cc.vv.popMgr.tip("不能绑定自己"); else cc.vv.popMgr.tip("ID不能为空");
}
});
cc._RF.pop();
}, {} ],
JoinRoom: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f8f430phwdP8asg/uyo95ju", "JoinRoom");
cc.Class({
extends: cc.Component,
properties: {
lblRoom: cc.Label
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("show", function() {
e.lblRoom.string = "";
});
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
switch (i) {
case "1":
case "2":
case "3":
case "4":
case "5":
case "6":
case "7":
case "8":
case "9":
case "0":
if (this.lblRoom.string.length <= 5) {
this.lblRoom.string = this.lblRoom.string + i;
this.checkNum();
}
break;

case "-1":
this.lblRoom.string.length > 0 && (this.lblRoom.string = this.lblRoom.string.substr(0, this.lblRoom.string.length - 1));
break;

case "-2":
this.lblRoom.string = "";
}
},
checkNum: function() {
var e = this;
6 == this.lblRoom.string.length && setTimeout(function() {
cc.vv.userMgr.join(e.lblRoom.string, 0, 0);
e.lblRoom.string = "";
}, 200);
}
});
cc._RF.pop();
}, {} ],
KD1700Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "18662wcInFK7YY7x3Q3bOXr", "KD1700Const");
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -343,
y: 330,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: -620,
y: 93,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
player3: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -620,
y: 93,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
player2: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: -343,
y: 330,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
threeD: {
card2: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -290,
y: -48,
scale: .6,
distance: [ 0, 74, 74, 75, 72, 72, 72, 72, 72, 72, 72, 74, 75, 74, -952, 75, 76, 76, 72, 72, 72, 72, 72, 72, 72, 74, 75, 75, -958, 77, 76, 76, 72, 72, 72, 72, 72, 72, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu2", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: 223,
y: 328,
scale: .6,
distance: [ 0, -59, -59, -59, -60, -60, -59, -60, -60, -60, -59, -59, -59, -91 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "Frame_shangjia_shupai_14", "Frame_shangjia_shupai_13", "Frame_shangjia_shupai_12", "Frame_shangjia_shupai_11", "Frame_shangjia_shupai_10", "Frame_shangjia_shupai_9", "Frame_shangjia_shupai_8", "Frame_shangjia_shupai_7", "Frame_shangjia_shupai_6", "Frame_shangjia_shupai_5", "Frame_shangjia_shupai_4", "Frame_shangjia_shupai_3", "Frame_shangjia_shupai_2", "Frame_shangjia_shupai_1" ],
size: [ {
width: 72,
height: 91
}, {
width: 69,
height: 91
}, {
width: 68,
height: 91
}, {
width: 67,
height: 91
}, {
width: 66,
height: 91
}, {
width: 65,
height: 91
}, {
width: 66,
height: 91
}, {
width: 67,
height: 91
}, {
width: 68,
height: 91
}, {
width: 70,
height: 91
}, {
width: 71,
height: 91
}, {
width: 73,
height: 91
}, {
width: 74,
height: 91
}, {
width: 75,
height: 91
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
} ]
},
paiIndex: [ 9, 9, 9, 9, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
xhide: 223,
yhide: 318,
scalehide: .6,
distancehide: [ 0, -58, -59, -59, -59, -58, -59, -59, -59, -59, -59, -59, -59, -91 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_shangjia_pingpai_fan_14", "Frame_shangjia_pingpai_fan_13", "Frame_shangjia_pingpai_fan_12", "Frame_shangjia_pingpai_fan_11", "Frame_shangjia_pingpai_fan_10", "Frame_shangjia_pingpai_fan_9", "Frame_shangjia_pingpai_fan_8", "Frame_shangjia_pingpai_fan_7", "Frame_shangjia_pingpai_fan_6", "Frame_shangjia_pingpai_fan_5", "Frame_shangjia_pingpai_fan_4", "Frame_shangjia_pingpai_fan_3", "Frame_shangjia_pingpai_fan_2", "Frame_shangjia_pingpai_fan_1" ],
imgshow: [ "Frame_shangjia_pingpai_zheng_14", "Frame_shangjia_pingpai_zheng_13", "Frame_shangjia_pingpai_zheng_12", "Frame_shangjia_pingpai_zheng_11", "Frame_shangjia_pingpai_zheng_10", "Frame_shangjia_pingpai_zheng_9", "Frame_shangjia_pingpai_zheng_8", "Frame_shangjia_pingpai_zheng_7", "Frame_shangjia_pingpai_zheng_6", "Frame_shangjia_pingpai_zheng_5", "Frame_shangjia_pingpai_zheng_4", "Frame_shangjia_pingpai_zheng_3", "Frame_shangjia_pingpai_zheng_2", "Frame_shangjia_pingpai_zheng_1" ],
sizehide: [ {
width: 71,
height: 93
}, {
width: 71,
height: 94
}, {
width: 72,
height: 93
}, {
width: 71,
height: 93
}, {
width: 74,
height: 93
}, {
width: 73,
height: 93
}, {
width: 76,
height: 93
}, {
width: 77,
height: 93
}, {
width: 77,
height: 93
}, {
width: 78,
height: 93
}, {
width: 81,
height: 93
}, {
width: 82,
height: 93
}, {
width: 83,
height: 93
}, {
width: 84,
height: 93
} ],
dianScalehideAll: 1.2,
dianhide: {
position: [ {
x: .5,
y: 20
}, {
x: .5,
y: 20
}, {
x: 0,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2.5,
y: 20
}, {
x: -3,
y: 20
}, {
x: -3,
y: 20
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
haoScale: 1.3,
hao: [ {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
} ],
skew: [ {
x: -1,
y: 0
}, {
x: 0,
y: 0
}, {
x: .5,
y: 0
}, {
x: 1,
y: 0
}, {
x: 2,
y: 0
}, {
x: 3,
y: 0
}, {
x: 3,
y: 0
}, {
x: 4,
y: 0
}, {
x: 4,
y: 0
}, {
x: 5,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 8,
y: 0
} ],
dianScale: [ {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
} ]
},
paiIndexhide: [ 1, 2, 3, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -4,
y: 222,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 299,
y: 179,
scale: .6,
distance: [ 0, -74, -77, -78, -72, -72, -72, -72, -72, -72, -72, -75, -77, -74, 958, -74, -75, -76, -72, -72, -72, -72, -72, -72, -72, -75, -75, -74, 952, -72, -74, -75, -72, -72, -72, -72, -72, -72, -72, -75, -74, -72 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 85, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
img: [ "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue" ],
dianScale: [ {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
} ]
},
paiIndex: [ 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 15, 14, 13, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 11, 10, 9, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 7, 6, 5 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: -450,
spacingY: 0,
destination: [ {
x: 243,
y: 328
}, {
x: 123,
y: 328
}, {
x: 3,
y: 328
}, {
x: -117,
y: 328
} ],
fourPai: {
x: 2,
y: 30
}
},
ting: {
scale: .9,
x: 0,
y: -60
}
} ],
card3: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -290,
y: -48,
scale: .6,
distance: [ 0, 74, 74, 75, 72, 72, 72, 72, 72, 72, 72, 74, 75, 74, -952, 75, 76, 76, 72, 72, 72, 72, 72, 72, 72, 74, 75, 75, -958, 77, 76, 76, 72, 72, 72, 72, 72, 72, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu2", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -313,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 139,
y: 10,
scale: .6,
distance: [ 0, -4, -4, -2, -4, -2, -2, 110, -4, -4, -4, -4, -4, -4, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
imghide: [ "you1_1", "you1_2", "you1_3", "you1_4", "you1_5", "you1_6", "you1_7", "you2_1", "you2_2", "you2_3", "you2_4", "you2_5", "you2_6", "you2_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -515,
y: -185
}, {
x: -495,
y: -75
}, {
x: -475,
y: 35
}, {
x: -455,
y: 145
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: -464,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -136,
y: 206,
scale: .6,
distance: [ 0, -3, -4, -4, -3, -4, -4, -66, -4, -5, -5, -4, -4, -6, -61, -5, -6, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -55, -55, -58, 325, -52, -52, -54, -54, -56, -57, 326, -52, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
imghide: [ "zuo1_7", "zuo2_6", "zuo1_5", "zuo1_4", "zuo1_3", "zuo1_2", "zuo1_1", "zuo2_7", "zuo2_6", "zuo2_5", "zuo2_4", "zuo2_3", "zuo2_2", "zuo2_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -434,
y: 300
}, {
x: -454,
y: 190
}, {
x: -474,
y: 80
}, {
x: -494,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ],
card4: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: .94,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -67.5,
y: -50,
scale: .55,
distance: [ 0, 74, 74, 75, 72, 72, 74, 75, 74, -592, 75, 76, 76, 72, 72, 74, 75, 75, -597, 77, 76, 76, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -313,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 115,
y: 0,
scale: .55,
distance: [ 0, -4, -4, -2, -3.5, -3.5, -3, -2, -2, 115, -4, -4, -4, -4, -4, -4, -4, -4, 120, -6, -4, -6, -6, -6, -6, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 54, 54, 52, 52, 50, -426, 56, 54, 54, 54, 54, 52, 52, 50, -426, 56, 54, 54, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_4", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_4", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_4", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
imghide: [ "you1_1", "you1_2", "you1_3", "you1_4", "you1_4", "you1_4", "you1_5", "you1_6", "you1_7", "you2_1", "you2_2", "you2_3", "you2_4", "you2_4", "you2_4", "you2_5", "you2_6", "you2_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_4", "you3_4", "you3_5", "you3_6", "you3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 105,
height: 89
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 106,
height: 89
}, {
width: 105,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 108,
height: 89
}, {
width: 105,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .8,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -535,
y: -100
}, {
x: -515,
y: -0
}, {
x: -495,
y: 100
}, {
x: -475,
y: 200
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: 223,
y: 328,
scale: .6,
distance: [ 0, -59, -59, -59, -60, -60, -59, -60, -60, -60, -59, -59, -59, -91 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "Frame_shangjia_shupai_14", "Frame_shangjia_shupai_13", "Frame_shangjia_shupai_12", "Frame_shangjia_shupai_11", "Frame_shangjia_shupai_10", "Frame_shangjia_shupai_9", "Frame_shangjia_shupai_8", "Frame_shangjia_shupai_7", "Frame_shangjia_shupai_6", "Frame_shangjia_shupai_5", "Frame_shangjia_shupai_4", "Frame_shangjia_shupai_3", "Frame_shangjia_shupai_2", "Frame_shangjia_shupai_1" ],
size: [ {
width: 72,
height: 91
}, {
width: 69,
height: 91
}, {
width: 68,
height: 91
}, {
width: 67,
height: 91
}, {
width: 66,
height: 91
}, {
width: 65,
height: 91
}, {
width: 66,
height: 91
}, {
width: 67,
height: 91
}, {
width: 68,
height: 91
}, {
width: 70,
height: 91
}, {
width: 71,
height: 91
}, {
width: 73,
height: 91
}, {
width: 74,
height: 91
}, {
width: 75,
height: 91
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
} ]
},
paiIndex: [ 9, 9, 9, 9, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
xhide: 223,
yhide: 318,
scalehide: .6,
distancehide: [ 0, -58, -59, -59, -59, -58, -59, -59, -59, -59, -59, -59, -59, -91 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_shangjia_pingpai_fan_14", "Frame_shangjia_pingpai_fan_13", "Frame_shangjia_pingpai_fan_12", "Frame_shangjia_pingpai_fan_11", "Frame_shangjia_pingpai_fan_10", "Frame_shangjia_pingpai_fan_9", "Frame_shangjia_pingpai_fan_8", "Frame_shangjia_pingpai_fan_7", "Frame_shangjia_pingpai_fan_6", "Frame_shangjia_pingpai_fan_5", "Frame_shangjia_pingpai_fan_4", "Frame_shangjia_pingpai_fan_3", "Frame_shangjia_pingpai_fan_2", "Frame_shangjia_pingpai_fan_1" ],
imgshow: [ "Frame_shangjia_pingpai_zheng_14", "Frame_shangjia_pingpai_zheng_13", "Frame_shangjia_pingpai_zheng_12", "Frame_shangjia_pingpai_zheng_11", "Frame_shangjia_pingpai_zheng_10", "Frame_shangjia_pingpai_zheng_9", "Frame_shangjia_pingpai_zheng_8", "Frame_shangjia_pingpai_zheng_7", "Frame_shangjia_pingpai_zheng_6", "Frame_shangjia_pingpai_zheng_5", "Frame_shangjia_pingpai_zheng_4", "Frame_shangjia_pingpai_zheng_3", "Frame_shangjia_pingpai_zheng_2", "Frame_shangjia_pingpai_zheng_1" ],
sizehide: [ {
width: 71,
height: 93
}, {
width: 71,
height: 94
}, {
width: 72,
height: 93
}, {
width: 71,
height: 93
}, {
width: 74,
height: 93
}, {
width: 73,
height: 93
}, {
width: 76,
height: 93
}, {
width: 77,
height: 93
}, {
width: 77,
height: 93
}, {
width: 78,
height: 93
}, {
width: 81,
height: 93
}, {
width: 82,
height: 93
}, {
width: 83,
height: 93
}, {
width: 84,
height: 93
} ],
dianScalehideAll: 1.2,
dianhide: {
position: [ {
x: .5,
y: 20
}, {
x: .5,
y: 20
}, {
x: 0,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2.5,
y: 20
}, {
x: -3,
y: 20
}, {
x: -3,
y: 20
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
haoScale: 1.3,
hao: [ {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
} ],
skew: [ {
x: -1,
y: 0
}, {
x: 0,
y: 0
}, {
x: .5,
y: 0
}, {
x: 1,
y: 0
}, {
x: 2,
y: 0
}, {
x: 3,
y: 0
}, {
x: 3,
y: 0
}, {
x: 4,
y: 0
}, {
x: 4,
y: 0
}, {
x: 5,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 8,
y: 0
} ],
dianScale: [ {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
} ]
},
paiIndexhide: [ 1, 2, 3, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -4,
y: 222,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 69,
y: 179,
scale: .55,
distance: [ 0, -74, -77, -78, -78, -78, -75, -77, -74, 605, -74, -75, -76, -76, -76, -75, -75, -74, 598, -72, -74, -75, -75, -75, -75, -74, -72 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 87, 0, 0, 0, 0, 0, 0, 0, 0, 85, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
img: [ "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue" ],
dianScale: [ {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
} ]
},
paiIndex: [ 12, 12, 12, 12, 12, 12, 15, 14, 13, 8, 8, 8, 8, 8, 8, 11, 10, 9, 4, 4, 4, 4, 4, 4, 7, 6, 5 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: -450,
spacingY: 0,
destination: [ {
x: 243,
y: 328
}, {
x: 123,
y: 328
}, {
x: 3,
y: 328
}, {
x: -117,
y: 328
} ],
fourPai: {
x: 2,
y: 30
}
},
ting: {
scale: .9,
x: 0,
y: -60
}
}, {
holds: {
x: -454,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -124,
y: 102,
scale: .55,
distance: [ 0, -3, -4, -4, -4, -4, -3, -4, -4, -58, -4, -5, -5, -5, -5, -4, -4, -6, -53, -5, -6, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -54, -54, -55, -55, -58, 433, -52, -52, -54, -54, -54, -54, -56, -57, 434, -52, -52, -54, -54, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_4", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_4", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_4", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
imghide: [ "zuo1_7", "zuo2_6", "zuo1_5", "zuo1_4", "zuo1_4", "zuo1_4", "zuo1_3", "zuo1_2", "zuo1_1", "zuo2_7", "zuo2_6", "zuo2_5", "zuo2_4", "zuo2_4", "zuo2_4", "zuo2_3", "zuo2_2", "zuo2_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_4", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 108,
height: 92
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 109,
height: 92
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 111,
height: 92
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -414,
y: 300
}, {
x: -434,
y: 190
}, {
x: -454,
y: 80
}, {
x: -474,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ]
},
chat_path: "mj",
quick_chat: [ {
id: 0,
info: "你太牛啦"
}, {
id: 1,
info: "哈哈，手气真好"
}, {
id: 2,
info: "快点出牌啊"
}, {
id: 3,
info: "今天真高兴"
}, {
id: 4,
info: "这个吃的好"
}, {
id: 5,
info: "你放炮，我不胡"
}, {
id: 6,
info: "你家里是开银行的吗"
}, {
id: 7,
info: "不好意思，我有事要先走一步了"
}, {
id: 8,
info: "你的牌打的太好了"
}, {
id: 9,
info: "大家好，很高心见到各位"
}, {
id: 10,
info: "怎么又断线了，网络怎么这么差啊"
} ],
TIME_ITEM: 100,
TIME_THREE: 100,
TIME_SAIZI: 1e3,
TIME_HOLDS: 1e3,
TIME_HIDE_SAIZI: 3e3,
TIME_DING_ZHUANG: 2e3,
TIME_FRIST_TURE_CHANGE: 4e3,
TIME_FRIST_ACTION: 3e3,
TIME_START: 10
}
});
cc._RF.pop();
}, {} ],
KD1700Folds: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "090dd8DZqBAv5rJPxam9f9+", "KD1700Folds");
cc.Class({
extends: cc.Component,
properties: {
_pointers: null,
_folds: null,
_huas: null
},
onLoad: function() {
cc.vv;
},
start: function() {
this.initView();
this.initEventHandler();
},
initView: function() {
this._folds = {};
this._pointers = {};
this._huas = {};
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
var t = e[i];
this._folds[t] = [];
this._pointers[t] = [];
this._huas[t] = [];
}
},
initEventHandler: function() {
this.node.on("game_begin", function(e) {});
this.node.on("login_finished", function(e) {});
this.node.on("game_sync", function(e) {});
this.node.on("game_chupai_notify", function(e) {});
this.node.on("buhua_notify", function(e) {});
this.node.on("guo_notify", function(e) {});
},
change_color_outcrad: function(e) {
this._chupai_pai = e;
var i = cc.vv.mahjongMgr._seats;
for (var t in i) {
var a = i[t].folds;
if (null == a) return;
for (var n = cc.vv.roomMgr.viewChairID(i[t].seatIndex), s = 0; s < a.length; ++s) {
var c = n + "_folds_" + (r = s);
a.length;
if (a[s] == e) {
var o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
}
}
var h = i[t].chipenggang;
if (null == h) return;
for (s = 0; s < h.length; ++s) {
var r = s, l = (h.length, cc.vv.game.majiangTable.getHoldParent(n, "penggangs")), d = (c = n + "_nodeChipenggang_" + r, 
cc.vv.utils.getChildByTag(l, c));
c = n + "_chipenggang_" + r + "_0";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_1";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_2";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_3";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
}
}
},
hideAllFolds: function() {
for (var e = cc.find("Canvas/mgr/game"), i = cc.vv.mahjongMgr._sides, t = 0; t < i.length; ++t) {
var a = i[t];
e.getChildByName(a).getChildByName("folds").getChildByName("list").removeAllChildren();
}
},
hideChupai: function() {
if (-1 != cc.vv.mahjongMgr._turn) if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
var e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn), i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length;
cc.vv.game.majiangTable.hideFolds(e, i);
} else {
e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn);
if (0 == cc.vv.mahjongMgr._seats.length) return;
var t = e + "_chupai_" + (i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length), a = cc.vv.game.majiangTable.getHoldParent(e, "holdschupai");
cc.vv.game.majiangTable.send_card_emit(a, "nodeDestroy", {}, t);
var n = cc.vv.game.majiangTable._chupaiArr, s = n.indexOf(t);
-1 != s && n.splice(s, 1);
}
},
initAllFolds: function() {
var e = cc.vv.mahjongMgr._seats;
for (var i in e) this.initFolds(e[i]);
this.initPointer();
},
initPointer: function() {
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) for (var t = e[i], a = cc.vv.mahjongMgr.getViewidBySide(e[i]), n = this._pointers[t], s = 0; s < n.length; s++) {
var c = n[s];
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", {
isShow: !1
}, c);
}
},
initFolds: function(e) {
e.folds;
},
setSpritePointer: function(e, i, t) {
var a = cc.vv.roomMgr.viewChairID(e);
this.initPointer();
var n = a + "_folds_" + i, s = {
isShow: t
};
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", s, n);
this.setPointers(t, a, n);
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setShandian", {}, n);
},
setPointers: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._pointers[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setFolds: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._folds[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setHua: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._huas[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
}
});
cc._RF.pop();
}, {} ],
KD1700Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "6b545Kl9V1I05VILn9i9CpW", "KD1700Game");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
cc.vv.log3.debug("KD1700Game:onLoad");
cc.vv.audioMgr.playBGM("mj_bg_01");
if (!cc.sys.isNative && cc.sys.isMobile) {
var i = this.node.getComponent(cc.Canvas);
i.fitHeight = !0;
i.fitWidth = !0;
}
if (cc.vv) {
cc.vv.game = this;
var t = e("KD1700Const");
cc.vv.game.config = {
type: "3dmj",
name: "kd1700",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: t.chat_path,
quick_chat: t.quick_chat,
player_4: t.player4,
player_3: t.player3,
player_2: t.player2,
card_4: t.threeD.card4,
card_3: t.threeD.card3,
card_2: t.threeD.card2,
TIME_ITEM: t.TIME_ITEM,
TIME_THREE: t.TIME_THREE,
TIME_SAIZI: t.TIME_SAIZI,
TIME_HOLDS: t.TIME_HOLDS,
TIME_HIDE_SAIZI: t.TIME_HIDE_SAIZI,
TIME_DING_ZHUANG: t.TIME_DING_ZHUANG,
TIME_FRIST_TURE_CHANGE: t.TIME_FRIST_TURE_CHANGE,
TIME_FRIST_ACTION: t.TIME_FRIST_ACTION,
TIME_START: t.TIME_START,
isTinghougang: !0,
isLianzhuang: !0,
isBaoting: !1,
isGangfen: !1,
set_bg: !1,
location: !0,
isSelectSit: !0,
show_watch_btn: !1
};
} else cc.director.loadScene("loading");
},
start: function() {
var i = this;
cc.vv.log3.debug("KD1700Game:start");
this.majiangTable = this.node.getComponent("majiangTable");
this.table = this.node.getComponent("Table");
cc.vv.mahjongMgr = this.node.getComponent("KD1700Mgr");
cc.vv.folds = this.node.getComponent("KD1700Folds");
this._winPlayer = cc.find("Canvas/mgr/players");
this.majiangTable.initView();
this.majiangTable.new_round();
this.initEventHandlers();
cc.vv.roomMgr.is_replay && (cc.vv.mahjongMgr._magicPai = cc.vv.roomMgr.action.init.magicPai);
var t = e("KD1700ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.mahjongMgr.prepareReplay(cc.vv.roomMgr.action.init, cc.vv.roomMgr.seatid);
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
for (var t = cc.vv.roomMgr.table.list, a = cc.vv.roomMgr.action.init.score, n = 0; n < t.length; ++n) {
e = cc.vv.roomMgr.getSeatIndexByID(a[n].user_id);
var s = cc.vv.roomMgr.viewChairID(e);
i.table.seat_emit(s, "score", a[n].score);
cc.vv.utils.getChildByTag(i._winPlayer, e).getComponent("Seat").ready(!1);
}
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
i.majiangTable.onGameBeign();
}
};
a.emit("get_open", n);
}
},
initEventHandlers: function() {
var e = this;
this.node.on("game_saizi", function(i) {
e.dispatchEvent("game_kaiju_table");
setTimeout(function() {
e.dispatchEvent("game_saizi_table", i);
}, cc.vv.game.config.TIME_SAIZI);
});
this.node.on("game_magic", function(i) {
e.dispatchEvent("game_magic_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("showAction", i);
});
this.node.on("game_holds", function() {
setTimeout(function() {
e.dispatchEvent("game_holds_table");
}, cc.vv.game.config.TIME_HOLDS);
});
this.node.on("mj_count", function() {
var i = {
data: {
count: cc.vv.mahjongMgr._numOfMJ
}
};
e.dispatchEvent("mj_count_table", i);
});
this.node.on("login_finished", function(i) {
e.dispatchEvent("game_begin_table");
});
this.node.on("game_begin", function() {
e.dispatchEvent("game_begin_table");
setTimeout(function() {
e.dispatchEvent("game_hideSaizi_table");
}, cc.vv.game.config.TIME_HIDE_SAIZI);
setTimeout(function() {
var i = {
data: {
seatid: cc.vv.mahjongMgr._zhuang
}
};
e.dispatchEvent("game_dingzhuang_table", i);
}, cc.vv.game.config.TIME_DING_ZHUANG);
setTimeout(function() {
e.dispatchEvent("game_fristTurnChange_table");
}, cc.vv.game.config.TIME_FRIST_TURE_CHANGE);
setTimeout(function() {
e.dispatchEvent("game_fristShowAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION);
setTimeout(function() {
e.dispatchEvent("game_fristShowTingAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 100);
setTimeout(function() {
e.dispatchEvent("game_fristShowTing1Action_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 200);
});
this.node.on("game_playing", function(i) {
e.dispatchEvent("game_playing_table", i);
});
this.node.on("game_chupai", function(i) {
e.dispatchEvent("game_chupai_table", i);
});
this.node.on("game_chupai_notify", function(i) {
e.dispatchEvent("game_chupai_notify_table", i);
});
this.node.on("game_mopai", function(i) {
e.dispatchEvent("game_mopai_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("game_showaction_table", i);
});
this.node.on("jiesuan", function(i) {
i = i.data;
e.dispatchEvent("game_jiesuan_table", i);
});
this.node.on("report", function(i) {
i = i.data;
e.dispatchEvent("game_report_table", i);
});
this.node.on("guo_notify", function(i) {
e.dispatchEvent("guo_notify_table", i);
});
this.node.on("peng_notify", function(i) {
e.dispatchEvent("peng_notify_table", i);
});
this.node.on("chi_notify", function(i) {
e.dispatchEvent("chi_notify_table", i);
});
this.node.on("gang_notify", function(i) {
e.dispatchEvent("gang_notify_table", i);
});
this.node.on("hupai", function(i) {
e.dispatchEvent("hupai_table", i);
});
this.node.on("chupai_limit_notify", function(i) {
e.dispatchEvent("chupai_limit_notify_table", i);
});
this.node.on("bao_ting_push", function(i) {
e.dispatchEvent("bao_ting_push_table", i);
});
this.node.on("buhua_notify", function(i) {
e.dispatchEvent("buhua_notify_table", i);
});
this.node.on("hangang_notify", function(i) {
var t = cc.vv.roomMgr.viewChairID(i);
e.majiangTable.playEfx(t, "play_gang");
e.majiangTable.playSFX(i, "gang");
e.majiangTable.hideOptions();
e.majiangTable.hideGangPaiOpts();
e.majiangTable.hideChipaiOpts();
});
this.node.on("game_sync", function(i) {
e.dispatchEvent("game_sync_table", i);
});
this.node.on("game_action_ting", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting_table", i);
});
this.node.on("game_action_ting1", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting1_table", i);
});
this.node.on("guo_result", function() {
e.dispatchEvent("guo_result_table");
});
this.node.on("view_ting", function(i) {
e.dispatchEvent("view_ting_table", i);
});
this.node.on("guohu_game", function(i) {
e.dispatchEvent("guohu_table", i);
});
this.node.on("hujiaozhuanyi_game", function(i) {
e.dispatchEvent("hujiaozhuanyi_table", i);
});
this.node.on("cheat", function(i) {
i = i.data;
cc.vv.popMgr.open("ShowPai", function(t) {
e.ViewShowPai = t;
e.ViewShowPai.getComponent("ShowPai").show_card(i.list.pai);
});
});
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "jiesuan":
this.onButtonQieGuo("game_sync_push", {
errcode: 0,
data: {
liupaiCnt: 0,
button: 0,
numofmj: 104,
round: 1,
chuPai: -1,
state: 3,
turn: 1,
zhuang: 0,
seats: [ {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35 ],
baoting: !1,
wangangs: [],
guohu: !1,
userid: 3015,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
holds: [ 16, 3, 4, 5, 6, 7, 16, 17, 19, 25, 27, 32, 35 ],
pengs: [],
hued: !1
}, {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35 ],
baoting: !1,
wangangs: [],
userid: 3028,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
pengs: [],
hued: !1
} ],
magicPai: 15,
saizi_2: 3,
saizi_1: 4
},
errmsg: "ok",
model: "game",
event: "game_sync_push"
});
}
},
onGangChecked: function(e) {
cc.vv.audioMgr.click();
cc.vv.net2.quick("gang", {
pai: e.target.pai,
wik: e.target.paiWik
});
},
onOptionClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btnPeng":
cc.vv.net2.quick("peng");
cc.vv.folds.initPointer();
break;

case "btnTing":
cc.vv.net2.quick("baoting");
this.majiangTable.initbnaoting();
break;

case "btnHu":
cc.vv.net2.quick("hu");
break;

case "btnGuo":
this.ops_bgclick_guo();
break;

case "cancelbtnGuo":
1 == this.majiangTable._baoting && this.majiangTable.cencelbaoting();
cc.vv.net2.quick("guo");
break;

case "btnGang":
this.majiangTable.showGang(e.target.pai, e.target.paiWik, e.target.actpai);
cc.vv.folds.initPointer();
break;

case "btnChi":
this.majiangTable.showChipai(e.target.pai, e.target.paiWik);
cc.vv.folds.initPointer();
break;

case "btnshowall":
cc.vv.net2.quick("cheat");
}
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_button_01");
},
ops_bgclick_guo: function() {
cc.vv.net2.quick("guo");
this.majiangTable.hideOptions();
1 == this.majiangTable._baoting && 1 == this.majiangTable._tinghuhoupai && 1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
},
shoot: function(e, i) {
this.majiangTable.baotingopsUi(!1);
if (null != e) {
1 == this.majiangTable._baoting && (this.majiangTable._autoOutCrad = !0);
if (cc.vv.mahjongMgr._canChui) {
var t = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid];
cc.vv.mahjongMgr._canChui = !1;
cc.vv.folds.change_color_outcrad(-4);
if (1 == this.majiangTable._yiting) {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 1,
index: i
});
this.majiangTable._yiting = !1;
var a = t.folds.length, n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: a,
pai: e,
baoting: 1,
index: i
});
} else {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 0,
index: i
});
if (!cc.vv.game.majiangTable._baotingchupai) {
n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: -1,
pai: e,
baoting: 0,
index: i
});
}
}
cc.vv.folds.initAllFolds();
1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
cc.vv.roomMgr.param.too_hu_must_zimo || this.majiangTable.hideGuohu();
this.majiangTable.hideting();
this.majiangTable.hideOptions();
this.majiangTable.hideChipaiOpts();
this.majiangTable.hideGangPaiOpts();
this.majiangTable.hideTingOpts();
cc.find("Canvas/open/tingPaiList").active = !1;
}
}
},
sortHolds: function(e) {
var i = e.holds;
if (null == i) return null;
var t = null, a = i.length;
2 != a && 5 != a && 8 != a && 11 != a && 14 != a || (t = i.pop());
var n = cc.vv.mahjongMgr._magicPai, s = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(i, n, s);
null != t && i.push(t);
return i;
},
sortHoldsByPai: function(e) {
if (null == e) return null;
var i = null, t = e.length;
2 != t && 5 != t && 8 != t && 11 != t && 14 != t || (i = e.pop());
var a = cc.vv.mahjongMgr._magicPai, n = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(e, a, n);
null != i && e.push(i);
return e;
},
getMJIndex: function(e, i) {
return i;
},
getStartIndex: function(e) {
if (null == e) return null;
var i = e.length;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getStartIndexByNum: function(e) {
var i = e;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getFourteenTo: function(e, i) {
for (var t = cc.vv.game.sortHoldsByPai(cc.vv.mahjongMgr._oldholds), a = cc.vv.game.getStartIndex(t), n = t.length, s = t[13 - a], c = a; c < a + n; c++) {
if (s == e) return a - 1;
if (s == i && s == t[c - a] || s == i && t[c - a] != e) return c - 1;
if (t[c - a] != e && t[c - a] != i && s < t[c - a]) return c - 1;
}
return 13;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
testData: function(e, i) {
cc.vv.mahjongMgr.node.emit(e, i);
},
onButtonQieGuo: function(e, i) {
this.testData(e, i);
}
});
cc._RF.pop();
}, {
KD1700Const: "KD1700Const",
KD1700ReplayMgr: "KD1700ReplayMgr"
} ],
KD1700Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "2af7407TQtMkYCsO6i40mu8", "KD1700Mgr");
cc.Class({
extends: cc.Component,
properties: {
pengPrefabSelf: {
default: null,
type: cc.Prefab
},
_sides: null,
_pres: null,
_foldPres: null,
_fangxiang: null,
_mahjongSprites: [],
_turn: -1,
_last: -1,
_zhuang: -1,
_saizi_1: 0,
_saizi_2: 0,
_magicPai: -1,
_magicPai2: -1,
_seats: [],
_numOfMJ: 0,
_liupaiCnt: 0,
_maxNumOfGames: 0,
_numOfGames: 0,
_isOver: !0,
_button: -1,
_gamestate: -1,
_canChui: !1,
_curaction: null,
_baoting_index: -1,
_oldholds: []
},
onLoad: function() {
if (null != cc.vv) {
switch (cc.vv.roomMgr.ren) {
case 4:
this._sides = [ "myself", "right", "up", "left" ];
this._pres = [ "M_", "R_", "B_", "L_" ];
this._foldPres = [ "B_", "R_", "B_", "L_" ];
this._fangxiang = [ "nan", "dong", "bei", "xi" ];
break;

case 3:
this._sides = [ "myself", "right", "left" ];
this._pres = [ "M_", "R_", "L_" ];
this._foldPres = [ "B_", "R_", "L_" ];
this._fangxiang = [ "nan", "dong", "xi" ];
break;

case 2:
this._sides = [ "myself", "up" ];
this._pres = [ "M_", "B_" ];
this._foldPres = [ "B_", "B_" ];
this._fangxiang = [ "nan", "bei" ];
}
for (var e = 1; e < 10; ++e) this._mahjongSprites.push("B" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("T" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("W" + e);
this._mahjongSprites.push("F2");
this._mahjongSprites.push("F3");
this._mahjongSprites.push("F4");
this._mahjongSprites.push("F5");
this._mahjongSprites.push("F1");
this._mahjongSprites.push("F6");
this._mahjongSprites.push("F7");
this._mahjongSprites.push("J1");
this._mahjongSprites.push("J2");
this._mahjongSprites.push("J3");
this._mahjongSprites.push("J4");
this._mahjongSprites.push("H3");
this._mahjongSprites.push("H2");
this._mahjongSprites.push("H1");
this._mahjongSprites.push("H4");
this.initEventHandlers();
}
},
prepareReplay: function(e, i) {
this._seats = [];
if (null != e.zhuang) {
this._zhuang = e.zhuang;
this._turn = e.zhuang;
}
for (var t = 0; t < cc.vv.roomMgr.table.list.length; ++t) {
var a = {};
a.seatIndex = t;
a.score = null;
a.holds = e.game_seats[t];
a.pengs = [];
a.chis = [];
a.huas = [];
a.piaonum = 0;
a.angangs = [];
a.diangangs = [];
a.wangangs = [];
a.folds = [];
a.chipenggang = [];
i == cc.vv.roomMgr.table.list[t].userid && (cc.vv.roomMgr.seatid = t);
this._seats[t] = a;
}
if (e.numofmj) {
this._numOfMJ = e.numofmj;
this._liupaiCnt = e.liupaiCnt;
}
this._gamestate = 3;
},
initEventHandlers: function() {
var e = this;
this.node.on("login_result", function(i) {
if (0 === i.errcode) {
i = i.data;
e._seats = i.seats;
e._isOver = !1;
e.reset();
}
});
this.node.on("sit", function(i) {
i = i.data;
if (null != e._seats[i.seatid]) {
e._seats[i.seatid].seatIndex = i.seatid;
e._seats[i.seatid].userid = i.userid;
e._seats[i.seatid].headimg = i.headimg;
}
});
this.node.on("game_saizi_push", function(i) {
i = i.data;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e.dispatchEvent("game_saizi", i);
});
this.node.on("game_magic_push", function(i) {
i = i.data;
e._magicPai = i.magic;
e.dispatchEvent("game_magic", i);
});
this.node.on("game_action_push", function(i) {
i = i.data;
e._curaction = i;
e.dispatchEvent("game_action", i);
});
this.node.on("game_holds_push", function(i) {
i = i.data;
e._seats[cc.vv.roomMgr.seatid].holds = i.holds;
for (var t = 0; t < e._seats.length; ++t) {
var a = e._seats[t];
null == a.folds && (a.folds = []);
null == a.pengs && (a.pengs = []);
null == a.chis && (a.chis = []);
null == a.huas && (a.huas = []);
a.piaonum = 0;
null == a.angangs && (a.angangs = []);
null == a.diangangs && (a.diangangs = []);
null == a.wangangs && (a.wangangs = []);
null == a.chipenggang && (a.chipenggang = []);
a.ready = !1;
}
e.dispatchEvent("game_holds");
});
this.node.on("mj_count_push", function(i) {
i = i.data;
e.doMjCount(i.numOfMJ, i.liupaiCnt);
});
this.node.on("game_begin_push", function(i) {
i = i.data;
e._button = i.button;
e._turn = i.button;
e._zhuang = i.zhuang;
e._gamestate = 2;
e.dispatchEvent("game_begin");
});
this.node.on("game_playing_push", function(i) {
i = i.data;
e._gamestate = 3;
e.dispatchEvent("game_playing");
});
this.node.on("game_chupai_push", function(i) {
i = i.data;
if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
null != i.game_action_push && (e._curaction = i.game_action_push);
null != i.game_action_ting && null != i.game_action_ting.data && (cc.vv.game.majiangTable._datating = i.game_action_ting.data);
}
var t = cc.vv.roomMgr.getSeatIndexByID(i.userId);
e.doTurnChange(t, i);
});
this.node.on("game_chupai_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
-1 != n && (cc.vv.game.majiangTable._baotingchupai || n != cc.vv.roomMgr.seatid) && e.doChupai(n, a, i.baoTing_index, i.baoting, i.index);
});
this.node.on("game_mopai_push", function(i) {
i = i.data;
e.doMopai(cc.vv.roomMgr.seatid, i.pai, i.is_auto);
});
this.node.on("guo_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGuo(n, a);
});
this.node.on("peng_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doPeng(n, a);
});
this.node.on("chi_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.chiPai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doChi(s, a, n);
});
this.node.on("gang_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.gangpai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGang(s, a, n, i.gangtype);
});
this.node.on("chupai_limit_notify_push", function(i) {
e.dispatchEvent("chupai_limit_notify");
});
this.node.on("baoting_notify_push", function(i) {
i = i.data;
e.doTing(i);
});
this.node.on("hu_push", function(i) {
i = i.data;
e.doHu(i);
});
this.node.on("guohu", function(i) {
i = i.data;
e.doGuoHu(i);
});
this.node.on("game_sync_push", function(i) {
i = i.data;
e.reset();
e._liupaiCnt = i.liupaiCnt;
e._magicPai = i.magicPai;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e._gamestate = i.state;
e._turn = i.turn;
e._zhuang = i.zhuang;
e._button = i.button;
e._chupai = i.chuPai;
e._numOfMJ = i.numofmj;
for (var t = 0; t < cc.vv.roomMgr.ren; ++t) {
e._seats[t].baoTing_index = i.seats[t].m_bBaoTing_index;
e._seats[t].status = i.seats[t].status;
var a = e._seats[t], n = i.seats[t];
a.baoting = n.baoting;
a.holds = n.holds;
a.folds = n.folds;
a.angangs = n.angangs;
a.diangangs = n.diangangs;
a.wangangs = n.wangangs;
a.pengs = n.pengs;
a.chis = n.chis;
a.huas = n.huas;
a.hued = n.hued;
a.iszimo = n.iszimo;
a.huinfo = n.huinfo;
a.huanpais = n.huanpais;
a.m_bBaoTing_index = n.m_bBaoTing_index;
a.chipenggang = [];
for (var s = 0; s < a.angangs.length; s++) {
var c = a.angangs[s];
a.chipenggang.push([ 2, c ]);
}
for (var o = 0; o < a.diangangs.length; o++) {
var h = a.diangangs[o];
a.chipenggang.push([ 3, h ]);
}
for (var r = 0; r < a.wangangs.length; r++) {
var l = a.wangangs[r];
a.chipenggang.push([ 4, l ]);
}
for (var d = a.pengs.length, g = 0; g < d; g++) {
var u = a.pengs[g];
-1 != e.arrayReturn(a.wangangs, u) ? a.pengs.splice(g, 1) : a.chipenggang.push([ 1, u ]);
}
for (var _ = 0; _ < a.chis.length; _++) {
var v = a.chis[_];
a.chipenggang.push([ 0, v ]);
}
t == e.seatIndex && (e.dingque = n.que);
}
e.dispatchEvent("game_sync", i);
});
},
doMopai: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
a.holds.push(i);
this.dispatchEvent("game_mopai", {
seatIndex: e,
pai: i,
is_auto: t
});
}
},
doChupai: function(e, i, t, a, n) {
this._chupai = i;
var s = this._seats[e];
s.seatIndex = e;
this._seats[s.seatIndex].baoTing_index = t;
if (s.holds) {
var c = s.holds.indexOf(i), o = cc.vv.game.getStartIndex(s.holds);
cc.vv.roomMgr.is_replay && (n = o + c);
e == cc.vv.roomMgr.seatid && (this._oldholds = cc.vv.utils.deepCopy(s.holds));
s.holds.splice(c, 1);
}
this.dispatchEvent("game_chupai_notify", {
seatData: s,
pai: i,
baoTing_index: t,
baoting: a,
index: n
});
},
doMjCount: function(e, i) {
this._numOfMJ = e;
this._liupaiCnt = i;
this.dispatchEvent("mj_count", null);
},
doTurnChange: function(e, i) {
i = {
last: this._turn,
turn: e,
data: i
};
this._last = this._turn;
this._turn = e;
this.dispatchEvent("game_chupai", i);
},
doGuo: function(e, i) {
var t = this._seats[e];
this.dispatchEvent("guo_notify", t);
},
doPeng: function(e, i) {
var t = this._seats[e];
t.pengs.push(i);
t.chipenggang.push([ 1, i ]);
if (t.holds) for (var a = 0; a < 2; ++a) {
var n = t.holds.indexOf(i[1]);
t.holds.splice(n, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("peng_notify", {
seatData: t,
pengpai: i
});
},
doChi: function(e, i, t) {
var a = this._seats[e];
a.chis.push(t);
a.chipenggang.push([ 0, i ]);
if (a.holds) for (var n = 1; n < t.length; ++n) if (t[n] != i) {
var s = a.holds.indexOf(t[n]);
-1 != s && a.holds.splice(s, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("chi_notify", {
seatData: a,
chipai: i
});
},
doGang: function(e, i, t, a) {
var n = this._seats[e];
if (11 == a) for (var s = 0; s < n.pengs.length; ++s) if (n.pengs[s][1] == i) {
n.pengs.splice(s, 1);
break;
}
if (9 == a || 12 == a) {
n.angangs.push(t);
n.chipenggang.push([ 2, t ]);
} else if (10 == a || 13 == a) {
n.diangangs.push(t);
n.chipenggang.push([ 3, t ]);
this.removeChupai(t[0]);
} else if (14 == a || 11 == a) {
n.wangangs.push(t);
for (var c = n.chipenggang, o = 0; o < c.length; o++) 1 == c[o][0] && c[o][1][1] == i && (c[o][0] = 4);
}
if (n.holds) {
if (9 == a || 12 == a || 10 == a || 11 == a) for (var h = 1; h <= t.length; ++h) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
if (13 == a) for (h = 1; h <= t.length; ++h) if (t[h] != i) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
}
this.dispatchEvent("gang_notify", {
seatData: n,
gangtype: a,
gangpai: t
});
},
doTing: function(e) {
this.dispatchEvent("bao_ting_push", e);
},
doHu: function(e) {
e.turn = this._turn;
e.foldslength = -1;
if (-1 != e.turn) {
var i = cc.vv.mahjongMgr._seats[e.turn].folds.length;
e.foldslength = i;
}
this.dispatchEvent("hupai", e);
},
doGuoHu: function(e) {
this.dispatchEvent("guohu_game", e);
},
doHujiaozhuanyi: function(e) {
var i = e.seatid;
cc.vv.mahjongMgr._seats[i].holds.pop();
this.dispatchEvent("hujiaozhuanyi_game", e);
},
doBuhua: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
var n = a.holds.indexOf(i);
-1 != n && a.holds.splice(n, 1);
}
a.huas && a.huas.push(i);
a.piaonum = t;
this.dispatchEvent("buhua_notify", a);
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "mj/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
switchHuMp3: function(e, i) {
switch (i) {
case "平胡":
this.playSFX(e, "hu");
break;

case "自摸":
this.playSFX(e, "zimo");
break;

case "七小对":
case "七对":
this.playSFX(e, "qidui");
break;

case "清一色七小对":
case "清一色七对":
case "豪华七对":
case "豪华七小对":
this.playSFX(e, "haohuaqidui");
break;

case "清一色":
this.playSFX(e, "qinyise");
break;

case "十三幺":
this.playSFX(e, "shisanyao");
break;

case "清一色一条龙":
case "一条龙":
this.playSFX(e, "yitaolong");
break;

default:
this.playSFX(e, "hu");
}
},
reset: function() {
this._turn = -1;
this._last = -1;
this._zhuang = -1;
this._chupai = -1, this._button = -1;
this._magicPai = -1;
this._saizi_1 = -1, this._saizi_2 = -1, this._gamestate = -1;
this._curaction = null;
for (var e = 0; e < this._seats.length; ++e) {
this._seats[e].holds = [];
this._seats[e].folds = [];
this._seats[e].pengs = [];
this._seats[e].chipenggang = [];
this._seats[e].chis = [];
this._seats[e].huas = [];
this._seats[e].piaonum = 0;
this._seats[e].angangs = [];
this._seats[e].diangangs = [];
this._seats[e].wangangs = [];
this._seats[e].dingque = -1;
this._seats[e].ready = !1;
this._seats[e].hued = !1;
this._seats[e].huanpais = null;
this._seats[e].baoting = !0;
}
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
clear: function() {
this.dataEventHandler = null;
null == this.isOver && (this._seats = null);
},
getGangType: function(e, i) {
if (-1 != e.pengs.indexOf(i)) return "wangang";
for (var t = 0, a = 0; a < e.holds.length; ++a) e.holds[a] == i && t++;
return 3 == t ? "diangang" : "angang";
},
getMahjongPai: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 10 : 1 == parseInt(e / 10) ? e += 10 : 2 == parseInt(e / 10) && (e -= 20);
return e;
},
getMahjongPaiReturn: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 20 : 1 == parseInt(e / 10) ? e -= 10 : 2 == parseInt(e / 10) && (e -= 10);
return e;
},
getMahjongPaiThree: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e -= 1 : 1 == parseInt(e / 10) ? e -= 2 : 2 == parseInt(e / 10) ? e -= 3 : 3 == parseInt(e / 10) && (e -= 4);
return e;
},
getMahjongType: function(e) {
return e >= 0 && e < 9 ? 0 : e >= 9 && e < 18 ? 1 : e >= 18 && e < 27 ? 2 : void 0;
},
getAudioURLByMJID: function(e) {
var i = 0;
e >= 0 && e < 9 ? i = e + 21 : e >= 9 && e < 18 ? i = e - 8 : e >= 18 && e < 27 ? i = e - 7 : e >= 27 && e < 34 && (i = e + 4);
return i;
},
getTargetSide: function(e, i) {
var t = (e.seatIndex + 1) % cc.vv.roomMgr.ren, a = (e.seatIndex + 2) % cc.vv.roomMgr.ren, n = (e.seatIndex + 3) % cc.vv.roomMgr.ren;
return i == t ? 2 : i == a ? 1 : i == n ? 0 : -1;
},
sortMJ: function(e, i, t) {
t <= 0 ? e.sort(function(e, t) {
if (i >= 0) {
if (i == e) return -1;
if (i == t) return 1;
}
return e - t;
}) : e.sort(function(e, a) {
if (i >= 0 || t >= 0) {
if (i == e && t == a || i == a && t == e) return e - a;
if (i == e || t == e) return -1;
if (i == a || t == a) return 1;
}
return e - a;
});
},
getSide: function(e) {
return this._sides[e];
},
getFangxiang: function(e) {
return this._fangxiang[e];
},
getPre: function(e) {
return this._pres[e];
},
getFoldPre: function(e) {
return this._foldPres[e];
},
getSeatidByFangxiang: function(e) {
for (var i = 0, t = 0; t < this._fangxiang.length; t++) {
e == this._fangxiang[t] && (i = t);
}
return i;
},
getViewidBySide: function(e) {
for (var i = this._sides, t = 0; t < i.length; t++) if (i[t] == e) return t;
},
getNumberPai: function(e) {
var i = this._seats[e], t = 0;
null != i.pengs && (t += i.pengs.length);
null != i.angangs && (t += i.angangs.length);
null != i.diangangs && (t += i.diangangs.length);
null != i.wangangs && (t += i.wangangs.length);
null != i.chis && (t += i.chis.length);
return t *= 3;
},
removeChupai: function(e) {
if (i = e) var i = cc.vv.mahjongMgr._turn;
var t = this._seats[i];
t && t.folds && t.folds.pop();
},
getWangIndex: function(e, i) {
for (var t = e.chipenggang, a = 0; a < t.length; a++) if (4 == t[a][0] && t[a][1][1] == i) return a;
},
getBgSpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
},
getSpriteFrameByMJID: function(e, i) {
var t = cc.vv.game.majiangTable.selfhandAtlasThreeD, a = cc.vv.mahjongMgr.getMahjongPai(i);
return t.getSpriteFrame("img_cardvalue" + a);
},
getEmptySpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
},
arrayReturn: function(e, i) {
for (var t = -1, a = 0; a < e.length; a++) i[1] == e[a][1] && (t = a);
return t;
}
});
cc._RF.pop();
}, {} ],
KD1700ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f50cccPmrlH767aGTWDKMxW", "KD1700ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.majiangTable.game_magicshow();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex, cc.vv.mahjongMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
si: e.si,
type: e.type,
pai: e.pai,
actPai: e.act
};
},
takeAction: function() {
var e = this.getNextAction();
null == this._lastAction || 1 != this._lastAction.type && 8 != this._lastAction.type || null != e && 3 != e.type && 4 != e.type && 5 != e.type && 7 != e.type && cc.vv.mahjongMgr.doGuo(this._lastAction.si, this._lastAction.pai);
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.type) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.nnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return 0;
}
if (1 == e.type) {
3 == e.actPai.length ? cc.vv.mahjongMgr.doChupai(e.si, e.pai, e.actPai[1], e.actPai[2]) : cc.vv.mahjongMgr.doChupai(e.si, e.pai);
return .5;
}
if (2 == e.type) {
3 == e.actPai.length && cc.vv.mahjongMgr.doMjCount(e.actPai[1], e.actPai[2]);
cc.vv.mahjongMgr.doTurnChange(e.si);
cc.vv.mahjongMgr.doMopai(e.si, e.pai);
return .5;
}
if (3 == e.type) {
cc.vv.mahjongMgr.doPeng(e.si, e.actPai);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (9 == e.type || 10 == e.type || 11 == e.type || 12 == e.type || 13 == e.type || 14 == e.type) {
cc.vv.mahjongMgr.dispatchEvent("hangang_notify", e.si);
cc.vv.mahjongMgr.doGang(e.si, e.pai, e.actPai, e.type);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (5 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !1
});
return 1.5;
}
if (6 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !0
});
return 1.5;
}
if (7 == e.type) {
cc.vv.mahjongMgr.doChi(e.si, e.pai, e.actPai);
return 1;
}
if (8 == e.type) {
cc.vv.mahjongMgr.doBuhua(e.si, e.pai, 0);
return 1;
}
if (15 == e.type) {
cc.vv.mahjongMgr.doTing({
userid: e.pai
});
return 1;
}
if (16 == e.type) {
cc.vv.mahjongMgr.doGuoHu({
seatid: e.si
});
return .5;
}
if (17 == e.type) {
cc.vv.mahjongMgr.doHujiaozhuanyi({
seatid: e.si
});
return .5;
}
}
});
cc._RF.pop();
}, {} ],
KD1702Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d17bedkFPVJCJemUgs0QLc2", "KD1702Const");
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -343,
y: 330,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: -620,
y: 93,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
player3: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -620,
y: 143,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
player2: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: -620,
y: 143,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
threeD: {
card3: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -230,
y: -58,
scale: .5,
distance: [ 0, 74, 74, 75, 72, 72, 72, 72, 72, 72, 72, 74, 75, 74, -952, 75, 76, 76, 72, 72, 72, 72, 72, 72, 72, 74, 75, 75, -958, 77, 76, 76, 72, 72, 72, 72, 72, 72, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -313,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 139,
y: -20,
scale: .5,
distance: [ 0, -4, -4, -2, -4, -2, -2, 110, -4, -4, -4, -4, -4, -4, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -515,
y: -185
}, {
x: -495,
y: -75
}, {
x: -475,
y: 35
}, {
x: -455,
y: 145
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: -464,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -136,
y: 144,
scale: .5,
distance: [ 0, -3, -4, -4, -3, -4, -4, -66, -4, -5, -5, -4, -4, -6, -61, -5, -6, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -55, -55, -58, 325, -52, -52, -54, -54, -56, -57, 326, -52, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -414,
y: 300
}, {
x: -434,
y: 190
}, {
x: -454,
y: 80
}, {
x: -474,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ],
card4: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: .94,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -67.5,
y: -50,
scale: .55,
distance: [ 0, 74, 74, 75, 72, 72, 74, 75, 74, -592, 75, 76, 76, 72, 72, 74, 75, 75, -597, 77, 76, 76, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -313,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 115,
y: 0,
scale: .55,
distance: [ 0, -4, -4, -2, -3.5, -3.5, -3, -2, -2, 115, -4, -4, -4, -4, -4, -4, -4, -4, 120, -6, -4, -6, -6, -6, -6, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 54, 54, 52, 52, 50, -426, 56, 54, 54, 54, 54, 52, 52, 50, -426, 56, 54, 54, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_4", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_4", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_4", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
imghide: [ "you1_1", "you1_2", "you1_3", "you1_4", "you1_4", "you1_4", "you1_5", "you1_6", "you1_7", "you2_1", "you2_2", "you2_3", "you2_4", "you2_4", "you2_4", "you2_5", "you2_6", "you2_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_4", "you3_4", "you3_5", "you3_6", "you3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 105,
height: 89
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 106,
height: 89
}, {
width: 105,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 108,
height: 89
}, {
width: 105,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -535,
y: -120
}, {
x: -515,
y: -20
}, {
x: -495,
y: 80
}, {
x: -475,
y: 180
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: 223,
y: 328,
scale: .6,
distance: [ 0, -59, -59, -59, -60, -60, -59, -60, -60, -60, -59, -59, -59, -91 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "Frame_shangjia_shupai_14", "Frame_shangjia_shupai_13", "Frame_shangjia_shupai_12", "Frame_shangjia_shupai_11", "Frame_shangjia_shupai_10", "Frame_shangjia_shupai_9", "Frame_shangjia_shupai_8", "Frame_shangjia_shupai_7", "Frame_shangjia_shupai_6", "Frame_shangjia_shupai_5", "Frame_shangjia_shupai_4", "Frame_shangjia_shupai_3", "Frame_shangjia_shupai_2", "Frame_shangjia_shupai_1" ],
size: [ {
width: 72,
height: 91
}, {
width: 69,
height: 91
}, {
width: 68,
height: 91
}, {
width: 67,
height: 91
}, {
width: 66,
height: 91
}, {
width: 65,
height: 91
}, {
width: 66,
height: 91
}, {
width: 67,
height: 91
}, {
width: 68,
height: 91
}, {
width: 70,
height: 91
}, {
width: 71,
height: 91
}, {
width: 73,
height: 91
}, {
width: 74,
height: 91
}, {
width: 75,
height: 91
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
} ]
},
paiIndex: [ 9, 9, 9, 9, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
xhide: 223,
yhide: 318,
scalehide: .6,
distancehide: [ 0, -58, -59, -59, -59, -58, -59, -59, -59, -59, -59, -59, -59, -91 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_shangjia_pingpai_fan_14", "Frame_shangjia_pingpai_fan_13", "Frame_shangjia_pingpai_fan_12", "Frame_shangjia_pingpai_fan_11", "Frame_shangjia_pingpai_fan_10", "Frame_shangjia_pingpai_fan_9", "Frame_shangjia_pingpai_fan_8", "Frame_shangjia_pingpai_fan_7", "Frame_shangjia_pingpai_fan_6", "Frame_shangjia_pingpai_fan_5", "Frame_shangjia_pingpai_fan_4", "Frame_shangjia_pingpai_fan_3", "Frame_shangjia_pingpai_fan_2", "Frame_shangjia_pingpai_fan_1" ],
imgshow: [ "Frame_shangjia_pingpai_zheng_14", "Frame_shangjia_pingpai_zheng_13", "Frame_shangjia_pingpai_zheng_12", "Frame_shangjia_pingpai_zheng_11", "Frame_shangjia_pingpai_zheng_10", "Frame_shangjia_pingpai_zheng_9", "Frame_shangjia_pingpai_zheng_8", "Frame_shangjia_pingpai_zheng_7", "Frame_shangjia_pingpai_zheng_6", "Frame_shangjia_pingpai_zheng_5", "Frame_shangjia_pingpai_zheng_4", "Frame_shangjia_pingpai_zheng_3", "Frame_shangjia_pingpai_zheng_2", "Frame_shangjia_pingpai_zheng_1" ],
sizehide: [ {
width: 71,
height: 93
}, {
width: 71,
height: 94
}, {
width: 72,
height: 93
}, {
width: 71,
height: 93
}, {
width: 74,
height: 93
}, {
width: 73,
height: 93
}, {
width: 76,
height: 93
}, {
width: 77,
height: 93
}, {
width: 77,
height: 93
}, {
width: 78,
height: 93
}, {
width: 81,
height: 93
}, {
width: 82,
height: 93
}, {
width: 83,
height: 93
}, {
width: 84,
height: 93
} ],
dianScalehideAll: 1.2,
dianhide: {
position: [ {
x: .5,
y: 20
}, {
x: .5,
y: 20
}, {
x: 0,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2.5,
y: 20
}, {
x: -3,
y: 20
}, {
x: -3,
y: 20
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
haoScale: 1.3,
hao: [ {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
} ],
skew: [ {
x: -1,
y: 0
}, {
x: 0,
y: 0
}, {
x: .5,
y: 0
}, {
x: 1,
y: 0
}, {
x: 2,
y: 0
}, {
x: 3,
y: 0
}, {
x: 3,
y: 0
}, {
x: 4,
y: 0
}, {
x: 4,
y: 0
}, {
x: 5,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 8,
y: 0
} ],
dianScale: [ {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
} ]
},
paiIndexhide: [ 1, 2, 3, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -4,
y: 222,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 69,
y: 179,
scale: .55,
distance: [ 0, -74, -77, -78, -78, -78, -75, -77, -74, 605, -74, -75, -76, -76, -76, -75, -75, -74, 598, -72, -74, -75, -75, -75, -75, -74, -72 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 87, 0, 0, 0, 0, 0, 0, 0, 0, 85, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
img: [ "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue" ],
dianScale: [ {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
} ]
},
paiIndex: [ 12, 12, 12, 12, 12, 12, 15, 14, 13, 8, 8, 8, 8, 8, 8, 11, 10, 9, 4, 4, 4, 4, 4, 4, 7, 6, 5 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: -450,
spacingY: 0,
destination: [ {
x: 243,
y: 328
}, {
x: 123,
y: 328
}, {
x: 3,
y: 328
}, {
x: -117,
y: 328
} ],
fourPai: {
x: 2,
y: 30
}
},
ting: {
scale: .9,
x: 0,
y: -60
}
}, {
holds: {
x: -454,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -124,
y: 102,
scale: .55,
distance: [ 0, -3, -4, -4, -4, -4, -3, -4, -4, -58, -4, -5, -5, -5, -5, -4, -4, -6, -53, -5, -6, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -54, -54, -55, -55, -58, 433, -52, -52, -54, -54, -54, -54, -56, -57, 434, -52, -52, -54, -54, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_4", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_4", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_4", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
imghide: [ "zuo1_7", "zuo2_6", "zuo1_5", "zuo1_4", "zuo1_4", "zuo1_4", "zuo1_3", "zuo1_2", "zuo1_1", "zuo2_7", "zuo2_6", "zuo2_5", "zuo2_4", "zuo2_4", "zuo2_4", "zuo2_3", "zuo2_2", "zuo2_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_4", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 108,
height: 92
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 109,
height: 92
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 111,
height: 92
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -414,
y: 300
}, {
x: -434,
y: 190
}, {
x: -454,
y: 80
}, {
x: -474,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ]
},
chat_path: "mj",
quick_chat: [ {
id: 0,
info: "你太牛啦"
}, {
id: 1,
info: "哈哈，手气真好"
}, {
id: 2,
info: "快点出牌啊"
}, {
id: 3,
info: "今天真高兴"
}, {
id: 4,
info: "这个吃的好"
}, {
id: 5,
info: "你放炮，我不胡"
}, {
id: 6,
info: "你家里是开银行的吗"
}, {
id: 7,
info: "不好意思，我有事要先走一步了"
}, {
id: 8,
info: "你的牌打的太好了"
}, {
id: 9,
info: "大家好，很高心见到各位"
}, {
id: 10,
info: "怎么又断线了，网络怎么这么差啊"
} ],
TIME_ITEM: 100,
TIME_THREE: 100,
TIME_SAIZI: 1e3,
TIME_HOLDS: 1e3,
TIME_HIDE_SAIZI: 3e3,
TIME_DING_ZHUANG: 2e3,
TIME_FRIST_TURE_CHANGE: 4e3,
TIME_FRIST_ACTION: 3e3,
TIME_START: 10
}
});
cc._RF.pop();
}, {} ],
KD1702Folds: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f5999Wbc81MZKcsdQsKLFVV", "KD1702Folds");
cc.Class({
extends: cc.Component,
properties: {
_pointers: null,
_folds: null,
_huas: null
},
onLoad: function() {
cc.vv;
},
start: function() {
this.initView();
this.initEventHandler();
},
initView: function() {
this._folds = {};
this._pointers = {};
this._huas = {};
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
var t = e[i];
this._folds[t] = [];
this._pointers[t] = [];
this._huas[t] = [];
}
},
initEventHandler: function() {
this.node.on("game_begin", function(e) {});
this.node.on("login_finished", function(e) {});
this.node.on("game_sync", function(e) {});
this.node.on("game_chupai_notify", function(e) {});
this.node.on("buhua_notify", function(e) {});
this.node.on("guo_notify", function(e) {});
},
change_color_outcrad: function(e) {
this._chupai_pai = e;
var i = cc.vv.mahjongMgr._seats;
for (var t in i) {
var a = i[t].folds;
if (null == a) return;
for (var n = cc.vv.roomMgr.viewChairID(i[t].seatIndex), s = 0; s < a.length; ++s) {
var c = n + "_folds_" + (r = s);
a.length;
if (a[s] == e) {
var o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
}
}
var h = i[t].chipenggang;
if (null == h) return;
for (s = 0; s < h.length; ++s) {
var r = s, l = (h.length, cc.vv.game.majiangTable.getHoldParent(n, "penggangs")), d = (c = n + "_nodeChipenggang_" + r, 
cc.vv.utils.getChildByTag(l, c));
c = n + "_chipenggang_" + r + "_0";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_1";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_2";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_3";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
}
}
},
hideAllFolds: function() {
for (var e = cc.find("Canvas/mgr/game"), i = cc.vv.mahjongMgr._sides, t = 0; t < i.length; ++t) {
var a = i[t];
e.getChildByName(a).getChildByName("folds").getChildByName("list").removeAllChildren();
}
},
hideChupai: function() {
if (-1 != cc.vv.mahjongMgr._turn) if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
var e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn), i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length;
cc.vv.game.majiangTable.hideFolds(e, i);
} else {
e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn);
if (0 == cc.vv.mahjongMgr._seats.length) return;
var t = e + "_chupai_" + (i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length), a = cc.vv.game.majiangTable.getHoldParent(e, "holdschupai");
cc.vv.game.majiangTable.send_card_emit(a, "nodeDestroy", {}, t);
var n = cc.vv.game.majiangTable._chupaiArr, s = n.indexOf(t);
-1 != s && n.splice(s, 1);
}
},
initAllFolds: function() {
var e = cc.vv.mahjongMgr._seats;
for (var i in e) this.initFolds(e[i]);
this.initPointer();
},
initPointer: function() {
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) for (var t = e[i], a = cc.vv.mahjongMgr.getViewidBySide(e[i]), n = this._pointers[t], s = 0; s < n.length; s++) {
var c = n[s];
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", {
isShow: !1
}, c);
}
},
initFolds: function(e) {
e.folds;
},
setSpritePointer: function(e, i, t) {
var a = cc.vv.roomMgr.viewChairID(e);
this.initPointer();
var n = a + "_folds_" + i, s = {
isShow: t
};
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", s, n);
this.setPointers(t, a, n);
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setShandian", {}, n);
},
setPointers: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._pointers[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setFolds: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._folds[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setHua: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._huas[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
}
});
cc._RF.pop();
}, {} ],
KD1702Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "5d9642jznlCapdFi6q3nEiG", "KD1702Game");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
cc.vv.log3.debug("KD1702Game:onLoad");
cc.vv.audioMgr.playBGM("mj_bg_01");
if (!cc.sys.isNative && cc.sys.isMobile) {
var i = this.node.getComponent(cc.Canvas);
i.fitHeight = !0;
i.fitWidth = !0;
}
if (cc.vv) {
cc.vv.game = this;
var t = e("KD1702Const");
cc.vv.game.config = {
type: "3dmj",
name: "kd1702",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: t.chat_path,
quick_chat: t.quick_chat,
player_4: t.player4,
player_3: t.player3,
player_2: t.player2,
card_4: t.threeD.card4,
card_3: t.threeD.card3,
card_2: t.threeD.card2,
TIME_ITEM: t.TIME_ITEM,
TIME_THREE: t.TIME_THREE,
TIME_SAIZI: t.TIME_SAIZI,
TIME_HOLDS: t.TIME_HOLDS,
TIME_HIDE_SAIZI: t.TIME_HIDE_SAIZI,
TIME_DING_ZHUANG: t.TIME_DING_ZHUANG,
TIME_FRIST_TURE_CHANGE: t.TIME_FRIST_TURE_CHANGE,
TIME_FRIST_ACTION: t.TIME_FRIST_ACTION,
TIME_START: t.TIME_START,
isTinghougang: !0,
isLianzhuang: !0,
isBaoting: !1,
isGangfen: !1,
set_bg: !1,
location: !0,
isSelectSit: !0,
show_watch_btn: !1
};
} else cc.director.loadScene("loading");
},
start: function() {
var i = this;
cc.vv.log3.debug("KD1702Game:start");
this.majiangTable = this.node.getComponent("majiangTable");
this.table = this.node.getComponent("Table");
cc.vv.mahjongMgr = this.node.getComponent("KD1702Mgr");
cc.vv.folds = this.node.getComponent("KD1702Folds");
this._winPlayer = cc.find("Canvas/mgr/players");
this.majiangTable.initView();
this.majiangTable.new_round();
this.initEventHandlers();
cc.vv.roomMgr.is_replay && (cc.vv.mahjongMgr._magicPai = cc.vv.roomMgr.action.init.magicPai);
var t = e("KD1702ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.mahjongMgr.prepareReplay(cc.vv.roomMgr.action.init, cc.vv.roomMgr.seatid);
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
for (var t = cc.vv.roomMgr.table.list, a = cc.vv.roomMgr.action.init.score, n = 0; n < t.length; ++n) {
e = cc.vv.roomMgr.getSeatIndexByID(a[n].user_id);
var s = cc.vv.roomMgr.viewChairID(e);
i.table.seat_emit(s, "score", a[n].score);
cc.vv.utils.getChildByTag(i._winPlayer, e).getComponent("Seat").ready(!1);
}
i.majiangTable.onGameBeign();
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
initEventHandlers: function() {
var e = this;
this.node.on("game_saizi", function(i) {
e.dispatchEvent("game_kaiju_table");
setTimeout(function() {
e.dispatchEvent("game_saizi_table", i);
}, cc.vv.game.config.TIME_SAIZI);
});
this.node.on("game_magic", function(i) {
e.dispatchEvent("game_magic_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("showAction", i);
});
this.node.on("game_holds", function() {
setTimeout(function() {
e.dispatchEvent("game_holds_table");
}, cc.vv.game.config.TIME_HOLDS);
});
this.node.on("mj_count", function() {
var i = {
data: {
count: cc.vv.mahjongMgr._numOfMJ
}
};
e.dispatchEvent("mj_count_table", i);
});
this.node.on("login_finished", function(i) {
e.dispatchEvent("game_begin_table");
});
this.node.on("game_begin", function() {
e.dispatchEvent("game_begin_table");
setTimeout(function() {
e.dispatchEvent("game_hideSaizi_table");
}, cc.vv.game.config.TIME_HIDE_SAIZI);
setTimeout(function() {
var i = {
data: {
seatid: cc.vv.mahjongMgr._zhuang
}
};
e.dispatchEvent("game_dingzhuang_table", i);
}, cc.vv.game.config.TIME_DING_ZHUANG);
setTimeout(function() {
e.dispatchEvent("game_fristTurnChange_table");
}, cc.vv.game.config.TIME_FRIST_TURE_CHANGE);
setTimeout(function() {
e.dispatchEvent("game_fristShowAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION);
setTimeout(function() {
e.dispatchEvent("game_fristShowTingAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 100);
setTimeout(function() {
e.dispatchEvent("game_fristShowTing1Action_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 200);
});
this.node.on("game_playing", function(i) {
e.dispatchEvent("game_playing_table", i);
});
this.node.on("game_chupai", function(i) {
e.dispatchEvent("game_chupai_table", i);
});
this.node.on("game_chupai_notify", function(i) {
e.dispatchEvent("game_chupai_notify_table", i);
});
this.node.on("game_mopai", function(i) {
e.dispatchEvent("game_mopai_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("game_showaction_table", i);
});
this.node.on("jiesuan", function(i) {
i = i.data;
e.dispatchEvent("game_jiesuan_table", i);
});
this.node.on("report", function(i) {
i = i.data;
e.dispatchEvent("game_report_table", i);
});
this.node.on("guo_notify", function(i) {
e.dispatchEvent("guo_notify_table", i);
});
this.node.on("peng_notify", function(i) {
e.dispatchEvent("peng_notify_table", i);
});
this.node.on("chi_notify", function(i) {
e.dispatchEvent("chi_notify_table", i);
});
this.node.on("gang_notify", function(i) {
e.dispatchEvent("gang_notify_table", i);
});
this.node.on("hupai", function(i) {
e.dispatchEvent("hupai_table", i);
});
this.node.on("chupai_limit_notify", function(i) {
e.dispatchEvent("chupai_limit_notify_table", i);
});
this.node.on("bao_ting_push", function(i) {
e.dispatchEvent("bao_ting_push_table", i);
});
this.node.on("buhua_notify", function(i) {
e.dispatchEvent("buhua_notify_table", i);
});
this.node.on("hangang_notify", function(i) {
var t = cc.vv.roomMgr.viewChairID(i);
e.majiangTable.playEfx(t, "play_gang");
e.majiangTable.playSFX(i, "gang");
e.majiangTable.hideOptions();
e.majiangTable.hideGangPaiOpts();
e.majiangTable.hideChipaiOpts();
});
this.node.on("game_sync", function(i) {
e.dispatchEvent("game_sync_table", i);
});
this.node.on("game_action_ting", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting_table", i);
});
this.node.on("game_action_ting1", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting1_table", i);
});
this.node.on("guo_result", function() {
e.dispatchEvent("guo_result_table");
});
this.node.on("view_ting", function(i) {
e.dispatchEvent("view_ting_table", i);
});
this.node.on("guohu_game", function(i) {
e.dispatchEvent("guohu_table", i);
});
this.node.on("hujiaozhuanyi_game", function(i) {
e.dispatchEvent("hujiaozhuanyi_table", i);
});
this.node.on("cheat", function(i) {
i = i.data;
cc.vv.popMgr.open("ShowPai", function(t) {
e.ViewShowPai = t;
e.ViewShowPai.getComponent("ShowPai").show_card(i.list.pai);
});
});
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "jiesuan":
this.onButtonQieGuo("game_sync_push", {
errcode: 0,
data: {
turn: 2,
zhuang: 3,
seats: [ {
que: -1,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2 ],
baoting: !1,
wangangs: [],
userid: 3015,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
pengs: [],
hued: !1
}, {
que: -1,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2 ],
baoting: !1,
wangangs: [],
userid: 3001,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
pengs: [],
hued: !1
}, {
que: -1,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2 ],
baoting: !1,
wangangs: [],
userid: 3028,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
pengs: [],
hued: !1
}, {
que: -1,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2, -2 ],
baoting: !1,
wangangs: [],
guohu: !1,
userid: 3016,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
holds: [ 17, 29, 7, 5, 7, 13, 14, 17, 25, 26, 29, 31, 37 ],
pengs: [],
hued: !1
} ],
saizi_2: 5,
saizi_1: 5,
liupaiCnt: 0,
button: 3,
numofmj: 80,
round: 4,
chuPai: -1,
state: 3,
magicPai2: -1,
magicPai: -1
},
errmsg: "ok",
model: "game",
event: "game_sync_push"
});
}
},
onGangChecked: function(e) {
cc.vv.audioMgr.click();
cc.vv.net2.quick("gang", {
pai: e.target.pai,
wik: e.target.paiWik
});
},
onOptionClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btnPeng":
cc.vv.net2.quick("peng");
cc.vv.folds.initPointer();
break;

case "btnTing":
cc.vv.net2.quick("baoting");
this.majiangTable.initbnaoting();
break;

case "btnHu":
cc.vv.net2.quick("hu");
break;

case "btnGuo":
this.ops_bgclick_guo();
break;

case "cancelbtnGuo":
1 == this.majiangTable._baoting && this.majiangTable.cencelbaoting();
cc.vv.net2.quick("guo");
break;

case "btnGang":
this.majiangTable.showGang(e.target.pai, e.target.paiWik, e.target.actpai);
cc.vv.folds.initPointer();
break;

case "btnshowall":
cc.vv.net2.quick("cheat");
break;

case "btnChi":
this.majiangTable.showChipai(e.target.pai, e.target.paiWik);
cc.vv.folds.initPointer();
}
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_button_01");
},
ops_bgclick_guo: function() {
cc.vv.net2.quick("guo");
this.majiangTable.hideOptions();
1 == this.majiangTable._baoting && 1 == this.majiangTable._tinghuhoupai && 1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
},
shoot: function(e, i) {
this.majiangTable.baotingopsUi(!1);
if (null != e) {
1 == this.majiangTable._baoting && (this.majiangTable._autoOutCrad = !0);
if (cc.vv.mahjongMgr._canChui) {
var t = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid];
cc.vv.mahjongMgr._canChui = !1;
cc.vv.folds.change_color_outcrad(-4);
if (1 == this.majiangTable._yiting) {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 1,
index: i
});
this.majiangTable._yiting = !1;
var a = t.folds.length, n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: a,
pai: e,
baoting: 1,
index: i
});
} else {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 0,
index: i
});
if (!cc.vv.game.majiangTable._baotingchupai) {
n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: -1,
pai: e,
baoting: 0,
index: i
});
}
}
cc.vv.folds.initAllFolds();
1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
cc.vv.roomMgr.param.too_hu_must_zimo || this.majiangTable.hideGuohu();
this.majiangTable.hideting();
this.majiangTable.hideOptions();
this.majiangTable.hideChipaiOpts();
this.majiangTable.hideGangPaiOpts();
this.majiangTable.hideTingOpts();
cc.find("Canvas/open/tingPaiList").active = !1;
}
}
},
sortHolds: function(e) {
var i = e.holds;
if (null == i) return null;
var t = null, a = i.length;
2 != a && 5 != a && 8 != a && 11 != a && 14 != a || (t = i.pop());
var n = cc.vv.mahjongMgr._magicPai, s = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(i, n, s);
null != t && i.push(t);
return i;
},
sortHoldsByPai: function(e) {
if (null == e) return null;
var i = null, t = e.length;
2 != t && 5 != t && 8 != t && 11 != t && 14 != t || (i = e.pop());
var a = cc.vv.mahjongMgr._magicPai, n = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(e, a, n);
null != i && e.push(i);
return e;
},
getMJIndex: function(e, i) {
return i;
},
getStartIndex: function(e) {
if (null == e) return null;
var i = e.length;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getStartIndexByNum: function(e) {
var i = e;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getFourteenTo: function(e, i) {
for (var t = cc.vv.game.sortHoldsByPai(cc.vv.mahjongMgr._oldholds), a = cc.vv.game.getStartIndex(t), n = t.length, s = t[13 - a], c = a; c < a + n; c++) {
if (s == e) return a - 1;
if (s == i && s == t[c - a] || s == i && t[c - a] != e) return c - 1;
if (t[c - a] != e && t[c - a] != i && s < t[c - a]) return c - 1;
}
return 13;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
testData: function(e, i) {
cc.vv.mahjongMgr.node.emit(e, i);
},
onButtonQieGuo: function(e, i) {
this.testData(e, i);
}
});
cc._RF.pop();
}, {
KD1702Const: "KD1702Const",
KD1702ReplayMgr: "KD1702ReplayMgr"
} ],
KD1702Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "7f2c5EglKRBQIDK8LQOWJ0Y", "KD1702Mgr");
cc.Class({
extends: cc.Component,
properties: {
pengPrefabSelf: {
default: null,
type: cc.Prefab
},
_sides: null,
_pres: null,
_foldPres: null,
_fangxiang: null,
_mahjongSprites: [],
_turn: -1,
_last: -1,
_zhuang: -1,
_saizi_1: 0,
_saizi_2: 0,
_magicPai: -1,
_magicPai2: -1,
_seats: [],
_numOfMJ: 0,
_liupaiCnt: 0,
_maxNumOfGames: 0,
_numOfGames: 0,
_isOver: !0,
_button: -1,
_gamestate: -1,
_canChui: !1,
_curaction: null,
_baoting_index: -1,
_oldholds: []
},
onLoad: function() {
if (null != cc.vv) {
switch (cc.vv.roomMgr.ren) {
case 4:
this._sides = [ "myself", "right", "up", "left" ];
this._pres = [ "M_", "R_", "B_", "L_" ];
this._foldPres = [ "B_", "R_", "B_", "L_" ];
this._fangxiang = [ "nan", "dong", "bei", "xi" ];
break;

case 3:
this._sides = [ "myself", "right", "left" ];
this._pres = [ "M_", "R_", "L_" ];
this._foldPres = [ "B_", "R_", "L_" ];
this._fangxiang = [ "nan", "dong", "xi" ];
break;

case 2:
this._sides = [ "myself", "up" ];
this._pres = [ "M_", "B_" ];
this._foldPres = [ "B_", "B_" ];
this._fangxiang = [ "nan", "bei" ];
}
for (var e = 1; e < 10; ++e) this._mahjongSprites.push("B" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("T" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("W" + e);
this._mahjongSprites.push("F2");
this._mahjongSprites.push("F3");
this._mahjongSprites.push("F4");
this._mahjongSprites.push("F5");
this._mahjongSprites.push("F1");
this._mahjongSprites.push("F6");
this._mahjongSprites.push("F7");
this._mahjongSprites.push("J1");
this._mahjongSprites.push("J2");
this._mahjongSprites.push("J3");
this._mahjongSprites.push("J4");
this._mahjongSprites.push("H3");
this._mahjongSprites.push("H2");
this._mahjongSprites.push("H1");
this._mahjongSprites.push("H4");
this.initEventHandlers();
}
},
prepareReplay: function(e, i) {
this._seats = [];
if (null != e.zhuang) {
this._zhuang = e.zhuang;
this._turn = e.zhuang;
}
for (var t = 0; t < cc.vv.roomMgr.table.list.length; ++t) {
var a = {};
a.seatIndex = t;
a.score = null;
a.holds = e.game_seats[t];
a.pengs = [];
a.chis = [];
a.huas = [];
a.piaonum = 0;
a.angangs = [];
a.diangangs = [];
a.wangangs = [];
a.folds = [];
a.chipenggang = [];
i == cc.vv.roomMgr.table.list[t].userid && (cc.vv.roomMgr.seatid = t);
this._seats[t] = a;
}
if (e.numofmj) {
this._numOfMJ = e.numofmj;
this._liupaiCnt = e.liupaiCnt;
}
e.magicPai2 && (this._magicPai2 = e.magicPai2);
this._gamestate = 3;
},
initEventHandlers: function() {
var e = this;
this.node.on("login_result", function(i) {
if (0 === i.errcode) {
i = i.data;
e._seats = i.seats;
e._isOver = !1;
e.reset();
}
});
this.node.on("sit", function(i) {
i = i.data;
if (null != e._seats[i.seatid]) {
e._seats[i.seatid].seatIndex = i.seatid;
e._seats[i.seatid].userid = i.userid;
e._seats[i.seatid].headimg = i.headimg;
}
});
this.node.on("game_saizi_push", function(i) {
i = i.data;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e.dispatchEvent("game_saizi", i);
});
this.node.on("game_magic_push", function(i) {
i = i.data;
e._magicPai = i.magic;
e._magicPai2 = i.magic2;
e.dispatchEvent("game_magic", i);
});
this.node.on("game_action_push", function(i) {
i = i.data;
e._curaction = i;
e.dispatchEvent("game_action", i);
});
this.node.on("game_holds_push", function(i) {
i = i.data;
e._seats[cc.vv.roomMgr.seatid].holds = i.holds;
for (var t = 0; t < e._seats.length; ++t) {
var a = e._seats[t];
null == a.folds && (a.folds = []);
null == a.pengs && (a.pengs = []);
null == a.chis && (a.chis = []);
null == a.huas && (a.huas = []);
a.piaonum = 0;
null == a.angangs && (a.angangs = []);
null == a.diangangs && (a.diangangs = []);
null == a.wangangs && (a.wangangs = []);
null == a.chipenggang && (a.chipenggang = []);
a.ready = !1;
}
e.dispatchEvent("game_holds");
});
this.node.on("mj_count_push", function(i) {
i = i.data;
e.doMjCount(i.numOfMJ, i.liupaiCnt);
});
this.node.on("game_begin_push", function(i) {
i = i.data;
e._button = i.button;
e._turn = i.button;
e._zhuang = i.zhuang;
e._gamestate = 2;
e.dispatchEvent("game_begin");
});
this.node.on("game_playing_push", function(i) {
i = i.data;
e._gamestate = 3;
e.dispatchEvent("game_playing");
});
this.node.on("game_chupai_push", function(i) {
i = i.data;
if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
null != i.game_action_push && (e._curaction = i.game_action_push);
null != i.game_action_ting && null != i.game_action_ting.data && (cc.vv.game.majiangTable._datating = i.game_action_ting.data);
}
var t = cc.vv.roomMgr.getSeatIndexByID(i.userId);
e.doTurnChange(t, i);
});
this.node.on("game_chupai_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
-1 != n && (cc.vv.game.majiangTable._baotingchupai || n != cc.vv.roomMgr.seatid) && e.doChupai(n, a, i.baoTing_index, i.baoting, i.index);
});
this.node.on("game_mopai_push", function(i) {
i = i.data;
e.doMopai(cc.vv.roomMgr.seatid, i.pai, i.is_auto);
});
this.node.on("guo_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGuo(n, a);
});
this.node.on("peng_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doPeng(n, a);
});
this.node.on("chi_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.chiPai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doChi(s, a, n);
});
this.node.on("gang_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.gangpai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGang(s, a, n, i.gangtype);
});
this.node.on("chupai_limit_notify_push", function(i) {
e.dispatchEvent("chupai_limit_notify");
});
this.node.on("baoting_notify_push", function(i) {
i = i.data;
e.doTing(i);
});
this.node.on("hu_push", function(i) {
i = i.data;
e.doHu(i);
});
this.node.on("guohu", function(i) {
i = i.data;
e.doGuoHu(i);
});
this.node.on("game_sync_push", function(i) {
i = i.data;
e.reset();
e._liupaiCnt = i.liupaiCnt;
e._magicPai = i.magicPai;
e._magicPai2 = i.magicPai2;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e._gamestate = i.state;
e._turn = i.turn;
e._zhuang = i.zhuang;
e._button = i.button;
e._chupai = i.chuPai;
e._numOfMJ = i.numofmj;
for (var t = 0; t < cc.vv.roomMgr.ren; ++t) {
e._seats[t].baoTing_index = i.seats[t].m_bBaoTing_index;
e._seats[t].status = i.seats[t].status;
var a = e._seats[t], n = i.seats[t];
a.baoting = n.baoting;
a.holds = n.holds;
a.folds = n.folds;
a.angangs = n.angangs;
a.diangangs = n.diangangs;
a.wangangs = n.wangangs;
a.pengs = n.pengs;
a.chis = n.chis;
a.huas = n.huas;
a.hued = n.hued;
a.iszimo = n.iszimo;
a.huinfo = n.huinfo;
a.huanpais = n.huanpais;
a.m_bBaoTing_index = n.m_bBaoTing_index;
a.chipenggang = [];
for (var s = 0; s < a.angangs.length; s++) {
var c = a.angangs[s];
a.chipenggang.push([ 2, c ]);
}
for (var o = 0; o < a.diangangs.length; o++) {
var h = a.diangangs[o];
a.chipenggang.push([ 3, h ]);
}
for (var r = 0; r < a.wangangs.length; r++) {
var l = a.wangangs[r];
a.chipenggang.push([ 4, l ]);
}
for (var d = a.pengs.length, g = 0; g < d; g++) {
var u = a.pengs[g];
-1 != e.arrayReturn(a.wangangs, u) ? a.pengs.splice(g, 1) : a.chipenggang.push([ 1, u ]);
}
for (var _ = 0; _ < a.chis.length; _++) {
var v = a.chis[_];
a.chipenggang.push([ 0, v ]);
}
t == e.seatIndex && (e.dingque = n.que);
}
e.dispatchEvent("game_sync", i);
});
},
doMopai: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
a.holds.push(i);
this.dispatchEvent("game_mopai", {
seatIndex: e,
pai: i,
is_auto: t
});
}
},
doChupai: function(e, i, t, a, n) {
this._chupai = i;
var s = this._seats[e];
s.seatIndex = e;
this._seats[s.seatIndex].baoTing_index = t;
if (s.holds) {
var c = s.holds.indexOf(i), o = cc.vv.game.getStartIndex(s.holds);
cc.vv.roomMgr.is_replay && (n = o + c);
e == cc.vv.roomMgr.seatid && (this._oldholds = cc.vv.utils.deepCopy(s.holds));
s.holds.splice(c, 1);
}
this.dispatchEvent("game_chupai_notify", {
seatData: s,
pai: i,
baoTing_index: t,
baoting: a,
index: n
});
},
doMjCount: function(e, i) {
this._numOfMJ = e;
this._liupaiCnt = i;
this.dispatchEvent("mj_count", null);
},
doTurnChange: function(e, i) {
i = {
last: this._turn,
turn: e,
data: i
};
this._last = this._turn;
this._turn = e;
this.dispatchEvent("game_chupai", i);
},
doGuo: function(e, i) {
var t = this._seats[e];
this.dispatchEvent("guo_notify", t);
},
doPeng: function(e, i) {
var t = this._seats[e];
t.pengs.push(i);
t.chipenggang.push([ 1, i ]);
if (t.holds) for (var a = 0; a < 2; ++a) {
var n = t.holds.indexOf(i[1]);
t.holds.splice(n, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("peng_notify", {
seatData: t,
pengpai: i
});
},
doChi: function(e, i, t) {
var a = this._seats[e];
a.chis.push(t);
a.chipenggang.push([ 0, i ]);
if (a.holds) for (var n = 1; n < t.length; ++n) if (t[n] != i) {
var s = a.holds.indexOf(t[n]);
-1 != s && a.holds.splice(s, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("chi_notify", {
seatData: a,
chipai: i
});
},
doGang: function(e, i, t, a) {
var n = this._seats[e];
if (11 == a) for (var s = 0; s < n.pengs.length; ++s) if (n.pengs[s][1] == i) {
n.pengs.splice(s, 1);
break;
}
if (9 == a || 12 == a) {
n.angangs.push(t);
n.chipenggang.push([ 2, t ]);
} else if (10 == a || 13 == a) {
n.diangangs.push(t);
n.chipenggang.push([ 3, t ]);
this.removeChupai(t[0]);
} else if (14 == a || 11 == a) {
n.wangangs.push(t);
for (var c = n.chipenggang, o = 0; o < c.length; o++) 1 == c[o][0] && c[o][1][1] == i && (c[o][0] = 4);
}
if (n.holds) {
if (9 == a || 12 == a || 10 == a || 11 == a) for (var h = 1; h <= t.length; ++h) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
if (13 == a) for (h = 1; h <= t.length; ++h) if (t[h] != i) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
}
this.dispatchEvent("gang_notify", {
seatData: n,
gangtype: a,
gangpai: t
});
},
doTing: function(e) {
this.dispatchEvent("bao_ting_push", e);
},
doHu: function(e) {
e.turn = this._turn;
e.foldslength = -1;
if (-1 != e.turn) {
var i = cc.vv.mahjongMgr._seats[e.turn].folds.length;
e.foldslength = i;
}
this.dispatchEvent("hupai", e);
},
doGuoHu: function(e) {
this.dispatchEvent("guohu_game", e);
},
doHujiaozhuanyi: function(e) {
var i = e.seatid;
cc.vv.mahjongMgr._seats[i].holds.pop();
this.dispatchEvent("hujiaozhuanyi_game", e);
},
doBuhua: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
var n = a.holds.indexOf(i);
-1 != n && a.holds.splice(n, 1);
}
a.huas && a.huas.push(i);
a.piaonum = t;
this.dispatchEvent("buhua_notify", a);
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "mj/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
switchHuMp3: function(e, i) {
switch (i) {
case "平胡":
this.playSFX(e, "hu");
break;

case "自摸":
this.playSFX(e, "zimo");
break;

case "七小对":
case "七对":
this.playSFX(e, "qidui");
break;

case "清一色七小对":
case "清一色七对":
case "豪华七对":
case "豪华七小对":
this.playSFX(e, "haohuaqidui");
break;

case "清一色":
this.playSFX(e, "qinyise");
break;

case "十三幺":
this.playSFX(e, "shisanyao");
break;

case "清一色一条龙":
case "一条龙":
this.playSFX(e, "yitaolong");
break;

default:
this.playSFX(e, "hu");
}
},
reset: function() {
this._turn = -1;
this._last = -1;
this._zhuang = -1;
this._chupai = -1, this._button = -1;
this._magicPai = -1;
this._magicPai2 = -1;
this._saizi_1 = -1, this._saizi_2 = -1, this._gamestate = -1;
this._curaction = null;
for (var e = 0; e < this._seats.length; ++e) {
this._seats[e].holds = [];
this._seats[e].folds = [];
this._seats[e].pengs = [];
this._seats[e].chipenggang = [];
this._seats[e].chis = [];
this._seats[e].huas = [];
this._seats[e].piaonum = 0;
this._seats[e].angangs = [];
this._seats[e].diangangs = [];
this._seats[e].wangangs = [];
this._seats[e].dingque = -1;
this._seats[e].ready = !1;
this._seats[e].hued = !1;
this._seats[e].huanpais = null;
this._seats[e].baoting = !0;
}
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
clear: function() {
this.dataEventHandler = null;
null == this.isOver && (this._seats = null);
},
getGangType: function(e, i) {
if (-1 != e.pengs.indexOf(i)) return "wangang";
for (var t = 0, a = 0; a < e.holds.length; ++a) e.holds[a] == i && t++;
return 3 == t ? "diangang" : "angang";
},
getMahjongPai: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 10 : 1 == parseInt(e / 10) ? e += 10 : 2 == parseInt(e / 10) && (e -= 20);
return e;
},
getMahjongPaiReturn: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 20 : 1 == parseInt(e / 10) ? e -= 10 : 2 == parseInt(e / 10) && (e -= 10);
return e;
},
getMahjongPaiThree: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e -= 1 : 1 == parseInt(e / 10) ? e -= 2 : 2 == parseInt(e / 10) ? e -= 3 : 3 == parseInt(e / 10) && (e -= 4);
return e;
},
getMahjongType: function(e) {
return e >= 0 && e < 9 ? 0 : e >= 9 && e < 18 ? 1 : e >= 18 && e < 27 ? 2 : void 0;
},
getAudioURLByMJID: function(e) {
var i = 0;
e >= 0 && e < 9 ? i = e + 21 : e >= 9 && e < 18 ? i = e - 8 : e >= 18 && e < 27 ? i = e - 7 : e >= 27 && e < 34 && (i = e + 4);
return i;
},
getTargetSide: function(e, i) {
var t = (e.seatIndex + 1) % cc.vv.roomMgr.ren, a = (e.seatIndex + 2) % cc.vv.roomMgr.ren, n = (e.seatIndex + 3) % cc.vv.roomMgr.ren;
return i == t ? 2 : i == a ? 1 : i == n ? 0 : -1;
},
sortMJ: function(e, i, t) {
t <= 0 ? e.sort(function(e, t) {
if (i >= 0) {
if (i == e) return -1;
if (i == t) return 1;
}
return e - t;
}) : e.sort(function(e, a) {
if (i >= 0 || t >= 0) {
if (i == e && t == a || i == a && t == e) return e - a;
if (i == e || t == e) return -1;
if (i == a || t == a) return 1;
}
return e - a;
});
},
getSide: function(e) {
return this._sides[e];
},
getFangxiang: function(e) {
return this._fangxiang[e];
},
getPre: function(e) {
return this._pres[e];
},
getFoldPre: function(e) {
return this._foldPres[e];
},
getSeatidByFangxiang: function(e) {
for (var i = 0, t = 0; t < this._fangxiang.length; t++) {
e == this._fangxiang[t] && (i = t);
}
return i;
},
getViewidBySide: function(e) {
for (var i = this._sides, t = 0; t < i.length; t++) if (i[t] == e) return t;
},
getNumberPai: function(e) {
var i = this._seats[e], t = 0;
null != i.pengs && (t += i.pengs.length);
null != i.angangs && (t += i.angangs.length);
null != i.diangangs && (t += i.diangangs.length);
null != i.wangangs && (t += i.wangangs.length);
null != i.chis && (t += i.chis.length);
return t *= 3;
},
removeChupai: function(e) {
if (i = e) var i = cc.vv.mahjongMgr._turn;
var t = this._seats[i];
t && t.folds && t.folds.pop();
},
getWangIndex: function(e, i) {
for (var t = e.chipenggang, a = 0; a < t.length; a++) if (4 == t[a][0] && t[a][1][1] == i) return a;
},
getBgSpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
},
getSpriteFrameByMJID: function(e, i) {
var t = cc.vv.game.majiangTable.selfhandAtlasThreeD, a = cc.vv.mahjongMgr.getMahjongPai(i);
return t.getSpriteFrame("img_cardvalue" + a);
},
getEmptySpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
},
arrayReturn: function(e, i) {
for (var t = -1, a = 0; a < e.length; a++) i[1] == e[a][1] && (t = a);
return t;
}
});
cc._RF.pop();
}, {} ],
KD1702ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d2ced0GMgBM1p25/0OKzU/i", "KD1702ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.majiangTable.game_magicshow();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex, cc.vv.mahjongMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
si: e.si,
type: e.type,
pai: e.pai,
actPai: e.act
};
},
takeAction: function() {
var e = this.getNextAction();
null == this._lastAction || 1 != this._lastAction.type && 8 != this._lastAction.type || null != e && 3 != e.type && 4 != e.type && 5 != e.type && 7 != e.type && cc.vv.mahjongMgr.doGuo(this._lastAction.si, this._lastAction.pai);
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.type) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.nnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return 0;
}
if (1 == e.type) {
3 == e.actPai.length ? cc.vv.mahjongMgr.doChupai(e.si, e.pai, e.actPai[1], e.actPai[2]) : cc.vv.mahjongMgr.doChupai(e.si, e.pai);
return .5;
}
if (2 == e.type) {
3 == e.actPai.length && cc.vv.mahjongMgr.doMjCount(e.actPai[1], e.actPai[2]);
cc.vv.mahjongMgr.doTurnChange(e.si);
cc.vv.mahjongMgr.doMopai(e.si, e.pai);
return .5;
}
if (3 == e.type) {
cc.vv.mahjongMgr.doPeng(e.si, e.actPai);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (9 == e.type || 10 == e.type || 11 == e.type || 12 == e.type || 13 == e.type || 14 == e.type) {
cc.vv.mahjongMgr.dispatchEvent("hangang_notify", e.si);
cc.vv.mahjongMgr.doGang(e.si, e.pai, e.actPai, e.type);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (5 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !1
});
return 1.5;
}
if (6 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !0
});
return 1.5;
}
if (7 == e.type) {
cc.vv.mahjongMgr.doChi(e.si, e.pai, e.actPai);
return 1;
}
if (8 == e.type) {
cc.vv.mahjongMgr.doBuhua(e.si, e.pai, 0);
return 1;
}
if (15 == e.type) {
cc.vv.mahjongMgr.doTing({
userid: e.pai
});
return 1;
}
if (16 == e.type) {
cc.vv.mahjongMgr.doGuoHu({
seatid: e.si
});
return .5;
}
if (17 == e.type) {
cc.vv.mahjongMgr.doHujiaozhuanyi({
seatid: e.si
});
return .5;
}
}
});
cc._RF.pop();
}, {} ],
KDMajiang: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "3ec7fid9k1HKrdNDGv8HaV2", "KDMajiang");
cc.Class({
extends: cc.Component,
properties: {
bg: cc.Node,
dian: cc.Node,
jiantou: cc.Node,
arrow: cc.Node,
quantou: cc.Node,
shandian: cc.Node,
light: cc.Node,
hu: cc.Node,
huLight: cc.Node,
chupaiLight: cc.Node,
ting: cc.Node,
_value: 255,
_index: -1,
_select: 0,
_y: 0,
_x: 0,
_formTime: 0,
_isChupai: 0,
_keda: 0,
_enable: !1
},
onLoad: function() {
this._y = this.node.y;
this._x = this.node.x;
this.initEventHandlers();
},
start: function() {
this._nodeTuodongy = -500;
this._nodeTuodongx = -1e3;
this.tox = this.node.x;
this.toy = this.node.y;
},
initEventHandlers: function() {
var e = this;
this.node.on("moveBy", function(i) {
e.moveBy(i);
});
this.node.on("moveTo", function(i) {
e.moveTo(i);
});
this.node.on("chupaiShow", function(i) {
e.chupaiShow(i);
});
this.node.on("setTag", function(i) {
e.setTag(i);
});
this.node.on("setBg", function(i) {
e.setBg(i);
});
this.node.on("setDian", function(i) {
e.setDian(i);
});
this.node.on("nodeDestroy", function(i) {
e.nodeDestroy(i);
});
this.node.on("setEnabled", function(i) {
var t = i.enabled;
e.setEnabled(t);
});
this.node.on("setSelect", function(i) {
var t = i.enabled;
e.setSelect(t);
});
this.node.on("setValue", function(i) {
e.setValue(i);
});
this.node.on("chuPaiMoveTo", function(i) {
e.chuPaiMoveTo(i);
});
this.node.on("comeChu", function(i) {
e.comeChu(i);
});
this.node.on("setColor", function(i) {
e.setColor(i);
});
this.node.on("setOutcrad", function(i) {
e.setOutcrad(i);
}), this.node.on("setActive", function(i) {
e.setActive(i);
});
this.node.on("setZIndex", function(i) {
e.setZIndex(i);
});
this.node.on("setKeda", function(i) {
e.setKeda(i);
});
this.node.on("setPointer", function(i) {
e.setPointer(i);
});
this.node.on("setArrow", function(i) {
e.setArrow(i);
});
this.node.on("setQuantou", function() {
e.setQuantou();
});
this.node.on("setShandian", function() {
e.setShandian();
});
this.node.on("setLight", function(i) {
e.setLight(i);
});
this.node.on("sethu", function(i) {
e.sethu(i);
});
this.node.on("sethuLight", function(i) {
e.sethuLight(i);
});
this.node.on("setChuLight", function(i) {
e.setChuLight(i);
});
this.node.on("setPosition", function(i) {
e.setPosition();
});
this.node.on("setScaleX", function(i) {
var t = e.node.scaleX;
e.setScaleX(i, t);
});
this.node.on("setTing", function(i) {
e.setTing(i);
});
this.node.on("setType", function(i) {
e.setType(i);
});
},
moveBy: function(e) {
e.scale && (this.node.scale = e.scale);
var i = 0;
null != e.delayTime && (i = e.delayTime);
this.node.runAction(cc.sequence(cc.delayTime(i), cc.moveBy(e.time, cc.v2(e.x, e.y)), cc.callFunc(function() {
null != e.callback && e.callback();
})));
},
moveTo: function(e) {
var i = this;
e.scale && (this.node.scale = e.scale);
var t = 0;
null != e.delayTime && (t = e.delayTime);
this.node.runAction(cc.sequence(cc.delayTime(t), cc.callFunc(function() {
null != e.rotation && (i.node.rotation = e.rotation);
}), cc.moveTo(e.time, cc.v2(e.x, e.y)), cc.callFunc(function() {
i.node.x = e.x;
i.node.y = e.y;
null != e.callback && e.callback();
})));
},
chuPaiMoveTo: function(e) {
var i = this;
this.node.scale = e.scale;
this.node.myTag = e.myTag;
var t = e.moPaiindex;
this._index = e.index;
var a = 0;
null != e.delayTime && (a = e.delayTime);
this.node.runAction(cc.sequence(cc.delayTime(a), cc.callFunc(function() {
null != e.rotation && (i.node.rotation = e.rotation);
}), cc.moveTo(e.time, cc.v2(e.x, e.y)), cc.callFunc(function() {
i.node.x = e.x;
i.node.y = e.y;
null != e.callback && e.callback(t);
})));
},
chupaiShow: function(e) {
var i = this;
this.node.scale = e.scaleFrom;
this.dian.getComponent(cc.Sprite).spriteFrame = e.spriteDianFrame.getSpriteFrame(e.spriteDianName);
this.dian.width = e.spriteBgWidth;
this.dian.height = e.spriteBgHeight;
this.dian.width = e.spriteBgWidth;
this.dian.x = e.dianX;
this.dian.x = e.dianY;
this.dian.dianScale = e.dianScaleAll;
if (null != e.skew) {
this.dian.skewX = e.skew.skewX;
this.dian.skewY = e.skew.skewY;
} else {
this.dian.skewX = 0;
this.dian.skewY = 0;
}
this.setBg(e);
this.setDian(e);
var t = 0;
null != e.delayTime && (t = e.delayTime);
this.node.runAction(cc.sequence(cc.delayTime(t), cc.spawn(cc.scaleTo(e.time, e.scaleTo, e.scaleTo), cc.moveTo(e.time, cc.v2(e.x, e.y))), cc.callFunc(function() {
i.node.x = e.x;
i.node.y = e.y;
i.node.scale = e.scaleTo;
null != e.callback && e.callback(e.seatid, e.index);
})));
},
comeChu: function(e) {
var i = this, t = 0;
null != e.delayTime && (t = e.delayTime);
this.node.runAction(cc.sequence(cc.delayTime(t), cc.spawn(cc.scaleTo(e.time, e.scaleTo, e.scaleTo), cc.moveTo(e.time, cc.v2(e.x, e.y))), cc.callFunc(function() {
i.node.x = e.x;
i.node.y = e.y;
i.node.scale = e.scaleTo;
i.node.destroy();
if (null != e.callback) {
var t = e.viewid, a = e.index, n = e.pai, s = e.indexself;
e.callback(t, a, n, s);
}
})));
},
setTag: function(e) {
this.node.myTag = e.myTag;
var i = e.myTag.split("_"), t = parseInt(i[0]);
this.node.parent = cc.vv.game.majiangTable.getHoldParent(t, "holdschupai");
null != e.callback && e.callback(e.myTag);
},
setBg: function(e) {
this.bg.width = e.spriteBgWidth;
this.bg.height = e.spriteBgHeight;
var i = e.spriteBgName;
this.bg.getComponent(cc.Sprite).spriteFrame = e.spriteBgFrame.getSpriteFrame(i);
},
setDian: function(e) {
this.dian.x = e.dianX;
this.dian.y = e.dianY;
this.dian.width = e.dianWidth;
this.dian.height = e.dianHeight;
this.dian.scaleX = e.dianScaleX * e.dianScaleAll;
this.dian.scaleY = e.dianScaleAll;
var i = e.spriteDianName;
this.dian.getComponent(cc.Sprite).spriteFrame = e.spriteDianFrame.getSpriteFrame(i);
this.dian.active = !0;
},
setPointer: function(e) {
var i = e.isShow;
i ? this.jiantou.getChildByName("bg").getComponent(cc.Animation).play("jiantou") : this.jiantou.getChildByName("bg").getComponent(cc.Animation).stop();
this.jiantou.active = i;
},
setArrow: function(e) {
var i = 1, t = e.selfSeatid, a = cc.vv.roomMgr.viewChairID(t), n = cc.vv.mahjongMgr._sides;
switch (n[a]) {
case "myself":
i = 0;
break;

case "right":
i = 1;
break;

case "up":
case "left":
i = 0;
}
var s = e.seatid;
switch (n[cc.vv.roomMgr.viewChairID(s)]) {
case "myself":
this.arrow.rotation = 90;
break;

case "right":
this.arrow.rotation = 0 + 180 * i;
break;

case "up":
this.arrow.rotation = -90;
break;

case "left":
this.arrow.rotation = 180 + 180 * i;
}
var c = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], o = cc.vv.utils.deepCopy(c[a].ting);
if (o) {
this.arrow.parent.x = o.scale * o.x;
this.arrow.parent.y = o.scale * o.y;
}
this.arrow.active = !0;
},
setQuantou: function() {
this.quantou.active = !0;
},
setShandian: function() {
this.shandian.active = !0;
},
setLight: function(e) {
var i = e.isShow;
this.light.active = i;
},
sethu: function(e) {
var i = e.sprite;
this.dian.getComponent(cc.Sprite).spriteFrame = i;
this.hu.active = !0;
this.hu.getComponent(cc.Animation).play("huShandian");
},
sethuLight: function(e) {
this.huLight.active = !0;
this.huLight.getComponent(cc.Animation).play("chuhupaihu");
null != e.callback && e.callback();
},
setChuLight: function() {
this.chupaiLight.active = !0;
this.chupaiLight.getComponent(cc.Animation).play("chuLight");
},
nodeDestroy: function(e) {
this.node.destroy();
null != e.callback && e.callback(e);
},
onPaiClicked: function(e, i) {
if (1 == this._keda) {
cc.vv.userMgr.is_singletouch && !cc.vv.majiangTable.getisHasTingChupai() && (this._select = 1);
cc.vv.audioMgr.click();
if (1 == this._select && 1 != this._isChupai && cc.vv.mahjongMgr._canChui) if (255 != this._value) {
this._isChupai = 1;
this._select = 1;
this.node.y = this._y + 20;
cc.vv.majiangTable.initBaoting();
cc.vv.game.shoot(this._value, this._index);
} else cc.vv.log3.debug("出牌出错"); else if (0 == this._select) {
cc.vv.majiangTable.setSelectDown(i);
this._isChupai = 0;
this._select = 1;
this.node.y = this._y + 20;
cc.vv.majiangTable.showTingPaiList(this._keda, this._value);
cc.vv.folds.change_color_outcrad(this._value);
} else if (1 == this._select) {
this._isChupai = 0;
this._select = 0;
this.node.y = this._y;
cc.vv.majiangTable.baotingopsUi(!1);
cc.vv.folds.change_color_outcrad(-4);
}
this._formTime = new Date().getTime();
}
},
setColor: function(e) {
var i = e.isAn;
this.node.getChildByName("bg").color = i ? new cc.color(170, 170, 170) : new cc.color(255, 255, 255);
(-1 != cc.vv.mahjongMgr._magicPai && this._value == cc.vv.mahjongMgr._magicPai || -1 != cc.vv.mahjongMgr._magicPai2 && this._value == cc.vv.mahjongMgr._magicPai2) && (this.node.getChildByName("bg").color = new cc.color(170, 170, 170));
},
setOutcrad: function(e) {
var i = e.isColor;
this.node.getChildByName("bg").color = i ? new cc.color(0, 255, 0) : new cc.color(255, 255, 255);
},
setTing: function(e) {
var i = e.isActive;
this.ting.active = !!i;
},
isSelect: function() {
return this._select;
},
setEnabled: function(e) {
var i = this.node.getChildByName("bg").getComponent(cc.Button);
i || (i = this.node.getChildByName("bg").addComponent(cc.Button));
if (e) {
i.clickEvents = [];
var t = new cc.Component.EventHandler();
t.target = this.node;
t.component = "KDMajiang";
t.handler = "onPaiClicked";
t.customEventData = this.node.myTag;
i.clickEvents.push(t);
if (!this._enable) {
this._enable = !0;
this.node.getChildByName("bg").on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
this.node.getChildByName("bg").on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
this.node.getChildByName("bg").on(cc.Node.EventType.TOUCH_END, this.touchend, this);
this.node.getChildByName("bg").on(cc.Node.EventType.TOUCH_CANCEL, this.touchcancel, this);
}
} else {
i.clickEvents = [];
this.node.getChildByName("bg").off(cc.Node.EventType.TOUCH_START);
this.node.getChildByName("bg").off(cc.Node.EventType.TOUCH_MOVE);
this.node.getChildByName("bg").off(cc.Node.EventType.TOUCH_END);
this.node.getChildByName("bg").off(cc.Node.EventType.TOUCH_CANCEL);
this._enable = !1;
var a = cc.v2(this._nodeTuodongx, this._nodeTuodongy);
cc.vv.game.majiangTable.setTuodong(a);
}
},
setSelect: function(e) {
this._select = e;
this.node.y = 0 == this._select ? this._y : this._y + 20;
},
setValue: function(e) {
var i = e.pai, t = e.index;
if (-2 != i && -3 != i) {
this._value = i;
this._index = t;
}
},
setActive: function(e) {
var i = e.isActive;
this.node.active = i;
null != e.callback && e.callback();
},
setZIndex: function(e) {
var i = e.zIndex;
this.node.zIndex = i;
null != e.callback && e.callback();
},
setKeda: function(e) {
var i = e.keda;
this._keda = i;
null != e.callback && e.callback();
},
setPosition: function(e) {
var i = e.x, t = e.y;
this.node.setPosition(i, t);
null != e.callback && e.callback();
},
setScaleX: function(e, i) {
var t = e.scaleX * i;
this.node.scaleX = t;
null != e.callback && e.callback();
},
setType: function(e) {
var i = e.isActive;
this.node.getChildByName("bg").getChildByName("type").active = i;
},
getValue: function() {
return this._value;
},
getIndex: function() {
return this._index;
},
touchstart: function(e) {
if (cc.vv.mahjongMgr._canChui && 1 == this._keda) {
this._isChupai = 0;
var i = cc.v2(this.node.x, this.node.y);
cc.vv.game.majiangTable.initTuodong(i, this._value);
this.node.opacity = 155;
this.tox = this.node.x;
this.toy = this.node.y;
this._nodeTuodong = cc.vv.game.majiangTable.nodeTuodong;
}
},
touchmove: function(e) {
if (cc.vv.mahjongMgr._canChui && -1 != this._index && 1 == this._keda) {
var i = e.touch.getDelta(), t = i.x, a = i.y;
if (cc.vv.game.majiangTable.scaleNum) {
t /= cc.vv.game.majiangTable.scaleNum;
a /= cc.vv.game.majiangTable.scaleNum;
}
this.tox += t;
this.toy += a;
var n = cc.v2(this.tox, this.toy);
cc.vv.game.majiangTable.setTuodong(n);
}
},
touchend: function(e) {
var i = this._nodeTuodongy, t = this._nodeTuodongx;
if (cc.vv.mahjongMgr._canChui && 1 == this._keda) {
this.node.opacity = 255;
this._nodeTuodong = cc.vv.game.majiangTable.nodeTuodong;
if (this._nodeTuodong.y >= this.node.y + 100) if (255 != this._value && -1 != this._isChupai) {
this._isChupai = 1;
cc.vv.game.shoot(this._value, this._index);
} else {
this._isChupai = 0;
cc.vv.log3.debug("出牌出错");
} else this._isChupai = 0;
}
if (0 == i || 0 == t || null == i || null == t) {
i = -500;
t = -1e3;
}
var a = cc.v2(t, i);
cc.vv.game.majiangTable.setTuodong(a);
},
touchcancel: function(e) {
var i = this._nodeTuodongy, t = this._nodeTuodongx;
if (cc.vv.mahjongMgr._canChui && 1 == this._keda) {
this.node.opacity = 255;
this._nodeTuodong = cc.vv.game.majiangTable.nodeTuodong;
if (this._nodeTuodong.y >= this.node.y + 100) if (255 != this._value) {
this._isChupai = 1;
cc.vv.game.shoot(this._value, this._index);
} else {
this._isChupai = 0;
cc.vv.log3.debug("出牌出错");
} else this._isChupai = 0;
}
if (0 == i || 0 == t || null == i || null == t) {
i = -500;
t = -1e3;
}
var a = cc.v2(t, i);
cc.vv.game.majiangTable.setTuodong(a);
},
onDestroy: function() {
var e = this._nodeTuodongy, i = this._nodeTuodongx;
if (0 == e || 0 == i || null == e || null == i) {
e = -500;
i = -1e3;
}
var t = cc.v2(i, e);
cc.vv.game.majiangTable.setTuodong(t);
}
});
cc._RF.pop();
}, {} ],
Kuaixun: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "52a23OWTOBDTL5uyrjaL9LS", "Kuaixun");
cc.Class({
extends: cc.Component,
properties: {
lblContent: cc.Label
},
kuaixun: function(e) {
this.lblContent.string = e;
this.node.y = 375;
this.node.width = this.lblContent.node.width + 150;
cc.vv.audioMgr.playSFX("kuixun");
this.node.runAction(cc.sequence(cc.moveBy(.05, cc.v2(0, -80)), cc.delayTime(3), cc.moveBy(.05, cc.v2(0, 80)), cc.removeSelf()));
}
});
cc._RF.pop();
}, {} ],
ListItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "27524QXDIpH7bm4PHXdtRII", "ListItem");
var a = cc.Enum({
NONE: 0,
TOGGLE: 1,
SWITCH: 2
});
cc.Class({
editor: {
disallowMultiple: !1,
menu: "自定义组件/List Item",
executionOrder: -5001
},
extends: cc.Component,
properties: {
icon: {
default: null,
type: cc.Sprite
},
title: cc.Node,
selectedMode: {
default: a.NONE,
type: a,
tooltip: !1
},
adaptiveSize: {
default: !1,
tooltip: !1
}
},
onLoad: function() {},
onDestroy: function() {},
_registerEvent: function() {},
_onSizeChange: function() {}
});
cc._RF.pop();
}, {} ],
ListenCard: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "7fd51gReetOmrG96s58kp44", "ListenCard");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
start: function() {},
show: function(e, i) {
var t = this.node.getChildByName("MyMahJongPai"), a = this.node.getChildByName("fanshu");
t.getComponent(cc.Sprite).spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID("M_", e);
a.getComponent(cc.Label).string = i;
}
});
cc._RF.pop();
}, {} ],
List: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8cba0eKGr9AjqRDmxf7+75w", "List");
var a = cc.Enum({
NODE: 1,
PREFAB: 2
}), n = cc.Enum({
NORMAL: 1,
ADHERING: 2,
PAGE: 3
}), s = cc.Enum({
NONE: 0,
SINGLE: 1,
MULT: 2
}), c = e("ListItem");
cc.Class({
extends: cc.Component,
editor: {
disallowMultiple: !1,
menu: "自定义组件/List",
requireComponent: cc.ScrollView,
executionOrder: -5e3
},
properties: {
templateType: {
default: a.NODE,
type: a
},
tmpNode: {
default: null,
type: cc.Node,
tooltip: !1,
visible: function() {
var e = this.templateType == a.NODE;
e || (this.tmpNode = null);
return e;
}
},
tmpPrefab: {
default: null,
type: cc.Prefab,
tooltip: !1,
visible: function() {
var e = this.templateType == a.PREFAB;
e || (this.tmpPrefab = null);
return e;
}
},
_slideMode: 1,
slideMode: {
type: n,
tooltip: !1,
get: function() {
return this._slideMode;
},
set: function(e) {
null != e && (this._slideMode = e);
}
},
pageDistance: {
default: .3,
type: cc.Float,
range: [ 0, 1, .1 ],
tooltip: !1,
slide: !0,
visible: function() {
return this._slideMode == n.PAGE;
}
},
pageChangeEvent: {
default: null,
type: cc.Component.EventHandler,
tooltip: !1,
visible: function() {
var e = this._slideMode == n.PAGE;
e || (this.pageChangeEvent = null);
return e;
}
},
_virtual: !0,
virtual: {
tooltip: !1,
get: function() {
return this._virtual;
},
set: function(e) {
null != e && (this._virtual = e);
0 != this._numItems && this._onScrolling();
}
},
cyclic: {
default: !1,
tooltip: !1,
visible: function() {
var e = this.virtual && this.slideMode == n.NORMAL;
e || (this.cyclic = !1);
return e;
}
},
lackCenter: {
default: !1,
tooltip: !1,
visible: function() {
return this.virtual;
}
},
lackSlide: {
default: !1,
tooltip: !1,
visible: function() {
var e = this.virtual && !this.lackCenter;
e || (this.lackSlide = !1);
return e;
}
},
_updateRate: 0,
updateRate: {
type: cc.Integer,
range: [ 0, 6, 1 ],
tooltip: !1,
slide: !0,
get: function() {
return this._updateRate;
},
set: function(e) {
e >= 0 && e <= 6 && (this._updateRate = e);
}
},
frameByFrameRenderNum: {
default: 0,
type: cc.Integer,
range: [ 0, 12, 1 ],
tooltip: !1,
slide: !0
},
renderEvent: {
default: null,
type: cc.Component.EventHandler,
tooltip: !1
},
selectedMode: {
default: s.NONE,
type: s,
tooltip: !1
},
repeatEventSingle: {
default: !1,
tooltip: !1,
visible: function() {
return this.selectedMode == s.SINGLE;
}
},
selectedEvent: {
default: null,
type: cc.Component.EventHandler,
tooltip: !1,
visible: function() {
var e = this.selectedMode > 0;
e || (this.selectedEvent = null);
return e;
}
},
_selectedId: -1,
selectedId: {
visible: !1,
get: function() {
return this._selectedId;
},
set: function(e) {
var i = this, t = void 0;
switch (i.selectedMode) {
case s.SINGLE:
if (!i.repeatEventSingle && e == i._selectedId) return;
t = i.getItemByListId(e);
i._selectedId >= 0 ? i._lastSelectedId = i._selectedId : i._lastSelectedId = null;
i._selectedId = e;
t && (t.listItem.selected = !0);
if (i._lastSelectedId >= 0 && i._lastSelectedId != i._selectedId) {
var a = i.getItemByListId(i._lastSelectedId);
a && (a.listItem.selected = !1);
}
i.selectedEvent && cc.Component.EventHandler.emitEvents([ i.selectedEvent ], t, e % this._actualNumItems, null == i._lastSelectedId ? null : i._lastSelectedId % this._actualNumItems);
break;

case s.MULT:
if (!(t = i.getItemByListId(e))) return;
i._selectedId >= 0 && (i._lastSelectedId = i._selectedId);
i._selectedId = e;
var n = !t.listItem.selected;
t.listItem.selected = n;
var c = i.multSelected.indexOf(e);
n && c < 0 ? i.multSelected.push(e) : !n && c >= 0 && i.multSelected.splice(c, 1);
i.selectedEvent && cc.Component.EventHandler.emitEvents([ i.selectedEvent ], t, e % this._actualNumItems, null == i._lastSelectedId ? null : i._lastSelectedId % this._actualNumItems, n);
}
}
},
_numItems: {
default: 0,
serializable: !1
},
numItems: {
visible: !1,
get: function() {
return this._actualNumItems;
},
set: function(e) {
var i = this;
if (i.checkInited()) if (null == e || e < 0) cc.error("numItems set the wrong::", e); else {
i._actualNumItems = i._numItems = e;
i._forceUpdate = !0;
if (i._virtual) {
i._resizeContent();
i.cyclic && (i._numItems = i._cyclicNum * i._numItems);
i._onScrolling();
i.frameByFrameRenderNum || i.slideMode != n.PAGE || (i.curPageNum = i.nearestListId);
} else {
var t = i.content.getComponent(cc.Layout);
t && (t.enabled = !0);
i._delRedundantItem();
i.firstListId = 0;
if (i.frameByFrameRenderNum > 0) {
for (var a = i.frameByFrameRenderNum > i._numItems ? i._numItems : i.frameByFrameRenderNum, s = 0; s < a; s++) i._createOrUpdateItem2(s);
if (i.frameByFrameRenderNum < i._numItems) {
i._updateCounter = i.frameByFrameRenderNum;
i._updateDone = !1;
}
} else {
for (var c = 0; c < e; c++) i._createOrUpdateItem2(c);
i.displayItemNum = e;
}
}
}
}
}
},
onLoad: function() {
this._init();
},
onDestroy: function() {
this._itemTmp && this._itemTmp.isValid && this._itemTmp.destroy();
for (;this._pool.size(); ) {
this._pool.get().destroy();
}
},
onEnable: function() {
this._registerEvent();
this._init();
},
onDisable: function() {
this._unregisterEvent();
},
_registerEvent: function() {
var e = this;
e.node.on(cc.Node.EventType.TOUCH_START, e._onTouchStart, e, !0);
e.node.on("touch-up", e._onTouchUp, e, !0);
e.node.on(cc.Node.EventType.TOUCH_CANCEL, e._onTouchCancelled, e, !0);
e.node.on("scroll-began", e._onScrollBegan, e, !0);
e.node.on("scroll-ended", e._onScrollEnded, e, !0);
e.node.on("scrolling", e._onScrolling, e, !0);
e.node.on(cc.Node.EventType.SIZE_CHANGED, e._onSizeChanged, e);
},
_unregisterEvent: function() {
var e = this;
e.node.off(cc.Node.EventType.TOUCH_START, e._onTouchStart, e, !0);
e.node.off("touch-up", e._onTouchUp, e, !0);
e.node.off(cc.Node.EventType.TOUCH_CANCEL, e._onTouchCancelled, e, !0);
e.node.off("scroll-began", e._onScrollBegan, e, !0);
e.node.off("scroll-ended", e._onScrollEnded, e, !0);
e.node.off("scrolling", e._onScrolling, e, !0);
e.node.off(cc.Node.EventType.SIZE_CHANGED, e._onSizeChanged, e);
},
_init: function() {
var e = this;
if (!e._inited) {
e._scrollView = e.node.getComponent(cc.ScrollView);
e.content = e._scrollView.content;
if (e.content) {
e._layout = e.content.getComponent(cc.Layout);
e._align = e._layout.type;
e._resizeMode = e._layout.resizeMode;
e._startAxis = e._layout.startAxis;
e._topGap = e._layout.paddingTop;
e._rightGap = e._layout.paddingRight;
e._bottomGap = e._layout.paddingBottom;
e._leftGap = e._layout.paddingLeft;
e._columnGap = e._layout.spacingX;
e._lineGap = e._layout.spacingY;
e._colLineNum;
e._verticalDir = e._layout.verticalDirection;
e._horizontalDir = e._layout.horizontalDirection;
e.setTemplateItem(cc.instantiate(e.templateType == a.PREFAB ? e.tmpPrefab : e.tmpNode));
if (e._slideMode == n.ADHERING || e._slideMode == n.PAGE) {
e._scrollView.inertia = !1;
e._scrollView._onMouseWheel = function() {};
}
e.virtual || (e.lackCenter = !1);
e._lastDisplayData = [];
e.displayData = [];
e._pool = new cc.NodePool();
e._forceUpdate = !1;
e._updateCounter = 0;
e._updateDone = !0;
e.curPageNum = 0;
if (e.cyclic) {
e._scrollView._processAutoScrolling = this._processAutoScrolling.bind(e);
e._scrollView._startBounceBackIfNeeded = function() {
return !1;
};
}
switch (e._align) {
case cc.Layout.Type.HORIZONTAL:
switch (e._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
e._alignCalcType = 1;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
e._alignCalcType = 2;
}
break;

case cc.Layout.Type.VERTICAL:
switch (e._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
e._alignCalcType = 3;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
e._alignCalcType = 4;
}
break;

case cc.Layout.Type.GRID:
switch (e._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
switch (e._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
e._alignCalcType = 3;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
e._alignCalcType = 4;
}
break;

case cc.Layout.AxisDirection.VERTICAL:
switch (e._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
e._alignCalcType = 1;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
e._alignCalcType = 2;
}
}
}
e.content.children.forEach(function(e) {
e.removeFromParent();
e.isValid && e.destroy();
});
e._inited = !0;
} else cc.error(e.node.name + "'s cc.ScrollView unset content!");
}
},
_processAutoScrolling: function(e) {
this._scrollView._autoScrollAccumulatedTime += 1 * e;
var i = Math.min(1, this._scrollView._autoScrollAccumulatedTime / this._scrollView._autoScrollTotalTime);
if (this._scrollView._autoScrollAttenuate) {
var t = i - 1;
i = t * t * t * t * t + 1;
}
var a = this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(i)), n = this._scrollView.getScrollEndedEventTiming(), s = Math.abs(i - 1) <= n;
if (Math.abs(i - 1) <= this._scrollView.getScrollEndedEventTiming() && !this._scrollView._isScrollEndedWithThresholdEventFired) {
this._scrollView._dispatchEvent("scroll-ended-with-threshold");
this._scrollView._isScrollEndedWithThresholdEventFired = !0;
}
s && (this._scrollView._autoScrolling = !1);
var c = a.sub(this._scrollView.getContentPosition());
this._scrollView._moveContent(this._scrollView._clampDelta(c), s);
this._scrollView._dispatchEvent("scrolling");
if (!this._scrollView._autoScrolling) {
this._scrollView._isBouncing = !1;
this._scrollView._scrolling = !1;
this._scrollView._dispatchEvent("scroll-ended");
}
},
setTemplateItem: function(e) {
if (e) {
var i = this;
i._itemTmp = e;
i._resizeMode == cc.Layout.ResizeMode.CHILDREN ? i._itemSize = i._layout.cellSize : i._itemSize = new cc.size(e.width, e.height);
var t = e.getComponent(c), a = !1;
t || (a = !0);
t && (t._btnCom || e.getComponent(cc.Button) || (a = !0));
a && (i.selectedMode = s.NONE);
(t = e.getComponent(cc.Widget)) && t.enabled && (i._needUpdateWidget = !0);
i.selectedMode == s.MULT && (i.multSelected = []);
switch (i._align) {
case cc.Layout.Type.HORIZONTAL:
i._colLineNum = 1;
i._sizeType = !1;
break;

case cc.Layout.Type.VERTICAL:
i._colLineNum = 1;
i._sizeType = !0;
break;

case cc.Layout.Type.GRID:
switch (i._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
var n = i.content.width - i._leftGap - i._rightGap;
i._colLineNum = Math.floor((n + i._columnGap) / (i._itemSize.width + i._columnGap));
i._sizeType = !0;
break;

case cc.Layout.AxisDirection.VERTICAL:
var o = i.content.height - i._topGap - i._bottomGap;
i._colLineNum = Math.floor((o + i._lineGap) / (i._itemSize.height + i._lineGap));
i._sizeType = !1;
}
}
}
},
checkInited: function(e) {
e = null == e || e;
if (!this._inited) {
e && cc.error("List initialization not completed!");
return !1;
}
return !0;
},
_resizeContent: function() {
var e = this, i = void 0;
switch (e._align) {
case cc.Layout.Type.HORIZONTAL:
if (e._customSize) {
var t = e._getFixedSize();
i = e._leftGap + t.val + e._itemSize.width * (e._numItems - t.count) + e._columnGap * (e._numItems - 1) + e._rightGap;
} else i = e._leftGap + e._itemSize.width * e._numItems + e._columnGap * (e._numItems - 1) + e._rightGap;
break;

case cc.Layout.Type.VERTICAL:
if (e._customSize) {
var a = e._getFixedSize();
i = e._topGap + a.val + e._itemSize.height * (e._numItems - a.count) + e._lineGap * (e._numItems - 1) + e._bottomGap;
} else i = e._topGap + e._itemSize.height * e._numItems + e._lineGap * (e._numItems - 1) + e._bottomGap;
break;

case cc.Layout.Type.GRID:
e.lackCenter && (e.lackCenter = !1);
switch (e._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
var n = Math.ceil(e._numItems / e._colLineNum);
i = e._topGap + e._itemSize.height * n + e._lineGap * (n - 1) + e._bottomGap;
break;

case cc.Layout.AxisDirection.VERTICAL:
var s = Math.ceil(e._numItems / e._colLineNum);
i = e._leftGap + e._itemSize.width * s + e._columnGap * (s - 1) + e._rightGap;
}
}
var c = e.content.getComponent(cc.Layout);
c && (c.enabled = !1);
e._allItemSize = i;
e._allItemSizeNoEdge = e._allItemSize - (e._sizeType ? e._topGap + e._bottomGap : e._leftGap + e._rightGap);
if (e.cyclic) {
var o = e._sizeType ? e.node.height : e.node.width;
e._cyclicPos1 = 0;
o -= e._cyclicPos1;
e._cyclicNum = Math.ceil(o / e._allItemSizeNoEdge) + 1;
var h = e._sizeType ? e._lineGap : e._columnGap;
e._cyclicPos2 = e._cyclicPos1 + e._allItemSizeNoEdge + h;
e._cyclicAllItemSize = e._allItemSize + e._allItemSizeNoEdge * (e._cyclicNum - 1) + h * (e._cyclicNum - 1);
e._cycilcAllItemSizeNoEdge = e._allItemSizeNoEdge * e._cyclicNum;
e._cycilcAllItemSizeNoEdge += h * (e._cyclicNum - 1);
}
e._lack = !e.cyclic && e._allItemSize < (e._sizeType ? e.node.height : e.node.width);
var r = e._lack && e.lackCenter || !e.lackSlide ? .1 : 0, l = e._lack ? (e._sizeType ? e.node.height : e.node.width) - r : e.cyclic ? e._cyclicAllItemSize : e._allItemSize;
l < 0 && (l = 0);
e._sizeType ? e.content.height = l : e.content.width = l;
},
_onScrolling: function(e) {
null == this.frameCount && (this.frameCount = this._updateRate);
if (!this._forceUpdate && e && "scroll-ended" != e.type && this.frameCount > 0) this.frameCount--; else {
this.frameCount = this._updateRate;
if (!this._aniDelRuning) {
if (this.cyclic) {
var i = this.content.getPosition();
i = this._sizeType ? i.y : i.x;
var t = this._allItemSizeNoEdge + (this._sizeType ? this._lineGap : this._columnGap), a = this._sizeType ? cc.v2(0, t) : cc.v2(t, 0);
switch (this._alignCalcType) {
case 1:
if (i > -this._cyclicPos1) {
this.content.x = -this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(a));
} else if (i < -this._cyclicPos2) {
this.content.x = -this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(a));
}
break;

case 2:
if (i < this._cyclicPos1) {
this.content.x = this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(a));
} else if (i > this._cyclicPos2) {
this.content.x = this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(a));
}
break;

case 3:
if (i < this._cyclicPos1) {
this.content.y = this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(a));
} else if (i > this._cyclicPos2) {
this.content.y = this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(a));
}
break;

case 4:
if (i > -this._cyclicPos1) {
this.content.y = -this._cyclicPos2;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.sub(a));
} else if (i < -this._cyclicPos2) {
this.content.y = -this._cyclicPos1;
this._scrollView.isAutoScrolling() && (this._scrollView._autoScrollStartPosition = this._scrollView._autoScrollStartPosition.add(a));
}
}
}
this._calcViewPos();
var n = void 0, s = void 0, c = void 0, o = void 0;
if (this._sizeType) {
n = this.viewTop;
c = this.viewBottom;
} else {
s = this.viewRight;
o = this.viewLeft;
}
if (this._virtual) {
this.displayData = [];
var h = void 0, r = 0, l = this._numItems - 1;
if (this._customSize) for (var d = !1; r <= l && !d; r++) {
h = this._calcItemPos(r);
switch (this._align) {
case cc.Layout.Type.HORIZONTAL:
h.right >= o && h.left <= s ? this.displayData.push(h) : 0 != r && this.displayData.length > 0 && (d = !0);
break;

case cc.Layout.Type.VERTICAL:
h.bottom <= n && h.top >= c ? this.displayData.push(h) : 0 != r && this.displayData.length > 0 && (d = !0);
break;

case cc.Layout.Type.GRID:
switch (this._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
h.bottom <= n && h.top >= c ? this.displayData.push(h) : 0 != r && this.displayData.length > 0 && (d = !0);
break;

case cc.Layout.AxisDirection.VERTICAL:
h.right >= o && h.left <= s ? this.displayData.push(h) : 0 != r && this.displayData.length > 0 && (d = !0);
}
}
} else {
var g = this._itemSize.width + this._columnGap, u = this._itemSize.height + this._lineGap;
switch (this._alignCalcType) {
case 1:
r = (o + this._leftGap) / g;
l = (s + this._rightGap) / g;
break;

case 2:
r = (-s - this._rightGap) / g;
l = (-o - this._leftGap) / g;
break;

case 3:
r = (-n - this._topGap) / u;
l = (-c - this._bottomGap) / u;
break;

case 4:
r = (c + this._bottomGap) / u;
l = (n + this._topGap) / u;
}
r = Math.floor(r) * this._colLineNum;
l = Math.ceil(l) * this._colLineNum;
l--;
r < 0 && (r = 0);
l >= this._numItems && (l = this._numItems - 1);
for (;r <= l; r++) this.displayData.push(this._calcItemPos(r));
}
if (this.displayData.length <= 0 || !this._numItems) {
this._lastDisplayData = [];
this._delRedundantItem();
return;
}
this.firstListId = this.displayData[0].id;
this.displayItemNum = this.displayData.length;
var _ = this._lastDisplayData.length;
if (this._forceUpdate || this.displayItemNum != _ || this.firstListId != this._lastDisplayData[0] || this.displayData[this.displayItemNum - 1].id != this._lastDisplayData[_ - 1]) {
this._lastDisplayData = [];
if (this.frameByFrameRenderNum > 0) if (this._numItems > 0) {
this._updateDone ? this._updateCounter = 0 : this._doneAfterUpdate = !0;
this._updateDone = !1;
} else {
this._delRedundantItem();
this._updateCounter = 0;
this._updateDone = !0;
} else {
for (var v = 0; v < this.displayItemNum; v++) this._createOrUpdateItem(this.displayData[v]);
this._delRedundantItem();
this._forceUpdate = !1;
}
}
this._calcNearestItem();
}
}
}
},
_calcViewPos: function() {
var e = this.content.getPosition();
switch (this._alignCalcType) {
case 1:
this.elasticLeft = e.x > 0 ? e.x : 0;
this.viewLeft = (e.x < 0 ? -e.x : 0) - this.elasticLeft;
this.viewRight = this.viewLeft + this.node.width;
this.elasticRight = this.viewRight > this.content.width ? Math.abs(this.viewRight - this.content.width) : 0;
this.viewRight += this.elasticRight;
break;

case 2:
this.elasticRight = e.x < 0 ? -e.x : 0;
this.viewRight = (e.x > 0 ? -e.x : 0) + this.elasticRight;
this.viewLeft = this.viewRight - this.node.width;
this.elasticLeft = this.viewLeft < -this.content.width ? Math.abs(this.viewLeft + this.content.width) : 0;
this.viewLeft -= this.elasticLeft;
break;

case 3:
this.elasticTop = e.y < 0 ? Math.abs(e.y) : 0;
this.viewTop = (e.y > 0 ? -e.y : 0) + this.elasticTop;
this.viewBottom = this.viewTop - this.node.height;
this.elasticBottom = this.viewBottom < -this.content.height ? Math.abs(this.viewBottom + this.content.height) : 0;
this.viewBottom += this.elasticBottom;
break;

case 4:
this.elasticBottom = e.y > 0 ? Math.abs(e.y) : 0;
this.viewBottom = (e.y < 0 ? -e.y : 0) - this.elasticBottom;
this.viewTop = this.viewBottom + this.node.height;
this.elasticTop = this.viewTop > this.content.height ? Math.abs(this.viewTop - this.content.height) : 0;
this.viewTop -= this.elasticTop;
}
},
_calcItemPos: function(e) {
var i = void 0, t = void 0, a = void 0, n = void 0, s = void 0, c = void 0, o = void 0, h = void 0;
switch (this._align) {
case cc.Layout.Type.HORIZONTAL:
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
if (this._customSize) {
var r = this._getFixedSize(e);
s = this._leftGap + (this._itemSize.width + this._columnGap) * (e - r.count) + (r.val + this._columnGap * r.count);
var l = this._customSize[e];
i = l > 0 ? l : this._itemSize.width;
} else {
s = this._leftGap + (this._itemSize.width + this._columnGap) * e;
i = this._itemSize.width;
}
c = s + i;
if (this.lackCenter) {
var d = this.content.width / 2 - this._allItemSizeNoEdge / 2;
s += d;
c += d;
}
return {
id: e,
left: s,
right: c,
x: s + this._itemTmp.anchorX * i,
y: this._itemTmp.y
};

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
if (this._customSize) {
var g = this._getFixedSize(e);
c = -this._rightGap - (this._itemSize.width + this._columnGap) * (e - g.count) - (g.val + this._columnGap * g.count);
var u = this._customSize[e];
i = u > 0 ? u : this._itemSize.width;
} else {
c = -this._rightGap - (this._itemSize.width + this._columnGap) * e;
i = this._itemSize.width;
}
s = c - i;
if (this.lackCenter) {
var _ = this.content.width / 2 - this._allItemSizeNoEdge / 2;
s -= _;
c -= _;
}
return {
id: e,
right: c,
left: s,
x: s + this._itemTmp.anchorX * i,
y: this._itemTmp.y
};
}
break;

case cc.Layout.Type.VERTICAL:
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
if (this._customSize) {
var v = this._getFixedSize(e);
a = -this._topGap - (this._itemSize.height + this._lineGap) * (e - v.count) - (v.val + this._lineGap * v.count);
var p = this._customSize[e];
n = a - (t = p > 0 ? p : this._itemSize.height);
} else {
a = -this._topGap - (this._itemSize.height + this._lineGap) * e;
t = this._itemSize.height;
}
n = a - t;
if (this.lackCenter) {
var m = this.content.height / 2 - this._allItemSizeNoEdge / 2;
a -= m;
n -= m;
}
return {
id: e,
top: a,
bottom: n,
x: this._itemTmp.x,
y: n + this._itemTmp.anchorY * t
};

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
if (this._customSize) {
var f = this._getFixedSize(e);
n = this._bottomGap + (this._itemSize.height + this._lineGap) * (e - f.count) + (f.val + this._lineGap * f.count);
var y = this._customSize[e];
t = y > 0 ? y : this._itemSize.height;
} else {
n = this._bottomGap + (this._itemSize.height + this._lineGap) * e;
t = this._itemSize.height;
}
a = n + t;
if (this.lackCenter) {
var C = this.content.height / 2 - this._allItemSizeNoEdge / 2;
a += C;
n += C;
}
return {
id: e,
top: a,
bottom: n,
x: this._itemTmp.x,
y: n + this._itemTmp.anchorY * t
};
}

case cc.Layout.Type.GRID:
var b = Math.floor(e / this._colLineNum);
switch (this._startAxis) {
case cc.Layout.AxisDirection.HORIZONTAL:
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
h = (n = (a = -this._topGap - (this._itemSize.height + this._lineGap) * b) - this._itemSize.height) + this._itemTmp.anchorY * this._itemSize.height;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
a = (n = this._bottomGap + (this._itemSize.height + this._lineGap) * b) + this._itemSize.height;
h = n + this._itemTmp.anchorY * this._itemSize.height;
}
o = this._leftGap + e % this._colLineNum * (this._itemSize.width + this._columnGap);
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
o += this._itemTmp.anchorX * this._itemSize.width;
o -= this.content.anchorX * this.content.width;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
o += (1 - this._itemTmp.anchorX) * this._itemSize.width;
o -= (1 - this.content.anchorX) * this.content.width;
o *= -1;
}
return {
id: e,
top: a,
bottom: n,
x: o,
y: h
};

case cc.Layout.AxisDirection.VERTICAL:
switch (this._horizontalDir) {
case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:
c = (s = this._leftGap + (this._itemSize.width + this._columnGap) * b) + this._itemSize.width;
o = s + this._itemTmp.anchorX * this._itemSize.width;
o -= this.content.anchorX * this.content.width;
break;

case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:
o = (s = (c = -this._rightGap - (this._itemSize.width + this._columnGap) * b) - this._itemSize.width) + this._itemTmp.anchorX * this._itemSize.width;
o += (1 - this.content.anchorX) * this.content.width;
}
h = -this._topGap - e % this._colLineNum * (this._itemSize.height + this._lineGap);
switch (this._verticalDir) {
case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:
h -= (1 - this._itemTmp.anchorY) * this._itemSize.height;
h += (1 - this.content.anchorY) * this.content.height;
break;

case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:
h -= this._itemTmp.anchorY * this._itemSize.height;
h += this.content.anchorY * this.content.height;
h *= -1;
}
return {
id: e,
left: s,
right: c,
x: o,
y: h
};
}
}
},
_calcExistItemPos: function(e) {
var i = this.getItemByListId(e);
if (!i) return null;
var t = {
id: e,
x: i.x,
y: i.y
};
if (this._sizeType) {
t.top = i.y + i.height * (1 - i.anchorY);
t.bottom = i.y - i.height * i.anchorY;
} else {
t.left = i.x - i.width * i.anchorX;
t.right = i.x + i.width * (1 - i.anchorX);
}
return t;
},
getItemPos: function(e) {
return this._virtual ? this._calcItemPos(e) : this.frameByFrameRenderNum ? this._calcItemPos(e) : this._calcExistItemPos(e);
},
_getFixedSize: function(e) {
if (!this._customSize) return null;
null == e && (e = this._numItems);
var i = 0, t = 0;
for (var a in this._customSize) if (parseInt(a) < e) {
i += this._customSize[a];
t++;
}
return {
val: i,
count: t
};
},
_onScrollBegan: function() {
this._beganPos = this._sizeType ? this.viewTop : this.viewLeft;
},
_onScrollEnded: function() {
var e = this;
if (null != e.scrollToListId) {
var i = e.getItemByListId(e.scrollToListId);
e.scrollToListId = null;
i && i.runAction(new cc.sequence(new cc.scaleTo(.1, 1.06), new cc.scaleTo(.1, 1)));
}
e._onScrolling();
e._slideMode != n.ADHERING || e.adhering ? e._slideMode == n.PAGE && (null != e._beganPos ? this._pageAdhere() : e.adhere()) : e.adhere();
},
_onTouchStart: function(e, i) {
if (!this._scrollView._hasNestedViewGroup(e, i)) {
if (!(e.eventPhase === cc.Event.AT_TARGET && e.target === this.node)) {
for (var t = e.target; null == t._listId && t.parent; ) t = t.parent;
this._scrollItem = null != t._listId ? t : e.target;
}
}
},
_onTouchUp: function() {
var e = this;
e._scrollPos = null;
if (e._slideMode == n.ADHERING) {
e.adhering && (e._adheringBarrier = !0);
e.adhere();
} else e._slideMode == n.PAGE && (null != e._beganPos ? e._pageAdhere() : e.adhere());
this._scrollItem = null;
},
_onTouchCancelled: function(e, i) {
var t = this;
if (!t._scrollView._hasNestedViewGroup(e, i) && !e.simulate) {
t._scrollPos = null;
if (t._slideMode == n.ADHERING) {
t.adhering && (t._adheringBarrier = !0);
t.adhere();
} else t._slideMode == n.PAGE && (null != t._beganPos ? t._pageAdhere() : t.adhere());
this._scrollItem = null;
}
},
_onSizeChanged: function() {
this.checkInited(!1) && this._onScrolling();
},
_onItemAdaptive: function(e) {
var i = this;
if (this.checkInited(!1) && (!this._sizeType && e.width != this._itemSize.width || this._sizeType && e.height != this._itemSize.height)) {
this._customSize || (this._customSize = {});
var t = this._sizeType ? e.height : e.width;
if (this._customSize[e._listId] != t) {
this._customSize[e._listId] = t;
this._resizeContent();
this.content.children.forEach(function(e) {
i._updateItemPos(e);
});
if (!isNaN(this._scrollToListId)) {
this._scrollPos = null;
this.unschedule(this._scrollToSo);
this.scrollTo(this._scrollToListId, Math.max(0, this._scrollToEndTime - new Date().getTime() / 1e3));
}
}
}
},
_pageAdhere: function() {
var e = this;
if (e.cyclic || !(e.elasticTop > 0 || e.elasticRight > 0 || e.elasticBottom > 0 || e.elasticLeft > 0)) {
var i = e._sizeType ? e.viewTop : e.viewLeft, t = (e._sizeType ? e.node.height : e.node.width) * e.pageDistance;
if (Math.abs(e._beganPos - i) > t) {
switch (e._alignCalcType) {
case 1:
case 4:
e._beganPos > i ? e.prePage(.5) : e.nextPage(.5);
break;

case 2:
case 3:
e._beganPos < i ? e.prePage(.5) : e.nextPage(.5);
}
} else e.elasticTop <= 0 && e.elasticRight <= 0 && e.elasticBottom <= 0 && e.elasticLeft <= 0 && e.adhere();
e._beganPos = null;
}
},
adhere: function() {
var e = this;
if (e.checkInited() && !(e.elasticTop > 0 || e.elasticRight > 0 || e.elasticBottom > 0 || e.elasticLeft > 0)) {
e.adhering = !0;
e._calcNearestItem();
var i = (e._sizeType ? e._topGap : e._leftGap) / (e._sizeType ? e.node.height : e.node.width);
e.scrollTo(e.nearestListId, .7, i);
}
},
update: function() {
if (!(this.frameByFrameRenderNum <= 0 || this._updateDone)) if (this._virtual) {
for (var e = this._updateCounter + this.frameByFrameRenderNum > this.displayItemNum ? this.displayItemNum : this._updateCounter + this.frameByFrameRenderNum, i = this._updateCounter; i < e; i++) {
var t = this.displayData[i];
t && this._createOrUpdateItem(t);
}
if (this._updateCounter >= this.displayItemNum - 1) if (this._doneAfterUpdate) {
this._updateCounter = 0;
this._updateDone = !1;
this._scrollView.isScrolling() || (this._doneAfterUpdate = !1);
} else {
this._updateDone = !0;
this._delRedundantItem();
this._forceUpdate = !1;
this._calcNearestItem();
this.slideMode == n.PAGE && (this.curPageNum = this.nearestListId);
} else this._updateCounter += this.frameByFrameRenderNum;
} else if (this._updateCounter < this._numItems) {
for (var a = this._updateCounter + this.frameByFrameRenderNum > this._numItems ? this._numItems : this._updateCounter + this.frameByFrameRenderNum, s = this._updateCounter; s < a; s++) this._createOrUpdateItem2(s);
this._updateCounter += this.frameByFrameRenderNum;
} else {
this._updateDone = !0;
this._calcNearestItem();
this.slideMode == n.PAGE && (this.curPageNum = this.nearestListId);
}
},
_createOrUpdateItem: function(e) {
var i = this.getItemByListId(e.id);
if (i) {
if (this._forceUpdate && this.renderEvent) {
i.setPosition(new cc.v2(e.x, e.y));
this._resetItemSize(i);
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], i, e.id % this._actualNumItems);
}
} else {
var t = this._pool.size() > 0;
if ((i = t ? this._pool.get() : cc.instantiate(this._itemTmp))._listId != e.id) {
i._listId = e.id;
i.setContentSize(this._itemSize);
}
i.setPosition(new cc.v2(e.x, e.y));
this._resetItemSize(i);
this.content.addChild(i);
if (t && this._needUpdateWidget) {
var a = i.getComponent(cc.Widget);
a && a.updateAlignment();
}
i.setSiblingIndex(this.content.childrenCount - 1);
var n = i.getComponent(c);
i.listItem = n;
if (n) {
n._list = this;
n._registerEvent();
}
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], i, e.id % this._actualNumItems);
}
this._resetItemSize(i);
this._updateListItem(i.listItem);
this._lastDisplayData.indexOf(e.id) < 0 && this._lastDisplayData.push(e.id);
},
_createOrUpdateItem2: function(e) {
var i = this.content.children[e];
if (i) {
if (this._forceUpdate && this.renderEvent) {
i._listId = e;
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], i, e);
}
} else {
(i = cc.instantiate(this._itemTmp))._listId = e;
this.content.addChild(i);
var t = i.getComponent(c);
i.listItem = t;
if (t) {
t._list = this;
t._registerEvent();
}
this.renderEvent && cc.Component.EventHandler.emitEvents([ this.renderEvent ], i, e);
}
this._updateListItem(i.listItem);
this._lastDisplayData.indexOf(e) < 0 && this._lastDisplayData.push(e);
},
_updateListItem: function(e) {
if (e && this.selectedMode > s.NONE) switch (this.selectedMode) {
case s.SINGLE:
e.selected = this.selectedId == e.node._listId;
break;

case s.MULT:
e.selected = this.multSelected.indexOf(e.node._listId) >= 0;
}
},
_resetItemSize: function(e) {},
_updateItemPos: function(e) {
var i = isNaN(e) ? e : this.getItemByListId(e), t = this.getItemPos(i._listId);
i.setPosition(t.x, t.y);
},
setMultSelected: function(e, i) {
var t = this;
if (t.checkInited()) {
Array.isArray(e) || (e = [ e ]);
if (null == i) t.multSelected = e; else {
var a = void 0, n = void 0;
if (i) for (var s = e.length - 1; s >= 0; s--) {
a = e[s];
(n = t.multSelected.indexOf(a)) < 0 && t.multSelected.push(a);
} else for (var c = e.length - 1; c >= 0; c--) {
a = e[c];
(n = t.multSelected.indexOf(a)) >= 0 && t.multSelected.splice(n, 1);
}
}
t._forceUpdate = !0;
t._onScrolling();
}
},
updateItem: function(e) {
if (this.checkInited()) {
Array.isArray(e) || (e = [ e ]);
for (var i = 0, t = e.length; i < t; i++) {
var a = e[i], n = this.getItemByListId(a);
n && cc.Component.EventHandler.emitEvents([ this.renderEvent ], n, a % this._actualNumItems);
}
}
},
updateAll: function() {
this.checkInited() && (this.numItems = this.numItems);
},
getItemByListId: function(e) {
for (var i = this.content.childrenCount - 1; i >= 0; i--) if (this.content.children[i]._listId == e) return this.content.children[i];
},
_getOutsideItem: function() {
for (var e = void 0, i = void 0, t = [], a = this.content.childrenCount - 1; a >= 0; a--) {
e = this.content.children[a];
if (i = !0) for (var n = this.displayItemNum - 1; n >= 0; n--) if (this.displayData[n]) {
var s = this.displayData[n].id;
if (e._listId == s) {
i = !1;
break;
}
}
i && t.push(e);
}
return t;
},
_delRedundantItem: function() {
if (this._virtual) for (var e = this._getOutsideItem(), i = e.length - 1; i >= 0; i--) {
var t = e[i];
this._scrollItem && t._listId == this._scrollItem._listId || this._pool.put(t);
} else for (;this.content.childrenCount > this._numItems; ) this._delSingleItem(this.content.children[this.content.childrenCount - 1]);
},
_delSingleItem: function(e) {
e.removeFromParent();
e.destroy && e.destroy();
e = null;
},
aniDelItem: function(e, i, t) {
var a = this;
if (!a.checkInited() || a.cyclic || !a._virtual) return cc.error("This function is not allowed to be called!");
if (a._aniDelRuning) return cc.warn("Please wait for the current deletion to finish!");
var n = a.getItemByListId(e);
if (n) {
a._aniDelRuning = !0;
var c = a.displayData[a.displayData.length - 1].id, o = n.listItem.selected;
n.listItem.showAni(t, function() {
var t = void 0;
c < a._numItems - 2 && (t = c + 1);
if (null != t) {
var h = a._calcItemPos(t);
a.displayData.push(h);
a._virtual ? a._createOrUpdateItem(h) : a._createOrUpdateItem2(t);
} else a._numItems--;
if (a.selectedMode == s.SINGLE) o ? a._selectedId = -1 : a._selectedId - 1 >= 0 && a._selectedId--; else if (a.selectedMode == s.MULT && a.multSelected.length) {
var r = a.multSelected.indexOf(e);
r >= 0 && a.multSelected.splice(r, 1);
for (var l = a.multSelected.length - 1; l >= 0; l--) {
a.multSelected[l] >= e && a.multSelected[l]--;
}
}
if (a._customSize) {
a._customSize[e] && delete a._customSize[e];
var d = {}, g = void 0;
for (var u in a._customSize) {
g = a._customSize[u];
d[(u = parseInt(u)) - (u >= e ? 1 : 0)] = g;
}
a._customSize = d;
}
for (var _ = void 0, v = void 0, p = null != t ? t : c; p >= e + 1; p--) if (n = a.getItemByListId(p)) {
var m = a._calcItemPos(p - 1);
_ = [ new cc.moveTo(.2333, new cc.v2(m.x, m.y)) ];
if (p <= e + 1) {
v = !0;
_.push(new cc.CallFunc(function() {
a._aniDelRuning = !1;
i(e);
}));
}
_.length > 1 ? n.runAction(new cc.Sequence(_)) : n.runAction(_[0]);
}
if (!v) {
a._aniDelRuning = !1;
i(e);
}
}, !0);
} else i(e);
},
scrollTo: function(e, i, t, a) {
var n = this;
if (n.checkInited()) {
null == i ? i = .5 : i < 0 && (i = 0);
e < 0 ? e = 0 : e >= n._numItems && (e = n._numItems - 1);
!n._virtual && n._layout && n._layout.enabled && n._layout.updateLayout();
var s = n.getItemPos(e), c = void 0, o = void 0;
switch (n._alignCalcType) {
case 1:
c = s.left;
c -= null != t ? n.node.width * t : n._leftGap;
s = new cc.v2(c, 0);
break;

case 2:
c = s.right - n.node.width;
c += null != t ? n.node.width * t : n._rightGap;
s = new cc.v2(c + n.content.width, 0);
break;

case 3:
o = s.top;
o += null != t ? n.node.height * t : n._topGap;
s = new cc.v2(0, -o);
break;

case 4:
o = s.bottom + n.node.height;
o -= null != t ? n.node.height * t : n._bottomGap;
s = new cc.v2(0, -o + n.content.height);
}
var h = n.content.getPosition();
h = Math.abs(n._sizeType ? h.y : h.x);
var r = n._sizeType ? s.y : s.x;
if (Math.abs((null != n._scrollPos ? n._scrollPos : h) - r) > .5) {
n._scrollPos = r;
n._scrollToListId = e;
n._scrollToEndTime = new Date().getTime() / 1e3 + i;
n._scrollView.scrollToOffset(s, i);
n._scrollToSo = n.scheduleOnce(function() {
n._adheringBarrier || (n.adhering = n._adheringBarrier = !1);
n._scrollPos = n._scrollToListId = n._scrollToEndTime = n._scrollToSo = null;
if (a) {
var i = n.getItemByListId(e);
i && i.runAction(new cc.sequence(new cc.scaleTo(.1, 1.05), new cc.scaleTo(.1, 1)));
}
}, i + .1);
i <= 0 && n._onScrolling();
}
}
},
_calcNearestItem: function() {
var e = this;
e.nearestListId = null;
var i = void 0, t = void 0;
e._virtual && e._calcViewPos();
var a, n, s, c;
a = e.viewTop;
n = e.viewRight;
s = e.viewBottom;
c = e.viewLeft;
for (var o = !1, h = 0; h < e.content.childrenCount && !o; h += e._colLineNum) {
i = this._virtual ? this.displayData[h] : this._calcExistItemPos(h);
t = this._sizeType ? (i.top + i.bottom) / 2 : t = (i.left + i.right) / 2;
switch (this._alignCalcType) {
case 1:
if (i.right >= c) {
this.nearestListId = i.id;
c > t && (this.nearestListId += this._colLineNum);
o = !0;
}
break;

case 2:
if (i.left <= n) {
this.nearestListId = i.id;
n < t && (this.nearestListId += this._colLineNum);
o = !0;
}
break;

case 3:
if (i.bottom <= a) {
this.nearestListId = i.id;
a < t && (this.nearestListId += this._colLineNum);
o = !0;
}
break;

case 4:
if (i.top >= s) {
this.nearestListId = i.id;
s > t && (this.nearestListId += this._colLineNum);
o = !0;
}
}
}
if ((i = this._virtual ? this.displayData[this.displayItemNum - 1] : this._calcExistItemPos(this._numItems - 1)) && i.id == e._numItems - 1) {
t = e._sizeType ? (i.top + i.bottom) / 2 : t = (i.left + i.right) / 2;
switch (e._alignCalcType) {
case 1:
n > t && (e.nearestListId = i.id);
break;

case 2:
c < t && (e.nearestListId = i.id);
break;

case 3:
s < t && (e.nearestListId = i.id);
break;

case 4:
a > t && (e.nearestListId = i.id);
}
}
},
prePage: function(e) {
if (this.checkInited()) {
null == e && (e = .5);
this.skipPage(this.curPageNum - 1, e);
}
},
nextPage: function(e) {
if (this.checkInited()) {
null == e && (e = .5);
this.skipPage(this.curPageNum + 1, e);
}
},
skipPage: function(e, i) {
var t = this;
if (t.checkInited()) {
if (t._slideMode != n.PAGE) return cc.error("This function is not allowed to be called, Must SlideMode = PAGE!");
if (!(e < 0 || e >= t._numItems) && t.curPageNum != e) {
t.curPageNum = e;
t.pageChangeEvent && cc.Component.EventHandler.emitEvents([ t.pageChangeEvent ], e);
t.scrollTo(e, i);
}
}
},
calcCustomSize: function(e) {
var i = this;
if (i.checkInited()) {
if (!i._itemTmp) return cc.error("Unset template item!");
if (!i.renderEvent) return cc.error("Unset Render-Event!");
i._customSize = {};
var t = cc.instantiate(i._itemTmp);
i.content.addChild(t);
for (var a = 0; a < e; a++) {
cc.Component.EventHandler.emitEvents([ i.renderEvent ], t, a);
t.height == i._itemSize.height && t.width == i._itemSize.width || (i._customSize[a] = i._sizeType ? t.height : t.width);
}
Object.keys(i._customSize).length || (i._customSize = null);
t.removeFromParent();
t.destroy && t.destroy();
return i._customSize;
}
}
});
cc._RF.pop();
}, {
ListItem: "ListItem"
} ],
LoadingTip: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "cd9acm0c1lMWIFCf8gImRLH", "LoadingTip");
cc.Class({
extends: cc.Component,
properties: {
nodeCreate: cc.Node,
nodeJoin: cc.Node
},
show: function(e) {
this.nodeCreate.active = !1;
this.nodeCreate.active = !1;
switch (e) {
case "create":
this.nodeCreate.active = !0;
break;

case "join":
this.nodeJoin.active = !0;
}
this.node.active = !0;
},
hide: function() {
this.node.active = !1;
},
scheduleShow: function(e, i, t) {
this._err = i;
this._fun = t;
this.scheduleOnce(this._fun, e);
},
scheduleCannel: function() {
this._fun && this.unschedule(this._fun);
}
});
cc._RF.pop();
}, {} ],
Loading: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f5989EfpVZLFqErOT7cY5UN", "Loading");
cc.Class({
extends: cc.Component,
properties: {
tipLabel: cc.Label,
_stateStr: "",
_progress: 0,
_splash: null,
_isLoading: !1
},
loading: function() {
this.node.active = !0;
this.init();
this.onLoadComplete();
this.tipLabel.string = this._stateStr;
},
init: function() {
var i = e("Net");
cc.vv.net1 = new i();
cc.vv.net2 = new i();
var t = e("G3Plugin");
cc.vv.g3Plugin = new t();
cc.vv.g3Plugin.init();
var a = e("RoomMgr");
cc.vv.roomMgr = new a();
var n = e("GameNetMgr");
cc.vv.gameNetMgr = new n();
cc.vv.gameNetMgr.initHandlers();
var s = e("GameClubMgr");
cc.vv.gameClubMgr = new s();
cc.vv.gameClubMgr.initHandlers();
var c = e("VoiceMgr");
cc.vv.voiceMgr = new c();
cc.vv.voiceMgr.init();
},
startPreloading: function() {
this._stateStr = "正在加载资源，请稍候";
this._isLoading = !0;
var e = this;
this.node.runAction(cc.sequence(cc.delayTime(.1), cc.callFunc(function() {
e._progress = 100;
}), cc.delayTime(.1), cc.callFunc(function() {
e.onLoadComplete();
})));
},
onLoadComplete: function() {
this._isLoading = !1;
this._stateStr = "准备登陆";
this.node.active = !1;
cc.vv.login.login();
cc.loader.onComplete = null;
},
update: function(e) {
if (0 != this._stateStr.length) {
this.tipLabel.string = this._stateStr + " ";
if (this._isLoading) this.tipLabel.string += Math.floor(100 * this._progress) + "%"; else for (var i = Math.floor(Date.now() / 1e3) % 4, t = 0; t < i; ++t) this.tipLabel.string += ".";
}
}
});
cc._RF.pop();
}, {
G3Plugin: "G3Plugin",
GameClubMgr: "GameClubMgr",
GameNetMgr: "GameNetMgr",
Net: "Net",
RoomMgr: "RoomMgr",
VoiceMgr: "VoiceMgr"
} ],
Location: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "46d17X4H/5ALbFMZIHiP1KO", "Location");
cc.Class({
extends: cc.Component,
properties: {
_location: null
},
onLoad: function() {
cc.vv;
},
onBtnDissolveClicked: function() {
cc.vv.audioMgr.click();
0 == cc.vv.roomMgr.started ? cc.vv.userMgr.userid != cc.vv.roomMgr.param.creator && cc.vv.userMgr.userid != cc.vv.roomMgr.param.fangzhu || 0 != cc.vv.roomMgr.clubid ? cc.vv.popMgr.alert("您是否要确认离开房间？", function() {
cc.vv.net2.quick("leave", {
room_id: cc.vv.roomMgr.roomid
});
}, !0) : cc.vv.popMgr.alert("房间未开局,解散房间将不会扣除乐豆", function() {
cc.vv.net2.quick("leave", {
room_id: cc.vv.roomMgr.roomid
});
}, !0) : cc.vv.popMgr.alert("房间已开局,是否确认要申请解散？", function() {
cc.vv.net2.quick("try_dismiss_room");
}, !0);
},
show: function(e) {
cc.vv.log3.info(JSON.stringify(cc.vv.roomMgr.table.list));
this._type = e;
this._ren = 0;
for (var i = this.node.getChildByName("seats"), t = 0; t < cc.vv.roomMgr.table.list.length; t++) {
3771 == cc.vv.roomMgr.table.list[t].userid && (cc.vv.roomMgr.table.list[t].location = "35,112");
var a = cc.vv.roomMgr.viewChairID(cc.vv.roomMgr.table.list[t].seatid), n = cc.vv.roomMgr.table.list[t].location;
if (cc.vv.roomMgr.table.list[t].userid > 0) {
this._ren++;
if (void 0 == n || "" == n || "," == n || "0,0" == n) {
i.children[a].getChildByName("info").getComponent(cc.Label).string = "无位置信息";
i.children[a].getChildByName("info").active = !0;
i.children[a].getChildByName("pos_set").active = !1;
i.children[a].getChildByName("pos_no").active = !0;
} else {
i.children[a].getChildByName("info").active = !1;
i.children[a].getChildByName("pos_set").active = !0;
i.children[a].getChildByName("pos_no").active = !1;
}
i.children[a].getChildByName("name").getComponent(cc.Label).string = cc.vv.utils.cutString(cc.vv.roomMgr.table.list[t].nickname, 6);
i.children[a].getChildByName("head").active = !0;
i.children[a].getChildByName("head").getChildByName("img").getComponent("ImageLoader").loadImg(cc.vv.roomMgr.table.list[t].headimg);
} else {
i.children[a].getChildByName("info").active = !1;
i.children[a].getChildByName("pos_set").active = !1;
i.children[a].getChildByName("pos_no").active = !0;
i.children[a].getChildByName("name").getComponent(cc.Label).string = "";
i.children[a].getChildByName("head").getChildByName("img").getComponent("ImageLoader").loadImg(null);
i.children[a].getChildByName("head").active = !1;
}
}
this.calculateLineDistance(0, 1);
this.calculateLineDistance(0, 2);
this.calculateLineDistance(0, 3);
this.calculateLineDistance(1, 2);
this.calculateLineDistance(1, 3);
this.calculateLineDistance(2, 3);
},
calculateLineDistance: function(e, i) {
if (!(e >= cc.vv.roomMgr.ren || i >= cc.vv.roomMgr.ren)) {
var t = cc.vv.roomMgr.viewChairID(e), a = cc.vv.roomMgr.viewChairID(i), n = this.node.getChildByName("num_" + t + "_" + a), s = this.node.getChildByName("xian_" + t + "_" + a);
t > a && (s = this.node.getChildByName("xian_" + a + "_" + t));
t > a && (n = this.node.getChildByName("num_" + a + "_" + t));
n.color = new cc.Color(107, 107, 107);
s.color = new cc.Color(107, 107, 107);
if (cc.vv.roomMgr.table.list && cc.vv.roomMgr.table.list[e] && cc.vv.roomMgr.table.list[e].userid > 0 && cc.vv.roomMgr.table.list && cc.vv.roomMgr.table.list[i] && cc.vv.roomMgr.table.list[i].userid > 0) {
var c = cc.vv.g3Plugin.calculateLineDistance(cc.vv.roomMgr.table.list[e].location, cc.vv.roomMgr.table.list[i].location);
if (-1 == c) n.getComponent(cc.Label).string = "未知"; else if ((c = parseFloat(c)) < 500) {
n.color = new cc.Color(228, 0, 0);
s.color = new cc.Color(85, 55, 205);
n.getComponent(cc.Label).string = "约" + parseInt(c) + "米";
this._ren > 1 && this._type && (this.node.active = !0);
} else {
n.color = new cc.Color(60, 175, 50);
if (c > 1e4) {
c /= 1e3;
n.getComponent(cc.Label).string = "约" + parseInt(c) + "公里";
} else n.getComponent(cc.Label).string = "约" + parseInt(c) + "米";
}
} else n.getComponent(cc.Label).string = "";
}
},
onBtnCloseClicked: function(e) {
cc.vv.audioMgr.click();
this.node.active = !1;
}
});
cc._RF.pop();
}, {} ],
LoginLogic: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e89dd/2A9FAcpjU1TCAXkxZ", "LoginLogic");
cc.Class({
extends: cc.Component,
properties: {
lblVersion: cc.Label,
updateUI: cc.Node,
loadingUI: cc.Node,
loginUI: cc.Node
},
onLoad: function() {
if (!cc.sys.isNative && cc.sys.isMobile) {
var e = this.node.getComponent(cc.Canvas);
e.fitHeight = !0;
e.fitWidth = !0;
}
cc.vv.login = this;
},
start: function() {
this.lblVersion.string = "v1.2.2";
this.updateUI.active = !1;
this.loadingUI.active = !1;
this.loginUI.active = !1;
cc.vv.login.hotUpdate();
},
hotUpdate: function() {
var e = this;
cc.vv.popMgr.wait2("正在连接服务器", function(i) {
i.getComponent("WaitingConnection").scheduleShow(5, "无法连接到服务器", function() {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert("更新检测失败，请检查网络后重试", function(e) {
cc.vv.login.loading();
});
});
e.updateUI.getComponent("HotUpdate").hotUpdate(i);
});
},
loading: function() {
this.loadingUI.getComponent("Loading").loading();
},
location: function() {
if (1 != cc.sys.localStorage.getItem("location_show")) {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert("尊敬的用户：\r\n\r\n同意获取定位可以让您查看他人位置信息，有效防止游戏作弊！\r\n\r\n请允许获取您的当前位置", function() {
cc.vv.g3Plugin.location();
cc.sys.localStorage.setItem("location_show", 1);
}, !0);
} else cc.vv.g3Plugin.location();
},
login: function() {
this.location();
this.loginUI.getComponent("Login").show();
},
btn_Userprotocol: function() {
cc.vv.popMgr.open("hall/Userprotocol");
}
});
cc._RF.pop();
}, {} ],
Login: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "645636ROd5Ky741IeDvvA6y", "Login");
cc.Class({
extends: cc.Component,
properties: {
login_type: 0,
debug_editbox: cc.EditBox,
_isHasBigUpdate: !1
},
show: function() {
var e = this;
this.node.active = !0;
this.initEventHandlers();
cc.vv.gameNetMgr.connectHallServer(function() {
setTimeout(function() {
"vx" == cc.sys.localStorage.getItem("auto_login") ? e.onBtnWeichatClicked() : "yk" == cc.sys.localStorage.getItem("auto_login") && cc.GAME_RUNING_ENVIRONMENT != cc.ENVIRONMENT.debug && e.onBtnQuickStartClicked();
}, 200);
});
cc.director.preloadScene("hall");
},
initUI: function() {
if (cc.sys.isNative) if (1 == cc.APP_STORE_REVIEW && 1 == cc.vv.userMgr.ios_review && cc.sys.os == cc.sys.OS_IOS) this.node.getChildByName("btnYK").active = !0; else if (cc.sys.isNative && cc.sys.os == cc.sys.OS_WINDOWS) this.node.getChildByName("btnYK").active = !0; else {
this.node.getChildByName("btnWexin").active = !0;
this.node.getChildByName("btnPhone").active = !0;
} else {
this.node.getChildByName("btnYK").active = !0;
if (cc.GAME_RUNING_ENVIRONMENT == cc.ENVIRONMENT.debug) {
this.node.getChildByName("debug").active = !0;
var e = cc.sys.localStorage.getItem("account");
this.debug_editbox.string = e || "";
}
}
this.node.getChildByName("checkout").active = !0;
},
onBtnDownloadClicked: function() {
cc.sys.openURL(cc.vv.SI.game_url);
},
update_password: function(e) {
e.errcode < 0 && cc.vv.popMgr.tip(e.errmsg);
if (0 == e.errcode) {
cc.sys.localStorage.setItem("is_me_password", "");
cc.vv.popMgr.tip("修改成功!");
cc.vv.popMgr.del_open("PhoneBind");
}
},
find_password: function(e) {
e.errcode < 0 && cc.vv.popMgr.tip(e.errmsg);
if (0 == e.errcode) {
cc.vv.popMgr.tip("修改成功!");
cc.sys.localStorage.setItem("is_me_password", "");
cc.vv.popMgr.del_open("PhoneBind");
}
},
mobile_code: function(e) {
cc.vv.popMgr.tip(e.errmsg);
},
checkIsBigUpdate: function() {
this._isHasBigUpdate && cc.vv.popMgr.alert("已经有新版本，您必须安装新版本才可以继续游戏", function() {
cc.sys.openURL(cc.game_url);
});
return this._isHasBigUpdate;
},
initEventHandlers: function() {
cc.vv.gameNetMgr.dataEventHandler = this.node;
var e = this;
this.node.on("mobile_code", function(i) {
e.mobile_code(i);
});
this.node.on("find_password", function(i) {
e.find_password(i);
});
this.node.on("update_password", function(i) {
e.update_password(i);
});
this.node.on("init", function(i) {
var t = i.data, a = t.android_version;
cc.vv.userMgr.ios_review = t.ios_review;
cc.sys.os == cc.sys.OS_IOS && t.ios_version && (a = t.ios_version);
cc.vv.popMgr.hide();
cc.game_url = t.game_url;
e._isHasBigUpdate = a != cc.PUBLISH;
e.initUI();
});
this.node.on("register_code", function(e) {
if (0 === e.errcode) ; else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
}), this.node.on("blogin_find_password", function(e) {
if (0 === e.errcode) {
cc.vv.popMgr.hide();
cc.vv.popMgr.tip("密码找回成功，请重新登录！");
cc.vv.popMgr.getNode("open", "PhoneLogin").getComponent("PhoneLogin").on_chenge_ok();
} else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
}), this.node.on("register", function(e) {
if (0 === e.errcode) {
cc.vv.popMgr.tip("账号注册成功！");
cc.vv.popMgr.getNode("open", "PhoneLogin").getComponent("PhoneLogin").on_regist_ok();
} else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
}), this.node.on("login", function(e) {
var i = e.data;
if (0 === e.errcode) {
cc.vv.userMgr.account = i.account;
cc.vv.userMgr.userid = i.user_id;
cc.vv.userMgr.userName = cc.vv.utils.isEmojiCharacter(i.name) ? cc.vv.utils.checkUserName(i.name) : i.name;
cc.vv.userMgr.gems = i.gems;
cc.vv.userMgr.headimg = i.headimg;
cc.vv.userMgr.adcode = i.adcode;
cc.vv.userMgr.sex = i.sex;
cc.vv.userMgr.ip = i.ip;
cc.vv.userMgr.token = i.token;
cc.vv.userMgr.is_dealer = i.is_dealer;
if ("1" == i.status) {
cc.vv.hall_pop_notice = 1;
cc.director.loadScene("hall");
} else cc.vv.popMgr.alert("您无法进行游戏", function() {
cc.game.end();
});
} else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
});
},
startLogin: function(e) {
cc.vv.audioMgr.click();
this.login_type = e;
var i = this;
0 == i.login_type ? cc.vv.popMgr.wait("正在游客登录", function() {
cc.vv.userMgr.guest();
}) : 1 == i.login_type && cc.vv.popMgr.wait("正在微信登录", function() {
cc.vv.g3Plugin.login(i.login_type);
});
},
start: function() {},
onBtnDebugClicked: function() {
var e = this.node.getChildByName("debug").getChildByName("editbox").getComponent(cc.EditBox).string;
if (e) {
cc.args.account = e;
this.startLogin(0);
}
},
onBtnQuickStartClicked: function() {
if (1 == this.node.getChildByName("checkout").getComponent(cc.Toggle).isChecked) {
cc.sys.localStorage.setItem("auto_login", "yk");
this.startLogin(0);
} else cc.vv.popMgr.tip("请勾选用户协议");
},
onBtnWeichatClicked: function() {
if (cc.isValid(this.node)) if (1 == this.node.getChildByName("checkout").getComponent(cc.Toggle).isChecked) {
cc.sys.localStorage.setItem("auto_login", "vx");
this.startLogin(1);
} else cc.vv.popMgr.tip("请勾选用户协议");
},
btnPhone_login: function() {
cc.vv.popMgr.open("hall/PhoneLogin");
},
btnRepair_login: function() {
cc.vv.popMgr.alert("此功能将重置游戏为初始状态，是否继续？", function() {
var e = (jsb.fileUtils ? jsb.fileUtils.getWritablePath() : "/") + "remote-asset/";
jsb.fileUtils.removeDirectory(e) ? cc.vv.popMgr.alert("修复成功，请点击确定重新打开游戏", function() {
cc.vv.net1.close();
cc.vv.g3Plugin.logout();
cc.director.loadScene("splash");
}) : cc.vv.popMgr.alert("修复失败，请重试或者直接下载最新版本，谢谢~", function() {});
}, !0);
}
});
cc._RF.pop();
}, {} ],
Log: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "89359+0zF1NSLIotJCid2yy", "Log");
cc.Class({
extends: cc.Component,
statics: {
_log: !0,
_error: !0,
_debug: !0,
_info: !0,
log: function(e) {
cc.sys.isNative || this._log && console.log(e);
},
error: function(e) {
cc.sys.isNative || this._error && console.log(e);
},
debug: function(e) {
cc.sys.isNative || this._debug && console.log(e);
},
info: function(e) {
cc.sys.isNative || this._info && console.log(e);
}
}
});
cc._RF.pop();
}, {} ],
MD5: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "11f3fSI1S1Ir6u2ha4ffZgE", "MD5");
cc.md5Encode = function(e) {
function i(e) {
try {
console.log(e);
} catch (e) {}
}
function t(e) {
var i = (e >>> 24).toString(16), t = (16777215 & e).toString(16);
return "00".substr(0, 2 - i.length) + i + "000000".substr(0, 6 - t.length) + t;
}
function a(e, i) {
return e << i & 4294967295 | e >>> 32 - i;
}
function n(e, i, t) {
return e & i | ~e & t;
}
function s(e, i, t) {
return t & e | ~t & i;
}
function c(e, i, t) {
return e ^ i ^ t;
}
function o(e, i, t) {
return i ^ (e | ~t);
}
function h(e, i) {
return e[i + 3] << 24 | e[i + 2] << 16 | e[i + 1] << 8 | e[i];
}
function r(e) {
for (var i = [], t = 0; t < e.length; t++) if (e.charCodeAt(t) <= 127) i.push(e.charCodeAt(t)); else for (var a = encodeURIComponent(e.charAt(t)).substr(1).split("%"), n = 0; n < a.length; n++) i.push(parseInt(a[n], 16));
return i;
}
var l = null;
if ("string" == typeof e) l = r(e); else {
if (e.constructor != Array) {
i("input data type mismatch");
return null;
}
if (0 === e.length) l = e; else if ("string" == typeof e[0]) l = function(e) {
for (var i = [], t = 0; t < e.length; t++) i = i.concat(r(e[t]));
return i;
}(e); else {
if ("number" != typeof e[0]) {
i("input data type mismatch");
return null;
}
l = e;
}
}
var d = l.length;
l.push(128);
var g = l.length % 64;
if (g > 56) {
for (var u = 0; u < 64 - g; u++) l.push(0);
g = l.length % 64;
}
for (u = 0; u < 56 - g; u++) l.push(0);
l = l.concat(function(e) {
for (var i = [], t = 0; t < 8; t++) {
i.push(255 & e);
e >>>= 8;
}
return i;
}(8 * d));
var _ = 1732584193, v = 4023233417, p = 2562383102, m = 271733878, f = 0, y = 0, C = 0, b = 0;
function w(e, i) {
return 4294967295 & e + i;
}
var x = function(e, i, t, n) {
var s = b;
b = C;
C = y;
y = w(y, a(w(f, w(e, w(i, t))), n));
f = s;
};
for (u = 0; u < l.length / 64; u++) {
f = _;
var z = 64 * u;
x(n(y = v, C = p, b = m), 3614090360, h(l, z), 7);
x(n(y, C, b), 3905402710, h(l, z + 4), 12);
x(n(y, C, b), 606105819, h(l, z + 8), 17);
x(n(y, C, b), 3250441966, h(l, z + 12), 22);
x(n(y, C, b), 4118548399, h(l, z + 16), 7);
x(n(y, C, b), 1200080426, h(l, z + 20), 12);
x(n(y, C, b), 2821735955, h(l, z + 24), 17);
x(n(y, C, b), 4249261313, h(l, z + 28), 22);
x(n(y, C, b), 1770035416, h(l, z + 32), 7);
x(n(y, C, b), 2336552879, h(l, z + 36), 12);
x(n(y, C, b), 4294925233, h(l, z + 40), 17);
x(n(y, C, b), 2304563134, h(l, z + 44), 22);
x(n(y, C, b), 1804603682, h(l, z + 48), 7);
x(n(y, C, b), 4254626195, h(l, z + 52), 12);
x(n(y, C, b), 2792965006, h(l, z + 56), 17);
x(n(y, C, b), 1236535329, h(l, z + 60), 22);
x(s(y, C, b), 4129170786, h(l, z + 4), 5);
x(s(y, C, b), 3225465664, h(l, z + 24), 9);
x(s(y, C, b), 643717713, h(l, z + 44), 14);
x(s(y, C, b), 3921069994, h(l, z), 20);
x(s(y, C, b), 3593408605, h(l, z + 20), 5);
x(s(y, C, b), 38016083, h(l, z + 40), 9);
x(s(y, C, b), 3634488961, h(l, z + 60), 14);
x(s(y, C, b), 3889429448, h(l, z + 16), 20);
x(s(y, C, b), 568446438, h(l, z + 36), 5);
x(s(y, C, b), 3275163606, h(l, z + 56), 9);
x(s(y, C, b), 4107603335, h(l, z + 12), 14);
x(s(y, C, b), 1163531501, h(l, z + 32), 20);
x(s(y, C, b), 2850285829, h(l, z + 52), 5);
x(s(y, C, b), 4243563512, h(l, z + 8), 9);
x(s(y, C, b), 1735328473, h(l, z + 28), 14);
x(s(y, C, b), 2368359562, h(l, z + 48), 20);
x(c(y, C, b), 4294588738, h(l, z + 20), 4);
x(c(y, C, b), 2272392833, h(l, z + 32), 11);
x(c(y, C, b), 1839030562, h(l, z + 44), 16);
x(c(y, C, b), 4259657740, h(l, z + 56), 23);
x(c(y, C, b), 2763975236, h(l, z + 4), 4);
x(c(y, C, b), 1272893353, h(l, z + 16), 11);
x(c(y, C, b), 4139469664, h(l, z + 28), 16);
x(c(y, C, b), 3200236656, h(l, z + 40), 23);
x(c(y, C, b), 681279174, h(l, z + 52), 4);
x(c(y, C, b), 3936430074, h(l, z), 11);
x(c(y, C, b), 3572445317, h(l, z + 12), 16);
x(c(y, C, b), 76029189, h(l, z + 24), 23);
x(c(y, C, b), 3654602809, h(l, z + 36), 4);
x(c(y, C, b), 3873151461, h(l, z + 48), 11);
x(c(y, C, b), 530742520, h(l, z + 60), 16);
x(c(y, C, b), 3299628645, h(l, z + 8), 23);
x(o(y, C, b), 4096336452, h(l, z), 6);
x(o(y, C, b), 1126891415, h(l, z + 28), 10);
x(o(y, C, b), 2878612391, h(l, z + 56), 15);
x(o(y, C, b), 4237533241, h(l, z + 20), 21);
x(o(y, C, b), 1700485571, h(l, z + 48), 6);
x(o(y, C, b), 2399980690, h(l, z + 12), 10);
x(o(y, C, b), 4293915773, h(l, z + 40), 15);
x(o(y, C, b), 2240044497, h(l, z + 4), 21);
x(o(y, C, b), 1873313359, h(l, z + 32), 6);
x(o(y, C, b), 4264355552, h(l, z + 60), 10);
x(o(y, C, b), 2734768916, h(l, z + 24), 15);
x(o(y, C, b), 1309151649, h(l, z + 52), 21);
x(o(y, C, b), 4149444226, h(l, z + 16), 6);
x(o(y, C, b), 3174756917, h(l, z + 44), 10);
x(o(y, C, b), 718787259, h(l, z + 8), 15);
x(o(y, C, b), 3951481745, h(l, z + 36), 21);
_ = w(_, f);
v = w(v, y);
p = w(p, C);
m = w(m, b);
}
return function(e, i, a, n) {
for (var s = "", c = 0, o = 0, h = 3; h >= 0; h--) {
c = 255 & (o = arguments[h]);
c <<= 8;
c |= 255 & (o >>>= 8);
c <<= 8;
c |= 255 & (o >>>= 8);
c <<= 8;
s += t(c |= o >>>= 8);
}
return s;
}(m, p, v, _).toUpperCase();
};
cc._RF.pop();
}, {} ],
MJReportItemThreeOther: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8374dFC8GdP0a7klBhQzfV5", "MJReportItemThreeOther");
cc.Class({
extends: cc.Component,
properties: {
nodeDayingjia: cc.Node,
nodeTuHao: cc.Node,
nodeZhuang: cc.Node,
lblName: cc.Label,
lblId: cc.Label,
spriteHeadimg: cc.Sprite,
lblScore: cc.Label,
lblWinCount: cc.Label,
lblLoseCount: cc.Label,
lblCradMaxType: cc.Label,
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
}
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("info", function(i) {
e.nodeDayingjia.active = i.dayingjia;
e.nodeZhuang.active = i.userid == cc.vv.mahjongMgr._zhuang;
e.lblName.string = i.name;
e.lblId.string = "ID:" + i.userid;
e.lblWinCount.string = "赢:" + i.win_count + "局";
e.lblLoseCount.string = "输:" + i.lose_count + "局";
e.lblCradMaxType.string = "最大牌:" + i.crad_maxtype;
e.spriteHeadimg.getComponent("ImageLoader").loadImg(i.headimg);
if (i.score > 0) {
e.lblScore.font = e.winFont;
e.lblScore.string = "+" + i.score;
} else if (i.score < 0) {
e.lblScore.font = e.lostFont;
e.lblScore.string = i.score;
} else {
e.lblScore.font = e.winFont;
e.lblScore.string = i.score;
}
});
}
});
cc._RF.pop();
}, {} ],
MJReportItemThreeSelf: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "cc445HGkvRADruPyuV56YEG", "MJReportItemThreeSelf");
cc.Class({
extends: cc.Component,
properties: {
nodeDayingjia: cc.Node,
nodeTuHao: cc.Node,
nodeZhuang: cc.Node,
lblName: cc.Label,
lblId: cc.Label,
spriteFlg: cc.Sprite,
spriteFlgbg: cc.Sprite,
spriteHeadimg: cc.Sprite,
lblScore: cc.Label,
lblWinCount: cc.Label,
lblLoseCount: cc.Label,
lblCradMaxType: cc.Label,
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
reportAtlas: {
default: null,
type: cc.SpriteAtlas
}
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("info", function(i) {
e.nodeDayingjia.active = i.dayingjia;
e.nodeZhuang.active = i.userid == cc.vv.mahjongMgr._zhuang;
e.lblName.string = i.name;
e.lblId.string = "ID:" + i.userid;
e.lblWinCount.string = i.win_count + "局";
e.lblLoseCount.string = i.lose_count + "局";
e.lblCradMaxType.string = i.crad_maxtype;
e.spriteHeadimg.getComponent("ImageLoader").loadImg(i.headimg);
if (i.score > 0) {
e.lblScore.font = e.winFont;
e.lblScore.string = "+" + i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("isheng_0");
e.spriteFlgbg.spriteFrame = e.reportAtlas.getSpriteFrame("ishengeff_0");
} else if (i.score < 0) {
e.lblScore.font = e.lostFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("isheng_1");
e.spriteFlgbg.spriteFrame = e.reportAtlas.getSpriteFrame("ishengeff_1");
} else {
e.lblScore.font = e.winFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("isheng_0");
e.spriteFlgbg.spriteFrame = e.reportAtlas.getSpriteFrame("ishengeff_0");
}
});
}
});
cc._RF.pop();
}, {} ],
MJReportItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "dd931sJt5dNC5q2Jjm090rn", "MJReportItem");
cc.Class({
extends: cc.Component,
properties: {
nodeDayingjia: cc.Node,
nodeTuHao: cc.Node,
nodeZhuang: cc.Node,
lblName: cc.Label,
lblId: cc.Label,
spriteFlg: cc.Sprite,
spriteHeadimg: cc.Sprite,
lblScore: cc.Label,
checkmark: cc.Node,
lblWinCount: cc.Label,
lblLoseCount: cc.Label,
lblCradMaxType: cc.Label,
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
reportAtlas: {
default: null,
type: cc.SpriteAtlas
}
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("info", function(i) {
e.nodeDayingjia.active = i.dayingjia;
e.checkmark.active = i.userid == cc.vv.userMgr.userid;
e.nodeTuHao.active = i.tuhao;
e.lblName.string = cc.vv.utils.cutString(i.name, 6);
e.lblId.string = "ID:" + i.userid;
e.lblWinCount.string = "赢:" + i.win_count;
e.lblLoseCount.string = "输:" + i.lose_count;
e.lblCradMaxType.string = "最大牌:" + i.crad_maxtype;
e.nodeZhuang && (e.nodeZhuang.active = i.userid == cc.vv.mahjongMgr._zhuang);
e.spriteHeadimg.getComponent("ImageLoader").loadImg(i.headimg);
if (i.score > 0) {
e.lblScore.font = e.winFont;
e.lblScore.string = "+" + i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
} else if (i.score < 0) {
e.lblScore.font = e.lostFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_lose");
} else {
e.lblScore.font = e.winFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
}
});
}
});
cc._RF.pop();
}, {} ],
MahjongFolds: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "348d00VUT9K+JAEFZ4Ysp0z", "MahjongFolds");
cc.Class({
extends: cc.Component,
properties: {
_pointers: null,
_folds: null,
_huas: null,
_chupaiSprite: [],
_cradarea_outcrad: [],
_chupaibgSprite: []
},
onLoad: function() {
if (null != cc.vv) {
this.initView();
this.initEventHandler();
cc.vv.folds = this;
}
},
initView: function() {
this._folds = {};
this._pointers = {};
this._huas = {};
for (var e = cc.find("Canvas/mgr/game"), i = [ "myself", "right", "up", "left" ], t = 0; t < i.length; ++t) {
for (var a = i[t], n = e.getChildByName(a), s = n.getChildByName("folds").getChildByName("list"), c = 0, o = 1, h = [], r = 0; r < s.children.length; ++r) {
var l = s.children[r];
if (2 == cc.vv.roomMgr.ren && "myself" == a) {
if (15 == c && 3 == o) {
o = 4;
c = 0;
} else if (15 == c && 2 == o) {
o = 3;
c = 0;
} else if (15 == c) {
o = 2;
c = 0;
}
1 == o ? l.y = 30 : 2 == o ? l.y = 75 : 3 == o ? l.y = 120 : 4 == o && (l.y = 165);
l.x = 47 * c - 335;
c++;
l.zIndex = r;
} else if (2 == cc.vv.roomMgr.ren && "up" == a) {
if (15 == c && 3 == o) {
o = 4;
c = 0;
} else if (15 == c && 2 == o) {
o = 3;
c = 0;
} else if (15 == c) {
o = 2;
c = 0;
}
1 == o ? l.y = -30 : 2 == o ? l.y = -75 : 3 == o ? l.y = -120 : 4 == o && (l.y = -165);
l.x = 350 - 47 * c;
c++;
l.zIndex = r;
}
l.active = !1;
h.push(l);
}
this._folds[a] = h;
this._pointers[a] = n.getChildByName("folds").getChildByName("folds_list").getChildByName("pointer");
this._chupaiSprite[a] = n.getChildByName("folds").getChildByName("folds_list").getChildByName("ChuPai");
this._cradarea_outcrad[a] = n.getChildByName("folds").getChildByName("cradarea_node").getChildByName("cradarea_outcrad");
this._chupaibgSprite[a] = n.getChildByName("folds").getChildByName("folds_list").getChildByName("ChuPaiBg");
}
this.hideAllFolds();
},
hideAllFolds: function() {
for (var e in this._folds) {
var i = this._folds[t];
for (var t in i) i[t].active = !1;
}
},
initEventHandler: function() {
var e = this;
this.node.on("game_begin", function(i) {
e.initAllFolds();
});
this.node.on("login_finished", function(i) {
e.initAllFolds();
});
this.node.on("game_sync", function(i) {
e.initAllFolds();
});
this.node.on("game_chupai_notify", function(i) {
e.initFolds(i.seatData);
});
this.node.on("buhua_notify", function(i) {
e.initFolds(i);
});
this.node.on("guo_notify", function(i) {
e.initFolds(i);
});
},
update: function(e) {
cc.vv.mahjongMgr.chupaitime <= 0 ? this.hideChupai() : cc.vv.mahjongMgr.chupaitime -= e;
},
showChupai: function() {
var e = cc.vv.mahjongMgr._chupai;
if (e >= 0) {
this.unschedule(this.one_timehidechupai);
var i = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn), t = cc.vv.mahjongMgr.getSide(i);
this._chupaiSprite[t].children[0].getComponent(cc.Sprite).spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID("M_", e);
this._cradarea_outcrad[t].children[0].getComponent(cc.Sprite).spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID("M_", e);
for (var a = 0; a < cc.vv.roomMgr.ren; ++a) {
var n = cc.vv.mahjongMgr._seats[a], s = cc.vv.roomMgr.viewChairID(a);
if (i == s) {
var c = n.folds;
if (null == c) return;
t = cc.vv.mahjongMgr.getSide(s);
var o = this._folds[t][c.length];
this._cradarea_outcrad[t].x = o.x;
this._cradarea_outcrad[t].y = o.y;
this._chupaibgSprite[t].active = !0;
this._chupaiSprite[t].active = !0;
this._cradarea_outcrad[t].active = !0;
this.setSpritePointer(o, t);
}
}
}
},
one_timehidechupai: function() {
for (var e = [ "myself", "right", "up", "left" ], i = 0; i < e.length; ++i) {
this._chupaiSprite[e[i]].active = !1;
this._chupaibgSprite[e[i]].active = !1;
}
this.unschedule(this.one_timehidechupai);
},
hideChupai: function() {
this.unschedule(this.one_timehidechupai);
this.schedule(this.one_timehidechupai, 1);
},
zeortime_hideChupai: function() {
for (var e = [ "myself", "right", "up", "left" ], i = 0; i < e.length; ++i) {
this._chupaiSprite[e[i]].active = !1;
this._chupaibgSprite[e[i]].active = !1;
}
},
zeortime_hide_outcrad: function() {
for (var e = [ "myself", "right", "up", "left" ], i = 0; i < e.length; ++i) this._cradarea_outcrad[e[i]].active = !1;
},
change_color_outcrad: function(e) {
this._chupai_pai = e;
var i = cc.vv.mahjongMgr._seats, t = [ "myself", "right", "up", "left" ];
for (var a in i) {
var n = i[a].folds;
if (null == n) return;
for (var s = cc.vv.roomMgr.viewChairID(i[a].seatIndex), c = cc.vv.mahjongMgr.getSide(s), o = this._folds[c], h = 0; h < n.length; ++h) {
var r = o[h];
n[h] == e ? r.color = new cc.color(0, 255, 0) : r.color = new cc.color(255, 255, 255);
}
for (a = 0; a < t.length; ++a) e == cc.vv.mahjongMgr._chupai ? this._cradarea_outcrad[t[a]].color = new cc.color(0, 255, 0) : this._cradarea_outcrad[t[a]].color = new cc.color(255, 255, 255);
}
},
initAllFolds: function() {
var e = cc.vv.mahjongMgr._seats;
for (var i in e) this.initFolds(e[i]);
this.initPointer();
},
initHuas: function(e) {
for (var i = cc.vv.roomMgr.viewChairID(e.seatIndex), t = (cc.vv.mahjongMgr.getFoldPre(i), 
cc.vv.mahjongMgr.getSide(i)), a = this._huas[t], n = 0; n < a.length; ++n) {
a[n].node.active = !1;
}
if (1 != cc.vv.replayMgr.isReplay() && e.huas && e.huas.length > 0) {
a[e.piaonum - 2].node.active = !0;
}
},
initPointer: function() {
for (var e = [ "myself", "right", "up", "left" ], i = 0; i < e.length; ++i) this._pointers[e[i]].active = !1;
},
initFolds: function(e) {
var i = e.folds;
if (null != i) {
for (var t = cc.vv.roomMgr.viewChairID(e.seatIndex), a = cc.vv.mahjongMgr.getFoldPre(t), n = cc.vv.mahjongMgr.getSide(t), s = this._folds[n], c = 0; c < i.length; ++c) {
var o = s[c];
"right" == n ? o.setLocalZOrder(1e3 - c) : "myself" == n && o.setLocalZOrder(1e3 - c);
"up" == n || "myself" == n ? o.getComponent(cc.Sprite).spriteFrame = cc.vv.mahjongMgr.getBackSpriteFrame("defaultum") : "right" != n && "left" != n || (o.getComponent(cc.Sprite).spriteFrame = cc.vv.mahjongMgr.getBackSpriteFrame("defaultlr"));
if ((null != e.baoTing_index || -1 != e.baoTing_index) && c == e.baoTing_index) {
o.children[0].active = !1;
o.getComponent(cc.Sprite).spriteFrame = cc.vv.mahjongMgr.getBackSpriteFrame(n);
}
if (!o.active) {
o.active = !0;
var h = o.children[0].getComponent(cc.Sprite);
this.setSpriteFrameByMJID(a, h, i[c]);
if ((null != e.baoTing_index || -1 != e.baoTing_index) && c == e.baoTing_index) {
o.children[0].active = !1;
o.getComponent(cc.Sprite).spriteFrame = cc.vv.mahjongMgr.getBackSpriteFrame(n);
}
}
}
for (c = i.length; c < s.length; ++c) {
if (!(o = s[c]).active) break;
o.active = !1;
}
}
},
setSpriteFrameByMJID: function(e, i, t) {
i.spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID(e, t);
i.node.active = !0;
},
setSpritePointer: function(e, i) {
this.initPointer();
this._pointers[i].active = !0;
switch (i) {
case "myself":
case "right":
this._pointers[i].x = e.x;
this._pointers[i].y = e.y + 25;
break;

case "up":
this._pointers[i].x = e.x;
this._pointers[i].y = e.y + 30;
break;

case "left":
this._pointers[i].x = e.x;
this._pointers[i].y = e.y + 25;
}
}
});
cc._RF.pop();
}, {} ],
MahjongMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "284d0mu0rJBG46eCy7jNYiA", "MahjongMgr");
cc.Class({
extends: cc.Component,
properties: {
mahjongAltas: {
default: null,
type: cc.SpriteAtlas
},
pengPrefabSelf: {
default: null,
type: cc.Prefab
},
pengPrefabLeft: {
default: null,
type: cc.Prefab
},
pengPrefabRight: {
default: null,
type: cc.Prefab
},
saiziAltas: {
default: null,
type: cc.SpriteAtlas
},
holdsEmpty: {
default: [],
type: [ cc.SpriteFrame ]
},
_sides: null,
_pres: null,
_foldPres: null,
_mahjongSprites: [],
_turn: -1,
_zhuang: -1,
_saizi_1: 0,
_saizi_2: 0,
_magicPai: -1,
_magicPai2: -1,
_seats: [],
_numOfMJ: 0,
_liupaiCnt: 0,
_maxNumOfGames: 0,
_numOfGames: 0,
_isOver: !0,
_button: -1,
_gamestate: -1,
_canChui: !1,
_curaction: null,
_baoting_index: -1
},
prepareReplay: function(e, i) {
this._seats = [];
for (var t = 0; t < cc.vv.roomMgr.table.list.length; ++t) {
var a = {};
a.seatIndex = t;
a.score = null;
a.holds = e.game_seats[t];
a.pengs = [];
a.chis = [];
a.huas = [];
a.piaonum = 0;
a.angangs = [];
a.diangangs = [];
a.wangangs = [];
a.folds = [];
i == cc.vv.roomMgr.table.list[t].userid && (cc.vv.roomMgr.seatid = t);
this._seats[t] = a;
}
if (e.numofmj) {
this._numOfMJ = e.numofmj;
this._liupaiCnt = e.liupaiCnt;
}
this._gamestate = 3;
},
getMahjongPaiThree: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e -= 1 : 1 == parseInt(e / 10) ? e -= 2 : 2 == parseInt(e / 10) ? e -= 3 : 3 == parseInt(e / 10) && (e -= 4);
return e;
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "mj/" + t + "/" + this.getMahjongPaiThree(i);
cc.vv.audioMgr.playSFX(a);
},
switchHuMp3: function(e, i) {
switch (i) {
case "平胡":
this.playSFX(e, "hu");
break;

case "自摸":
this.playSFX(e, "zimo");
break;

case "七小对":
case "七对":
this.playSFX(e, "qidui");
break;

case "清一色七小对":
case "清一色七对":
case "豪华七对":
case "豪华七小对":
this.playSFX(e, "haohuaqidui");
break;

case "清一色":
this.playSFX(e, "qinyise");
break;

case "十三幺":
this.playSFX(e, "shisanyao");
break;

case "清一色一条龙":
case "一条龙":
this.playSFX(e, "yitaolong");
break;

default:
this.playSFX(e, "hu");
}
},
initEventHandlers: function() {
var e = this;
this.node.on("login_result", function(i) {
if (0 === i.errcode) {
i = i.data;
e._seats = i.seats;
e._isOver = !1;
}
});
this.node.on("sit", function(i) {
if (0 == i.errcode) {
i = i.data;
e._seats[i.seatid].seatIndex = i.seatid;
e._seats[i.seatid].userid = i.userid;
e._seats[i.seatid].headimg = i.headimg;
}
});
this.node.on("game_saizi_push", function(i) {
i = i.data;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e.dispatchEvent("game_saizi", i);
});
this.node.on("game_sync_push", function(i) {
i = i.data;
e._liupaiCnt = i.liupaiCnt;
e._magicPai = i.magicPai;
e._magicPai2 = i.magicPai2;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e._gamestate = i.state;
e._turn = i.turn;
e._zhuang = i.zhuang;
e._button = i.button;
e._chupai = i.chuPai;
e._numOfMJ = i.numofmj;
for (var t = 0; t < cc.vv.roomMgr.ren; ++t) {
e._seats[t].baoTing_index = i.seats[t].m_bBaoTing_index;
e._seats[t].status = i.seats[t].status;
var a = e._seats[t], n = i.seats[t];
a.baoting = n.baoting;
a.holds = n.holds;
a.folds = n.folds;
a.angangs = n.angangs;
a.diangangs = n.diangangs;
a.wangangs = n.wangangs;
a.pengs = n.pengs;
a.chis = n.chis;
a.huas = n.huas;
a.hued = n.hued;
a.iszimo = n.iszimo;
a.huinfo = n.huinfo;
a.huanpais = n.huanpais;
t == e.seatIndex && (e.dingque = n.que);
}
e.dispatchEvent("game_sync", i);
});
this.node.on("game_magic_push", function(i) {
i = i.data;
e._magicPai = i.magic;
e._magicPai2 = i.magic2;
e.dispatchEvent("game_magic", i);
});
this.node.on("game_holds_push", function(i) {
i = i.data;
e._seats[cc.vv.roomMgr.seatid].holds = i.holds;
for (var t = 0; t < e._seats.length; ++t) {
var a = e._seats[t];
null == a.folds && (a.folds = []);
null == a.pengs && (a.pengs = []);
null == a.chis && (a.chis = []);
null == a.huas && (a.huas = []);
a.piaonum = 0;
null == a.angangs && (a.angangs = []);
null == a.diangangs && (a.diangangs = []);
null == a.wangangs && (a.wangangs = []);
a.ready = !1;
}
e.dispatchEvent("game_holds");
});
this.node.on("mj_count_push", function(i) {
i = i.data;
e.doMjCount(i.numOfMJ, i.liupaiCnt);
});
this.node.on("game_begin_push", function(i) {
i = i.data;
e._button = i.button;
e._turn = i.button;
e._zhuang = i.zhuang;
e._gamestate = 2;
e.dispatchEvent("game_begin");
});
this.node.on("game_playing_push", function(i) {
i = i.data;
e._gamestate = 3;
e.dispatchEvent("game_playing");
});
this.node.on("game_chupai_push", function(i) {
i = i.data;
var t = cc.vv.roomMgr.getSeatIndexByID(i.userId);
e.doTurnChange(t);
});
this.node.on("game_chupai_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doChupai(n, a, i.baoTing_index, i.baoting);
});
this.node.on("game_action_push", function(i) {
i = i.data;
e._curaction = i;
e.dispatchEvent("game_action", i);
});
this.node.on("hu_push", function(i) {
i = i.data;
e.doHu(i);
});
this.node.on("game_mopai_push", function(i) {
i = i.data;
e.doMopai(cc.vv.roomMgr.seatid, i.pai, i.is_auto);
});
this.node.on("guo_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGuo(n, a);
});
this.node.on("peng_notify_push", function(i) {
var t = (i = i.data).userid, a = (i.pai, cc.vv.roomMgr.getSeatIndexByID(t));
e.doPeng(a, i.pai);
});
this.node.on("chi_notify_push", function(i) {
var t = (i = i.data).userid, a = (i.pai, i.chiPai), n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doChi(n, i.pai, a);
});
this.node.on("gang_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.gangpai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGang(s, a, n, i.gangtype);
});
this.node.on("chupai_limit_notify_push", function(i) {
e.dispatchEvent("chupai_limit_notify");
});
this.node.on("baoting_notify_push", function(i) {
e.doTing(i.data);
});
},
reset: function() {
this._turn = -1;
this._zhuang = -1;
this._chupai = -1, this._button = -1;
this._magicPai = -1;
this._magicPai2 = -1;
this._saizi_1 = -1, this._saizi_2 = -1, this._gamestate = -1;
this._curaction = null;
for (var e = 0; e < this._seats.length; ++e) {
this._seats[e].holds = [];
this._seats[e].folds = [];
this._seats[e].pengs = [];
this._seats[e].chis = [];
this._seats[e].huas = [];
this._seats[e].piaonum = 0;
this._seats[e].angangs = [];
this._seats[e].diangangs = [];
this._seats[e].wangangs = [];
this._seats[e].dingque = -1;
this._seats[e].ready = !1;
this._seats[e].hued = !1;
this._seats[e].huanpais = null;
this._seats[e].baoting = !0;
}
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
clear: function() {
this.dataEventHandler = null;
null == this.isOver && (this._seats = null);
},
doGuo: function(e, i) {
var t = this._seats[e];
t.folds.push(i);
this.dispatchEvent("guo_notify", t);
},
doMopai: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
a.holds.push(i);
this.dispatchEvent("game_mopai", {
seatIndex: e,
pai: i,
is_auto: t
});
}
},
doChupai: function(e, i, t, a) {
this._chupai = i;
var n = this._seats[e];
n.seatIndex = e;
this._seats[n.seatIndex].baoTing_index = t;
if (n.holds) {
var s = n.holds.indexOf(i);
n.holds.splice(s, 1);
}
this.dispatchEvent("game_chupai_notify", {
seatData: n,
pai: i,
baoTing_index: t,
baoting: a
});
},
doMjCount: function(e, i) {
this._numOfMJ = e;
this._liupaiCnt = i;
this.dispatchEvent("mj_count", null);
},
doPeng: function(e, i) {
var t = this._seats[e];
if (t.holds) for (var a = 0; a < 2; ++a) {
var n = t.holds.indexOf(i[1]);
t.holds.splice(n, 1);
}
t.pengs.push(i);
this.dispatchEvent("peng_notify", t);
},
doChi: function(e, i, t) {
var a = this._seats[e];
if (a.holds) for (var n = 1; n < t.length; ++n) if (t[n] != i) {
var s = a.holds.indexOf(t[n]);
-1 != s && a.holds.splice(s, 1);
}
a.chis.push(t);
this.dispatchEvent("chi_notify", a);
},
doBuhua: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
var n = a.holds.indexOf(i);
-1 != n && a.holds.splice(n, 1);
}
a.huas && a.huas.push(i);
a.piaonum = t;
this.dispatchEvent("buhua_notify", a);
},
getGangType: function(e, i) {
if (-1 != e.pengs.indexOf(i)) return "wangang";
for (var t = 0, a = 0; a < e.holds.length; ++a) e.holds[a] == i && t++;
return 3 == t ? "diangang" : "angang";
},
doTing: function(e) {
this.dispatchEvent("bao_ting_push", e);
},
doGang: function(e, i, t, a) {
var n = this._seats[e];
if (11 == a) for (var s = 0; s < n.pengs.length; ++s) if (n.pengs[s][1] == i) {
n.pengs.splice(s, 1);
break;
}
if (n.holds) {
if (9 == a || 12 == a || 10 == a || 11 == a) for (var c = 1; c <= t.length; ++c) {
-1 != (s = n.holds.indexOf(t[c])) && n.holds.splice(s, 1);
}
if (13 == a) for (c = 1; c <= t.length; ++c) if (t[c] != i) {
-1 != (s = n.holds.indexOf(t[c])) && n.holds.splice(s, 1);
}
}
9 == a || 12 == a ? n.angangs.push(t) : 10 == a || 13 == a ? n.diangangs.push(t) : 14 != a && 11 != a || n.wangangs.push(t);
this.dispatchEvent("gang_notify", {
seatData: n,
gangtype: a
});
},
doHu: function(e) {
this.dispatchEvent("hupai", e);
},
doTurnChange: function(e) {
var i = {
last: this._turn,
turn: e
};
this._turn = e;
this.dispatchEvent("game_chupai", i);
},
onLoad: function() {
if (null != cc.vv) {
switch (cc.vv.roomMgr.ren) {
case 4:
this._sides = [ "myself", "right", "up", "left" ];
this._pres = [ "M_", "R_", "B_", "L_" ];
this._foldPres = [ "B_", "R_", "B_", "L_" ];
break;

case 3:
this._sides = [ "myself", "right", "left" ];
this._pres = [ "M_", "R_", "L_" ];
this._foldPres = [ "B_", "R_", "L_" ];
break;

case 2:
this._sides = [ "myself", "up" ];
this._pres = [ "M_", "B_" ];
this._foldPres = [ "B_", "B_" ];
}
for (var e = 1; e < 10; ++e) this._mahjongSprites.push("B" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("T" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("W" + e);
this._mahjongSprites.push("F2");
this._mahjongSprites.push("F3");
this._mahjongSprites.push("F4");
this._mahjongSprites.push("F5");
this._mahjongSprites.push("F1");
this._mahjongSprites.push("F6");
this._mahjongSprites.push("F7");
this._mahjongSprites.push("J1");
this._mahjongSprites.push("J2");
this._mahjongSprites.push("J3");
this._mahjongSprites.push("J4");
this._mahjongSprites.push("H3");
this._mahjongSprites.push("H2");
this._mahjongSprites.push("H1");
this._mahjongSprites.push("H4");
this.initEventHandlers();
}
},
getMahjongSpriteByID: function(e) {
return this._mahjongSprites[e];
},
getMahjongType: function(e) {
return e >= 0 && e < 9 ? 0 : e >= 9 && e < 18 ? 1 : e >= 18 && e < 27 ? 2 : void 0;
},
getSpriteFrameByMJID: function(e, i) {
var t = this.getMahjongSpriteByID(this.getMahjongPaiThree(i));
return this.mahjongAltas.getSpriteFrame(t);
},
getSpriteFrameBySaiZiID: function(e) {
var i = "shaizi" + e;
return this.saiziAltas.getSpriteFrame(i);
},
getAudioURLByMJID: function(e) {
var i = 0;
(e = this.getMahjongPaiThree(e)) >= 0 && e < 9 ? i = e + 21 : e >= 9 && e < 18 ? i = e - 8 : e >= 18 && e < 27 ? i = e - 7 : e >= 27 && e < 34 && (i = e + 4);
return i;
},
getEmptySpriteFrame: function(e) {
return "up" == e ? this.mahjongAltas.getSpriteFrame("tilebg_2_2") : "myself" == e ? this.mahjongAltas.getSpriteFrame("tilebg_2_2") : "left" == e ? this.mahjongAltas.getSpriteFrame("tilebg_1_2") : "right" == e ? this.mahjongAltas.getSpriteFrame("tilebg_1_2") : void 0;
},
getBgSpriteFrame: function(e) {
return "up" == e ? this.mahjongAltas.getSpriteFrame("tilebg_2_0") : "myself" == e ? this.mahjongAltas.getSpriteFrame("tilebg_2_0") : "left" == e ? this.mahjongAltas.getSpriteFrame("tilebg_1_0") : "right" == e ? this.mahjongAltas.getSpriteFrame("tilebg_1_0") : void 0;
},
getHoldsEmptySpriteFrame: function(e) {
return "up" == e ? this.mahjongAltas.getSpriteFrame("tilebg_2_1") : "myself" == e ? null : "left" == e ? this.mahjongAltas.getSpriteFrame("tilebg_1_1") : "right" == e ? this.mahjongAltas.getSpriteFrame("tilebg_1_1") : void 0;
},
getBackSpriteFrame: function(e) {
return "up" == e || "myself" == e ? this.mahjongAltas.getSpriteFrame("tilebg_0_2") : "left" == e || "right" == e ? this.mahjongAltas.getSpriteFrame("tilebg_1_2") : "defaultum" == e ? this.mahjongAltas.getSpriteFrame("tilebg_2_0") : "defaultlr" == e ? this.mahjongAltas.getSpriteFrame("tilebg_1_0") : void 0;
},
getTargetSide: function(e, i) {
var t = (e.seatIndex + 1) % cc.vv.roomMgr.ren, a = (e.seatIndex + 2) % cc.vv.roomMgr.ren, n = (e.seatIndex + 3) % cc.vv.roomMgr.ren;
return i == t ? 2 : i == a ? 1 : i == n ? 0 : -1;
},
sortMJ: function(e, i) {
e.sort(function(e, t) {
if (i >= 0) {
if (i == e) return -1;
if (i == t) return 1;
}
return e - t;
});
},
sort_Double_MJ: function(e, i, t) {
e.sort(function(e, a) {
if (i >= 0 || t >= 0) {
if (i == e && t == a || i == a && t == e) return e - a;
if (i == e || t == e) return -1;
if (i == a || t == a) return 1;
}
return e - a;
});
},
getSide: function(e) {
return this._sides[e];
},
getPre: function(e) {
return this._pres[e];
},
getFoldPre: function(e) {
return this._foldPres[e];
}
});
cc._RF.pop();
}, {} ],
MahjongPengGangs: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "4253dtyY15BiZkwb81nyRcZ", "MahjongPengGangs");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
if (cc.vv) {
cc.find("Canvas/mgr/game").getChildByName("myself").getChildByName("penggangs"), 
cc.director.getVisibleSize().width;
var e = this;
this.node.on("peng_notify", function(i) {
e.onPengGangChanged(i);
});
this.node.on("chi_notify", function(i) {
e.onPengGangChanged(i);
});
this.node.on("gang_notify", function(i) {
e.onPengGangChanged(i.seatData);
});
this.node.on("game_begin", function(i) {
e.onGameBein();
});
this.node.on("login_finished", function(i) {
var t = cc.vv.mahjongMgr._seats;
for (var a in t) e.onPengGangChanged(t[a]);
});
this.node.on("game_sync", function(i) {
var t = cc.vv.mahjongMgr._seats;
for (var a in t) e.onPengGangChanged(t[a]);
});
}
},
onGameBein: function() {
this.hideSide("myself");
this.hideSide("right");
this.hideSide("up");
this.hideSide("left");
},
hideSide: function(e) {
var i = cc.find("Canvas/mgr/game").getChildByName(e).getChildByName("penggangs");
if (i) for (var t = 0; t < i.childrenCount; ++t) i.children[t].active = !1;
},
onPengGangChanged: function(e) {
if (null != e.angangs || null != e.diangangs || null != e.wangangs || null != e.pengs || null != e.chis) {
for (var i = cc.vv.roomMgr.viewChairID(e.seatIndex), t = cc.vv.mahjongMgr.getSide(i), a = cc.vv.mahjongMgr.getFoldPre(i), n = cc.find("Canvas/mgr/game").getChildByName(t).getChildByName("penggangs"), s = 0; s < n.childrenCount; ++s) n.children[s].active = !1;
var c = -1, o = 0, h = e.angangs;
for (s = 0; s < h.length; ++s) {
c = cc.vv.mahjongMgr.getTargetSide(e, h[s][0]);
var r = [ h[s][1], h[s][2], h[s][3], h[s][4] ];
this.initPengAndGangAndChis(n, t, a, c, o, r, "angang");
o++;
}
for (h = e.diangangs, s = 0; s < h.length; ++s) {
c = cc.vv.mahjongMgr.getTargetSide(e, h[s][0]);
r = [ h[s][1], h[s][2], h[s][3], h[s][4] ];
this.initPengAndGangAndChis(n, t, a, c, o, r, "diangang");
o++;
}
for (h = e.wangangs, s = 0; s < h.length; ++s) {
c = cc.vv.mahjongMgr.getTargetSide(e, h[s][0]);
r = [ h[s][1], h[s][2], h[s][3], h[s][4] ];
this.initPengAndGangAndChis(n, t, a, c, o, r, "wangang");
o++;
}
var l = e.pengs;
if (l) for (s = 0; s < l.length; ++s) {
c = cc.vv.mahjongMgr.getTargetSide(e, l[s][0]);
r = [ l[s][1], l[s][1], l[s][1] ];
this.initPengAndGangAndChis(n, t, a, c, o, r, "peng");
o++;
}
var d = e.chis;
if (d) for (s = 0; s < d.length; s++) {
c = d[s][0];
r = [ d[s][1], d[s][2], d[s][3] ];
this.initPengAndGangAndChis(n, t, a, c, o, r, "chi");
o++;
}
}
},
initPengAndGangAndChis: function(e, i, t, a, n, s, c) {
var o = null;
if (e.childrenCount <= n) {
o = "left" == i ? cc.instantiate(cc.vv.mahjongMgr.pengPrefabLeft) : "right" == i ? cc.instantiate(cc.vv.mahjongMgr.pengPrefabRight) : cc.instantiate(cc.vv.mahjongMgr.pengPrefabSelf);
e.addChild(o);
} else (o = e.children[n]).active = !0;
if ("left" == i) o.y = -(33 * n * 3 + 1 * n); else if ("right" == i) {
o.y = 33 * n * 3 + 1 * n;
o.setLocalZOrder(-n);
} else o.x = "myself" == i ? 55 * n * 3 + 10 * n : -(55 * n * 3 + 3 * n);
for (var h = o.children, r = 0; r < h.length - 2; ++r) {
var l = h[r].getComponent(cc.Sprite), d = h[r].children[0].getComponent(cc.Sprite), g = o.getChildByName("peng_gang_tip");
l.node.color = cc.color(255, 255, 255);
l.node.opacity = 255;
d.node.color = cc.color(255, 255, 255);
if ("gang" == l.node.name) {
var u = "peng" != c && "chi" != c;
l.spriteFrame = cc.vv.mahjongMgr.getBgSpriteFrame(i);
d.spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID(t, s[r]);
l.node.active = u;
} else {
h[5].active = "angang" == c || "wangang" == c;
if ("angang" == c) {
l.spriteFrame = cc.vv.mahjongMgr.getEmptySpriteFrame(i);
d.spriteFrame = null;
if ("myself" == i || "up" == i) {
l.node.W = 54;
l.node.H = 73;
}
if ("myself" == i) g.rotation = 270; else if ("up" == i) {
g.rotation = 90;
g.y = -51;
} else "left" == i ? g.rotation = 0 : "right" == i && (g.rotation = 180);
} else {
var _ = r;
"up" != i && "right" != i || (_ = 2 == r ? 0 : 0 == r ? 2 : 1);
if ("chi" != c) {
if (a == _) {
if (2 == _) {
2 == cc.vv.roomMgr.ren ? "myself" == i ? g.rotation = 90 : "up" == i && (g.rotation = 270) : 3 == cc.vv.roomMgr.ren ? "myself" == i ? g.rotation = 180 : "left" == i ? g.rotation = 270 : "right" == i && (g.rotation = 0) : "myself" == i ? g.rotation = 180 : "left" == i ? g.rotation = 270 : "right" == i ? g.rotation = 90 : "up" == i && (g.rotation = 0);
!0;
} else if (1 == _) {
3 == cc.vv.roomMgr.ren ? "myself" == i ? g.rotation = 0 : "right" == i ? g.rotation = 270 : "left" == i && (g.rotation = 180) : "myself" == i ? g.rotation = 90 : "left" == i ? g.rotation = 180 : "right" == i ? g.rotation = 0 : "up" == i && (g.rotation = 270);
!0;
} else if (0 == _) {
2 == cc.vv.roomMgr.ren ? "myself" == i ? g.rotation = 90 : "up" == i && (g.rotation = 270) : 3 == cc.vv.roomMgr.ren ? "myself" == i ? g.rotation = 0 : "left" == i ? g.rotation = 180 : "right" == i && (g.rotation = 270) : "myself" == i ? g.rotation = 0 : "left" == i ? g.rotation = 90 : "right" == i ? g.rotation = 270 : "up" == i && (g.rotation = 180);
!0;
}
if ("up" == i) {
g.y = -51;
h[5].y = -51;
}
}
} else a == s[_] && !0;
l.spriteFrame = cc.vv.mahjongMgr.getBgSpriteFrame(i);
d.spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID(t, s[_]);
}
}
}
}
});
cc._RF.pop();
}, {} ],
MahjongReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c1142p4S3lGFoLcfecrGhWs", "MahjongReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex, cc.vv.mahjongMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
si: e.si,
type: e.type,
pai: e.pai,
actPai: e.act
};
},
takeAction: function() {
var e = this.getNextAction();
null == this._lastAction || 1 != this._lastAction.type && 8 != this._lastAction.type || null != e && 3 != e.type && 4 != e.type && 5 != e.type && 7 != e.type && cc.vv.mahjongMgr.doGuo(this._lastAction.si, this._lastAction.pai);
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.type) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.nnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return 0;
}
if (1 == e.type) {
3 == e.actPai.length ? cc.vv.mahjongMgr.doChupai(e.si, e.pai, e.actPai[1], e.actPai[2]) : cc.vv.mahjongMgr.doChupai(e.si, e.pai);
return .5;
}
if (2 == e.type) {
cc.vv.mahjongMgr.doMopai(e.si, e.pai);
3 == e.actPai.length && cc.vv.mahjongMgr.doMjCount(e.actPai[1], e.actPai[2]);
cc.vv.mahjongMgr.doTurnChange(e.si);
return .5;
}
if (3 == e.type) {
cc.vv.mahjongMgr.doPeng(e.si, e.actPai);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (9 == e.type || 10 == e.type || 11 == e.type || 12 == e.type || 13 == e.type || 14 == e.type) {
cc.vv.mahjongMgr.dispatchEvent("hangang_notify", e.si);
cc.vv.mahjongMgr.doGang(e.si, e.pai, e.actPai, e.type);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (5 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !1
});
return 1.5;
}
if (6 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !0
});
return 1.5;
}
if (7 == e.type) {
cc.vv.mahjongMgr.doChi(e.si, e.pai, e.actPai);
return 1;
}
if (8 == e.type) {
cc.vv.mahjongMgr.doBuhua(e.si, e.pai, 0);
return 1;
}
if (15 == e.type) {
cc.vv.mahjongMgr.doTing({
userid: e.pai
});
return 1;
}
return 1;
}
});
cc._RF.pop();
}, {} ],
MahjongTimePointer: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "5448b1ckz9I+65rXVIBAGpH", "MahjongTimePointer");
cc.Class({
extends: cc.Component,
properties: {
_arrow: null,
_arrow_pointer: null,
_pointer: null,
_timeLabel: null,
_time: -1,
_stop: !1,
_alertTime: -1,
_audioId: -1,
_play_direction: null
},
onLoad: function() {
var e = cc.find("Canvas/mgr/game");
this._arrow = e.getChildByName("arrow");
this._arrow_pointer = this._arrow.getChildByName("arrow_pointer");
this._pointer = this._arrow_pointer.getChildByName("pointer");
this._play_direction = e.getChildByName("play_direction");
this._play_direction_bg = e.getChildByName("play_direction_bg");
this._direction_time = this._play_direction_bg.getChildByName("time");
this._timeLabel = this._arrow.getChildByName("lblTime").getComponent(cc.Label);
this._timeLabel.string = "00";
var i = this;
this.node.on("game_begin", function(e) {
i._stop = !1;
i.initPointer();
});
this.node.on("login_finished", function(e) {
i.initPointer();
});
this.node.on("game_sync", function(e) {
i.initPointer();
});
this.node.on("game_chupai", function(e) {
i._stop = !1;
i.initPointer();
i._time = 20;
i._alertTime = 3;
i.stopDiDi();
});
this.node.on("game_over", function(e) {
i._stop = !0;
i.stopDiDi();
});
this.node.on("peng_notify", function(e) {
i.stopDiDi();
});
this.node.on("chi_notify", function(e) {
i.stopDiDi();
});
this.node.on("buhua_notify", function(e) {
i.stopDiDi();
});
this.node.on("gang_notify", function(e) {
i.stopDiDi();
});
this.node.on("game_end", function(e) {
i._stop = !0;
i.stopDiDi();
});
},
pointer_time: function() {
this.point_time--;
if (this.point_time <= 0) {
this.point_time = 0;
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.pointer_time);
}
this._direction_time.getComponent(cc.Label).string = this.point_time;
},
initPointer: function() {
if (null != cc.vv) {
if (1 == cc.vv.roomMgr.started) {
this.point_time = 10;
this.schedule(this.pointer_time, 1);
cc.vv.folds.hideChupai();
this._direction_time.getComponent(cc.Label).string = this.point_time;
}
var e = cc.vv.mahjongMgr._turn, i = cc.vv.roomMgr.viewChairID(e);
this._stop = 0 != i;
var t = 0;
1 == i ? t = 90 : 0 == i ? t = 180 : 3 == i ? t = 270 : 2 == i && (t = 0);
0 == i && 3 == cc.vv.roomMgr.ren ? t = 180 : 1 == i && 3 == cc.vv.roomMgr.ren ? t = 90 : 2 == i && 3 == cc.vv.roomMgr.ren && (t = 271);
if (1 == i && 2 == cc.vv.roomMgr.ren) {
t = 0;
this._play_direction.rotate = 358;
} else if (0 == i && 2 == cc.vv.roomMgr.ren) {
t = 180;
this._play_direction.rotate = 182;
}
this._play_direction.runAction(cc.rotateTo(.3, t));
}
},
stopDiDi: function() {
if (-1 != this._audioId) {
cc.vv.audioMgr.stopSFX(this._audioId);
this._audioId = -1;
}
},
update: function(e) {
if (this._time > 0) {
this._time -= e;
if (!this._stop && !cc.vv.replayMgr.isReplay() && this._alertTime > 0 && this._time < this._alertTime) {
this._audioId = cc.vv.audioMgr.playSFX("timeup_alarm");
this._alertTime = -1;
}
var i = "";
this._time < 0 && (this._time = 0);
var t = Math.ceil(this._time);
t < 10 && (i = "0");
this._timeLabel.string = i + t;
}
}
});
cc._RF.pop();
}, {} ],
MainAction: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8abcdP6Jl1Mn4EwL4xlQJTz", "MainAction");
cc.Class({
extends: cc.Component,
properties: {},
touchmove: function(e) {
var i = this.node.getChildByName("main_Action").getChildByName("mouse_move_action"), t = e.getTouches()[0].getDelta();
i.x += t.x;
i.y += t.y;
},
touchend: function(e) {
var i = this.node.getChildByName("main_Action").getChildByName("mouse_move_action");
e.getTouches()[0].getDelta();
i.x = -550;
i.y = 750;
},
touchstart: function(e) {
var i = this.node.getChildByName("main_Action").getChildByName("mouse_move_action"), t = (e.getTouches()[0].getDelta(), 
e.getLocation());
i.x = t.x - 800;
i.y = t.y - 375;
},
start: function() {
var e = this.node.getChildByName("bg");
e.on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
e.on(cc.Node.EventType.TOUCH_END, this.touchend, this);
e.on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
e.on(cc.Node.EventType.TOUCH_CANCEL, this.touchend, this);
}
});
cc._RF.pop();
}, {} ],
MessageContent: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "df523yxZgJOaaeZm2OA43QN", "MessageContent");
cc.Class({
extends: cc.Component,
properties: {
content11: cc.RichText,
scroll11: cc.ScrollView,
btn_lingqu: cc.Node,
btn_yilingqu: cc.Node,
btn_del: cc.Node,
title: cc.Sprite,
message_title: cc.SpriteFrame,
notic_title: cc.SpriteFrame
},
onLoad: function() {
this.myid = 0;
},
notic: function(e) {
this.title.spriteFrame = this.notic_title;
this.content11.string = e;
this.scroll11.scrollToTop(.1);
this.btn_del.active = !1;
this.btn_lingqu.active = !1;
this.btn_yilingqu.active = !1;
},
message: function(e) {
this.title.spriteFrame = this.message_title;
this.myid = e.id;
this.content11.string = e.content;
this.scroll11.scrollToTop(.1);
this.refreshBtn(e);
},
refreshBtn: function(e) {
0 == e.userid && (this.btn_del.active = !1);
if (0 != e.att_ticket) {
this.btn_lingqu.active = 0 == e.status;
this.btn_yilingqu.active = 1 == e.status;
this.btn_del.active = 1 == e.status;
} else {
this.btn_lingqu.active = !1;
this.btn_yilingqu.active = !1;
}
},
onBtnClicked: function(e) {
var i = this;
switch (e.target.name) {
case "btn_lingqu":
cc.vv.hall.addHandler("message_update_status", function(e) {
e.data;
if (0 === e.errcode) {
cc.vv.popMgr.tip("已领取");
i.btn_lingqu.active = !1;
i.btn_yilingqu.active = !0;
i.btn_del.active = !0;
cc.vv.hall._winMessage.getComponent("Message").refreshMsg(i.myid);
} else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
});
cc.vv.net1.quick("message_update_status", {
id: i.myid
});
break;

case "btn_del":
cc.vv.hall.addHandler("message_delete", function(e) {
var t = e.data;
if (0 === e.errcode) {
cc.vv.hall._winMessage.getComponent("Message").removeMsg(t.id);
i.node.destroy();
} else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
});
cc.vv.net1.quick("message_delete", {
id: i.myid
});
}
},
onDestroy: function() {
cc.vv.hall.removeHandler("message_update_status");
cc.vv.hall.removeHandler("message_delete");
}
});
cc._RF.pop();
}, {} ],
MessageItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d2ebakQAdVKJrmlF0gzht9o", "MessageItem");
cc.Class({
extends: cc.Component,
properties: {
title: cc.Label,
desc: cc.Label,
status: cc.Sprite,
statusAtlas: {
default: null,
type: cc.SpriteAtlas
},
_status: !1,
_content: null,
_att_ticket: null,
_userid: null,
_msglist: null
},
onLoad: function() {
var e = this;
this.node.on("new", function(i) {
var t = i;
e.id = t.id;
e.type = t.type;
e.title.string = t.title;
e.desc.string = void 0 != t.desc ? t.desc : "";
e._status = t.status;
e._content = t.content;
e._att_ticket = t.att_ticket;
e._userid = t.userid;
e.status.spriteFrame = 0 == t.status ? e.statusAtlas.getSpriteFrame("dt_infor_new_img") : null;
});
},
setStatus: function() {
this._status = 1;
this.status.spriteFrame = null;
},
onBtnClicked: function(e) {
var i = this;
switch (e.target.name) {
case "btn_chakan":
if (0 == this.type || this.type >= 100) {
if (0 == this.type && 0 == this._status) {
cc.vv.hall.addHandler("message_update_status", function(e) {
e.data;
if (0 === e.errcode) i.status.spriteFrame = null; else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
});
cc.vv.net1.quick("message_update_status", {
id: this.id
});
}
cc.vv.popMgr.pop("hall/MessageContent", function(e) {
e.getComponent("MessageContent").message({
id: i.id,
content: i._content,
att_ticket: i._att_ticket,
status: i._status,
userid: i._userid,
type: i.type
});
});
} else if (1 == this.type) {
cc.vv.net1.quick("user_invite_notice_by_message", {
message_id: i.id
});
this.node.destroy();
} else if (3 == this.type) {
cc.vv.net1.quick("invite_user_dealer_notice_by_message", {
message_id: i.id
});
this.node.destroy();
} else if (4 == this.type) {
cc.vv.net1.quick("club_friend_user_invite_notice_by_message", {
message_id: i.id
});
this.node.destroy();
}
}
},
onDestroy: function() {
cc.vv.hall.removeHandler("message_update_status");
}
});
cc._RF.pop();
}, {} ],
Message: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a4685rnH8ZFIYiXgUjU1SP6", "Message");
cc.Class({
extends: cc.Component,
properties: {
list: cc.Node,
messageItem: cc.Prefab
},
message: function(e) {
this.list.removeAllChildren();
for (var i = 0; i < e.length; ++i) {
var t = cc.instantiate(this.messageItem);
t.myTag = e[i].id;
this.list.addChild(t);
t.emit("new", e[i]);
}
},
removeMsg: function(e) {
var i = cc.vv.utils.getChildByTag(this.list, e);
null !== i && i.destroy();
},
refreshMsg: function(e) {
var i = cc.vv.utils.getChildByTag(this.list, e);
null !== i && i.getComponent("MessageItem").setStatus();
},
onDestroy: function() {
cc.vv.hall.msgType = 0;
cc.vv.net1.quick("message_list");
}
});
cc._RF.pop();
}, {} ],
MoreGame: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a64d1oU1mBOtYRUHA/poOcc", "MoreGame");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
start: function() {
cc.vv.moreGame = this;
this.create_action("start");
this.androidListener();
},
back_action: function(e) {
e.opacity = 0;
e.x = e.x + 250;
e.runAction(cc.sequence(cc.spawn(cc.fadeTo(.4, 255), cc.moveTo(.4, cc.v2(e.x - 250, e.y))), cc.callFunc(function() {})));
},
start_action: function(e) {
var i = this;
if (this.action_idx >= this.index_max) cc.vv.hall.move_in = !1; else {
var t = cc.vv.utils.getChildByTag(e, this.action_idx++);
t.opacity = 0;
t.x = t.x + 300;
t.runAction(cc.sequence(cc.spawn(cc.fadeTo(.1, 255), cc.moveTo(.1, cc.v2(t.x - 300, t.y))), cc.callFunc(function() {
i.start_action(e);
})));
}
},
create_action: function(e) {
var i = 0, t = this.node.getChildByName("gameNode").getChildByName("view").getChildByName("list"), a = t.getChildByName("mhxy"), n = t.getChildByName("zrzs"), s = t.getChildByName("dtszj"), c = t.getChildByName("frfx"), o = t.getChildByName("rxcq"), h = t.getChildByName("zanwu1"), r = t.getChildByName("zanwu2"), l = t.getChildByName("zanwu3");
a.myTag = i++;
n.myTag = i++;
s.myTag = i++;
c.myTag = i++;
o.myTag = i++;
h.myTag = i++;
r.myTag = i++;
l.myTag = i++;
this.index_max = i;
if ("start" == e) {
this.action_idx = 0;
for (var d = 0; d < this.index_max; d++) {
var g = cc.vv.utils.getChildByTag(t, d);
g.on(cc.Node.EventType.TOUCH_START, function(e) {
var i = e.currentTarget.getChildByName("light");
cc.vv.utils.light_action(i);
});
g.opacity = 0;
}
this.start_action(t);
} else "btn_back" == e && this.action_idx >= this.index_max && this.back_action(t);
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
this.showWebView();
switch (e.target.name) {
case "mhxy":
var t = "http://h5.yuu1.com/game/pc-go/102?mid=535&yid=0";
this.openH5WebView(t);
break;

case "zrzs":
t = "http://h5.yuu1.com/game/pc-go/53?mid=535&yid=0";
this.openH5WebView(t);
break;

case "dtszj":
t = "http://h5.yuu1.com/game/pc-go/59?mid=535&yid=0";
this.openH5WebView(t);
break;

case "frfx":
t = "http://h5.yuu1.com/game/pc-go/77?mid=535&yid=0";
this.openH5WebView(t);
break;

case "rxcq":
t = "http://h5.yuu1.com/game/pc-go/103?mid=535&yid=0";
this.openH5WebView(t);
break;

default:
cc.vv.popMgr.tip("敬请期待！");
}
},
openH5WebView: function(e) {
cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "addH5WebView", "(Ljava/lang/String;)V", e) : cc.sys.os == cc.sys.OS_IOS ? jsb.reflection.callStaticMethod("RootViewController", "addWebviewFunc:", e) : cc.vv.popMgr.tip("敬请期待！");
},
closeH5WebView: function(e) {
cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "removeH5WebView", "()V") : (cc.sys.os, 
cc.sys.OS_IOS);
},
androidListener: function() {
var e = this;
if (cc.sys.os == cc.sys.OS_ANDROID) {
var i = cc.EventListener.create({
event: cc.EventListener.KEYBOARD,
onKeyPressed: function(i, t) {
i == cc.KEY.back && e.hideWebView();
}
});
cc.eventManager.addListener(i, this.node);
}
},
onCloseBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "close":
this.hideWebView();
}
},
showWebView: function() {
cc.vv.audioMgr.playBGM("");
},
hideWebView: function() {
cc.vv.audioMgr.playBGM("bgMain2");
this.closeH5WebView();
},
onDestroy: function() {
cc.vv.moreGame = null;
}
});
cc._RF.pop();
}, {} ],
MyInfo: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "4b1791Fk7FIKYerOqqx1kri", "MyInfo");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
if (1 == cc.APP_STORE_REVIEW && 1 == cc.vv.userMgr.ios_review && cc.sys.os == cc.sys.OS_IOS) {
this.node.getChildByName("btnPhoneBind").active = !1;
this.node.getChildByName("btnRealName").active = !1;
this.node.getChildByName("btnDealer").active = !1;
}
this.is_changing = !1;
this.initLabels();
},
initLabels: function() {
this.node.getChildByName("username").getComponent(cc.Label).string = cc.vv.userMgr.userName;
this.node.getChildByName("nickname").getComponent(cc.EditBox).string = cc.vv.userMgr.userName;
this.node.getChildByName("userid").getComponent(cc.Label).string = "ID:" + cc.vv.userMgr.userid;
this.node.getChildByName("ip").getComponent(cc.Label).string = "IP:" + cc.vv.userMgr.ip;
this.node.getChildByName("address").getComponent(cc.Label).string = cc.vv.global.address;
this.node.getChildByName("head").getChildByName("img").getComponent("ImageLoader").loadImg(cc.vv.userMgr.headimg);
this.refreshLabels();
this.node.getChildByName("btnDealer").active = 1 == cc.vv.userMgr.is_dealer;
if (this.is_changing) {
var e = this.node.getChildByName("nickname").getComponent(cc.EditBox).string;
cc.vv.net1.quick("up_info", {
headImg: cc.vv.userMgr.headimg,
name: e
});
}
},
refreshLabels: function() {
this.node.getChildByName("btn_ticket").getChildByName("num").getComponent(cc.Label).string = cc.vv.userMgr.ticket;
this.node.getChildByName("scroe").getComponent(cc.Label).string = "积分:" + cc.vv.userMgr.coins;
},
on_nicname_changed: function(e, i) {
var t = this.node.getChildByName("nickname").getComponent(cc.EditBox).string;
if (t != cc.vv.userMgr.userName) {
cc.vv.userMgr.userName = t;
cc.vv.net1.quick("up_info", {
headImg: cc.vv.userMgr.headimg,
name: t
});
}
},
on_btn_changeImg: function(e, i) {
this.is_changing = !0;
cc.vv.net1.quick("refer_img", {});
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_ticket":
cc.vv.platform.order();
break;

case "btnRealName":
cc.vv.popMgr.open("hall/RealName");
break;

case "btnPhoneBind":
cc.vv.popMgr.open("hall/PhoneBind");
break;

case "btnDealer":
cc.sys.openURL(cc.GAMEDEALER);
}
},
onDestroy: function() {
cc.vv.hall.removeHandler("real_name");
}
});
cc._RF.pop();
}, {} ],
NN1000Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d5121s7pR1BAJcWvfQbYeoz", "NN1000Const");
cc.Class({
extends: cc.Component,
statics: {
player5: [ {
x: -500,
y: -250,
distance: 130,
toright: 200,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -200,
y: -248,
scale: 1.2
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -535,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -535,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 513,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 202,
y: 201,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 558,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
player10: [ {
x: -500,
y: -250,
distance: 110,
toright: 220,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -380,
y: -275,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -580,
y: -60,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: -70,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 90,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 248,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -286,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -208,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 10,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 85,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: 90,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: -104,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: -115,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: -250,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: -262,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
cuopai: [ {
card: {
x: 0,
y: 0,
scale: 2
}
} ],
selfPoke5: {
x: -75,
y: -250,
distance: 50,
scale: 1
},
selfPoke10: {
x: -240,
y: -276,
distance: 50,
scale: 1
},
default_bg: "public/table/ysz_bg"
}
});
cc._RF.pop();
}, {} ],
NN1000Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b71dbv+4PRLrajFPt2oYyNC", "NN1000Game");
cc.Class({
extends: cc.Component,
properties: {
pokerPrefab: cc.Prefab,
reportItemPrefab: cc.Prefab,
reportItemMinPrefab: cc.Prefab,
pokerAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
btnAtlas: {
default: null,
type: cc.Font
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
btnKaipai: cc.Node,
btncuopai: cc.Node,
btnfanpai: cc.Node,
nodeCard: cc.Node,
nodezhuang: cc.Node,
nodeXiazhu: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeCuopai: cc.Node,
nodeCardone: cc.Node,
NodeWaitclock: cc.Node,
labelScore: cc.Label,
labelRoomwanfa: cc.Label,
sprTip: cc.Sprite,
_feng: 0,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0,
_senceDestroy: !1
},
editor: {
executionOrder: -1
},
onLoad: function() {
cc.winSize.width / cc.winSize.height - 16 / 9 > .1 && (this.node.getChildByName("bgtop").width = cc.winSize.width);
var i = e("NN1000Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "nn",
hide_nothing_seat: !0,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_5: i.player5,
player_10: i.player10,
cuopai: i.cuopai,
selfPoke_5: i.selfPoke5,
selfPoke_10: i.selfPoke10,
set_bg: !0,
location: !1,
show_watch_btn: !0,
default_bg: i.default_bg
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.node_watchgame = this.node.getChildByName("watchgame");
this.startAnimation = this.node.getChildByName("startAnimation");
this.animation = this.startAnimation.getComponent(cc.Animation);
this.initEventHandlers();
this.initEventAniamtion();
this.nodeXiazhu.children[0].myTag = 3;
this.nodeXiazhu.children[1].myTag = 5;
this.nodeXiazhu.children[2].myTag = 7;
this.nodeXiazhu.children[3].myTag = 10;
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.nnMgr = this.node.getComponent("NN1000Mgr");
var t = e("NN1000ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.nnMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
watch_game_list: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0; i < e.length; i++) if (0 != e[i].userid) {
var t = cc.vv.roomMgr.viewChairID(e[i].seatid), a = cc.vv.utils.getChildByTag(this._winPlayer, t);
0 != e[i].sitStatus ? a.getChildByName("watch_game").active = !0 : a.getChildByName("watch_game").active = !1;
}
if (this.watch_game()) {
this.new_round();
this.node_watchgame.active = !0;
this.nodeJiesuan.active = !1;
}
},
watch: function(e) {
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (i[t].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("watchgame").active = !0;
var a = this.node.getChildByName("sit");
0 == e.canSit.length ? a.active = !1 : a.active = !0;
}
if (e.userid == cc.vv.userMgr.userid) {
this.tip("zhunbei");
this.new_round();
a.active = !0;
}
},
canSit: function(e) {
var i = this.node.getChildByName("sit");
if (0 == e.canSit.length) i.active = !1; else {
cc.vv.popMgr.alert("有空位置了是否坐入", function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
this.node.getChildByName("sit") && (this.node.getChildByName("sit").active = !1);
}, !0);
i.active = !0;
}
},
error: function(e) {
-99 == e.errcode ? cc.vv.popMgr.alert("" + e.errmsg, function() {
cc.director.loadScene("hall");
}) : cc.vv.popMgr.tip("" + e.errmsg);
},
tuizhu: function(e, i) {
var t;
if (0 != (t = null != i ? e : e.tuizhu).length) {
for (var a = this.node.getChildByName("mgr").getChildByName("tuizhu"), n = a.getChildByName("btn_xiazhu_1").getChildByName("fen").getComponent(cc.Label), s = a.getChildByName("btn_xiazhu_2").getChildByName("fen").getComponent(cc.Label), c = 0; c < t.length; c++) if (t[c].userId == cc.vv.userMgr.userid) {
a.active = !0;
this.tuizhu_1_str = t[c].power2;
this.tuizhu_2_str = t[c].power;
0 == t[c].power2 && (a.getChildByName("btn_xiazhu_1").active = !1);
0 == t[c].power && (a.getChildByName("btn_xiazhu_2").active = !1);
n.string = "*" + t[c].power2;
s.string = "*" + t[c].power;
}
var o = a.getChildByName("btn_xiazhu_1").getComponent(cc.Button), h = a.getChildByName("btn_xiazhu_2").getComponent(cc.Button);
o.interactable = this.tuizhu_1_str <= e.xiaZhuRange;
h.interactable = this.tuizhu_2_str <= e.xiaZhuRange;
}
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {
e.startAnimation.active = !1;
e.animation.stop();
});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd()) {
e.new_round();
cc.vv.net2.quick("stage");
}
});
this.node.on("tuizhu", function(i) {
setTimeout(function() {
e.tuizhu(i.data);
}, 300);
}), this.node.on("error", function(i) {
e.error(i);
}), this.node.on("canSit", function(i) {
e.canSit(i.data);
});
this.node.on("watch", function(i) {
e.watch(i.data);
});
this.node.on("begin", function() {
e.watch_game_list();
}), this.node.on("user_status_change", function(i) {
e.user_status_change(i.data);
}), this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("fapai_1", function(i) {
e.fapai1Data = i.data;
e.begin();
}), this.node.on("kaiqiang", function(i) {
e.kaiqiang(i.data);
}), this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("fapai_2", function(i) {
e.fapai_2(i.data);
}), this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("fanpai", function(i) {
e.fanpai(i.data);
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
},
initEventAniamtion: function() {
this.animation.on("finished", function() {
if (this.node) {
var e = this.fapai1Data;
this.fapai_1(e);
}
}, this);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodezhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang");
break;

case "btn_qiangzhuang":
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
var t = parseInt(i);
cc.vv.net2.quick("xiazhu", {
power: t,
tuizhu: 0
});
break;

case "btn_xiazhu_1":
cc.vv.net2.quick("xiazhu", {
power: this.tuizhu_1_str,
tuizhu: 1
});
break;

case "btn_xiazhu_2":
cc.vv.net2.quick("xiazhu", {
power: this.tuizhu_2_str,
tuizhu: 1
});
break;

case "btn_cuopai":
this.cuopaiClick();
break;

case "btn_fanpai":
this.fanpaiClick();
break;

case "btn_kaipai":
this.nodeCuopai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.btnKaipai.active = !1;
cc.vv.net2.quick("kaipai");
}
cc.vv.audioMgr.click();
},
new_round: function() {
this.btnKaipai.active = !1;
this.nodezhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.NodeWaitclock.active = !1;
this.nodeCuopai.active = !1;
this.nodeCard.removeAllChildren();
this.nodeCardone.removeAllChildren();
this.node_watchgame.active = !1;
this.NodeWaitclock.getChildByName("time").getComponent(cc.Label).string = 15;
this.isFanPai = !1;
this.isCuopai = !1;
1 != this._zhuang_mode && this.table.seat_emit(null, "dingzhuang", {
seatid: null
});
this._kaipai = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
cc.vv.roomMgr.stage && (cc.vv.roomMgr.stage.stage = null);
},
begin: function() {
this.sprTip.node.active = !1;
cc.vv.audioMgr.playSFX("nn/round");
this.startAnimation.active = !0;
this.animation.play("niu_play");
},
param: function(e) {
this._wanfa = e.wanfa;
this._feng = e.feng;
this._zhuang_mode = e.zhuang;
this._zhuang = 0;
this.zhuang_mode = e.zhuang_mode;
},
ready: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("zhunbei");
this.new_round();
this.table.seat_emit(null, "hideBet");
}
},
fapai_1: function(e) {
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.deal_fapai(0, 5, e, function(e, i) {});
},
fapai_1_stage: function(e, i) {
this.hidetip();
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.show_fapai(0, 5, e, i);
},
auto_tips: function(e, i) {
var t = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (e <= 0 || null == e) t.active = !1; else {
this.text = i;
this.auto_time = e;
this.unschedule(this.upd_auto_time);
this.schedule(this.upd_auto_time, 1);
t.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !0;
}
},
upd_auto_time: function() {
var e = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (this.auto_time <= 0) {
this.unschedule(this.upd_auto_time);
e.active = !1;
}
this.auto_time--;
e.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
},
kaiqiang: function(e) {
if (e) {
this.hidetip();
null != e && this.auto_tips(e.time, "不抢庄");
if (this.isStage) {
if (1 == cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid].qiang) return;
}
switch (this.zhuang_mode) {
case 0:
this.nodezhuang.active = !0;
break;

default:
this.nodezhuang.active = !1;
}
for (var i = !1, t = 0; t < e.canSitId.length; t++) {
0 == cc.vv.roomMgr.viewChairID(e.canSitId[t]) && (i = !0);
}
this.nodezhuang.getChildByName("btn_qiangzhuang").active = i;
this.watch_game() && (this.nodezhuang.active = !1);
}
},
show_xiazhu: function() {
if (this.isStage) {
var e = cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid];
if (null == e) return;
if (0 != e.bet) {
this.hidetip();
return;
}
}
if (this.watch_game()) this.nodeXiazhu.active = !1; else {
if (0 != this._feng) {
cc.vv.net2.quick("xiazhu", {
power: this._feng
});
return;
}
this.tip("xiazhu");
this.nodeXiazhu.active = !0;
for (var i = 0; i < this.nodeXiazhu.childrenCount; i++) {
var t = this.nodeXiazhu.children[i], a = t.getComponent(cc.Button);
a.interactable = !0;
t.myTag > this._xiaZhuRange && (a.interactable = !1);
}
}
},
xiazhu: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeXiazhu.active = !1;
this.node.getChildByName("mgr").getChildByName("tuizhu").active = !1;
this.hidetip();
}
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = new cc.Node("BetNode"), a = t.addComponent(cc.Label);
a.font = this.btnAtlas;
a.string = e.power;
t.y = 6;
this.table.seat_emit(i, "bet", {
node: t
});
},
fapai_2: function(e) {
this.auto_tips(e.time, "开牌");
this.hidetip();
this.data = e;
this.schedule(this.otherTimeUpdate, 1);
if (1 != cc.vv.roomMgr.is_replay) {
if (3 != this._wanfa) {
this.btncuopai.active = !0;
this.btnfanpai.active = !0;
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !0;
}
if (1 == this.watch_game()) {
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
},
watch_game: function() {
var e = !1, i = cc.vv.roomMgr.table.list;
if (!cc.vv.roomMgr.is_replay) for (var t = cc.vv.roomMgr.guanzhan_table.list, a = 0; a < t.length; a++) 0 != t[a].userid && t[a].userid == cc.vv.userMgr.userid && (e = !0);
for (a = 0; a < i.length; a++) if (0 != i[a].userid && 0 != i[a].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(i[a].seatid) && (e = !0);
}
return e;
},
dingzhuang: function(e) {
var i = this;
this.auto_tips(e.time, "下注最小注");
this._zhuang = e.seatid;
this._xiaZhuRange = e.xiaZhuRange;
this.nodezhuang.active = !1;
var t = this.watch_game();
this.table.dingzhuang(e, function() {
var a = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: a
});
1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != e.seatid ? 1 != t && i.show_xiazhu() : i.tip("otherxiazhu"));
});
},
kaipai_callback: function(e, i, t, a, n, s) {
if (4 == t) {
var c = e, o = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], h = o[i].pos.card, r = o[i].toright, l = o[i].scale, d = new cc.Node("TypeBg"), g = new cc.Node("TypeNode"), u = new cc.Node("Typebei");
d.addComponent(cc.Sprite).spriteFrame = a >= 200 ? c.typeAtlas.getSpriteFrame("btn_bg3") : a % 10 == 5 ? c.typeAtlas.getSpriteFrame("btn_bg2") : c.typeAtlas.getSpriteFrame("btn_bg1");
var _ = "nn_" + a;
g.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(_);
var v = "x" + n;
u.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(v);
d.addChild(g);
d.addChild(u);
u.y = -40;
c.nodeCard.addChild(d);
d.zIndex = 100;
d.scale = l;
d.x = h.x + r;
d.y = h.y - 20;
if (null != s) {
var p = [], m = !1;
if (null != a && a >= 150) m = !1; else if (null != a && a % 10 == 5) {
p = c.isHaveZuo(s);
m = !0;
} else if (null != a && a % 10 == 0) {
p = c.isHaveNiu(s);
m = !0;
} else m = !1;
for (var f = 0; f < 5; ++f) 1 == m && c.isInArray(p, f) && c.send_card_emit(i, f, "top");
}
}
},
kaipai: function(e) {
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.play_nn_mp3(e.seatid, e.type);
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("kaipai");
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
this.show_jiaobiao(i);
if (0 == i) {
for (var t = 0; t < 5; ++t) {
var a = {
obj: this,
viewid: i,
index: t,
value: e.pai[t],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate
};
this.send_card_emit(i, t, "kaipai", a);
}
var n = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (t = 0; t < 5; ++t) {
a = {
obj: this,
viewid: i,
index: t,
type: e.type,
rate: e.rate,
x: n.x + t * n.distance,
y: n.y,
scale: n.scale,
pai: e.pai,
callback: this.kaipai_callback
};
this.send_card_emit(i, t, "shousuo", a);
}
} else for (t = 0; t < 5; ++t) {
a = {
obj: this,
viewid: i,
index: t,
value: e.pai[t],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate,
pai: e.pai,
callback: this.kaipai_callback
};
this.send_card_emit(i, t, "trun", a);
}
}
},
user_status_change: function(e) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) if (0 != i[t].userid) {
if (1 == e.change_item[t]) {
0 == cc.vv.roomMgr.viewChairID(t) && (this._my_isin_game = !0);
}
i[t].sitStatus = e.change_item[t];
}
},
new_real: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0, t = 0, a = 0; a < e.length; a++) {
0 != e[a].userid && t++;
var n = cc.vv.roomMgr.getSeatIndexByID(e[a].userid);
0 != e[a].sitStatus ? i++ : 0 == n && (this._my_isin_game = !1);
}
return t - i;
},
auto_ready: function() {
this.autoready--;
this.nodeJiesuan.getChildByName("btn_ready").getChildByName("lbl").getComponent(cc.Label).string = this.autoready;
if (this.autoready <= 0) {
this.autoready = 0;
this.unschedule(this.auto_ready);
}
},
jiesuan: function(e) {
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
this.autoready = 10;
this.schedule(this.auto_ready, 1);
var i = this;
this.hidetip();
this.nodeCuopai.active = !1;
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var t = cc.vv.roomMgr.table.list;
if (null == cc.vv.roomMgr.stage || null != cc.vv.roomMgr.stage && 97 != cc.vv.roomMgr.stage.stage) {
for (var a = 0; a < cc.vv.roomMgr.ren; ++a) if (0 == t[a].sitStatus) {
var n = cc.vv.roomMgr.viewChairID(a);
if (1 != this._kaipai[e.list[a].seatid]) {
i.show_jiaobiao(n);
if (e.list[a].seatid == cc.vv.roomMgr.seatid) {
for (var s = 0; s < 5; ++s) {
var c = {
obj: this,
viewid: n,
index: s,
value: e.list[a].hand[s],
rate: e.list[a].rate,
type: e.list[a].type,
atlas: this.pokerAtlas
};
i.send_card_emit(n, s, "kaipai", c);
}
var o = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (s = 0; s < 5; ++s) {
c = {
obj: i,
viewid: n,
index: s,
type: e.list[a].type,
rate: e.list[a].rate,
x: o.x + s * o.distance,
y: o.y,
scale: o.scale,
pai: e.list[a].hand,
callback: this.kaipai_callback
};
i.send_card_emit(n, s, "shousuo", c);
}
} else for (s = 0; s < 5; ++s) {
c = {
obj: i,
viewid: n,
index: s,
value: e.list[a].hand[s],
type: e.list[a].type,
rate: e.list[a].rate,
atlas: i.pokerAtlas,
pai: e.list[a].hand,
callback: this.kaipai_callback
};
i.send_card_emit(n, s, "trun", c);
}
this.play_nn_mp3(a, e.list[a].type);
}
}
} else for (a = 0; a < t.length; ++a) if (0 != t[a].userid) {
if (0 == (n = cc.vv.roomMgr.viewChairID(a))) {
if (0 != t[a].sitStatus) continue;
var h = e.list[a].hand, r = !1;
this.show_fapai_stage(n, 0, 5, h, r, function(e, i) {});
for (o = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren], s = 0; s < 5; ++s) {
c = {
obj: i,
viewid: n,
index: s,
type: e.list[a].type,
rate: e.list[a].rate,
x: o.x + s * o.distance,
y: o.y,
scale: o.scale,
pai: e.list[a].hand,
callback: this.kaipai_callback
};
i.send_card_emit(n, s, "shousuo", c);
}
} else {
h = e.list[a].hand, r = !1;
this.show_fapai_stage(n, 0, 5, h, r, function(t, n) {
4 == n && i.kaipai_callback(i, t, n, e.list[a].type, e.list[a].rate, e.list[a].hand);
});
}
}
var l = 0;
for (a = 0; a < e.list.length; a++) 0 != e.list[a].userid && l++;
var d = [], g = (t = cc.vv.roomMgr.table.list, 0);
for (s = 0; s < t.length; s++) 0 != t[s].userid && 0 != t[s].sitStatus && (d[g++] = t[s]);
for (a = 0; a < l; ++a) {
n = cc.vv.roomMgr.viewChairID(a);
0 == e.list[a].userSitStatus && i.table.seat_emit(n, "score", e.list[a].user_score);
e.list[a].round_score > 0 ? i.table.seat_emit(n, "win", e.list[a].round_score) : i.table.seat_emit(n, "lost", e.list[a].round_score);
}
var u = this.nodeJiesuan.getChildByName("list");
for (a = 0; a < u.children.length; ++a) u.children[a].active = !1;
var _ = -1, v = !0, p = 0, m = [];
for (a = 0, s = 0; a < e.list.length; ++a) 0 != e.list[a].userid && (m[s++] = e.list[a]);
e.list = m;
l = e.list.length;
for (a = 0; a < l; ++a) if (0 != e.list[a].userid) {
if (0 == (n = cc.vv.roomMgr.viewChairID(e.list[a].seatid)) || 1 != v) {
v = !1;
p++;
var f = e.list[a].nickname, y = this.table.seat_img(n);
(w = u.getChildByName("item" + (a - (_ + 1)))).active = !0;
w.getChildByName("img").getComponent(cc.Sprite).spriteFrame = y;
w.getChildByName("name").getComponent(cc.Label).string = f;
var C = "nn_" + e.list[a].type;
w.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(C);
w.getChildByName("zhuang").active = a == e.zhuang;
var b = w.getChildByName("score").getComponent(cc.Label);
if (e.list[a].round_score > 0) {
b.font = i.winFont;
b.string = "+" + cc.vv.utils.numInt(e.list[a].round_score);
} else if (e.list[a].round_score < 0) {
b.font = i.lostFont;
b.string = cc.vv.utils.numInt(e.list[a].round_score);
} else {
b.font = i.winFont;
b.string = cc.vv.utils.numInt(e.list[a].round_score);
}
if (1 == e.list[a].userSitStatus) {
w.getChildByName("watch").active = !0;
b.string = "-";
} else w.getChildByName("watch").active = !1;
} else _ = a;
}
for (a = 0; a < l; ++a) 0 == e.list[a].userSitStatus && 0;
for (a = 0; a < _ + 1; ++a) {
var w;
n = cc.vv.roomMgr.viewChairID(e.list[a].seatid), f = e.list[a].nickname, y = this.table.seat_img(n);
(w = u.getChildByName("item" + (a + p))).active = !0;
w.getChildByName("img").getComponent(cc.Sprite).spriteFrame = y;
w.getChildByName("name").getComponent(cc.Label).string = f;
C = "nn_" + e.list[a].type;
w.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(C);
b = w.getChildByName("score").getComponent(cc.Label);
if (e.list[a].round_score > 0) {
b.font = i.winFont;
b.string = "+" + cc.vv.utils.numInt(e.list[a].round_score);
} else if (e.list[a].round_score < 0) {
b.font = i.lostFont;
b.string = cc.vv.utils.numInt(e.list[a].round_score);
} else {
b.font = i.winFont;
b.string = cc.vv.utils.numInt(e.list[a].round_score);
}
if (1 == e.list[a].userSitStatus) {
w.getChildByName("watch").active = !0;
b.string = "-";
} else w.getChildByName("watch").active = !1;
w.getChildByName("zhuang").active = a == e.zhuang;
}
cc.vv.audioMgr.playSFX("nn/chips");
var x = i.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), z = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_left").getComponent(cc.Sprite), k = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_right").getComponent(cc.Sprite), M = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_left").getComponent(cc.Sprite), j = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_right").getComponent(cc.Sprite);
function N(e) {
if (1 == e) {
x.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shengli");
z.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
k.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
M.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
j.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
} else {
x.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shibai");
z.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
k.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
M.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
j.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
}
for (a = 0; a < l; a++) {
if (0 == (n = cc.vv.roomMgr.viewChairID(e.list[a].seatid))) if (e.list[a].round_score < 0) {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3, i);
N(0);
} else {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3, i);
N(1);
}
}
if (1 == this.watch_game()) {
x.spriteFrame = i.jiesuanAtlas.getSpriteFrame("guanzhan");
z.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
k.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
M.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
j.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
}
function S() {
i._senceDestroy || (i.nodeJiesuan.active = !0);
}
var F = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
cc.vv.roomMgr.is_replay ? setTimeout(function() {
S();
}, 5e3) : setTimeout(function() {
S();
}, 2e3);
for (a = 0; a < l; a++) {
var B = cc.callFunc(function() {});
if (e.list[a].seatid != this._zhuang) if (e.list[a].round_score < 0) {
var T = cc.vv.roomMgr.viewChairID(e.list[a].seatid), A = cc.vv.roomMgr.viewChairID(this._zhuang);
this.playBetByXY(this._winPlayer, F[T].x, F[T].y, F[A].x, F[A].y, 10, B);
} else if (e.list[a].round_score > 0) {
T = cc.vv.roomMgr.viewChairID(this._zhuang), A = cc.vv.roomMgr.viewChairID(e.list[a].seatid);
this.playBetByXY(this._winPlayer, F[T].x, F[T].y, F[A].x, F[A].y, 10, B);
}
}
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
report: function(e) {
this.nodeCuopai.active = !1;
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.nodeReport.getChildByName("otherScore").getComponent(cc.Label).string = "其他:" + e.otherScore;
this.labelRoomwanfa.string = "玩法：" + e.desc;
for (var i = 0, t = 0; t < e.list.length; t++) 0 == e.list[t].hasJoinedBattle && i++;
var a, n = 0;
for (t = 0; t < e.list.length; ++t) e.list[t].userid > 0 && n++;
this.table.hide_dismiss_room();
(a = n - i <= 5 ? this.nodeReport.getChildByName("list1") : this.nodeReport.getChildByName("list2")).removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
var s = 0;
for (t = 0; t < e.list.length; ++t) e.list[t].result_score > s && (s = e.list[t].result_score);
var c = 0;
for (t = 0; t < e.list.length; ++t) if (e.list[t].result_score < c) {
c = e.list[t].result_score;
t;
}
for (t = 0; t < n; ++t) if (0 != e.list[t].userid && 1 == e.list[t].hasJoinedBattle) {
var o, h = cc.vv.roomMgr.viewChairID(t), r = {
name: e.list[t].name,
userid: e.list[t].userid,
headimg: e.list[t].headimg,
score: e.list[t].result_score,
dayingjia: e.list[t].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[t].result_score == c
};
r.datuhao = !1;
o = n - i <= 5 ? cc.instantiate(this.reportItemPrefab) : cc.instantiate(this.reportItemMinPrefab);
a.addChild(o);
o.emit("info", r);
0 == h && (this.labelScore.string = "+" + e.list[t].coins);
}
},
qiangzhuang: function(e) {
e.seatid == cc.vv.roomMgr.seatid && (this.nodezhuang.active = !1);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.table.seat_emit(i, "qiangzhuang");
},
stage: function(e) {
if (null != e.ready) {
this.new_round();
this.watch_game_list();
cc.vv.roomMgr.stage = e;
cc.vv.roomMgr.stage && (this.isStage = !0);
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
this.node.getChildByName("mgr").getChildByName("hud").emit("round");
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
switch (e.stage) {
case 1:
case 2:
this.auto_tips(e.deal_time, "不抢庄");
var i = cc.vv.roomMgr.param.wanfa, t = e.cards;
if (1 == i) t[4] = 0; else if (2 == i) {
t[3] = 0;
t[4] = 0;
} else if (3 == i) {
t[0] = 0;
t[1] = 0;
t[2] = 0;
t[3] = 0;
t[4] = 0;
}
this.fapai_1_stage({
pai: t
});
this.fapai1Data = e;
0 == e.isqiangzhuang && 2 == e.stage && this.kaiqiang();
break;

case 3:
this._xiaZhuRange = e.xiaZhuRange;
0 != e.tuizhuArr.length && this.tuizhu({
tuizhu: e.tuizhuArr,
xiaZhuRange: e.xiaZhuRange
});
this.auto_tips(e.deal_time, "下注最小注");
this._zhuang = e.zhuang;
var a = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: a
});
this.fapai_1_stage({
pai: e.cards
});
this.fapai1Data = e;
for (var n = e.bet, s = 0; s < n.length; s++) 0 != n[s].bet && this.xiazhu({
seatid: s,
power: n[s].bet
});
if (cc.vv.roomMgr.seatid != e.zhuang) {
this.tip("xiazhu");
this.show_xiazhu();
} else this.tip("otherxiazhu");
break;

case 4:
this.auto_tips(e.deal_time, "开牌");
this._zhuang = e.zhuang;
a = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: a
});
t = cc.vv.utils.deepCopy(e).cards;
this.data = e;
this.data.pai = e.cards;
if (0 == e.iskaipai) {
if (1 == (i = cc.vv.roomMgr.param.wanfa)) t[4] = 0; else if (2 == i) {
t[3] = 0;
t[4] = 0;
} else if (3 == i) {
t[0] = 0;
t[1] = 0;
t[2] = 0;
t[3] = 0;
t[4] = 0;
}
}
this.fapai_1_stage({
pai: t
});
for (n = e.bet, s = 0; s < n.length; s++) 0 != n[s].bet && this.xiazhu({
seatid: s,
power: n[s].bet
});
if (1 != cc.vv.roomMgr.is_replay) {
if (3 == this._wanfa) if (0 == e.iskaipai) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !0;
this.btncuopai.active = !1;
} else {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
} else if (0 == e.iskaipai) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !0;
this.btncuopai.active = !0;
} else {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
}
if (this.watch_game()) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
}
} else {
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
break;

case 97:
1 == e.ready && (this.node.getChildByName("watchgame").active = !1);
this._zhuang = e.zhuang;
a = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: a
});
}
this.isStage = !1;
cc.vv.roomMgr.stage && (cc.vv.roomMgr.stage.stage = null);
}
},
deal_fapai: function(e, i, t, a) {
var n = this, s = t.pai;
if (null != s) {
for (var c = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], o = [], h = [], r = [], l = 0, d = cc.vv.roomMgr.table.list, g = 0; g < d.length; g++) 0 != d[g].userid && l++;
l = cc.vv.roomMgr.ren;
for (g = 0; g < l; ++g) for (var u = cc.vv.roomMgr.viewChairID(g), _ = 0, v = c[u].pos.card, p = (c[u].scale, 
e); p < i; p++) if (0 == d[g].sitStatus) {
0 == u && (_ = s[p]);
var m = {
obj: n,
viewid: u,
index: p,
time: p,
atlas: n.pokerAtlas,
value: _,
x: v.x + p * c[u].distance,
y: v.y,
scale: v.scale,
callback: a
}, f = {
obj: n,
viewid: u,
index: p,
time: p,
atlas: n.pokerAtlas,
value: _,
x: v.x + p * c[u].distance,
y: v.y,
scale: v.scale,
callback: a
};
(b = cc.instantiate(this.pokerPrefab)).getComponent("NNPoker").node.scale = .8;
h.push(f);
r.push(m);
o.push(b);
this.nodeCard.addChild(b);
b.myTag = m.viewid + "_" + m.index;
}
for (var y = r.length, C = (a = function(e, i) {
for (var t = 0; t < y; t++) {
o[t].zIndex = t;
}
if (0 == e && 4 == i) for (var a = 0; a < y; a++) {
var s = r[a];
0 != s.value && n.send_card_emit(s.viewid, s.index, "trun", s);
}
}, 0); C < y; C++) {
var b;
(b = o[C]).zIndex = y - C;
var w = h[C];
w.value = 0;
5 == cc.vv.roomMgr.ren && (w.time = C);
w.callback = a;
b.emit("fapai", w);
}
}
},
show_fapai: function(e, i, t, a, n) {
var s = this.isStage, c = t.pai;
if (null != c) {
for (var o = 0, h = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], r = cc.vv.roomMgr.table.list, l = 0; l < r.length; l++) 0 != r[l].userid && o++;
o = cc.vv.roomMgr.ren;
for (l = 0; l < o; ++l) for (var d = cc.vv.roomMgr.viewChairID(l), g = 0, u = h[d].pos.card, _ = (h[d].scale, 
e); _ < i; _++) if (0 == r[l].sitStatus) {
0 == d && (g = c[_]);
var v = {
obj: this,
viewid: d,
index: _,
time: _,
atlas: this.pokerAtlas,
value: g,
x: u.x + _ * h[d].distance,
y: u.y,
scale: u.scale,
callback: n
}, p = cc.instantiate(this.pokerPrefab);
p.getComponent("NNPoker");
this.nodeCard.addChild(p);
p.myTag = v.viewid + "_" + v.index;
p.emit("show", v);
}
a && 1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu(s) : this.tip("otherxiazhu"));
}
},
show_fapai_stage: function(e, i, t, a, n, s) {
for (var c = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], o = c[e].pos.card, h = (c[e].scale, 
i); h < t; h++) {
var r = {
obj: this,
viewid: e,
index: h,
time: h,
atlas: this.pokerAtlas,
value: a[h],
x: o.x + h * c[e].distance,
y: o.y,
scale: o.scale,
callback: s
}, l = cc.instantiate(this.pokerPrefab);
l.getComponent("NNPoker");
this.nodeCard.addChild(l);
l.myTag = r.viewid + "_" + r.index;
l.emit("show", r);
}
},
tip: function(e) {
if (null != e) {
var i = "tips_" + e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
this.watch_game() && (this.sprTip.node.active = !1);
} else this.sprTip.node.active = !1;
},
hidetip: function() {
this.sprTip.node.active = !1;
},
play_nn_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "nn/" + t + "/nn_" + i;
cc.vv.audioMgr.playSFX(a);
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeCard, n);
s && s.emit(t, a);
},
fanpaiClick: function() {
var e = this;
if (!this.isFanPai) {
this.isFanPai = !0;
for (var i = function(i, t, a, n) {
if (0 == t && 4 == a) {
e.btncuopai.active = !1;
e.btnfanpai.active = !1;
e.btnKaipai.active = !0;
}
}, t = 0; t < 5; ++t) {
var a = {
viewid: 0,
obj: this,
type: 0,
index: t,
atlas: e.pokerAtlas,
value: e.data.pai[t],
rate: e.data.rate,
callback: i
};
e.send_card_emit(0, t, "kaipai", a);
}
}
},
fanpai: function(e) {
for (var i = this, t = function(e, t, a, n) {
i.show_jiaobiao(t);
}, a = 0; a < 5; ++a) {
var n = {
viewid: 0,
obj: this,
type: 0,
index: a,
atlas: i.pokerAtlas,
value: e.pai[a],
callback: t
};
i.send_card_emit(0, a, "kaipai", n);
}
},
cuopaiClick: function() {
if (!this.isCuopai) {
this.isCuopai = !0;
1 == this._wanfa ? this.cuopaiOnePai() : this.cuopaiTwoPai();
}
},
cuopaiOnePai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var i = cc.vv.game.config.cuopai, t = 0, a = 0, n = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[4],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, s = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(s);
s.scale = 1;
s.zIndex = 0;
s.emit("fapai", n);
var c = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, o = cc.instantiate(this.pokerPrefab), h = o.getChildByName("card");
this.nodeCardone.addChild(o);
h.setPosition(0, 0);
o.scale = 1;
o.zIndex = 0;
o.getChildByName("card").setContentSize(cc.size(171, 218));
o.emit("fapai", c);
h.on("touchmove", function(e) {
var i = e.touch.getDelta(), n = i.x / 2, s = i.y / 2;
t += n;
a += s;
h.setPosition(h.x + n, h.y + s);
}, this);
h.on("touchend", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
h.on("touchcancel", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
},
cuopaiTwoPai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.btnKaipai.active = !1;
var i = cc.vv.game.config.cuopai, t = function(e, i, t, a) {}, a = 0, n = 0, s = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[4],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, c = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(c);
c.scale = 1;
c.emit("fapai", s);
var o = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[3],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, h = cc.instantiate(this.pokerPrefab), r = h.getChildByName("card");
this.nodeCardone.addChild(h);
r.setPosition(0, 0);
h.scale = 1;
h.emit("fapai", o);
var l = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, d = cc.instantiate(this.pokerPrefab), g = d.getChildByName("card");
this.nodeCardone.addChild(d);
g.setPosition(0, 0);
d.scale = 1;
d.getChildByName("card").setContentSize(cc.size(171, 218));
d.emit("fapai", l);
function u() {
r.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
r.setPosition(r.x + t, r.y + s);
}, e);
r.on("touchend", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
r.on("touchcancel", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
}
g.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
g.setPosition(g.x + t, g.y + s);
}, this);
g.on("touchend", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
g.on("touchcancel", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
},
show_jiaobiao: function(e) {
if (1 == this._wanfa) this.send_card_emit(e, 4, "setType", 2); else if (2 == this._wanfa) {
this.send_card_emit(e, 3, "setType", 1);
this.send_card_emit(e, 4, "setType", 2);
}
},
otherTimeUpdate: function() {
var e = this.NodeWaitclock.getChildByName("time").getComponent(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
getVectorRadians: function(e, i) {
var t = t = Math.abs(e) / Math.abs(i), a = 0;
e > 0 && i < 0 ? a = 180 * Math.atan(t) / Math.PI - 90 : e > 0 && i > 0 ? a = 90 - 180 * Math.atan(t) / Math.PI : e < 0 && i < 0 ? a = 180 * -Math.atan(t) / Math.PI - 90 : e < 0 && i > 0 && (a = 180 * Math.atan(t) / Math.PI + 90);
return a;
},
isHaveNiu: function(e) {
for (var i, t, a = [], n = [], s = -1, c = [ 0, 0, 0, 0, 0 ], o = 0, h = [], r = -1, l = [], d = 0, g = [], u = 0; u < 5; u++) e[u] < 255 && (c[u] = e[u]);
for (u = 0; u < c.length; u++) if (95 == c[u] || 79 == c[u]) {
l[d] = c[u];
d++;
} else h[o++] = c[u];
if (1 == d) {
r = 11;
var _ = 0;
for (u = 0; u < h.length; u++) {
(v = h[u] % 16) > 10 && (v = 10);
_ += v;
}
for (u = 0; u < h.length; u++) {
var v;
(v = h[u] % 16) > 10 && (v = 10);
if ((_ - v) % 10 == 0) {
if (v < r) {
s = r = v;
i = h[u] % 16;
}
}
}
if (11 != r) for (u = 0; u < c.length; u++) 95 != c[u] && 79 != c[u] && i != c[u] % 16 && n.push(u);
r = -1;
for (u = 0; u < h.length; u++) for (var p = 0; p < h.length; p++) if (u != p) {
var m = h[u] % 16;
m > 10 && (m = 10);
(y = h[p] % 16) > 10 && (y = 10);
var f = m + y;
if (0 == (f %= 10)) {
r = f;
i = h[u];
t = h[p];
} else if (f > r && 0 != r) {
r = f;
i = h[u];
t = h[p];
}
}
g.push(l[0]);
g.push(i);
g.push(t);
if ((i % 16 + t % 16) % 10 == 0 && -1 != s) for (u = 0; u < c.length; u++) 95 != c[u] && 79 != c[u] && c[u] % 16 != s && a.push(u); else for (u = 0; u < c.length; u++) g.indexOf(c[u]) > -1 && 95 != c[u] && 79 != c[u] || a.push(u);
} else if (2 == d) {
return a;
var y;
} else for (u = 0; u < c.length; u++) for (var C = u + 1; C < c.length; C++) for (var b = C + 1; b < c.length; b++) {
var w = c[u] % 16, x = c[C] % 16, z = c[b] % 16;
w > 10 && (w = 10);
x > 10 && (x = 10);
z > 10 && (z = 10);
if (0 != w || 0 != x || 0 != z) {
if ((w + x + z) % 10 == 0) {
a.push(u);
a.push(C);
a.push(b);
return a;
}
}
}
return 0 == r ? a : -1 != s ? n : a;
},
isHaveZuo: function(e) {
for (var i = [], t = [ 0, 0, 0, 0, 0 ], a = 0; a < 5; a++) e[a] < 255 && (t[a] = e[a]);
for (a = 0; a < t.length; a++) for (var n = a + 1; n < t.length; n++) for (var s = n + 1; s < t.length; s++) {
var c = t[a] % 16, o = t[n] % 16, h = t[s] % 16;
if (c == o && o == h && 0 != c) {
i.push(a);
i.push(n);
i.push(s);
return i;
}
}
return i;
},
isInArray: function(e, i) {
for (var t = 0; t < e.length; t++) if (i === e[t]) return !0;
return !1;
},
onDestroy: function() {
this._senceDestroy = !0;
cc.isValid(this.animation) && this.animation.off("finished");
cc.loader.setAutoRelease(this, !0);
}
});
cc._RF.pop();
}, {
NN1000Const: "NN1000Const",
NN1000ReplayMgr: "NN1000ReplayMgr"
} ],
NN1000Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b8c4608RBJKqpLGzcBp/geC", "NN1000Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doFapai: function(e) {
for (var i = e.length, t = 0; t < i; t++) {
var a = cc.vv.roomMgr.param.wanfa;
if (0 == cc.vv.roomMgr.viewChairID(t)) if (1 == a) {
(n = e[t])[4] = 0;
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
} else if (2 == a) {
(n = e[t])[3] = 0;
n[4] = 0;
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
} else {
var n = e[t];
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
}
}
},
doDingZhuang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doXiaZhu: function(e) {
for (var i = e.length, t = 0; t < i; t++) 0 != e[t] && this.dispatchEvent("xiazhu", {
data: {
seatid: t,
power: e[t]
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
0 == cc.vv.roomMgr.viewChairID(t) && this.dispatchEvent("fanpai", {
data: {
seatid: t,
pai: e[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
NN1000ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "ce40ek5FAZBsacuZFiTszYf", "NN1000ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.nnMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.action) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.nnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return .5;
}
if ("faPai" == e.action) {
cc.vv.nnMgr.doFapai(e.data);
return 3;
}
if ("dingZhuang" == e.action) {
cc.vv.nnMgr.doDingZhuang(e.data);
return 2;
}
if ("xiaZhu" == e.action) {
cc.vv.nnMgr.doXiaZhu(e.data);
return 2;
}
if ("hand" == e.action) {
cc.vv.nnMgr.doKaipai(e.data);
return 2;
}
}
});
cc._RF.pop();
}, {} ],
NN1001Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a0e6bJgxTdE3Zypv7wGFUBQ", "NN1001Const");
cc.Class({
extends: cc.Component,
statics: {
player5: [ {
x: -500,
y: -250,
distance: 130,
toright: 200,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -200,
y: -248,
scale: 1.2
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -535,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -535,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 513,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 202,
y: 201,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 558,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
player10: [ {
x: -500,
y: -250,
distance: 110,
toright: 220,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -380,
y: -276,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -580,
y: -60,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: -75,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 60,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 248,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -286,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -208,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 10,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 85,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: 87,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: -104,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: -70,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: -250,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: -262,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
cuopai: [ {
card: {
x: 0,
y: 0,
scale: 2
}
} ],
selfPoke5: {
x: -75,
y: -250,
distance: 50,
scale: 1
},
selfPoke10: {
x: -240,
y: -276,
distance: 50,
scale: 1
},
default_bg: "public/table/ysz_bg"
}
});
cc._RF.pop();
}, {} ],
NN1001Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "75c43Bj2OVIKq77UHlpWjUl", "NN1001Game");
cc.Class({
extends: cc.Component,
properties: {
pokerPrefab: cc.Prefab,
reportItemPrefab: cc.Prefab,
reportItemMinPrefab: cc.Prefab,
pokerAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
btnAtlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
fontBet: {
default: null,
type: cc.Font
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
nodeKaipai: cc.Node,
btncuopai: cc.Node,
btnfanpai: cc.Node,
nodeCard: cc.Node,
nodezhuang: cc.Node,
nodeXiazhu: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeCuopai: cc.Node,
nodeCardone: cc.Node,
NodeWaitclock: cc.Node,
nodeQie: cc.Node,
nodeGuo: cc.Node,
labelScore: cc.Label,
labelRoomwanfa: cc.Label,
labelMax: cc.Label,
labelSmall: cc.Label,
labelFen: cc.Label,
labelGuofen: cc.Label,
sprTip: cc.Sprite,
xiazhuSli: cc.Slider,
_feng: 0,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0
},
editor: {
executionOrder: -1
},
onLoad: function() {
cc.winSize.width / cc.winSize.height - 16 / 9 > .1 && (this.node.getChildByName("bgtop").width = cc.winSize.width);
var i = e("NN1001Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "jgnn",
hide_nothing_seat: !0,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_5: i.player5,
player_10: i.player10,
cuopai: i.cuopai,
selfPoke_5: i.selfPoke5,
selfPoke_10: i.selfPoke10,
set_bg: !0,
location: !1,
show_watch_btn: !1,
default_bg: i.default_bg
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.startAnimation = this.node.getChildByName("startAnimation");
this.animation = this.startAnimation.getComponent(cc.Animation);
this.initEventHandlers();
this.initEventAniamtion();
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.jgnnMgr = this.node.getComponent("NN1001Mgr");
var t = e("NN1001ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.jgnnMgr.prepareReplay(cc.vv.roomMgr.jiesuan);
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {
e.startAnimation.active = !1;
e.animation.stop();
});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd()) {
e.new_round();
cc.vv.net2.quick("stage");
}
});
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("init_data", function(i) {
e.init_data(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function() {}), this.node.on("kaiqiang", function(i) {
e.kaiqiang(i.data);
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
}), this.node.on("fapai_1", function(i) {
e.fapai1Data = i.data;
e.fapai_1_animation();
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("fapai_2", function(i) {
e.fapai_2(i.data);
}), this.node.on("fanpai", function(i) {
e.fanpai(i.data);
}), this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
cc.vv.roomMgr.jiesuan = i.data;
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
},
initEventAniamtion: function() {
this.animation.on("finished", function() {
if (this.node) {
var e = this.fapai1Data;
this.fapai_1(e, !0);
}
}, this);
},
param: function(e) {
this._wanfa = e.wanfa;
this._feng = 0;
this._zhuang_mode = e.zhuang;
this._zhuang = 0;
cc.vv.roomMgr.is_replay || (this.labelGuofen.string = e.guo);
},
init_data: function(e) {
this.labelGuofen.string = e.init_data.guo;
},
ready: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("zhunbei");
this.new_round();
this.table.seat_emit(null, "hideBet");
}
},
kaiqiang: function(e) {
if (e) {
this.hidetip();
if (this.isStage) {
if (1 == cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid].qiang) return;
}
this.nodezhuang.active = !0;
}
},
qiangzhuang: function(e) {
e.seatid == cc.vv.roomMgr.seatid && (this.nodezhuang.active = !1);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.table.seat_emit(i, "qiangzhuang");
},
dingzhuang: function(e) {
var i = this;
this._zhuang = e.seatid;
this.nodezhuang.active = !1;
this.table.dingzhuang(e, function() {
var t = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: t
});
});
},
fapai_1_animation: function() {
this.sprTip.node.active = !1;
cc.vv.audioMgr.playSFX("nn/round");
this.startAnimation.active = !0;
this.animation.play("niu_play");
},
fapai_1: function(e, i) {
this.hidetip();
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.deal_fapai(0, 5, e, i, function(e, i) {});
},
fapai_1_stage: function(e, i) {
this.hidetip();
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.show_fapai(0, 5, e, i, function(e, i) {});
},
deal_fapai: function(e, i, t, a, n) {
var s = this, c = this.isStage, o = t.pai;
if (null != o) {
for (var h = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], r = [], l = [], d = [], g = 0; g < cc.vv.roomMgr.real; ++g) for (var u = cc.vv.roomMgr.viewChairID(g), _ = 0, v = h[u].pos.card, p = (h[u].scale, 
e); p < i; p++) {
0 == u && (_ = o[p]);
var m = {
obj: s,
viewid: u,
index: p,
time: p,
atlas: s.pokerAtlas,
value: _,
x: v.x + p * h[u].distance,
y: v.y,
scale: v.scale,
callback: n
}, f = {
obj: s,
viewid: u,
index: p,
time: p,
atlas: s.pokerAtlas,
value: _,
x: v.x + p * h[u].distance,
y: v.y,
scale: v.scale,
callback: n
};
(b = cc.instantiate(this.pokerPrefab)).getComponent("NNPoker").node.scale = .8;
l.push(f);
d.push(m);
r.push(b);
this.nodeCard.addChild(b);
b.myTag = m.viewid + "_" + m.index;
}
for (var y = d.length, C = (n = function(e, i) {
if (0 == e && 4 == i) {
for (var t = 0; t < y; t++) {
var n = d[t];
r[t].zIndex = t;
0 != n.value && s.send_card_emit(n.viewid, n.index, "trun", n);
}
a && 1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != s._zhuang ? s.show_xiazhu(c) : s.tip("otherxiazhu"));
}
}, 0); C < y; C++) {
var b;
(b = r[C]).zIndex = y - C;
var w = l[C];
w.value = 0;
5 == cc.vv.roomMgr.ren && (w.time = C);
w.callback = n;
b.emit("fapai", w);
}
}
},
show_fapai: function(e, i, t, a, n) {
var s = this.isStage, c = t.pai;
if (null != c) {
for (var o = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], h = 0; h < cc.vv.roomMgr.real; ++h) for (var r = cc.vv.roomMgr.viewChairID(h), l = 0, d = o[r].pos.card, g = (o[r].scale, 
e); g < i; g++) {
0 == r && (l = c[g]);
var u = {
obj: this,
viewid: r,
index: g,
time: g,
atlas: this.pokerAtlas,
value: l,
x: d.x + g * o[r].distance,
y: d.y,
scale: d.scale,
callback: n
}, _ = cc.instantiate(this.pokerPrefab);
_.getComponent("NNPoker");
this.nodeCard.addChild(_);
_.myTag = u.viewid + "_" + u.index;
_.emit("show", u);
}
a && 1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu(s) : this.tip("otherxiazhu"));
}
},
show_fapai_stage: function(e, i, t, a, n, s) {
for (var c = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], o = c[e].pos.card, h = (c[e].scale, 
i); h < t; h++) {
var r = {
obj: this,
viewid: e,
index: h,
time: h,
atlas: this.pokerAtlas,
value: a[h],
x: o.x + h * c[e].distance,
y: o.y,
scale: o.scale,
callback: s
}, l = cc.instantiate(this.pokerPrefab);
l.getComponent("NNPoker");
this.nodeCard.addChild(l);
l.myTag = r.viewid + "_" + r.index;
l.emit("show", r);
}
},
show_xiazhu: function(e) {
if (e) {
if (0 != cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid].bet) {
this.hidetip();
return;
}
}
if (0 == this._feng) {
this.tip("xiazhu");
var i = this.fapai1Data._xiaZhuRange[1], t = this.fapai1Data._xiaZhuRange[0];
this.labelSmall.string = t;
this.labelMax.string = i;
this.labelFen.string = t;
this.nodeXiazhu.active = !0;
} else cc.vv.net2.quick("xiazhu", {
power: this._feng
});
},
xiazhu: function(e) {
this.hidetip();
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeXiazhu.active = !1;
this.hidetip();
}
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = new cc.Node("BetNode");
t.addComponent(cc.Label);
t.getComponent(cc.Label).string = e.power + "分";
t.getComponent(cc.Label).font = this.fontBet;
this.table.seat_emit(i, "bet", {
node: t
});
},
fapai_2: function(e) {
this.hidetip();
this.data = e;
this.NodeWaitclock.active = !0;
this.schedule(this.otherTimeUpdate, 1);
if (1 != cc.vv.roomMgr.is_replay) if (3 != this._wanfa) {
this.btncuopai.active = !0;
this.btnfanpai.active = !0;
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !0;
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
},
fanpai: function(e) {
for (var i = this, t = function(e, t, a, n) {
i.show_jiaobiao(t);
}, a = 0; a < 5; ++a) {
var n = {
viewid: 0,
obj: this,
type: 0,
index: a,
atlas: i.pokerAtlas,
value: e.pai[a],
callback: t
};
i.send_card_emit(0, a, "kaipai", n);
}
},
kaipai_callback: function(e, i, t, a, n, s) {
if (4 == t) {
var c = e, o = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], h = o[i].pos.card, r = o[i].toright, l = o[i].scale, d = new cc.Node("TypeBg"), g = new cc.Node("TypeNode"), u = new cc.Node("Typebei");
d.addComponent(cc.Sprite).spriteFrame = a >= 200 ? c.typeAtlas.getSpriteFrame("btn_bg3") : a % 10 == 5 ? c.typeAtlas.getSpriteFrame("btn_bg2") : c.typeAtlas.getSpriteFrame("btn_bg1");
var _ = "nn_" + a;
g.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(_);
var v = "x" + n;
u.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(v);
d.addChild(g);
d.addChild(u);
u.y = -40;
c.nodeCard.addChild(d);
d.zIndex = 100;
d.scale = l;
d.x = h.x + r;
d.y = h.y - 20;
if (null != s) {
var p = [], m = !1;
if (null != a && a >= 200) m = !1; else if (null != a && a % 10 == 5) {
p = c.isHaveZuo(s);
m = !0;
} else if (null != a && a % 10 == 0) {
p = c.isHaveNiu(s);
m = !0;
} else m = !1;
for (var f = 0; f < 5; ++f) 1 == m && c.isInArray(p, f) && c.send_card_emit(i, f, "top");
}
}
},
kaipai: function(e) {
this.tip("kaipai");
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.play_nn_mp3(e.seatid, e.type);
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
this.show_jiaobiao(i);
if (0 == i) {
for (var t = 0; t < 5; ++t) {
var a = {
obj: this,
viewid: i,
index: t,
value: e.hand[t],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate
};
this.send_card_emit(i, t, "kaipai", a);
}
var n = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (t = 0; t < 5; ++t) {
a = {
obj: this,
viewid: i,
index: t,
type: e.type,
rate: e.rate,
x: n.x + t * n.distance,
y: n.y,
scale: n.scale,
pai: e.hand,
callback: this.kaipai_callback
};
this.send_card_emit(i, t, "shousuo", a);
}
} else for (t = 0; t < 5; ++t) {
a = {
obj: this,
viewid: i,
index: t,
value: e.hand[t],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate,
pai: e.hand,
callback: this.kaipai_callback
};
this.send_card_emit(i, t, "trun", a);
}
}
},
jiesuan: function(e) {
var i = this;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
if (null == cc.vv.roomMgr.stage || 97 != cc.vv.roomMgr.stage.stage) for (var t = 0; t < cc.vv.roomMgr.real; ++t) {
var a = cc.vv.roomMgr.viewChairID(t);
if (1 != this._kaipai[e.list[t].seatid]) {
i.show_jiaobiao(a);
if (0 == a) {
for (var n = 0; n < 5; ++n) {
var s = {
obj: this,
viewid: a,
index: t,
value: e.list[t].hand[n],
type: e.list[t].type,
atlas: this.pokerAtlas,
rate: e.rate
};
i.send_card_emit(a, n, "kaipai", s);
}
var c = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (n = 0; n < 5; ++n) {
s = {
obj: i,
viewid: a,
index: n,
type: e.list[t].type,
rate: e.list[t].rate,
x: c.x + n * c.distance,
y: c.y,
scale: c.scale,
pai: e.list[t].hand,
callback: this.kaipai_callback
};
i.send_card_emit(a, n, "shousuo", s);
}
} else for (n = 0; n < 5; ++n) {
s = {
obj: i,
viewid: a,
index: n,
value: e.list[t].hand[n],
type: e.list[t].type,
atlas: i.pokerAtlas,
rate: e.rate,
pai: e.list[t].hand,
callback: this.kaipai_callback
};
i.send_card_emit(a, n, "trun", s);
}
this.play_nn_mp3(t, e.list[t].type);
}
} else for (t = 0; t < cc.vv.roomMgr.real; ++t) {
if (0 == (a = cc.vv.roomMgr.viewChairID(t))) {
var o = e.list[t].hand, h = !1;
this.show_fapai_stage(a, 0, 5, o, h, function(e, i) {});
for (c = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren], n = 0; n < 5; ++n) {
s = {
obj: i,
viewid: a,
index: n,
type: e.list[t].type,
rate: e.list[t].rate,
x: c.x + n * c.distance,
y: c.y,
scale: c.scale,
pai: e.list[t].hand,
callback: this.kaipai_callback
};
i.send_card_emit(a, n, "shousuo", s);
}
} else {
o = e.list[t].hand, h = !1;
this.show_fapai_stage(a, 0, 5, o, h, function(a, n) {
4 == n && i.kaipai_callback(i, a, n, e.list[t].type, e.list[t].rate, e.list[t].hand);
});
}
}
this.labelGuofen.string = e.guo;
this.isQieguo = e.qieguo;
for (t = 0; t < cc.vv.roomMgr.real; ++t) {
a = cc.vv.roomMgr.viewChairID(t);
i.table.seat_emit(a, "score", e.list[t].user_score);
e.list[t].round_score > 0 ? i.table.seat_emit(a, "win", e.list[t].round_score) : i.table.seat_emit(a, "lost", e.list[t].round_score);
}
var r = this.nodeJiesuan.getChildByName("list");
for (t = 0; t < r.children.length; ++t) r.children[t].active = !1;
var l = -1, d = !0, g = 0;
for (t = 0; t < cc.vv.roomMgr.real; ++t) {
if (0 == (a = cc.vv.roomMgr.viewChairID(t)) || 1 != d) {
d = !1;
g++;
a = cc.vv.roomMgr.viewChairID(t);
var u = cc.vv.roomMgr.table.list[t].nickname, _ = this.table.seat_img(a);
(m = r.getChildByName("item" + (t - (l + 1)))).active = !0;
m.getChildByName("img").getComponent(cc.Sprite).spriteFrame = _;
m.getChildByName("name").getComponent(cc.Label).string = u;
var v = "nn_" + e.list[t].type;
m.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(v);
m.getChildByName("zhuang").active = t == e.zhuang;
var p = m.getChildByName("score").getComponent(cc.Label);
if (e.list[t].round_score > 0) {
p.font = i.winFont;
p.string = "+" + cc.vv.utils.numInt(e.list[t].round_score);
} else if (e.list[t].round_score < 0) {
p.font = i.lostFont;
p.string = cc.vv.utils.numInt(e.list[t].round_score);
} else {
p.font = i.winFont;
p.string = cc.vv.utils.numInt(e.list[t].round_score);
}
} else l = t;
}
for (t = 0; t < l + 1; ++t) {
var m;
a = cc.vv.roomMgr.viewChairID(t), u = cc.vv.roomMgr.table.list[t].nickname, _ = this.table.seat_img(a);
(m = r.getChildByName("item" + (t + g))).active = !0;
m.getChildByName("img").getComponent(cc.Sprite).spriteFrame = _;
m.getChildByName("name").getComponent(cc.Label).string = u;
v = "nn_" + e.list[t].type;
m.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(v);
p = m.getChildByName("score").getComponent(cc.Label);
if (e.list[t].round_score > 0) {
p.font = i.winFont;
p.string = "+" + cc.vv.utils.numInt(e.list[t].round_score);
} else if (e.list[t].round_score < 0) {
p.font = i.lostFont;
p.string = cc.vv.utils.numInt(e.list[t].round_score);
} else {
p.font = i.winFont;
p.string = cc.vv.utils.numInt(e.list[t].round_score);
}
m.getChildByName("zhuang").active = t == e.zhuang;
}
cc.vv.audioMgr.playSFX("nn/chips");
var f = i.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), y = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_left").getComponent(cc.Sprite), C = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_right").getComponent(cc.Sprite), b = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_left").getComponent(cc.Sprite), w = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_right").getComponent(cc.Sprite);
function x(e) {
if (1 == e) {
f.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shengli");
y.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
C.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
b.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
w.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
} else {
f.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shibai");
y.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
C.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
b.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
w.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
}
for (t = 0; t < cc.vv.roomMgr.real; t++) {
if (0 == (a = cc.vv.roomMgr.viewChairID(e.list[t].seatid))) if (e.list[t].round_score < 0) {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3);
x(0);
} else {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3);
x(1);
}
}
function z() {
i.nodeJiesuan.active = !0;
}
var k = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
cc.vv.roomMgr.is_replay ? setTimeout(function() {
z();
}, 5e3) : setTimeout(function() {
z();
}, 2e3);
for (t = 0; t < cc.vv.roomMgr.real; t++) {
var M = cc.callFunc(function() {});
if (e.list[t].seatid != this._zhuang) if (e.list[t].round_score < 0) {
var j = cc.vv.roomMgr.viewChairID(e.list[t].seatid);
this.playBetByXY(this._winPlayer, k[j].x, k[j].y, this.nodeGuo.x, this.nodeGuo.y, 10, M);
} else if (e.list[t].round_score > 0) {
var N = cc.vv.roomMgr.viewChairID(e.list[t].seatid);
this.playBetByXY(this._winPlayer, this.nodeGuo.x, this.nodeGuo.y, k[N].x, k[N].y, 10, M);
}
}
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
report: function(e) {
var i;
this.nodeCuopai.active = !1;
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.labelRoomwanfa.string = "玩法：" + e.desc;
this.table.hide_dismiss_room();
(i = cc.vv.roomMgr.real <= 5 ? this.nodeReport.getChildByName("list1") : this.nodeReport.getChildByName("list2")).removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
for (var t = 0, a = 0; a < e.list.length; ++a) e.list[a].result_score >= t && (t = e.list[a].result_score);
var n = 0;
for (a = 0; a < e.list.length; ++a) if (e.list[a].result_score < n) {
n = e.list[a].result_score;
a;
}
var s = 0;
for (a = 0; a < e.list.length; ++a) e.list[a].userid > 0 && s++;
for (a = 0; a < s; ++a) {
var c, o = cc.vv.roomMgr.viewChairID(a), h = {
zhuang: e.zhuang,
seatid: e.list[a].seatid,
name: e.list[a].name,
userid: e.list[a].userid,
headimg: e.list[a].headimg,
score: e.list[a].result_score,
dayingjia: e.list[a].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[a].result_score == n
};
h.datuhao = !1;
c = s <= 5 ? cc.instantiate(this.reportItemPrefab) : cc.instantiate(this.reportItemMinPrefab);
i.addChild(c);
c.emit("info", h);
0 == o && (this.labelScore.string = "+" + e.list[a].coins);
}
},
stage: function(e) {
this.new_round();
cc.vv.roomMgr.stage = e;
cc.vv.roomMgr.stage && (this.isStage = !0);
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
switch (e.stage) {
case 1:
this.kaiqiang();
break;

case 2:
this._zhuang = e.zhuang;
var i = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: i
});
this.fapai1Data = e;
this.fapai_1_stage({
pai: e.cards
}, !0);
break;

case 3:
this._zhuang = e.zhuang;
i = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: i
});
this.fapai1Data = e;
this.fapai_1_stage({
pai: e.cards
}, !0);
for (var t = e.bet, a = 0; a < t.length; a++) 0 != t[a].bet && this.xiazhu({
seatid: a,
power: t[a].bet
});
break;

case 4:
this._zhuang = e.zhuang;
i = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: i
});
var n = cc.vv.utils.deepCopy(e).cards;
this.data = e;
this.data.hand = e.cards;
this.data.pai = e.cards;
if (0 == e.iskaipai) {
var s = cc.vv.roomMgr.param.wanfa;
if (1 == s) n[4] = 0; else if (2 == s) {
n[3] = 0;
n[4] = 0;
} else if (3 == s) {
n[0] = 0;
n[1] = 0;
n[2] = 0;
n[3] = 0;
n[4] = 0;
}
}
this.fapai_1_stage({
pai: n
}, !1);
for (t = e.bet, a = 0; a < t.length; a++) 0 != t[a].bet && this.xiazhu({
seatid: a,
power: t[a].bet
});
if (1 != cc.vv.roomMgr.is_replay) if (3 == this._wanfa) if (0 == e.iskaipai) {
this.nodeKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !0;
} else {
this.nodeKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
hand: e.cards,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
} else if (0 == e.iskaipai) {
this.nodeKaipai.active = !1;
this.btncuopai.active = !0;
this.btnfanpai.active = !0;
} else {
this.nodeKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
hand: e.cards,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
} else {
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
break;

case 97:
this._zhuang = e.zhuang;
i = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: i
});
}
this.isStage = !1;
cc.vv.roomMgr.stage && (cc.vv.roomMgr.stage.stage = null);
},
new_round: function() {
this.nodeKaipai.active = !1;
this.nodezhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.nodeQie.active = !1;
this.NodeWaitclock.active = !1;
this.nodeCuopai.active = !1;
this.nodeCard.removeAllChildren();
this.nodeCardone.removeAllChildren();
this.NodeWaitclock.getChildByName("time").getComponent(cc.Label).string = 15;
this.isFanPai = !1;
this.isCuopai = !1;
this._kaipai = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
this.isQieguo = 0;
this.xiazhuSli.progress = 0;
this.hidetip();
cc.vv.roomMgr.stage && (cc.vv.roomMgr.stage.stage = null);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodezhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang");
break;

case "btn_qiangzhuang":
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
i = this.labelFen.string;
var t = parseInt(i);
cc.vv.net2.quick("xiazhu", {
power: t
});
break;

case "btn_cuopai":
this.cuopaiClick();
break;

case "btn_fanpai":
this.fanpaiClick();
break;

case "btn_kaipai":
this.nodeCuopai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.nodeKaipai.active = !1;
cc.vv.net2.quick("kaipai");
break;

case "btn_qie":
cc.vv.net2.quick("qieguo");
break;

case "btn_ready":
if (1 == cc.vv.roomMgr.jiesuan.isEnd) cc.vv.net2.quick("report"); else if (0 != this.isQieguo && cc.vv.roomMgr.seatid == this._zhuang) {
this.nodeJiesuan.active = !1;
this.nodeQie.active = !0;
} else this.table.node.emit("jgnnready");
}
cc.vv.audioMgr.click();
},
onChangeClick: function(e) {
var i = parseInt(this.labelSmall.string), t = parseInt(this.labelMax.string), a = t - i, n = 10 * Math.floor((e.progress * a + i) / 10);
t <= 10 && (n = Math.floor(e.progress * a + i));
0 == n && (n = 1);
this.labelFen.string = n;
},
cuopaiClick: function() {
if (!this.isCuopai) {
this.isCuopai = !0;
1 == this._wanfa ? this.cuopaiOnePai() : this.cuopaiTwoPai();
}
},
cuopaiOnePai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var i = cc.vv.game.config.cuopai, t = 0, a = 0, n = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[4],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, s = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(s);
s.scale = 1;
s.emit("fapai", n);
var c = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, o = cc.instantiate(this.pokerPrefab), h = o.getChildByName("card");
this.nodeCardone.addChild(o);
h.setPosition(0, 0);
o.scale = 1;
o.getChildByName("card").setContentSize(cc.size(171, 218));
o.emit("fapai", c);
h.on("touchmove", function(e) {
var i = e.touch.getDelta(), n = i.x / 2, s = i.y / 2;
t += n;
a += s;
h.setPosition(h.x + n, h.y + s);
}, this);
h.on("touchend", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
h.on("touchcancel", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
},
cuopaiTwoPai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var i = cc.vv.game.config.cuopai, t = function(e, i, t, a) {}, a = 0, n = 0, s = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[4],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, c = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(c);
c.scale = 1;
c.zIndex = 0;
c.emit("fapai", s);
var o = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[3],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, h = cc.instantiate(this.pokerPrefab), r = h.getChildByName("card");
this.nodeCardone.addChild(h);
r.setPosition(0, 0);
h.scale = 1;
h.zIndex = 0;
h.emit("fapai", o);
var l = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, d = cc.instantiate(this.pokerPrefab), g = d.getChildByName("card");
this.nodeCardone.addChild(d);
g.setPosition(0, 0);
d.scale = 1;
d.zIndex = 0;
d.getChildByName("card").setContentSize(cc.size(171, 218));
d.emit("fapai", l);
function u() {
r.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
r.setPosition(r.x + t, r.y + s);
}, e);
r.on("touchend", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
r.on("touchcancel", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
}
g.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
g.setPosition(g.x + t, g.y + s);
}, this);
g.on("touchend", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
g.on("touchcancel", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
},
fanpaiClick: function() {
var e = this;
if (!this.isFanPai) {
this.isFanPai = !0;
for (var i = function(i, t, a, n) {
if (0 == t && 4 == a) {
e.btncuopai.active = !1;
e.btnfanpai.active = !1;
e.nodeKaipai.active = !0;
}
}, t = 0; t < 5; ++t) {
var a = {
viewid: 0,
obj: this,
type: 0,
index: t,
atlas: e.pokerAtlas,
value: e.data.pai[t],
rate: e.data.rate,
callback: i
};
e.send_card_emit(0, t, "kaipai", a);
}
}
},
show_jiaobiao: function(e) {
if (1 == this._wanfa) this.send_card_emit(e, 4, "setType", 2); else if (2 == this._wanfa) {
this.send_card_emit(e, 3, "setType", 1);
this.send_card_emit(e, 4, "setType", 2);
}
},
tip: function(e) {
if (null != e) {
var i = "tips_" + e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
hidetip: function() {
this.sprTip.node.active = !1;
},
play_nn_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "nn/" + t + "/nn_" + i;
cc.vv.audioMgr.playSFX(a);
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeCard, n);
s && s.emit(t, a);
},
otherTimeUpdate: function() {
var e = this.NodeWaitclock.getChildByName("time").getComponent(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (0 == i) {
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
getVectorRadians: function(e, i) {
var t = t = Math.abs(e) / Math.abs(i), a = 0;
e > 0 && i < 0 ? a = 180 * Math.atan(t) / Math.PI - 90 : e > 0 && i > 0 ? a = 90 - 180 * Math.atan(t) / Math.PI : e < 0 && i < 0 ? a = 180 * -Math.atan(t) / Math.PI - 90 : e < 0 && i > 0 && (a = 180 * Math.atan(t) / Math.PI + 90);
return a;
},
isHaveNiu: function(e) {
for (var i = [], t = [ 0, 0, 0, 0, 0 ], a = 0; a < 5; a++) e[a] < 255 && (t[a] = e[a]);
for (a = 0; a < t.length; a++) for (var n = a + 1; n < t.length; n++) for (var s = n + 1; s < t.length; s++) {
var c = t[a] % 16, o = t[n] % 16, h = t[s] % 16;
c > 10 && (c = 10);
o > 10 && (o = 10);
h > 10 && (h = 10);
if (0 != c || 0 != o || 0 != h) {
if ((c + o + h) % 10 == 0) {
i.push(a);
i.push(n);
i.push(s);
return i;
}
}
}
return i;
},
isHaveZuo: function(e) {
for (var i = [], t = [ 0, 0, 0, 0, 0 ], a = 0; a < 5; a++) e[a] < 255 && (t[a] = e[a]);
for (a = 0; a < t.length; a++) for (var n = a + 1; n < t.length; n++) for (var s = n + 1; s < t.length; s++) {
var c = t[a] % 16, o = t[n] % 16, h = t[s] % 16;
if (c == o && o == h && 0 != c) {
i.push(a);
i.push(n);
i.push(s);
return i;
}
}
return i;
},
isInArray: function(e, i) {
for (var t = 0; t < e.length; t++) if (i === e[t]) return !0;
return !1;
},
onDestroy: function() {
cc.isValid(this.animation) && this.animation.off("finished");
cc.loader.setAutoRelease(this, !0);
}
});
cc._RF.pop();
}, {
NN1001Const: "NN1001Const",
NN1001ReplayMgr: "NN1001ReplayMgr"
} ],
NN1001Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "17d97Kh921JwIYzDdlYWQ9T", "NN1001Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
prepareReplay: function(e) {
cc.vv.roomMgr.param.guo = e.guo;
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doInit: function(e) {
this.dispatchEvent("init_data", {
data: {
init_data: {
guo: e.guo
}
}
});
},
doFapai: function(e) {
for (var i = e.length, t = 0; t < i; t++) {
var a = cc.vv.roomMgr.param.wanfa;
if (0 == cc.vv.roomMgr.viewChairID(t)) if (1 == a) {
(n = e[t])[4] = 0;
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
} else if (2 == a) {
(n = e[t])[3] = 0;
n[4] = 0;
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
} else {
var n = e[t];
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
}
}
},
doDingZhuang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doXiaZhu: function(e) {
for (var i = e.length, t = 0; t < i; t++) 0 != e[t] && this.dispatchEvent("xiazhu", {
data: {
seatid: t,
power: e[t]
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
0 == cc.vv.roomMgr.viewChairID(t) && this.dispatchEvent("fanpai", {
data: {
seatid: t,
pai: e[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
NN1001ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "eb741TFuoNHOrakpIFx8gxm", "NN1001ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.jgnnMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.action) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.jgnnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return .5;
}
if ("init_data" == e.action) {
cc.vv.jgnnMgr.doInit(e.data);
return .5;
}
if ("dingZhuang" == e.action) {
cc.vv.jgnnMgr.doDingZhuang(e.data);
return 2;
}
if ("faPai" == e.action) {
cc.vv.jgnnMgr.doFapai(e.data);
return 3;
}
if ("xiaZhu" == e.action) {
cc.vv.jgnnMgr.doXiaZhu(e.data);
return 2;
}
if ("hand" == e.action) {
cc.vv.jgnnMgr.doKaipai(e.data);
return 2;
}
}
});
cc._RF.pop();
}, {} ],
NN1002Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "38a81dz0ZBKp4odjjPcPaxJ", "NN1002Const");
cc.Class({
extends: cc.Component,
statics: {
player5: [ {
x: -500,
y: -250,
distance: 130,
toright: 200,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -200,
y: -248,
scale: 1.2
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -535,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -535,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 513,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 202,
y: 201,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 558,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
player10: [ {
x: -500,
y: -250,
distance: 110,
toright: 220,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -380,
y: -275,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -580,
y: -60,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: -70,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 90,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 248,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -286,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -208,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 10,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 85,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: 90,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: -104,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: -115,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: -250,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: -262,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
cuopai: [ {
card: {
x: 0,
y: 0,
scale: 2
}
} ],
selfPoke5: {
x: -75,
y: -250,
distance: 50,
scale: 1
},
selfPoke10: {
x: -240,
y: -276,
distance: 50,
scale: 1
},
default_bg: "public/table/ysz_bg"
}
});
cc._RF.pop();
}, {} ],
NN1002Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f171frIsThNC7pImbs+DfOY", "NN1002Game");
cc.Class({
extends: cc.Component,
properties: {
pokerPrefab: cc.Prefab,
reportItemPrefab: cc.Prefab,
reportItemMinPrefab: cc.Prefab,
pokerAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
btnAtlas: {
default: null,
type: cc.Font
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
btnKaipai: cc.Node,
btncuopai: cc.Node,
btnfanpai: cc.Node,
nodeCard: cc.Node,
nodezhuang: cc.Node,
nodeXiazhu: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeCuopai: cc.Node,
nodeCardone: cc.Node,
NodeWaitclock: cc.Node,
labelScore: cc.Label,
labelRoomwanfa: cc.Label,
sprTip: cc.Sprite,
_feng: 0,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0
},
editor: {
executionOrder: -1
},
onLoad: function() {
cc.winSize.width / cc.winSize.height - 16 / 9 > .1 && (this.node.getChildByName("bgtop").width = cc.winSize.width);
var i = e("NN1002Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "nn",
hide_nothing_seat: !0,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_5: i.player5,
player_10: i.player10,
cuopai: i.cuopai,
selfPoke_5: i.selfPoke5,
selfPoke_10: i.selfPoke10,
set_bg: !0,
location: !1,
show_watch_btn: !0,
default_bg: i.default_bg
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.node_watchgame = this.node.getChildByName("watchgame");
this.startAnimation = this.node.getChildByName("startAnimation");
this.animation = this.startAnimation.getComponent(cc.Animation);
this.initEventHandlers();
this.initEventAniamtion();
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.nnMgr = this.node.getComponent("NN1002Mgr");
var t = e("NN1002ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.nnMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
watch_game_list: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0; i < e.length; i++) if (0 != e[i].userid) {
var t = cc.vv.roomMgr.viewChairID(e[i].seatid), a = cc.vv.utils.getChildByTag(this._winPlayer, t);
0 != e[i].sitStatus ? a.getChildByName("watch_game").active = !0 : a.getChildByName("watch_game").active = !1;
}
if (this.watch_game()) {
this.new_round();
this.node_watchgame.active = !0;
this.nodeJiesuan.active = !1;
}
},
watch: function(e) {
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (i[t].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("watchgame").active = !0;
var a = this.node.getChildByName("sit");
0 == e.canSit.length ? a.active = !1 : a.active = !0;
}
if (e.userid == cc.vv.userMgr.userid) {
this.tip("zhunbei");
this.new_round();
a.active = !0;
}
},
canSit: function(e) {
var i = this.node.getChildByName("sit");
if (0 == e.canSit.length) i.active = !1; else {
cc.vv.popMgr.alert("有空位置了是否坐入", function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
this.node.getChildByName("sit") && (this.node.getChildByName("sit").active = !1);
}, !0);
i.active = !0;
}
},
error: function(e) {
-99 == e.errcode ? cc.vv.popMgr.alert("" + e.errmsg, function() {
cc.director.loadScene("hall");
}) : cc.vv.popMgr.tip("" + e.errmsg);
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {
e.startAnimation.active = !1;
e.animation.stop();
});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd()) {
e.new_round();
cc.vv.net2.quick("stage");
}
});
this.node.on("error", function(i) {
e.error(i);
}), this.node.on("canSit", function(i) {
e.canSit(i.data);
});
this.node.on("watch", function(i) {
e.watch(i.data);
});
this.node.on("begin", function() {
e.watch_game_list();
}), this.node.on("user_status_change", function(i) {
e.user_status_change(i.data);
}), this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("fapai_1", function(i) {
e.fapai1Data = i.data;
e.begin();
}), this.node.on("kaiqiang", function(i) {
e.kaiqiang(i.data);
}), this.node.on("beginXiaZhu", function(i) {
e.show_xiazhu();
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("fapai_2", function(i) {
e.fapai_2(i.data);
}), this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("fanpai", function(i) {
e.fanpai(i.data);
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
},
initEventAniamtion: function() {
this.animation.on("finished", function() {
if (this.node) {
var e = this.fapai1Data;
this.fapai_1(e);
}
}, this);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodezhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang");
break;

case "btn_qiangzhuang":
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
var t = parseInt(i);
cc.vv.net2.quick("xiazhu", {
power: t
});
break;

case "btn_cuopai":
this.cuopaiClick();
break;

case "btn_fanpai":
this.fanpaiClick();
break;

case "btn_kaipai":
this.nodeCuopai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.btnKaipai.active = !1;
cc.vv.net2.quick("kaipai");
}
cc.vv.audioMgr.click();
},
new_round: function() {
this.btnKaipai.active = !1;
this.nodezhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.NodeWaitclock.active = !1;
this.nodeCuopai.active = !1;
this.nodeCard.removeAllChildren();
this.nodeCardone.removeAllChildren();
this.node_watchgame.active = !1;
this.NodeWaitclock.getChildByName("time").getComponent(cc.Label).string = 15;
this.isFanPai = !1;
this.isCuopai = !1;
this._kaipai = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
cc.vv.roomMgr.stage && (cc.vv.roomMgr.stage.stage = null);
},
begin: function() {
this.sprTip.node.active = !1;
cc.vv.audioMgr.playSFX("nn/round");
this.startAnimation.active = !0;
this.animation.play("niu_play");
},
param: function(e) {
this._wanfa = e.wanfa;
this._feng = e.feng;
this._zhuang_mode = e.zhuang;
this._zhuang = 0;
this.zhuang_mode = e.zhuang_mode;
},
ready: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("zhunbei");
this.new_round();
this.table.seat_emit(null, "hideBet");
}
},
fapai_1: function(e) {
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.deal_fapai(0, 5, e, function(e, i) {});
},
fapai_1_stage: function(e, i) {
this.hidetip();
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.show_fapai(0, 5, e, i, function(e, i) {});
},
auto_tips: function(e, i) {
var t = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (e <= 0 || null == e) t.active = !1; else {
this.text = i;
this.auto_time = e;
this.unschedule(this.upd_auto_time);
this.schedule(this.upd_auto_time, 1);
t.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !0;
}
},
upd_auto_time: function() {
var e = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (this.auto_time <= 0) {
this.unschedule(this.upd_auto_time);
e.active = !1;
}
this.auto_time--;
e.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
},
kaiqiang: function(e) {
if (e) {
this.hidetip();
null != e && this.auto_tips(e.time, "不抢庄");
if (this.isStage) {
if (1 == cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid].qiang) return;
}
switch (this.zhuang_mode) {
case 0:
this.nodezhuang.active = !0;
break;

default:
this.nodezhuang.active = !1;
}
this.watch_game() && (this.nodezhuang.active = !1);
}
},
show_xiazhu: function() {
if (this.isStage) {
var e = cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid];
if (null == e) return;
if (0 != e.bet) {
this.hidetip();
return;
}
}
if (this.watch_game()) this.nodeXiazhu.active = !1; else {
if (0 != this._feng) {
cc.vv.net2.quick("xiazhu", {
power: this._feng
});
return;
}
this.tip("xiazhu");
this.nodeXiazhu.active = !0;
}
},
xiazhu: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeXiazhu.active = !1;
this.hidetip();
}
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = new cc.Node("BetNode"), a = t.addComponent(cc.Label);
a.font = this.btnAtlas;
a.string = e.power;
t.y = 6;
this.table.seat_emit(i, "bet", {
node: t
});
},
fapai_2: function(e) {
this.auto_tips(e.time, "开牌");
this.hidetip();
this.data = e;
this.schedule(this.otherTimeUpdate, 1);
if (1 != cc.vv.roomMgr.is_replay) {
if (3 != this._wanfa) {
this.btncuopai.active = !0;
this.btnfanpai.active = !0;
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !0;
}
if (1 == this.watch_game()) {
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
},
watch_game: function() {
var e = !1, i = cc.vv.roomMgr.table.list;
if (!cc.vv.roomMgr.is_replay) for (var t = cc.vv.roomMgr.guanzhan_table.list, a = 0; a < t.length; a++) 0 != t[a].userid && t[a].userid == cc.vv.userMgr.userid && (e = !0);
for (a = 0; a < i.length; a++) if (0 != i[a].userid && 0 != i[a].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(i[a].seatid) && (e = !0);
}
return e;
},
beginXiaZhu: function(e) {
var i = this;
this.auto_tips(e.time, "下注最小注");
this._zhuang = e.seatid;
this.nodezhuang.active = !1;
var t = this.watch_game();
this.table.dingzhuang(e, function() {
var a = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "beginXiaZhu", {
seatid: a
});
1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != e.seatid ? 1 != t && i.show_xiazhu() : i.tip("otherxiazhu"));
});
},
kaipai_callback: function(e, i, t, a, n, s) {
if (4 == t) {
var c = e, o = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], h = o[i].pos.card, r = o[i].toright, l = o[i].scale, d = new cc.Node("TypeBg"), g = new cc.Node("TypeNode"), u = new cc.Node("Typebei");
d.addComponent(cc.Sprite).spriteFrame = a >= 200 ? c.typeAtlas.getSpriteFrame("btn_bg3") : a % 10 == 5 ? c.typeAtlas.getSpriteFrame("btn_bg2") : c.typeAtlas.getSpriteFrame("btn_bg1");
var _ = "nn_" + a;
g.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(_);
var v = "x" + n;
u.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(v);
d.addChild(g);
d.addChild(u);
u.y = -40;
c.nodeCard.addChild(d);
d.zIndex = 100;
d.scale = l;
d.x = h.x + r;
d.y = h.y - 20;
if (null != s) {
var p = [], m = !1;
if (null != a && a >= 150) m = !1; else if (null != a && a % 10 == 5) {
p = c.isHaveZuo(s);
m = !0;
} else if (null != a && a % 10 == 0) {
p = c.isHaveNiu(s);
m = !0;
} else m = !1;
for (var f = 0; f < 5; ++f) 1 == m && c.isInArray(p, f) && c.send_card_emit(i, f, "top");
}
}
},
kaipai: function(e) {
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.play_nn_mp3(e.seatid, e.type);
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("kaipai");
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
this.show_jiaobiao(i);
if (0 == i) {
for (var t = 0; t < 5; ++t) {
var a = {
obj: this,
viewid: i,
index: t,
value: e.pai[t],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate
};
this.send_card_emit(i, t, "kaipai", a);
}
var n = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (t = 0; t < 5; ++t) {
a = {
obj: this,
viewid: i,
index: t,
type: e.type,
rate: e.rate,
x: n.x + t * n.distance,
y: n.y,
scale: n.scale,
pai: e.pai,
callback: this.kaipai_callback
};
this.send_card_emit(i, t, "shousuo", a);
}
} else for (t = 0; t < 5; ++t) {
a = {
obj: this,
viewid: i,
index: t,
value: e.pai[t],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate,
pai: e.pai,
callback: this.kaipai_callback
};
this.send_card_emit(i, t, "trun", a);
}
}
},
user_status_change: function(e) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) if (0 != i[t].userid) {
if (1 == e.change_item[t]) {
0 == cc.vv.roomMgr.viewChairID(t) && (this._my_isin_game = !0);
}
i[t].sitStatus = e.change_item[t];
}
},
new_real: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0, t = 0, a = 0; a < e.length; a++) {
0 != e[a].userid && t++;
var n = cc.vv.roomMgr.getSeatIndexByID(e[a].userid);
0 != e[a].sitStatus ? i++ : 0 == n && (this._my_isin_game = !1);
}
return t - i;
},
auto_ready: function() {
this.autoready--;
this.nodeJiesuan.getChildByName("btn_ready").getChildByName("lbl").getComponent(cc.Label).string = this.autoready;
if (this.autoready <= 0) {
this.autoready = 0;
this.unschedule(this.auto_ready);
}
},
jiesuan: function(e) {
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
this.autoready = 10;
this.schedule(this.auto_ready, 1);
var i = this;
this.hidetip();
this.nodeCuopai.active = !1;
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var t = cc.vv.roomMgr.table.list;
if (null == cc.vv.roomMgr.stage || null != cc.vv.roomMgr.stage && 97 != cc.vv.roomMgr.stage.stage) {
for (var a = 0; a < cc.vv.roomMgr.ren; ++a) if (0 == t[a].sitStatus) {
var n = cc.vv.roomMgr.viewChairID(a);
if (1 != this._kaipai[e.list[a].seatid]) {
i.show_jiaobiao(n);
if (e.list[a].seatid == cc.vv.roomMgr.seatid) {
for (var s = 0; s < 5; ++s) {
var c = {
obj: this,
viewid: n,
index: s,
value: e.list[a].hand[s],
rate: e.list[a].rate,
type: e.list[a].type,
atlas: this.pokerAtlas
};
i.send_card_emit(n, s, "kaipai", c);
}
var o = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (s = 0; s < 5; ++s) {
c = {
obj: i,
viewid: n,
index: s,
type: e.list[a].type,
rate: e.list[a].rate,
x: o.x + s * o.distance,
y: o.y,
scale: o.scale,
pai: e.list[a].hand,
callback: this.kaipai_callback
};
i.send_card_emit(n, s, "shousuo", c);
}
} else for (s = 0; s < 5; ++s) {
c = {
obj: i,
viewid: n,
index: s,
value: e.list[a].hand[s],
type: e.list[a].type,
rate: e.list[a].rate,
atlas: i.pokerAtlas,
pai: e.list[a].hand,
callback: this.kaipai_callback
};
i.send_card_emit(n, s, "trun", c);
}
this.play_nn_mp3(a, e.list[a].type);
}
}
} else for (a = 0; a < t.length; ++a) if (0 != t[a].userid) {
if (0 == (n = cc.vv.roomMgr.viewChairID(a))) {
if (0 != t[a].sitStatus) continue;
var h = e.list[a].hand, r = !1;
this.show_fapai_stage(n, 0, 5, h, r, function(e, i) {});
for (o = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren], s = 0; s < 5; ++s) {
c = {
obj: i,
viewid: n,
index: s,
type: e.list[a].type,
rate: e.list[a].rate,
x: o.x + s * o.distance,
y: o.y,
scale: o.scale,
pai: e.list[a].hand,
callback: this.kaipai_callback
};
i.send_card_emit(n, s, "shousuo", c);
}
} else {
h = e.list[a].hand, r = !1;
this.show_fapai_stage(n, 0, 5, h, r, function(t, n) {
4 == n && i.kaipai_callback(i, t, n, e.list[a].type, e.list[a].rate, e.list[a].hand);
});
}
}
var l = 0;
for (a = 0; a < e.list.length; a++) 0 != e.list[a].userid && l++;
var d = [], g = (t = cc.vv.roomMgr.table.list, 0);
for (s = 0; s < t.length; s++) 0 != t[s].userid && 0 != t[s].sitStatus && (d[g++] = t[s]);
for (a = 0; a < l; ++a) {
n = cc.vv.roomMgr.viewChairID(a);
0 == e.list[a].userSitStatus && i.table.seat_emit(n, "score", e.list[a].user_score);
e.list[a].round_score > 0 ? i.table.seat_emit(n, "win", e.list[a].round_score) : i.table.seat_emit(n, "lost", e.list[a].round_score);
}
var u = this.nodeJiesuan.getChildByName("list");
for (a = 0; a < u.children.length; ++a) u.children[a].active = !1;
var _ = -1, v = !0, p = 0, m = [];
for (a = 0, s = 0; a < e.list.length; ++a) 0 != e.list[a].userid && (m[s++] = e.list[a]);
e.list = m;
l = e.list.length;
for (a = 0; a < l; ++a) if (0 != e.list[a].userid) {
if (0 == (n = cc.vv.roomMgr.viewChairID(e.list[a].seatid)) || 1 != v) {
v = !1;
p++;
var f = e.list[a].nickname, y = this.table.seat_img(n);
(w = u.getChildByName("item" + (a - (_ + 1)))).active = !0;
w.getChildByName("img").getComponent(cc.Sprite).spriteFrame = y;
w.getChildByName("name").getComponent(cc.Label).string = f;
var C = "nn_" + e.list[a].type;
w.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(C);
w.getChildByName("zhuang").active = a == e.zhuang;
var b = w.getChildByName("score").getComponent(cc.Label);
if (e.list[a].round_score > 0) {
b.font = i.winFont;
b.string = "+" + cc.vv.utils.numInt(e.list[a].round_score);
} else if (e.list[a].round_score < 0) {
b.font = i.lostFont;
b.string = cc.vv.utils.numInt(e.list[a].round_score);
} else {
b.font = i.winFont;
b.string = cc.vv.utils.numInt(e.list[a].round_score);
}
if (1 == e.list[a].userSitStatus) {
w.getChildByName("watch").active = !0;
b.string = "-";
} else w.getChildByName("watch").active = !1;
} else _ = a;
}
for (a = 0; a < l; ++a) 0 == e.list[a].userSitStatus && 0;
for (a = 0; a < _ + 1; ++a) {
var w;
n = cc.vv.roomMgr.viewChairID(e.list[a].seatid), f = e.list[a].nickname, y = this.table.seat_img(n);
(w = u.getChildByName("item" + (a + p))).active = !0;
w.getChildByName("img").getComponent(cc.Sprite).spriteFrame = y;
w.getChildByName("name").getComponent(cc.Label).string = f;
C = "nn_" + e.list[a].type;
w.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(C);
b = w.getChildByName("score").getComponent(cc.Label);
if (e.list[a].round_score > 0) {
b.font = i.winFont;
b.string = "+" + cc.vv.utils.numInt(e.list[a].round_score);
} else if (e.list[a].round_score < 0) {
b.font = i.lostFont;
b.string = cc.vv.utils.numInt(e.list[a].round_score);
} else {
b.font = i.winFont;
b.string = cc.vv.utils.numInt(e.list[a].round_score);
}
if (1 == e.list[a].userSitStatus) {
w.getChildByName("watch").active = !0;
b.string = "-";
} else w.getChildByName("watch").active = !1;
w.getChildByName("zhuang").active = a == e.zhuang;
}
cc.vv.audioMgr.playSFX("nn/chips");
var x = i.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), z = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_left").getComponent(cc.Sprite), k = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_right").getComponent(cc.Sprite), M = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_left").getComponent(cc.Sprite), j = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_right").getComponent(cc.Sprite);
function N(e) {
if (1 == e) {
x.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shengli");
z.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
k.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
M.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
j.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
} else {
x.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shibai");
z.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
k.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
M.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
j.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
}
for (a = 0; a < l; a++) {
if (0 == (n = cc.vv.roomMgr.viewChairID(e.list[a].seatid))) if (e.list[a].round_score < 0) {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3, i);
N(0);
} else {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3, i);
N(1);
}
}
if (1 == this.watch_game()) {
x.spriteFrame = i.jiesuanAtlas.getSpriteFrame("guanzhan");
z.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
k.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
M.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
j.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
}
function S() {
i.nodeJiesuan.active = !0;
}
var F = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
cc.vv.roomMgr.is_replay ? setTimeout(function() {
S();
}, 5e3) : setTimeout(function() {
S();
}, 2e3);
for (a = 0; a < l; a++) {
var B = cc.callFunc(function() {});
if (e.list[a].seatid != this._zhuang) if (e.list[a].round_score < 0) {
var T = cc.vv.roomMgr.viewChairID(e.list[a].seatid), A = cc.vv.roomMgr.viewChairID(this._zhuang);
this.playBetByXY(this._winPlayer, F[T].x, F[T].y, F[A].x, F[A].y, 10, B);
} else if (e.list[a].round_score > 0) {
T = cc.vv.roomMgr.viewChairID(this._zhuang), A = cc.vv.roomMgr.viewChairID(e.list[a].seatid);
this.playBetByXY(this._winPlayer, F[T].x, F[T].y, F[A].x, F[A].y, 10, B);
}
}
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
report: function(e) {
this.nodeCuopai.active = !1;
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.nodeReport.getChildByName("otherScore").getComponent(cc.Label).string = "其他:" + e.otherScore;
this.labelRoomwanfa.string = "玩法：" + e.desc;
for (var i = 0, t = 0; t < e.list.length; t++) 0 == e.list[t].hasJoinedBattle && i++;
var a, n = 0;
for (t = 0; t < e.list.length; ++t) e.list[t].userid > 0 && n++;
this.table.hide_dismiss_room();
(a = n - i <= 5 ? this.nodeReport.getChildByName("list1") : this.nodeReport.getChildByName("list2")).removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
var s = 0;
for (t = 0; t < e.list.length; ++t) e.list[t].result_score > s && (s = e.list[t].result_score);
var c = 0;
for (t = 0; t < e.list.length; ++t) if (e.list[t].result_score < c) {
c = e.list[t].result_score;
t;
}
for (t = 0; t < n; ++t) if (0 != e.list[t].userid && 1 == e.list[t].hasJoinedBattle) {
var o, h = cc.vv.roomMgr.viewChairID(t), r = {
name: e.list[t].name,
userid: e.list[t].userid,
headimg: e.list[t].headimg,
score: e.list[t].result_score,
dayingjia: e.list[t].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[t].result_score == c
};
r.datuhao = !1;
o = n - i <= 5 ? cc.instantiate(this.reportItemPrefab) : cc.instantiate(this.reportItemMinPrefab);
a.addChild(o);
o.emit("info", r);
0 == h && (this.labelScore.string = "+" + e.list[t].coins);
}
},
qiangzhuang: function(e) {
e.seatid == cc.vv.roomMgr.seatid && (this.nodezhuang.active = !1);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.table.seat_emit(i, "qiangzhuang");
},
stage: function(e) {
if (null != e.ready) {
this.new_round();
this.watch_game_list();
cc.vv.roomMgr.stage = e;
cc.vv.roomMgr.stage && (this.isStage = !0);
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
this.node.getChildByName("mgr").getChildByName("hud").emit("round");
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
switch (e.stage) {
case 1:
case 2:
this.auto_tips(e.deal_time, "不抢庄");
var i = cc.vv.roomMgr.param.wanfa, t = e.cards;
if (1 == i) t[4] = 0; else if (2 == i) {
t[3] = 0;
t[4] = 0;
} else if (3 == i) {
t[0] = 0;
t[1] = 0;
t[2] = 0;
t[3] = 0;
t[4] = 0;
}
this.fapai_1_stage({
pai: t
});
this.fapai1Data = e;
0 == e.isqiangzhuang && 2 == e.stage && this.kaiqiang();
break;

case 3:
this.auto_tips(e.deal_time, "下注最小注");
this._zhuang = e.zhuang;
cc.vv.roomMgr.viewChairID(e.zhuang);
this.fapai_1_stage({
pai: e.cards
});
this.fapai1Data = e;
for (var a = e.bet, n = 0; n < a.length; n++) 0 != a[n].bet && this.xiazhu({
seatid: n,
power: a[n].bet
});
if (cc.vv.roomMgr.seatid != e.zhuang) {
this.tip("xiazhu");
this.show_xiazhu();
} else this.tip("otherxiazhu");
break;

case 4:
this.auto_tips(e.deal_time, "开牌");
this._zhuang = e.zhuang;
cc.vv.roomMgr.viewChairID(e.zhuang), t = cc.vv.utils.deepCopy(e).cards;
this.data = e;
this.data.pai = e.cards;
if (0 == e.iskaipai) {
if (1 == (i = cc.vv.roomMgr.param.wanfa)) t[4] = 0; else if (2 == i) {
t[3] = 0;
t[4] = 0;
} else if (3 == i) {
t[0] = 0;
t[1] = 0;
t[2] = 0;
t[3] = 0;
t[4] = 0;
}
}
this.fapai_1_stage({
pai: t
});
for (a = e.bet, n = 0; n < a.length; n++) 0 != a[n].bet && this.xiazhu({
seatid: n,
power: a[n].bet
});
if (1 != cc.vv.roomMgr.is_replay) {
if (3 == this._wanfa) if (0 == e.iskaipai) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !0;
this.btncuopai.active = !1;
} else {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
} else if (0 == e.iskaipai) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !0;
this.btncuopai.active = !0;
} else {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
}
if (this.watch_game()) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
}
} else {
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
break;

case 97:
1 == e.ready && (this.node.getChildByName("watchgame").active = !1);
this._zhuang = e.zhuang;
cc.vv.roomMgr.viewChairID(e.zhuang);
}
this.isStage = !1;
}
},
deal_fapai: function(e, i, t, a) {
var n = this, s = t.pai;
if (null != s) {
for (var c = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], o = [], h = [], r = [], l = 0, d = cc.vv.roomMgr.table.list, g = 0; g < d.length; g++) 0 != d[g].userid && l++;
l = cc.vv.roomMgr.ren;
for (g = 0; g < l; ++g) for (var u = cc.vv.roomMgr.viewChairID(g), _ = 0, v = c[u].pos.card, p = (c[u].scale, 
e); p < i; p++) if (0 == d[g].sitStatus) {
0 == u && (_ = s[p]);
var m = {
obj: n,
viewid: u,
index: p,
time: p,
atlas: n.pokerAtlas,
value: _,
x: v.x + p * c[u].distance,
y: v.y,
scale: v.scale,
callback: a
}, f = {
obj: n,
viewid: u,
index: p,
time: p,
atlas: n.pokerAtlas,
value: _,
x: v.x + p * c[u].distance,
y: v.y,
scale: v.scale,
callback: a
};
(b = cc.instantiate(this.pokerPrefab)).getComponent("NNPoker").node.scale = .8;
h.push(f);
r.push(m);
o.push(b);
this.nodeCard.addChild(b);
b.myTag = m.viewid + "_" + m.index;
}
for (var y = r.length, C = (a = function(e, i) {
for (var t = 0; t < y; t++) {
o[t].zIndex = t;
}
if (0 == e && 4 == i) for (var a = 0; a < y; a++) {
var s = r[a];
0 != s.value && n.send_card_emit(s.viewid, s.index, "trun", s);
}
}, 0); C < y; C++) {
var b;
(b = o[C]).zIndex = y - C;
var w = h[C];
w.value = 0;
5 == cc.vv.roomMgr.ren && (w.time = C);
w.callback = a;
b.emit("fapai", w);
}
}
},
show_fapai: function(e, i, t, a, n) {
var s = this.isStage, c = t.pai;
if (null != c) {
for (var o = 0, h = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], r = cc.vv.roomMgr.table.list, l = 0; l < r.length; l++) 0 != r[l].userid && o++;
o = cc.vv.roomMgr.ren;
for (l = 0; l < o; ++l) for (var d = cc.vv.roomMgr.viewChairID(l), g = 0, u = h[d].pos.card, _ = (h[d].scale, 
e); _ < i; _++) if (0 == r[l].sitStatus) {
0 == d && (g = c[_]);
var v = {
obj: this,
viewid: d,
index: _,
time: _,
atlas: this.pokerAtlas,
value: g,
x: u.x + _ * h[d].distance,
y: u.y,
scale: u.scale,
callback: n
}, p = cc.instantiate(this.pokerPrefab);
p.getComponent("NNPoker");
this.nodeCard.addChild(p);
p.myTag = v.viewid + "_" + v.index;
p.emit("show", v);
}
a && 1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu(s) : this.tip("otherxiazhu"));
}
},
show_fapai_stage: function(e, i, t, a, n, s) {
for (var c = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], o = c[e].pos.card, h = (c[e].scale, 
i); h < t; h++) {
var r = {
obj: this,
viewid: e,
index: h,
time: h,
atlas: this.pokerAtlas,
value: a[h],
x: o.x + h * c[e].distance,
y: o.y,
scale: o.scale,
callback: s
}, l = cc.instantiate(this.pokerPrefab);
l.getComponent("NNPoker");
this.nodeCard.addChild(l);
l.myTag = r.viewid + "_" + r.index;
l.emit("show", r);
}
},
tip: function(e) {
if (null != e) {
var i = "tips_" + e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
this.watch_game() && (this.sprTip.node.active = !1);
} else this.sprTip.node.active = !1;
},
hidetip: function() {
this.sprTip.node.active = !1;
},
play_nn_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "nn/" + t + "/nn_" + i;
cc.vv.audioMgr.playSFX(a);
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeCard, n);
s && s.emit(t, a);
},
fanpaiClick: function() {
var e = this;
if (!this.isFanPai) {
this.isFanPai = !0;
for (var i = function(i, t, a, n) {
if (0 == t && 4 == a) {
e.btncuopai.active = !1;
e.btnfanpai.active = !1;
e.btnKaipai.active = !0;
}
}, t = 0; t < 5; ++t) {
var a = {
viewid: 0,
obj: this,
type: 0,
index: t,
atlas: e.pokerAtlas,
value: e.data.pai[t],
rate: e.data.rate,
callback: i
};
e.send_card_emit(0, t, "kaipai", a);
}
}
},
fanpai: function(e) {
for (var i = this, t = function(e, t, a, n) {
i.show_jiaobiao(t);
}, a = 0; a < 5; ++a) {
var n = {
viewid: 0,
obj: this,
type: 0,
index: a,
atlas: i.pokerAtlas,
value: e.pai[a],
callback: t
};
i.send_card_emit(0, a, "kaipai", n);
}
},
cuopaiClick: function() {
if (!this.isCuopai) {
this.isCuopai = !0;
1 == this._wanfa ? this.cuopaiOnePai() : this.cuopaiTwoPai();
}
},
cuopaiOnePai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var i = cc.vv.game.config.cuopai, t = 0, a = 0, n = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[4],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, s = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(s);
s.scale = 1;
s.zIndex = 0;
s.emit("fapai", n);
var c = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, o = cc.instantiate(this.pokerPrefab), h = o.getChildByName("card");
this.nodeCardone.addChild(o);
h.setPosition(0, 0);
o.scale = 1;
o.zIndex = 0;
o.getChildByName("card").setContentSize(cc.size(171, 218));
o.emit("fapai", c);
h.on("touchmove", function(e) {
var i = e.touch.getDelta(), n = i.x / 2, s = i.y / 2;
t += n;
a += s;
h.setPosition(h.x + n, h.y + s);
}, this);
h.on("touchend", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
h.on("touchcancel", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
},
cuopaiTwoPai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.btnKaipai.active = !1;
var i = cc.vv.game.config.cuopai, t = function(e, i, t, a) {}, a = 0, n = 0, s = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[4],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, c = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(c);
c.scale = 1;
c.emit("fapai", s);
var o = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[3],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, h = cc.instantiate(this.pokerPrefab), r = h.getChildByName("card");
this.nodeCardone.addChild(h);
r.setPosition(0, 0);
h.scale = 1;
h.emit("fapai", o);
var l = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, d = cc.instantiate(this.pokerPrefab), g = d.getChildByName("card");
this.nodeCardone.addChild(d);
g.setPosition(0, 0);
d.scale = 1;
d.getChildByName("card").setContentSize(cc.size(171, 218));
d.emit("fapai", l);
function u() {
r.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
r.setPosition(r.x + t, r.y + s);
}, e);
r.on("touchend", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
r.on("touchcancel", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
}
g.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
g.setPosition(g.x + t, g.y + s);
}, this);
g.on("touchend", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
g.on("touchcancel", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
},
show_jiaobiao: function(e) {
if (1 == this._wanfa) this.send_card_emit(e, 4, "setType", 2); else if (2 == this._wanfa) {
this.send_card_emit(e, 3, "setType", 1);
this.send_card_emit(e, 4, "setType", 2);
}
},
otherTimeUpdate: function() {
var e = this.NodeWaitclock.getChildByName("time").getComponent(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
getVectorRadians: function(e, i) {
var t = t = Math.abs(e) / Math.abs(i), a = 0;
e > 0 && i < 0 ? a = 180 * Math.atan(t) / Math.PI - 90 : e > 0 && i > 0 ? a = 90 - 180 * Math.atan(t) / Math.PI : e < 0 && i < 0 ? a = 180 * -Math.atan(t) / Math.PI - 90 : e < 0 && i > 0 && (a = 180 * Math.atan(t) / Math.PI + 90);
return a;
},
isHaveNiu: function(e) {
for (var i, t, a = [], n = [], s = -1, c = [ 0, 0, 0, 0, 0 ], o = 0, h = [], r = -1, l = [], d = 0, g = [], u = 0; u < 5; u++) e[u] < 255 && (c[u] = e[u]);
for (u = 0; u < c.length; u++) if (95 == c[u] || 79 == c[u]) {
l[d] = c[u];
d++;
} else h[o++] = c[u];
if (1 == d) {
r = 11;
var _ = 0;
for (u = 0; u < h.length; u++) {
(v = h[u] % 16) > 10 && (v = 10);
_ += v;
}
for (u = 0; u < h.length; u++) {
var v;
(v = h[u] % 16) > 10 && (v = 10);
if ((_ - v) % 10 == 0) {
if (v < r) {
s = r = v;
i = h[u] % 16;
}
}
}
if (11 != r) for (u = 0; u < c.length; u++) 95 != c[u] && 79 != c[u] && i != c[u] % 16 && n.push(u);
r = -1;
for (u = 0; u < h.length; u++) for (var p = 0; p < h.length; p++) if (u != p) {
var m = h[u] % 16;
m > 10 && (m = 10);
(y = h[p] % 16) > 10 && (y = 10);
var f = m + y;
if (0 == (f %= 10)) {
r = f;
i = h[u];
t = h[p];
} else if (f > r && 0 != r) {
r = f;
i = h[u];
t = h[p];
}
}
g.push(l[0]);
g.push(i);
g.push(t);
if ((i % 16 + t % 16) % 10 == 0 && -1 != s) for (u = 0; u < c.length; u++) 95 != c[u] && 79 != c[u] && c[u] % 16 != s && a.push(u); else {
a.push(l[0]);
for (u = 0; u < c.length; u++) g.indexOf(c[u]) > -1 && 95 != c[u] && 79 != c[u] || a.push(u);
}
} else if (2 == d) {
return a;
var y;
} else for (u = 0; u < c.length; u++) for (var C = u + 1; C < c.length; C++) for (var b = C + 1; b < c.length; b++) {
var w = c[u] % 16, x = c[C] % 16, z = c[b] % 16;
w > 10 && (w = 10);
x > 10 && (x = 10);
z > 10 && (z = 10);
if (0 != w || 0 != x || 0 != z) {
if ((w + x + z) % 10 == 0) {
a.push(u);
a.push(C);
a.push(b);
return a;
}
}
}
return 0 == r ? a : -1 != s ? n : a;
},
isHaveZuo: function(e) {
for (var i = [], t = [ 0, 0, 0, 0, 0 ], a = 0; a < 5; a++) e[a] < 255 && (t[a] = e[a]);
for (a = 0; a < t.length; a++) for (var n = a + 1; n < t.length; n++) for (var s = n + 1; s < t.length; s++) {
var c = t[a] % 16, o = t[n] % 16, h = t[s] % 16;
if (c == o && o == h && 0 != c) {
i.push(a);
i.push(n);
i.push(s);
return i;
}
}
return i;
},
isInArray: function(e, i) {
for (var t = 0; t < e.length; t++) if (i === e[t]) return !0;
return !1;
},
onDestroy: function() {
cc.isValid(this.animation) && this.animation.off("finished");
cc.loader.setAutoRelease(this, !0);
}
});
cc._RF.pop();
}, {
NN1002Const: "NN1002Const",
NN1002ReplayMgr: "NN1002ReplayMgr"
} ],
NN1002Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "cba34Vn7MdK9pvmq15iPHvq", "NN1002Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doFapai: function(e) {
for (var i = e.length, t = 0; t < i; t++) {
var a = cc.vv.roomMgr.param.wanfa;
if (0 == cc.vv.roomMgr.viewChairID(t)) if (1 == a) {
(n = e[t])[4] = 0;
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
} else if (2 == a) {
(n = e[t])[3] = 0;
n[4] = 0;
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
} else {
var n = e[t];
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
}
}
},
doDingZhuang: function(e, i) {},
doXiaZhu: function(e) {
for (var i = e.length, t = 0; t < i; t++) 0 != e[t] && this.dispatchEvent("xiazhu", {
data: {
seatid: t,
power: e[t]
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
0 == cc.vv.roomMgr.viewChairID(t) && this.dispatchEvent("fanpai", {
data: {
seatid: t,
pai: e[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
NN1002ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "21fadMv9PlFG6jbJArf0Hta", "NN1002ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.nnMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.action) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.nnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return .5;
}
if ("faPai" == e.action) {
cc.vv.nnMgr.doFapai(e.data);
return 3;
}
if ("dingZhuang" == e.action) {
cc.vv.nnMgr.doDingZhuang(e.data);
return 2;
}
if ("xiaZhu" == e.action) {
cc.vv.nnMgr.doXiaZhu(e.data);
return 2;
}
if ("hand" == e.action) {
cc.vv.nnMgr.doKaipai(e.data);
return 2;
}
}
});
cc._RF.pop();
}, {} ],
NN1003Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c8ac5iWc4ZFD5I5DrDCjTqc", "NN1003Const");
cc.Class({
extends: cc.Component,
statics: {
player5: [ {
x: -500,
y: -250,
distance: 130,
toright: 200,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -200,
y: -248,
scale: 1.2
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -535,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -535,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 513,
y: 201,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 202,
y: 201,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 558,
y: -70,
distance: 50,
toright: 80,
scale: 1,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
player10: [ {
x: -500,
y: -250,
distance: 110,
toright: 220,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -380,
y: -275,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -580,
y: -60,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: -70,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 90,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -580,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -500,
y: 248,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -286,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -208,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 10,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 85,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: 260,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: 248,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: 100,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: 90,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 580,
y: -104,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 385,
y: -115,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 310,
y: -250,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 385,
y: -262,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
cuopai: [ {
card: {
x: 0,
y: 0,
scale: 2
}
} ],
selfPoke5: {
x: -75,
y: -250,
distance: 50,
scale: 1
},
selfPoke10: {
x: -240,
y: -276,
distance: 50,
scale: 1
},
default_bg: "public/table/ysz_bg"
}
});
cc._RF.pop();
}, {} ],
NN1003Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "5c469W91YlEiaZ128R59Kls", "NN1003Game");
cc.Class({
extends: cc.Component,
properties: {
pokerPrefab: cc.Prefab,
reportItemPrefab: cc.Prefab,
reportItemMinPrefab: cc.Prefab,
pokerAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
btnAtlas: {
default: null,
type: cc.Font
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
btnKaipai: cc.Node,
btncuopai: cc.Node,
btnfanpai: cc.Node,
nodeCard: cc.Node,
nodezhuang: cc.Node,
nodeXiazhu: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeCuopai: cc.Node,
nodeCardone: cc.Node,
NodeWaitclock: cc.Node,
labelScore: cc.Label,
labelRoomwanfa: cc.Label,
sprTip: cc.Sprite,
_feng: 0,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0
},
editor: {
executionOrder: -1
},
onLoad: function() {
cc.winSize.width / cc.winSize.height - 16 / 9 > .1 && (this.node.getChildByName("bgtop").width = cc.winSize.width);
var i = e("NN1003Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "nn",
hide_nothing_seat: !0,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_5: i.player5,
player_10: i.player10,
cuopai: i.cuopai,
selfPoke_5: i.selfPoke5,
selfPoke_10: i.selfPoke10,
set_bg: !0,
location: !1,
show_watch_btn: !0,
default_bg: i.default_bg
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.node_watchgame = this.node.getChildByName("watchgame");
this.startAnimation = this.node.getChildByName("startAnimation");
this.animation = this.startAnimation.getComponent(cc.Animation);
this.initEventHandlers();
this.initEventAniamtion();
this.nodeXiazhu.children[0].myTag = 3;
this.nodeXiazhu.children[1].myTag = 5;
this.nodeXiazhu.children[2].myTag = 7;
this.nodeXiazhu.children[3].myTag = 10;
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.nnMgr = this.node.getComponent("NN1003Mgr");
var t = e("NN1003ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.nnMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
watch_game_list: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0; i < e.length; i++) if (0 != e[i].userid) {
var t = cc.vv.roomMgr.viewChairID(e[i].seatid), a = cc.vv.utils.getChildByTag(this._winPlayer, t);
0 != e[i].sitStatus ? a.getChildByName("watch_game").active = !0 : a.getChildByName("watch_game").active = !1;
}
if (this.watch_game()) {
this.new_round();
this.node_watchgame.active = !0;
this.nodeJiesuan.active = !1;
}
},
watch: function(e) {
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (i[t].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("watchgame").active = !0;
var a = this.node.getChildByName("sit");
0 == e.canSit.length ? a.active = !1 : a.active = !0;
}
if (e.userid == cc.vv.userMgr.userid) {
this.tip("zhunbei");
this.new_round();
a.active = !0;
}
},
canSit: function(e) {
var i = this.node.getChildByName("sit");
if (0 == e.canSit.length) i.active = !1; else {
cc.vv.popMgr.alert("有空位置了是否坐入", function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
this.node.getChildByName("sit") && (this.node.getChildByName("sit").active = !1);
}, !0);
i.active = !0;
}
},
error: function(e) {
-99 == e.errcode ? cc.vv.popMgr.alert("" + e.errmsg, function() {
cc.director.loadScene("hall");
}) : cc.vv.popMgr.tip("" + e.errmsg);
},
tuizhu: function(e, i) {
var t;
if (0 != (t = null != i ? e : e.tuizhu).length) {
for (var a = this.node.getChildByName("mgr").getChildByName("tuizhu"), n = a.getChildByName("btn_xiazhu_1").getChildByName("fen").getComponent(cc.Label), s = a.getChildByName("btn_xiazhu_2").getChildByName("fen").getComponent(cc.Label), c = 0; c < t.length; c++) if (t[c].userId == cc.vv.userMgr.userid) {
a.active = !0;
this.tuizhu_1_str = t[c].power2;
this.tuizhu_2_str = t[c].power;
0 == t[c].power2 && (a.getChildByName("btn_xiazhu_1").active = !1);
0 == t[c].power && (a.getChildByName("btn_xiazhu_2").active = !1);
n.string = "*" + t[c].power2;
s.string = "*" + t[c].power;
}
var o = a.getChildByName("btn_xiazhu_1").getComponent(cc.Button), h = a.getChildByName("btn_xiazhu_2").getComponent(cc.Button);
o.interactable = this.tuizhu_1_str <= e.xiaZhuRange;
h.interactable = this.tuizhu_2_str <= e.xiaZhuRange;
}
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {
e.startAnimation.active = !1;
e.animation.stop();
});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd()) {
e.new_round();
cc.vv.net2.quick("stage");
}
});
this.node.on("fapai_2_gz", function(i) {
e.pubPoker(i.data.pubPoker);
}), this.node.on("tuizhu", function(i) {
setTimeout(function() {
e.tuizhu(i.data);
}, 300);
}), this.node.on("error", function(i) {
e.error(i);
}), this.node.on("canSit", function(i) {
e.canSit(i.data);
});
this.node.on("watch", function(i) {
e.watch(i.data);
});
this.node.on("begin", function() {
e.watch_game_list();
}), this.node.on("user_status_change", function(i) {
e.user_status_change(i.data);
}), this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("fapai_1", function(i) {
e.fapai1Data = i.data;
e.begin();
}), this.node.on("kaiqiang", function(i) {
e.kaiqiang(i.data);
}), this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("fapai_2", function(i) {
e.fapai_2(i.data);
}), this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("fanpai", function(i) {
null != i.pubPoker && e.pubPoker(i.pubPoker);
e.fanpai(i.data);
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
},
initEventAniamtion: function() {
this.animation.on("finished", function() {
if (this.node) {
var e = this.fapai1Data;
this.fapai_1(e);
}
}, this);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodezhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang");
break;

case "btn_qiangzhuang":
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
var t = parseInt(i);
cc.vv.net2.quick("xiazhu", {
power: t,
tuizhu: 0
});
break;

case "btn_xiazhu_1":
cc.vv.net2.quick("xiazhu", {
power: this.tuizhu_1_str,
tuizhu: 1
});
break;

case "btn_xiazhu_2":
cc.vv.net2.quick("xiazhu", {
power: this.tuizhu_2_str,
tuizhu: 1
});
break;

case "btn_cuopai":
this.cuopaiClick();
break;

case "btn_fanpai":
this.fanpaiClick();
break;

case "btn_kaipai":
this.nodeCuopai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.btnKaipai.active = !1;
cc.vv.net2.quick("kaipai");
}
cc.vv.audioMgr.click();
},
new_round: function() {
this.btnKaipai.active = !1;
this.nodezhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.NodeWaitclock.active = !1;
this.nodeCuopai.active = !1;
this.nodeCard.removeAllChildren();
this.nodeCardone.removeAllChildren();
this.node.getChildByName("mgr").getChildByName("gongpai").removeAllChildren();
this.node_watchgame.active = !1;
this.NodeWaitclock.getChildByName("time").getComponent(cc.Label).string = 15;
this.isFanPai = !1;
this.isCuopai = !1;
1 != this._zhuang_mode && this.table.seat_emit(null, "dingzhuang", {
seatid: null
});
this._kaipai = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
cc.vv.roomMgr.stage && (cc.vv.roomMgr.stage.stage = null);
},
begin: function() {
this.sprTip.node.active = !1;
cc.vv.audioMgr.playSFX("nn/round");
this.startAnimation.active = !0;
this.animation.play("niu_play");
},
param: function(e) {
this._wanfa = e.wanfa;
this._feng = e.feng;
this._zhuang_mode = e.zhuang;
this._zhuang = 0;
this.zhuang_mode = e.zhuang_mode;
},
ready: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("zhunbei");
this.new_round();
this.table.seat_emit(null, "hideBet");
}
},
fapai_1: function(e) {
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.deal_fapai(0, 4, e, function(e, i) {});
},
fapai_1_stage: function(e, i) {
this.hidetip();
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.show_fapai(0, 4, e, i, function(e, i) {});
},
auto_tips: function(e, i) {
var t = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (e <= 0 || null == e) t.active = !1; else {
this.text = i;
this.auto_time = e;
this.unschedule(this.upd_auto_time);
this.schedule(this.upd_auto_time, 1);
t.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !0;
}
},
upd_auto_time: function() {
var e = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (this.auto_time <= 0) {
this.unschedule(this.upd_auto_time);
e.active = !1;
}
this.auto_time--;
e.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
},
kaiqiang: function(e) {
if (e) {
this.hidetip();
null != e && this.auto_tips(e.time, "不抢庄");
if (this.isStage) {
if (1 == cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid].qiang) return;
}
switch (this.zhuang_mode) {
case 0:
this.nodezhuang.active = !0;
break;

default:
this.nodezhuang.active = !1;
}
for (var i = !1, t = 0; t < e.canSitId.length; t++) {
0 == cc.vv.roomMgr.viewChairID(e.canSitId[t]) && (i = !0);
}
this.nodezhuang.getChildByName("btn_qiangzhuang").active = i;
this.watch_game() && (this.nodezhuang.active = !1);
}
},
show_xiazhu: function() {
if (this.isStage) {
var e = cc.vv.roomMgr.stage.bet[cc.vv.roomMgr.seatid];
if (null == e) return;
if (0 != e.bet) {
this.hidetip();
return;
}
}
if (this.watch_game()) this.nodeXiazhu.active = !1; else {
if (0 != this._feng) {
cc.vv.net2.quick("xiazhu", {
power: this._feng
});
return;
}
this.tip("xiazhu");
this.nodeXiazhu.active = !0;
for (var i = 0; i < this.nodeXiazhu.childrenCount; i++) {
var t = this.nodeXiazhu.children[i], a = t.getComponent(cc.Button);
a.interactable = !0;
t.myTag > this._xiaZhuRange && (a.interactable = !1);
}
}
},
xiazhu: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.nodeXiazhu.active = !1;
this.node.getChildByName("mgr").getChildByName("tuizhu").active = !1;
this.hidetip();
}
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = new cc.Node("BetNode"), a = t.addComponent(cc.Label);
a.font = this.btnAtlas;
a.string = e.power;
t.y = 6;
this.table.seat_emit(i, "bet", {
node: t
});
},
fapai_2: function(e) {
this.auto_tips(e.time, "开牌");
this.hidetip();
var i = this.node.getChildByName("mgr").getChildByName("gongpai"), t = cc.instantiate(this.pokerPrefab);
t.y = 100;
t.scale = 1.1;
var a = cc.vv.utils.getPokerSpriteFrame(this.pokerAtlas, e.pubPoker);
t.getChildByName("card").getComponent(cc.Sprite).spriteFrame = a;
i.addChild(t);
this.data = e;
this.schedule(this.otherTimeUpdate, 1);
if (1 != cc.vv.roomMgr.is_replay) {
if (3 != this._wanfa) {
this.btncuopai.active = !0;
this.btnfanpai.active = !0;
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !0;
}
if (1 == this.watch_game()) {
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
} else {
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
},
watch_game: function() {
var e = !1, i = cc.vv.roomMgr.table.list;
if (!cc.vv.roomMgr.is_replay) for (var t = cc.vv.roomMgr.guanzhan_table.list, a = 0; a < t.length; a++) 0 != t[a].userid && t[a].userid == cc.vv.userMgr.userid && (e = !0);
for (a = 0; a < i.length; a++) if (0 != i[a].userid && 0 != i[a].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(i[a].seatid) && (e = !0);
}
return e;
},
dingzhuang: function(e) {
var i = this;
this.auto_tips(e.time, "下注最小注");
this._zhuang = e.seatid;
this._xiaZhuRange = e.xiaZhuRange;
this.nodezhuang.active = !1;
var t = this.watch_game();
this.table.dingzhuang(e, function() {
var a = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: a
});
1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != e.seatid ? 1 != t && i.show_xiazhu() : i.tip("otherxiazhu"));
});
},
kaipai_callback: function(e, i, t, a, n, s) {
if (3 == t) {
var c = e, o = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], h = o[i].pos.card, r = o[i].toright, l = o[i].scale, d = new cc.Node("TypeBg"), g = new cc.Node("TypeNode"), u = new cc.Node("Typebei");
d.addComponent(cc.Sprite).spriteFrame = a >= 200 ? c.typeAtlas.getSpriteFrame("btn_bg3") : a % 10 == 5 ? c.typeAtlas.getSpriteFrame("btn_bg2") : c.typeAtlas.getSpriteFrame("btn_bg1");
var _ = "nn_" + a;
g.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(_);
var v = "x" + n;
u.addComponent(cc.Sprite).spriteFrame = c.typeAtlas.getSpriteFrame(v);
d.addChild(g);
d.addChild(u);
u.y = -40;
c.nodeCard.addChild(d);
d.zIndex = 100;
d.scale = l;
d.x = h.x + r;
d.y = h.y - 20;
if (null != s) {
var p = [], m = !1;
if (null != a && a >= 150) m = !1; else if (null != a && a % 10 == 5) {
p = c.isHaveZuo(s);
m = !0;
} else if (null != a && a % 10 == 0) {
p = c.isHaveNiu(s);
m = !0;
} else m = !1;
m = !1;
for (var f = 0; f < 5; ++f) 1 == m && c.isInArray(p, f) && c.send_card_emit(i, f, "top");
}
}
},
kaipai: function(e) {
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.play_nn_mp3(e.seatid, e.type);
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("kaipai");
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
this.show_jiaobiao(i);
if (0 == i) {
for (var t = 0; t < 5; ++t) {
var a = {
obj: this,
viewid: i,
index: t,
value: e.pai[t],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate
};
this.send_card_emit(i, t, "kaipai", a);
}
var n = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (t = 0; t < 5; ++t) {
a = {
obj: this,
viewid: i,
index: t,
type: e.type,
rate: e.rate,
x: n.x + t * n.distance,
y: n.y,
scale: n.scale,
pai: e.pai,
callback: this.kaipai_callback
};
this.send_card_emit(i, t, "shousuo", a);
}
} else for (t = 0; t < 5; ++t) {
a = {
obj: this,
viewid: i,
index: t,
value: e.pai[t],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate,
pai: e.pai,
callback: this.kaipai_callback
};
this.send_card_emit(i, t, "trun", a);
}
}
},
user_status_change: function(e) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) if (0 != i[t].userid) {
if (1 == e.change_item[t]) {
0 == cc.vv.roomMgr.viewChairID(t) && (this._my_isin_game = !0);
}
i[t].sitStatus = e.change_item[t];
}
},
new_real: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0, t = 0, a = 0; a < e.length; a++) {
0 != e[a].userid && t++;
var n = cc.vv.roomMgr.getSeatIndexByID(e[a].userid);
0 != e[a].sitStatus ? i++ : 0 == n && (this._my_isin_game = !1);
}
return t - i;
},
auto_ready: function() {
this.autoready--;
this.nodeJiesuan.getChildByName("btn_ready").getChildByName("lbl").getComponent(cc.Label).string = this.autoready;
if (this.autoready <= 0) {
this.autoready = 0;
this.unschedule(this.auto_ready);
}
},
jiesuan: function(e) {
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
this.autoready = 10;
this.schedule(this.auto_ready, 1);
var i = this;
this.hidetip();
this.nodeCuopai.active = !1;
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var t = cc.vv.roomMgr.table.list;
if (null == cc.vv.roomMgr.stage || null != cc.vv.roomMgr.stage && 97 != cc.vv.roomMgr.stage.stage) {
for (var a = 0; a < cc.vv.roomMgr.ren; ++a) if (0 == t[a].sitStatus) {
var n = cc.vv.roomMgr.viewChairID(a);
if (1 != this._kaipai[e.list[a].seatid]) {
i.show_jiaobiao(n);
if (e.list[a].seatid == cc.vv.roomMgr.seatid) {
for (var s = -1, c = 0; c < 5; ++c) if (e.list[a].hand[c] != this.pubPoker_val) {
var o = {
obj: this,
viewid: n,
index: ++s,
value: e.list[a].hand[s],
rate: e.list[a].rate,
type: e.list[a].type,
atlas: this.pokerAtlas
};
i.send_card_emit(n, s, "kaipai", o);
}
var h = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
s = -1;
for (c = 0; c < 5; ++c) {
o = {
obj: i,
viewid: n,
index: ++s,
type: e.list[a].type,
rate: e.list[a].rate,
x: h.x + s * h.distance,
y: h.y,
scale: h.scale,
pai: e.list[a].hand,
callback: this.kaipai_callback
};
i.send_card_emit(n, s, "shousuo", o);
}
} else {
for (c = 0; c < 5; c++) if (e.list[a].hand[c] == e.pubPoker && 4 != c) {
var r = e.list[a].hand[4];
e.list[a].hand[4] = e.list[a].hand[c];
e.list[a].hand[c] = r;
}
for (c = 0; c < 4; ++c) {
o = {
obj: i,
viewid: n,
index: c,
value: e.list[a].hand[c],
type: e.list[a].type,
rate: e.list[a].rate,
atlas: i.pokerAtlas,
pai: e.list[a].hand,
callback: this.kaipai_callback
};
i.send_card_emit(n, c, "trun", o);
}
}
this.play_nn_mp3(a, e.list[a].type);
}
}
} else for (a = 0; a < t.length; ++a) if (0 != t[a].userid) {
if (0 == (n = cc.vv.roomMgr.viewChairID(a))) {
if (0 != t[a].sitStatus) continue;
var l = e.list[a].hand, d = !1;
this.show_fapai_stage(n, 0, 4, l, d, function(e, i) {});
for (h = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren], c = 0; c < 4; ++c) {
o = {
obj: i,
viewid: n,
index: c,
type: e.list[a].type,
rate: e.list[a].rate,
x: h.x + c * h.distance,
y: h.y,
scale: h.scale,
pai: e.list[a].hand,
callback: this.kaipai_callback
};
i.send_card_emit(n, c, "shousuo", o);
}
} else {
l = e.list[a].hand, d = !1;
this.show_fapai_stage(n, 0, 4, l, d, function(t, n) {
3 == n && i.kaipai_callback(i, t, n, e.list[a].type, e.list[a].rate, e.list[a].hand);
});
}
}
var g = 0;
for (a = 0; a < e.list.length; a++) 0 != e.list[a].userid && g++;
var u = [], _ = (t = cc.vv.roomMgr.table.list, 0);
for (c = 0; c < t.length; c++) 0 != t[c].userid && 0 != t[c].sitStatus && (u[_++] = t[c]);
for (a = 0; a < g; ++a) {
n = cc.vv.roomMgr.viewChairID(a);
0 == e.list[a].userSitStatus && i.table.seat_emit(n, "score", e.list[a].user_score);
e.list[a].round_score > 0 ? i.table.seat_emit(n, "win", e.list[a].round_score) : i.table.seat_emit(n, "lost", e.list[a].round_score);
}
var v = this.nodeJiesuan.getChildByName("list");
for (a = 0; a < v.children.length; ++a) v.children[a].active = !1;
var p = -1, m = !0, f = 0, y = [];
for (a = 0, c = 0; a < e.list.length; ++a) 0 != e.list[a].userid && (y[c++] = e.list[a]);
e.list = y;
g = e.list.length;
for (a = 0; a < g; ++a) if (0 != e.list[a].userid) {
if (0 == (n = cc.vv.roomMgr.viewChairID(e.list[a].seatid)) || 1 != m) {
m = !1;
f++;
var C = e.list[a].nickname, b = this.table.seat_img(n);
(z = v.getChildByName("item" + (a - (p + 1)))).active = !0;
z.getChildByName("img").getComponent(cc.Sprite).spriteFrame = b;
z.getChildByName("name").getComponent(cc.Label).string = C;
var w = "nn_" + e.list[a].type;
z.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(w);
z.getChildByName("zhuang").active = a == e.zhuang;
var x = z.getChildByName("score").getComponent(cc.Label);
if (e.list[a].round_score > 0) {
x.font = i.winFont;
x.string = "+" + cc.vv.utils.numInt(e.list[a].round_score);
} else if (e.list[a].round_score < 0) {
x.font = i.lostFont;
x.string = cc.vv.utils.numInt(e.list[a].round_score);
} else {
x.font = i.winFont;
x.string = cc.vv.utils.numInt(e.list[a].round_score);
}
if (1 == e.list[a].userSitStatus) {
z.getChildByName("watch").active = !0;
x.string = "-";
} else z.getChildByName("watch").active = !1;
} else p = a;
}
for (a = 0; a < g; ++a) 0 == e.list[a].userSitStatus && 0;
for (a = 0; a < p + 1; ++a) {
var z;
n = cc.vv.roomMgr.viewChairID(e.list[a].seatid), C = e.list[a].nickname, b = this.table.seat_img(n);
(z = v.getChildByName("item" + (a + f))).active = !0;
z.getChildByName("img").getComponent(cc.Sprite).spriteFrame = b;
z.getChildByName("name").getComponent(cc.Label).string = C;
w = "nn_" + e.list[a].type;
z.getChildByName("niutype").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame(w);
x = z.getChildByName("score").getComponent(cc.Label);
if (e.list[a].round_score > 0) {
x.font = i.winFont;
x.string = "+" + cc.vv.utils.numInt(e.list[a].round_score);
} else if (e.list[a].round_score < 0) {
x.font = i.lostFont;
x.string = cc.vv.utils.numInt(e.list[a].round_score);
} else {
x.font = i.winFont;
x.string = cc.vv.utils.numInt(e.list[a].round_score);
}
if (1 == e.list[a].userSitStatus) {
z.getChildByName("watch").active = !0;
x.string = "-";
} else z.getChildByName("watch").active = !1;
z.getChildByName("zhuang").active = a == e.zhuang;
}
cc.vv.audioMgr.playSFX("nn/chips");
var k = i.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), M = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_left").getComponent(cc.Sprite), j = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_right").getComponent(cc.Sprite), N = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_left").getComponent(cc.Sprite), S = i.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_right").getComponent(cc.Sprite);
function F(e) {
if (1 == e) {
k.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shengli");
M.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
j.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
N.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
S.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
} else {
k.spriteFrame = i.jiesuanAtlas.getSpriteFrame("shibai");
M.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
j.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_wanjia");
N.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
S.spriteFrame = i.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
}
for (a = 0; a < g; a++) {
if (0 == (n = cc.vv.roomMgr.viewChairID(e.list[a].seatid))) if (e.list[a].round_score < 0) {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3, i);
F(0);
} else {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3, i);
F(1);
}
}
if (1 == this.watch_game()) {
k.spriteFrame = i.jiesuanAtlas.getSpriteFrame("guanzhan");
M.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
j.spriteFrame = i.jiesuanAtlas.getSpriteFrame("wanjia");
N.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
S.spriteFrame = i.jiesuanAtlas.getSpriteFrame("jifen");
}
function B() {
i.nodeJiesuan.active = !0;
}
var T = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
cc.vv.roomMgr.is_replay ? setTimeout(function() {
B();
}, 5e3) : setTimeout(function() {
B();
}, 2e3);
for (a = 0; a < g; a++) {
var A = cc.callFunc(function() {});
if (e.list[a].seatid != this._zhuang) if (e.list[a].round_score < 0) {
var I = cc.vv.roomMgr.viewChairID(e.list[a].seatid), X = cc.vv.roomMgr.viewChairID(this._zhuang);
this.playBetByXY(this._winPlayer, T[I].x, T[I].y, T[X].x, T[X].y, 10, A);
} else if (e.list[a].round_score > 0) {
I = cc.vv.roomMgr.viewChairID(this._zhuang), X = cc.vv.roomMgr.viewChairID(e.list[a].seatid);
this.playBetByXY(this._winPlayer, T[I].x, T[I].y, T[X].x, T[X].y, 10, A);
}
}
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
report: function(e) {
this.nodeCuopai.active = !1;
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.nodeReport.getChildByName("otherScore").getComponent(cc.Label).string = "其他:" + e.otherScore;
this.labelRoomwanfa.string = "玩法：" + e.desc;
for (var i = 0, t = 0; t < e.list.length; t++) 0 == e.list[t].hasJoinedBattle && i++;
var a, n = 0;
for (t = 0; t < e.list.length; ++t) e.list[t].userid > 0 && n++;
this.table.hide_dismiss_room();
(a = n - i <= 5 ? this.nodeReport.getChildByName("list1") : this.nodeReport.getChildByName("list2")).removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
var s = 0;
for (t = 0; t < e.list.length; ++t) e.list[t].result_score > s && (s = e.list[t].result_score);
var c = 0;
for (t = 0; t < e.list.length; ++t) if (e.list[t].result_score < c) {
c = e.list[t].result_score;
t;
}
for (t = 0; t < n; ++t) if (0 != e.list[t].userid && 1 == e.list[t].hasJoinedBattle) {
var o, h = cc.vv.roomMgr.viewChairID(t), r = {
name: e.list[t].name,
userid: e.list[t].userid,
headimg: e.list[t].headimg,
score: e.list[t].result_score,
dayingjia: e.list[t].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[t].result_score == c
};
r.datuhao = !1;
o = n - i <= 5 ? cc.instantiate(this.reportItemPrefab) : cc.instantiate(this.reportItemMinPrefab);
a.addChild(o);
o.emit("info", r);
0 == h && (this.labelScore.string = "+" + e.list[t].coins);
}
},
qiangzhuang: function(e) {
e.seatid == cc.vv.roomMgr.seatid && (this.nodezhuang.active = !1);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.table.seat_emit(i, "qiangzhuang");
},
pubPoker: function(e) {
var i = this.node.getChildByName("mgr").getChildByName("gongpai"), t = cc.instantiate(this.pokerPrefab);
t.y = 100;
t.scale = 1.1;
var a = cc.vv.utils.getPokerSpriteFrame(this.pokerAtlas, e);
this.pubPoker_val = e.pubPoker;
t.getChildByName("card").getComponent(cc.Sprite).spriteFrame = a;
i.addChild(t);
},
stage: function(e) {
if (null != e.ready) {
this.new_round();
this.watch_game_list();
cc.vv.roomMgr.stage = e;
cc.vv.roomMgr.stage && (this.isStage = !0);
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
this.node.getChildByName("mgr").getChildByName("hud").emit("round");
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
switch (e.stage) {
case 1:
case 2:
this.auto_tips(e.deal_time, "不抢庄");
var i = cc.vv.roomMgr.param.wanfa, t = e.cards;
if (1 == i) t[3] = 0; else if (2 == i) {
t[2] = 0;
t[3] = 0;
} else if (3 == i) {
t[0] = 0;
t[1] = 0;
t[2] = 0;
t[3] = 0;
}
this.fapai_1_stage({
pai: t
});
this.fapai1Data = e;
0 == e.isqiangzhuang && 2 == e.stage && this.kaiqiang();
break;

case 3:
this._xiaZhuRange = e.xiaZhuRange;
0 != e.tuizhuArr.length && this.tuizhu({
tuizhu: e.tuizhuArr,
xiaZhuRange: e.xiaZhuRange
});
this.auto_tips(e.deal_time, "下注最小注");
this._zhuang = e.zhuang;
var a = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: a
});
this.fapai_1_stage({
pai: e.cards
});
this.fapai1Data = e;
for (var n = e.bet, s = 0; s < n.length; s++) 0 != n[s].bet && this.xiazhu({
seatid: s,
power: n[s].bet
});
if (cc.vv.roomMgr.seatid != e.zhuang) {
this.tip("xiazhu");
this.show_xiazhu();
} else this.tip("otherxiazhu");
break;

case 4:
this.auto_tips(e.deal_time, "开牌");
this._zhuang = e.zhuang;
a = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: a
});
t = cc.vv.utils.deepCopy(e).cards;
this.data = e;
this.data.pai = e.cards;
if (0 == e.iskaipai) {
if (1 == (i = cc.vv.roomMgr.param.wanfa)) t[3] = 0; else if (2 == i) {
t[2] = 0;
t[3] = 0;
} else if (3 == i) {
t[0] = 0;
t[1] = 0;
t[2] = 0;
t[3] = 0;
}
}
this.pubPoker(e.pubPoker);
this.fapai_1_stage({
pai: t
});
for (n = e.bet, s = 0; s < n.length; s++) 0 != n[s].bet && this.xiazhu({
seatid: s,
power: n[s].bet
});
if (1 != cc.vv.roomMgr.is_replay) {
if (3 == this._wanfa) if (0 == e.iskaipai) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !0;
this.btncuopai.active = !1;
} else {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
} else if (0 == e.iskaipai) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !0;
this.btncuopai.active = !0;
} else {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
e = {
rate: e.rate,
pai: e.cards,
seatid: cc.vv.roomMgr.seatid,
type: e.type
};
this.kaipai(e);
}
if (this.watch_game()) {
this.btnKaipai.active = !1;
this.btnfanpai.active = !1;
this.btncuopai.active = !1;
}
} else {
this.btnKaipai.active = !1;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
}
break;

case 97:
1 == e.ready && (this.node.getChildByName("watchgame").active = !1);
this._zhuang = e.zhuang;
a = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: a
});
}
this.isStage = !1;
cc.vv.roomMgr.stage && (cc.vv.roomMgr.stage.stage = null);
}
},
deal_fapai: function(e, i, t, a) {
var n = this, s = t.pai;
if (null != s) {
for (var c = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], o = [], h = [], r = [], l = 0, d = cc.vv.roomMgr.table.list, g = 0; g < d.length; g++) 0 != d[g].userid && l++;
l = cc.vv.roomMgr.ren;
for (g = 0; g < l; ++g) for (var u = cc.vv.roomMgr.viewChairID(g), _ = 0, v = c[u].pos.card, p = (c[u].scale, 
e); p < i; p++) if (0 == d[g].sitStatus) {
0 == u && (_ = s[p]);
var m = {
obj: n,
viewid: u,
index: p,
time: p,
atlas: n.pokerAtlas,
value: _,
x: v.x + p * c[u].distance,
y: v.y,
scale: v.scale,
callback: a
}, f = {
obj: n,
viewid: u,
index: p,
time: p,
atlas: n.pokerAtlas,
value: _,
x: v.x + p * c[u].distance,
y: v.y,
scale: v.scale,
callback: a
};
(b = cc.instantiate(this.pokerPrefab)).getComponent("NNPoker").node.scale = .8;
h.push(f);
r.push(m);
o.push(b);
this.nodeCard.addChild(b);
b.myTag = m.viewid + "_" + m.index;
}
for (var y = r.length, C = (a = function(e, i) {
for (var t = 0; t < y; t++) {
o[t].zIndex = t;
}
if (0 == e && 3 == i) for (var a = 0; a < y; a++) {
var s = r[a];
0 != s.value && n.send_card_emit(s.viewid, s.index, "trun", s);
}
}, 0); C < y; C++) {
var b;
(b = o[C]).zIndex = y - C;
var w = h[C];
w.value = 0;
5 == cc.vv.roomMgr.ren && (w.time = C);
w.callback = a;
b.emit("fapai", w);
}
}
},
show_fapai: function(e, i, t, a, n) {
var s = this.isStage, c = t.pai;
if (null != c) {
for (var o = 0, h = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], r = cc.vv.roomMgr.table.list, l = 0; l < r.length; l++) 0 != r[l].userid && o++;
o = cc.vv.roomMgr.ren;
for (l = 0; l < o; ++l) for (var d = cc.vv.roomMgr.viewChairID(l), g = 0, u = h[d].pos.card, _ = (h[d].scale, 
e); _ < i; _++) if (0 == r[l].sitStatus) {
0 == d && (g = c[_]);
var v = {
obj: this,
viewid: d,
index: _,
time: _,
atlas: this.pokerAtlas,
value: g,
x: u.x + _ * h[d].distance,
y: u.y,
scale: u.scale,
callback: n
}, p = cc.instantiate(this.pokerPrefab);
p.getComponent("NNPoker");
this.nodeCard.addChild(p);
p.myTag = v.viewid + "_" + v.index;
p.emit("show", v);
}
a && 1 != cc.vv.roomMgr.is_replay && (cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu(s) : this.tip("otherxiazhu"));
}
},
show_fapai_stage: function(e, i, t, a, n, s) {
for (var c = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], o = c[e].pos.card, h = (c[e].scale, 
i); h < t; h++) {
var r = {
obj: this,
viewid: e,
index: h,
time: h,
atlas: this.pokerAtlas,
value: a[h],
x: o.x + h * c[e].distance,
y: o.y,
scale: o.scale,
callback: s
}, l = cc.instantiate(this.pokerPrefab);
l.getComponent("NNPoker");
this.nodeCard.addChild(l);
l.myTag = r.viewid + "_" + r.index;
l.emit("show", r);
}
},
tip: function(e) {
if (null != e) {
var i = "tips_" + e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
this.watch_game() && (this.sprTip.node.active = !1);
} else this.sprTip.node.active = !1;
},
hidetip: function() {
this.sprTip.node.active = !1;
},
play_nn_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "nn/" + t + "/nn_" + i;
cc.vv.audioMgr.playSFX(a);
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeCard, n);
s && s.emit(t, a);
},
fanpaiClick: function() {
var e = this;
if (!this.isFanPai) {
this.isFanPai = !0;
for (var i = function(i, t, a, n) {
if (0 == t && 3 == a) {
e.btncuopai.active = !1;
e.btnfanpai.active = !1;
e.btnKaipai.active = !0;
}
}, t = 0; t < 4; ++t) {
var a = {
viewid: 0,
obj: this,
type: 0,
index: t,
atlas: e.pokerAtlas,
value: e.data.pai[t],
rate: e.data.rate,
callback: i
};
e.send_card_emit(0, t, "kaipai", a);
}
}
},
fanpai: function(e, i) {
for (var t = this, a = function(e, i, a, n) {
t.show_jiaobiao(i);
}, n = 0; n < 4; ++n) {
var s = {
viewid: 0,
obj: this,
type: 0,
index: n,
atlas: t.pokerAtlas,
value: e.pai[n],
callback: a
};
t.send_card_emit(0, n, "kaipai", s);
}
},
cuopaiClick: function() {
if (!this.isCuopai) {
this.isCuopai = !0;
1 == this._wanfa ? this.cuopaiOnePai() : this.cuopaiTwoPai();
}
},
cuopaiOnePai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
var i = cc.vv.game.config.cuopai, t = 0, a = 0, n = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[3],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, s = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(s);
s.scale = 1;
s.zIndex = 0;
s.emit("fapai", n);
var c = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, o = cc.instantiate(this.pokerPrefab), h = o.getChildByName("card");
this.nodeCardone.addChild(o);
h.setPosition(0, 0);
o.scale = 1;
o.zIndex = 0;
o.getChildByName("card").setContentSize(cc.size(171, 218));
o.emit("fapai", c);
h.on("touchmove", function(e) {
var i = e.touch.getDelta(), n = i.x / 2, s = i.y / 2;
t += n;
a += s;
h.setPosition(h.x + n, h.y + s);
}, this);
h.on("touchend", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
h.on("touchcancel", function(e) {
if (t > 0 && o.width / 5 < t || t < 0 && o.width / 5 < -t || a > 0 && o.height / 5 < a || a < 0 && o.height / 5 < -a) {
h.off("touchmove");
h.off("touchend");
h.off("touchcancel");
h.setPosition(0, 0);
o.zIndex = -1;
} else h.setPosition(0, 0);
t = 0;
a = 0;
}, this);
},
cuopaiTwoPai: function() {
var e = this;
this.nodeCuopai.active = !0;
this.btncuopai.active = !1;
this.btnfanpai.active = !1;
this.btnKaipai.active = !1;
var i = cc.vv.game.config.cuopai, t = function(e, i, t, a) {}, a = 0, n = 0, s = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[3],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, c = cc.instantiate(this.pokerPrefab);
this.nodeCardone.addChild(c);
c.scale = 1;
c.emit("fapai", s);
var o = {
viewid: 0,
index: 2,
atlas: e.pokerAtlas,
value: e.data.pai[2],
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, h = cc.instantiate(this.pokerPrefab), r = h.getChildByName("card");
this.nodeCardone.addChild(h);
r.setPosition(0, 0);
h.scale = 1;
h.emit("fapai", o);
var l = {
viewid: 0,
index: 1,
atlas: e.pokerAtlas,
value: 0,
x: i[0].card.x,
y: i[0].card.x,
scale: i[0].card.scale,
iscuopai: !0,
callback: function() {}
}, d = cc.instantiate(this.pokerPrefab), g = d.getChildByName("card");
this.nodeCardone.addChild(d);
g.setPosition(0, 0);
d.scale = 1;
d.getChildByName("card").setContentSize(cc.size(171, 218));
d.emit("fapai", l);
function u() {
r.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
r.setPosition(r.x + t, r.y + s);
}, e);
r.on("touchend", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
r.on("touchcancel", function(e) {
if (a > 0 && h.width / 5 < a || a < 0 && h.width / 5 < -a || n > 0 && h.height / 5 < n || n < 0 && h.height / 5 < -n) {
r.off("touchmove");
r.off("touchend");
r.off("touchcancel");
r.setPosition(0, 0);
h.zIndex = -1;
t();
} else r.setPosition(0, 0);
a = 0;
n = 0;
}, e);
}
g.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, s = i.y / 2;
a += t;
n += s;
g.setPosition(g.x + t, g.y + s);
}, this);
g.on("touchend", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
g.on("touchcancel", function(e) {
if (a > 0 && d.width / 5 < a || a < 0 && d.width / 5 < -a || n > 0 && d.height / 5 < n || n < 0 && d.height / 5 < -n) {
g.off("touchmove");
g.off("touchend");
g.off("touchcancel");
g.setPosition(0, 0);
d.zIndex = -1;
u();
} else g.setPosition(0, 0);
a = 0;
n = 0;
}, this);
},
show_jiaobiao: function(e) {
if (1 == this._wanfa) this.send_card_emit(e, 4, "setType", 2); else if (2 == this._wanfa) {
this.send_card_emit(e, 3, "setType", 1);
this.send_card_emit(e, 4, "setType", 2);
}
},
otherTimeUpdate: function() {
var e = this.NodeWaitclock.getChildByName("time").getComponent(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
this.NodeWaitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
getVectorRadians: function(e, i) {
var t = t = Math.abs(e) / Math.abs(i), a = 0;
e > 0 && i < 0 ? a = 180 * Math.atan(t) / Math.PI - 90 : e > 0 && i > 0 ? a = 90 - 180 * Math.atan(t) / Math.PI : e < 0 && i < 0 ? a = 180 * -Math.atan(t) / Math.PI - 90 : e < 0 && i > 0 && (a = 180 * Math.atan(t) / Math.PI + 90);
return a;
},
isHaveNiu: function(e) {
for (var i, t, a = [], n = [], s = -1, c = [ 0, 0, 0, 0, 0 ], o = 0, h = [], r = -1, l = [], d = 0, g = [], u = 0; u < 5; u++) e[u] < 255 && (c[u] = e[u]);
for (u = 0; u < c.length; u++) if (95 == c[u] || 79 == c[u]) {
l[d] = u;
d++;
} else h[o++] = c[u];
if (1 == d) {
r = 11;
var _ = 0;
for (u = 0; u < h.length; u++) {
(v = h[u] % 16) > 10 && (v = 10);
_ += v;
}
for (u = 0; u < h.length; u++) {
var v;
(v = h[u] % 16) > 10 && (v = 10);
if ((_ - v) % 10 == 0) {
if (v < r) {
s = r = v;
i = h[u] % 16;
}
}
}
if (11 != r) for (u = 0; u < c.length; u++) 95 != c[u] && 79 != c[u] && i != c[u] % 16 && n.push(u);
r = -1;
for (u = 0; u < h.length; u++) for (var p = 0; p < h.length; p++) if (u != p) {
var m = h[u] % 16;
m > 10 && (m = 10);
(y = h[p] % 16) > 10 && (y = 10);
var f = m + y;
if (0 == (f %= 10)) {
r = f;
i = h[u];
t = h[p];
} else if (f > r && 0 != r) {
r = f;
i = h[u];
t = h[p];
}
}
g.push(l[0]);
g.push(i);
g.push(t);
if ((i + t) % 10 == 0 && -1 != s) for (u = 0; u < c.length; u++) 95 != c[u] && 79 != c[u] && c[u] % 16 != s && a.push(u); else {
a.push(l[0]);
for (u = 0; u < c.length; u++) g.indexOf(c[u]) > -1 || a.push(u);
}
} else if (2 == d) {
return a;
var y;
} else for (u = 0; u < c.length; u++) for (var C = u + 1; C < c.length; C++) for (var b = C + 1; b < c.length; b++) {
var w = c[u] % 16, x = c[C] % 16, z = c[b] % 16;
w > 10 && (w = 10);
x > 10 && (x = 10);
z > 10 && (z = 10);
if (0 != w || 0 != x || 0 != z) {
if ((w + x + z) % 10 == 0) {
a.push(u);
a.push(C);
a.push(b);
return a;
}
}
}
return 0 == r ? a : -1 != s ? n : a;
},
isHaveZuo: function(e) {
for (var i = [], t = [ 0, 0, 0, 0 ], a = 0; a < t.length; a++) e[a] < 255 && (t[a] = e[a]);
for (a = 0; a < t.length; a++) for (var n = a + 1; n < t.length; n++) for (var s = n + 1; s < t.length; s++) {
var c = t[a] % 16, o = t[n] % 16, h = t[s] % 16;
if (c == o && o == h && 0 != c) {
i.push(a);
i.push(n);
i.push(s);
return i;
}
}
return i;
},
isInArray: function(e, i) {
for (var t = 0; t < e.length; t++) if (i === e[t]) return !0;
return !1;
},
onDestroy: function() {
cc.isValid(this.animation) && this.animation.off("finished");
cc.loader.setAutoRelease(this, !0);
}
});
cc._RF.pop();
}, {
NN1003Const: "NN1003Const",
NN1003ReplayMgr: "NN1003ReplayMgr"
} ],
NN1003Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "09e0fVIueZGIL7tlKYXaMAZ", "NN1003Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doFapai: function(e) {
for (var i = e.length, t = 0; t < i; t++) {
var a = cc.vv.roomMgr.param.wanfa;
if (0 == cc.vv.roomMgr.viewChairID(t)) if (1 == a) {
(n = e[t])[4] = 0;
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
} else if (2 == a) {
(n = e[t])[3] = 0;
n[4] = 0;
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
} else {
var n = e[t];
this.dispatchEvent("fapai_1", {
data: {
pai: n
}
});
}
}
},
doDingZhuang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doXiaZhu: function(e) {
for (var i = e.length, t = 0; t < i; t++) 0 != e[t] && this.dispatchEvent("xiazhu", {
data: {
seatid: t,
power: e[t]
}
});
},
doKaipai: function(e, i) {
for (var t = cc.vv.roomMgr.real, a = 0; a < t; a++) {
0 == cc.vv.roomMgr.viewChairID(a) && this.dispatchEvent("fanpai", {
data: {
seatid: a,
pai: e[a]
},
pubPoker: i
});
}
}
});
cc._RF.pop();
}, {} ],
NN1003ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "28b47NjNapDIbO+wJJbu+i8", "NN1003ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.nnMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return null != e.action ? {
data: e.data,
action: e.action,
pubPoker: e.pubPoker
} : {
data: e.data,
action: e.action
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.action) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.nnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return .5;
}
if ("faPai" == e.action) {
for (t = 0; t < this._actionRecords.length; t++) {
var n = this._actionRecords[t];
"hand" == n.action && null != n.pubPoker && (this.pubPoker = n.pubPoker);
}
for (t = 0; t < e.data.length; t++) for (var s = 0; s < e.data.length; s++) if (e.data[t][s] == this.pubPoker && 4 != s) {
var c = e.data[t][4];
e.data[t][4] = e.data[t][s];
e.data[t][s] = c;
}
cc.vv.nnMgr.doFapai(e.data);
return 3;
}
if ("dingZhuang" == e.action) {
cc.vv.nnMgr.doDingZhuang(e.data);
return 2;
}
if ("xiaZhu" == e.action) {
cc.vv.nnMgr.doXiaZhu(e.data);
return 2;
}
if ("hand" == e.action) {
cc.vv.nnMgr.doKaipai(e.data, e.pubPoker);
return 2;
}
}
});
cc._RF.pop();
}, {} ],
NNPoker: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "45e4byqkMlMUJoHjZyd6vSA", "NNPoker");
cc.Class({
extends: cc.Component,
properties: {
card: cc.Sprite,
type: cc.Node,
_value: 255,
_select: 0,
_scale: 1,
type_four: cc.SpriteFrame,
type_five: cc.SpriteFrame
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("fapai", function(i) {
e.fapai(i);
});
this.node.on("trun", function(i) {
e.trun(i);
});
this.node.on("kaipai", function(i) {
e.kaipai(i);
});
this.node.on("show", function(i) {
e.show(i);
});
this.node.on("top", function() {
e.top();
});
this.node.on("shousuo", function(i) {
e.shousuo(i);
});
this.node.on("setType", function(i) {
e.setType(i);
});
},
fapai: function(e) {
var i = this, t = 0;
this._scale = e.scale;
t = e.time ? .05 * e.time : .05 * e.index;
i.node.runAction(cc.sequence(cc.delayTime(t), cc.callFunc(function() {
if (0 != e.value) {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}
e.iscuopai || cc.vv.audioMgr.playSFX("nn/flop");
}), cc.spawn(cc.moveTo(.05, cc.v2(e.x, e.y)), cc.scaleTo(.05, e.scale)), cc.delayTime(.05), cc.callFunc(function() {
i.node.x = e.x;
i.node.y = e.y;
i.node.scale = e.scale;
i.updateTwoBug();
null != e.callback && e.callback(e.viewid, e.index);
}, this)));
},
shousuo: function(e) {
var i = this;
i.node.runAction(cc.sequence(cc.delayTime(.5), cc.spawn(cc.moveTo(.25, cc.v2(e.x, e.y)), cc.scaleTo(.25, e.scale)), cc.delayTime(.2), cc.callFunc(function() {
i.node.x = e.x;
i.node.y = e.y;
i.node.scale = e.scale;
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type, e.rate, e.pai);
}, this)));
},
show: function(e) {
if (255 == this._value) {
this.node.x = e.x;
this.node.y = e.y;
this.node.scale = e.scale;
this._scale = e.scale;
if (0 != e.value) {
var i = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
this.card.spriteFrame = i;
this._value = e.value;
}
this.updateTwoBug();
null != e.callback && e.callback(e.viewid, e.index);
}
},
top: function() {
var e = this;
e.node.runAction(cc.sequence(cc.delayTime(.3), cc.callFunc(function() {
e.node.y += 10;
})));
},
updateTwoBug: function() {
"0_4" == this.node.myTag && this.card.node.setContentSize(cc.size(171, 218));
},
trun: function(e) {
var i = this;
if (255 == this._value) {
var t = this._scale;
i.node.runAction(cc.sequence(cc.scaleTo(.15, 0, t), cc.callFunc(function() {
i.card.interactable = !0;
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}, i), cc.scaleTo(.15, t, t), cc.callFunc(function() {
i.node.scale = i._scale;
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type, e.rate, e.pai);
})));
}
},
kaipai: function(e) {
var i = this, t = this._scale;
i.node.runAction(cc.sequence(cc.scaleTo(.15, 0, t), cc.callFunc(function() {
i.card.interactable = !0;
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}, i), cc.scaleTo(.15, t, t), cc.callFunc(function() {
i.node.scale = i._scale;
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type, e.rate, e.pai);
})));
},
onPaiClicked: function() {
cc.vv.audioMgr.click();
this._select = 1 == this._select ? 0 : 1;
this.node.y = 0 == this._select ? 0 : 20;
},
isSelect: function() {
return this._select;
},
setEnabled: function(e) {
var i = this.node.getComponent(cc.Button);
i || (i = this.node.addComponent(cc.Button));
e ? i.node.on("click", this.onPaiClicked, this) : this.node.removeComponent(cc.Button);
},
setSelect: function(e) {
this._select = e;
this.node.y = 0 == this._select ? 0 : 20;
},
setValue: function(e) {
this._value = e;
},
getValue: function() {
return this._value;
},
setType: function(e) {
if (1 == e) {
this.type.active = !0;
this.type.getComponent(cc.Sprite).spriteFrame = this.type_four;
} else if (2 == e) {
this.type.active = !0;
this.type.getComponent(cc.Sprite).spriteFrame = this.type_five;
} else this.type.active = !1;
}
});
cc._RF.pop();
}, {} ],
Net: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d09f647RyhOQJugcnMDhB47", "Net");
var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
}, n = n || window.WebSocket || window.MozWebSocket;
cc.Class({
extends: cc.Component,
properties: {
ip: "",
type: "hall",
auto: 1,
num: 0,
sio: null,
isPinging: !1,
fnDisconnect: null,
handlers: {
default: {}
}
},
addHandler: function(e, i) {
null == this.handlers && (this.handlers = {});
if (!this.handlers[e]) {
this.handlers[e] = function(e) {
i(e);
};
}
},
connect: function(e, i) {
var t = this;
t.auto = 1;
if (this.sio && t.sio.connected) e(); else {
cc.vv.log3.debug("websokect.connect:" + this.ip);
this.sio = new n(this.ip);
this.sio.onopen = function(i) {
t.sio.connected = !0;
t.num = 0;
e(i);
};
this.sio.onmessage = function(e) {
var i = e.data, a = cc.vv.utils.decrypt(i, cc.NET_KEY[t.type]);
i = JSON.parse(a);
for (var n in t.handlers) if (n == i.model) {
var s = t.handlers[n];
"function" == typeof s && s(i);
}
};
this.sio.onclose = function(e) {
if (1 == t.auto) {
if (t.sio && t.sio.connected) {
t.sio.connected = !1;
t.close();
}
t.reConnectGameServer();
}
};
this.sio.onerror = function(e) {
cc.vv.isLoginScene && (cc.vv.connceNum = 1);
i();
};
this.startHearbeat();
}
},
reConnectGameServer: function() {
var e = this;
this.num++;
if (this.num >= 3) {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert("多次尝试仍无法连接游戏，游戏将重新启动", function() {
e.num = 0;
cc.game.restart();
});
} else {
var i = 1e3;
1 == this.num && (i = 0);
e = this;
setTimeout(function() {
if (!e.sio || !e.sio.connected) switch (e.type) {
case "hall":
"hall" == cc.director.getScene().name && cc.vv.popMgr.back_wait();
cc.vv.gameNetMgr.connectHallServer(function() {
cc.vv.popMgr.hide();
});
break;

case "game":
cc.vv.popMgr.back_wait();
cc.vv.gameNetMgr.connectGameServer(e.ip);
}
}, i);
}
},
startHearbeat: function() {
this.addHandler("pong", function() {
e.lastRecieveTime = Date.now();
});
this.lastRecieveTime = Date.now();
var e = this;
if (!e.isPinging) {
e.isPinging = !0;
setInterval(function() {
e.sio && e.sio.connected && e.quick("ping");
}, 2e4);
}
},
toserver: function(e, i) {
if (this.sio && this.sio.readyState == n.OPEN) {
i.model = e;
i = JSON.stringify(i);
cc.vv.log3.debug("net data====>>>>:" + i);
var t = cc.vv.utils.encrypt(i, cc.NET_KEY[this.type]);
this.sio.send(t);
}
},
isConnectd: function() {
return this.sio && this.sio.readyState == n.OPEN;
},
recursive: function(e) {
var i = "";
if ("object" === ("undefined" == typeof e ? "undefined" : a(e))) {
var t = Object.keys(e);
t = t.sort();
for (var n = 0; n < t.length; n++) {
var s = e[t[n]];
void 0 != s && ("object" === ("undefined" == typeof s ? "undefined" : a(s)) ? i += this.recursive(s) : i += s);
}
} else i += e;
return i;
},
send: function(e) {
null == e.data && (e.data = {});
var i = this.recursive(e.data) + cc.SIGN[this.type], t = cc.vv.utils.md5(i);
e.data.sign = t;
this.toserver(this.type, e);
},
quick: function(e, i) {
var t = {
method: e,
data: i
};
this.send(t);
},
close: function() {
if (this.sio && this.sio.connected) {
this.sio.connected = !1;
this.sio.close();
this.sio = null;
this.auto = 0;
}
}
});
cc._RF.pop();
}, {} ],
NoMaterUsersList: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b447bSnHR1BeLbozH+WbZen", "NoMaterUsersList");
cc.Class({
extends: cc.Component,
properties: {
userPrefab: cc.Prefab,
list: cc.Node,
listview: cc.Node,
textID: cc.EditBox,
_ary: [],
_userdata: null,
_idx: 0,
_text: ""
},
onLoad: function() {
var e = this;
this.listview.on("bounce-bottom", function() {
e.loadMember(18, e.textID.string);
});
},
loadMember: function(e, i) {
var t = this;
cc.vv.popMgr.wait2("正在刷新数据", function() {
for (var a = Object.keys(t._userdata), n = 0, s = !1, c = 0; c < a.length; ++c) {
var o = t._userdata[a[c]];
if (null == i || 0 == o.userid.toString().indexOf(i)) {
if (0 == t._userdata[a[c]].is_master && 9 != t._userdata[a[c]].job) {
s = !0;
if (null == cc.vv.utils.getChildByTag(t.list, t._userdata[a[c]].userid + "")) {
var h = cc.instantiate(t.userPrefab);
h.myTag = o.userid + "";
t.list.addChild(h);
h.getComponent("AdminSet").init(o);
if (++n >= e) break;
}
}
} else s = !0;
}
cc.vv.popMgr.hide();
if (0 == s) {
cc.vv.popMgr.tip("没有成员可以添加");
t.node.destroy();
}
});
},
init: function() {
this._userdata = cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id];
this.loadMember(24);
},
onEditChanged: function(e) {
this._text = e;
this.loadMember(18, this.textID.string);
this.search(e);
},
onEditEnd: function(e) {
var i = e.string;
if ("" != i) {
"NaN" !== parseFloat(i).toString() || cc.vv.popMgr.tip("请输入玩家数字ID");
}
},
search: function(e) {
for (var i = 0; i < this.list.childrenCount; ++i) {
var t = this.list.children[i], a = t.myTag.toString();
t.active = 0 == a.indexOf(e);
}
},
editdel: function(e) {
this.textID.string = "";
for (var i = 0; i < this.list.childrenCount; ++i) {
this.list.children[i].active = !0;
}
},
check: function() {
for (var e = 0; e < this.list.childrenCount; ++e) {
var i = this.list.children[e];
i.getComponent(cc.Toggle).isChecked && null !== this.selected(i.myTag) && this._ary.push(this.selected(i.myTag));
}
},
selected: function(e) {
for (var i in this._userdata) if (e === this._userdata[i].userid) return this._userdata[i];
return null;
},
onBtnClicked: function(e) {
this.check();
for (var i = 0; i < this._ary.length; ++i) cc.vv.net1.quick("update_club_user_master", {
club_id: cc.vv.userMgr.club_id,
player_id: this._ary[i].userid,
rate: 0,
is_master: 1
});
this.node.destroy();
}
});
cc._RF.pop();
}, {} ],
NormalUsersList: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "51a9cnUddBO8p4+FQPeYrim", "NormalUsersList");
cc.Class({
extends: cc.Component,
properties: {
userPrefab: cc.Prefab,
list: cc.Node,
listview: cc.Node,
textID: cc.EditBox,
_ary: [],
_userdata: null,
_idx: 0,
_text: "",
_showTipFlag: !1
},
onLoad: function() {
var e = this;
this.listview.on("bounce-bottom", function() {
e.loadMember(18);
});
},
loadMember: function(e) {
var i = this;
i.list.removeAllChildren();
cc.vv.popMgr.wait2("正在刷新数据", function() {
for (var t = Object.keys(i._userdata), a = 0, n = !1, s = 0; s < t.length; ++s) {
var c = i._userdata[t[s]];
if (0 == c.job) {
n = !0;
if (null == cc.vv.utils.getChildByTag(i.list, c.userid + "")) {
var o = cc.instantiate(i.userPrefab);
o.myTag = c.userid;
i.list.addChild(o);
o.getComponent("AdminSet").init(c);
if (++a >= e) break;
}
}
}
cc.vv.popMgr.hide();
n || i._showTipFlag || cc.vv.popMgr.tip("没有成员可以添加");
});
},
init: function(e, i) {
this._showTipFlag = e;
this._userdata = cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id];
i && (this._userdata = i[cc.vv.userMgr.club_id]);
this.loadMember(24);
},
onEditChanged: function(e) {
this.ReqSearchMember();
},
ReqSearchMember: function() {
var e = this.textID.string;
"" != e && e || (e = -1);
cc.vv.net1.quick("club_single_type_users", {
club_id: cc.vv.userMgr.club_id,
player_id: e
});
},
onEditEnd: function(e) {
this.ReqSearchMember();
},
editdel: function() {
this.textID.string = "";
this.ReqSearchMember();
},
check: function() {
for (var e = 0; e < this.list.childrenCount; ++e) {
var i = this.list.children[e];
i.getComponent(cc.Toggle).isChecked && null !== this.selected(i.myTag) && this._ary.push(this.selected(i.myTag));
}
},
selected: function(e) {
for (var i in this._userdata) if (e === this._userdata[i].userid) return this._userdata[i];
return null;
},
onBtnClicked: function(e) {
this.check();
for (var i = 0; i < this._ary.length; ++i) cc.vv.net1.quick("club_user_admin", {
club_id: cc.vv.userMgr.club_id,
user_id: this._ary[i].userid,
is_admin: 1
});
this.node.destroy();
},
onClose: function() {
this.node.destroy();
},
onDestroy: function() {
cc.vv.club._normalUsersList = null;
this.editdel();
}
});
cc._RF.pop();
}, {} ],
OnHide: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f53df+DcrFFkq0xL2CAlXrv", "OnHide");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
var e = this.node.getChildByName("btn_back");
null == e && (e = this.node.getChildByName("btns").getChildByName("btn_back"));
cc.vv.utils.addClickEvent(e, this.node, "OnHide", "onBtnClicked");
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
"btn_back" == e.target.name && (this.node.active = !1);
}
});
cc._RF.pop();
}, {} ],
OnPop: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c8622QkHhtLjrmd61sA3hPh", "OnPop");
cc.Class({
extends: cc.Component,
properties: {},
start: function() {
cc.vv.utils.popPanel(this.node);
}
});
cc._RF.pop();
}, {} ],
OnRemove: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "83d99dQs2NDdKHW8Y0qwZGT", "OnRemove");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
var e = this.node.getChildByName("btn_back");
null == e && null != this.node.getChildByName("btns") && (e = this.node.getChildByName("btns").getChildByName("btn_back"));
cc.vv.utils.addClickEvent(e, this.node, "OnRemove", "onBtnClicked");
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
"btn_back" == e.target.name && cc.vv.utils.popRemove(this.node);
}
});
cc._RF.pop();
}, {} ],
OpenExChange: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "da8e1SnR9dO84duZ8YXJreG", "OpenExChange");
cc.Class({
extends: cc.Component,
properties: {
_select_index: 1,
_send_iphone: "",
_pre_score: 5e4
},
start: function() {
this.init();
},
init: function() {
this._select_index = 1;
this._pre_score = 5e4;
},
showInfo: function() {
var e = this.node.getChildByName("sendinfo");
e.active = !0;
var i = e.getChildByName("name").getComponent(cc.Label);
e.getChildByName("score").getComponent(cc.Label).string = "";
if (1 == this._select_index) {
i.string = "话费充值";
this._pre_score = 1e4;
} else if (2 == this._select_index) {
i.string = "话费充值";
this._pre_score = 5e4;
} else if (3 == this._select_index) {
i.string = "音响";
this._pre_score = 79e3;
} else if (4 == this._select_index) {
i.string = "充电宝";
this._pre_score = 148e3;
} else if (5 == this._select_index) {
i.string = "剃须刀";
this._pre_score = 499e3;
} else if (6 == this._select_index) {
i.string = "iPad air2";
this._pre_score = 2478e3;
} else if (7 == this._select_index) {
i.string = "华为P20 Pro";
this._pre_score = 4988e3;
} else if (8 == this._select_index) {
i.string = "iPhone X";
this._pre_score = 8388e3;
}
e.getChildByName("score").getComponent(cc.Label).string = this._pre_score;
if (cc.vv.userMgr.coins < this._pre_score) {
cc.vv.popMgr.tip("您的积分不够，不能兑换该奖品。");
e.active = !1;
} else ;
},
sendInfo: function() {
var e = this.node.getChildByName("sendinfo").getChildByName("input_ipone_code").getComponent(cc.EditBox).string;
"" != e && 11 == e.length ? cc.vv.popMgr.alert("请核对好您的联系信息方式，如果填写错，奖品可能会发送给人。\n电话号码：" + e, function() {
cc.vv.net1.quick("redeem_record", {
redeem_id: this._select_index,
mobile: e
});
}, !0) : cc.vv.popMgr.tip("手机号输入不正确");
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "send":
-1 == this._select_index ? cc.vv.popMgr.tip("请选择兑换的物品！") : this.showInfo();
break;

case "ExChange_Courtesy":
this._select_index = i;
break;

case "btn_info_back":
this.node.getChildByName("sendinfo").active = !1;
break;

case "send_info":
this.sendInfo();
break;

default:
cc.vv.popMgr.tip("你点的啥：" + e.target.name);
}
}
});
cc._RF.pop();
}, {} ],
OpenedItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "5be21QHhUBOHrK+ftRFnR2+", "OpenedItem");
cc.Class({
extends: cc.Component,
properties: {
roomid: cc.Label,
desc: cc.Label,
time: cc.Label,
players: cc.Label,
status: cc.Sprite,
statusAtlas: {
default: null,
type: cc.SpriteAtlas
},
_status: 0,
_name: {
default: "",
tooltip: "my name",
override: !0
}
},
onLoad: function() {
var e = this;
this.node.on("new", function(i) {
var t = i;
e.node.myTag = t.roomid;
e._name = t.name;
e.roomid.string = t.roomid;
e.desc.string = t.desc;
e.time.string = t.time;
e.players.string = "";
e._status = t.status;
for (var a = JSON.parse(t.players), n = 0; n < a.length; ++n) e.players.string = e.players.string + a[n].nickname + "\n";
e.status.spriteFrame = e.statusAtlas.getSpriteFrame("opened_status_" + t.status);
});
this.node.on("opened_room_remove", function(i) {
var t = i;
if (-98 != t.errcode) if (0 == t.errcode) {
e.node.destroy();
cc.vv.popMgr.alert("房间[" + e.roomid.string + "]解散完成");
} else cc.vv.popMgr.alert(t.errmsg); else cc.vv.popMgr.alert("房间正在游戏中，您是否确认要强制解散？", function() {
e.sendRemove(1);
}, !0);
});
},
share: function(e, i, t) {
var a = parseInt(e), n = cc.GAME_NAME + "房间号：" + t, s = "玩法:" + i.desc.string, c = cc.GAMEADRESS, o = jsb.fileUtils.fullPathForFilename("res/raw-assets/resources/public/dairy_icon.png");
cc.vv.g3Plugin.shareWeb(a, n, s, o, c);
},
btnInviteClicked: function(e, i) {
var t = this;
cc.vv.popMgr.open("Share", function(e) {
e.getComponent("Share").onhideshare(1);
e.getComponent("Share").share(t.share, t, t.roomid.string);
});
},
btnRemoveClicked: function(e, i) {
var t = this;
1 == this._status ? cc.vv.popMgr.alert("房间正在游戏中，您是否确认要强制解散？", function() {
t.sendRemove(1);
}, !0) : cc.vv.popMgr.alert("您确定解散这个代开房吗？", function() {
t.sendRemove(0);
}, !0);
},
sendRemove: function(e) {
var i = {
method: "opened_room_remove",
data: {
roomid: this.roomid.string,
force: e
}
};
cc.vv.net1.send(i);
}
});
cc._RF.pop();
}, {} ],
OpenedRoom: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8a2b8Zg+WhPdZvC0GTLBuIR", "OpenedRoom");
cc.Class({
extends: cc.Component,
properties: {
toggles: cc.Node,
list: cc.Node,
histrylist: cc.Node,
lists: cc.Node,
item: cc.Prefab,
historyItem5: cc.Prefab,
historyItem10: cc.Prefab
},
onLoad: function() {
var e = this.toggles.getChildByName("opened").name;
cc.vv.utils.setToggleChecked(this.toggles, e);
this.onBtnleiXingXuanZe(null, e);
this.initEventHandlers();
},
onEnable: function() {
var e = this.toggles.getChildByName("opened").name;
cc.vv.utils.setToggleChecked(this.toggles, e);
this.onBtnleiXingXuanZe(null, e);
},
initEventHandlers: function() {
var e = this;
this.node.on("show", function() {
cc.vv.net1.send({
method: "opened_room_list",
data: {}
});
});
this.node.on("opened_room_list", function(i) {
e.OpenedRoomList(i);
});
this.node.on("opened_room_change", function(i) {
e.OpenedRoomChange(i);
});
this.node.on("opened_room_remove", function(i) {
e.OpenedRoomRemove(i);
});
this.node.on("opened_room_history", function(i) {
e.OpenedRoomHistory(i);
});
},
OpenedRoomHistory: function(e) {
this.histrylist.removeAllChildren();
for (var i = 0; i < e.length; ++i) if ("null" != e[i].uids) {
var t = e[i].scores.split(",").length <= 5 ? cc.instantiate(this.historyItem5) : cc.instantiate(this.historyItem10);
this.histrylist.addChild(t);
t.getComponent("HIstoryItem").history(e[i]);
}
},
onBtnleiXingXuanZe: function(e, i) {
null != e && cc.vv.audioMgr.click();
null == i && (i = e.target.name);
for (var t = 0; t < this.lists.children.length; ++t) {
var a = this.lists.children[t].name;
this.lists.children[t].active = i == a;
}
if (null != e) switch (e.target.name) {
case "opened":
cc.vv.net1.quick("opened_room_list");
break;

case "history":
cc.vv.net1.quick("opened_room_history", {
pay_way: 1
});
}
},
OpenedRoomList: function(e) {
this.list.removeAllChildren();
for (var i = 0; i < e.length; ++i) {
var t = cc.instantiate(this.item);
this.list.addChild(t);
t.emit("new", e[i]);
}
},
OpenedRoomChange: function(e) {
var i = cc.vv.utils.getChildByTag(this.list, e.roomid);
i && i.emit("new", e);
},
OpenedRoomRemove: function(e) {
var i = cc.vv.utils.getChildByTag(this.list, e.data.roomid);
i && i.emit("opened_room_remove", e);
}
});
cc._RF.pop();
}, {} ],
PDK1900Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "47653IMD9VJ2bmoyq2u7zvS", "PDK1900Const");
cc.Class({
extends: cc.Component,
statics: {
player2: [ {
x: -620,
y: -40,
distance: 50,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
distance: 50,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
} ],
player3: [ {
x: -620,
y: -40,
distance: 50,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
distance: 50,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -620,
y: 143,
distance: 50,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
chat_path: "pdk",
quick_chat: [ {
id: 0,
info: "快点吧，我等的花儿都谢了"
}, {
id: 1,
info: "大家好，我们交个朋友吧"
}, {
id: 2,
info: "打牌这么慢像个老太婆一样"
}, {
id: 3,
info: "急什么，让我想想"
}, {
id: 4,
info: "快出快出，别耽误我玩牌"
}, {
id: 5,
info: "你就是传说中的赌神吗"
}, {
id: 6,
info: "我只想安静的做个宝宝"
}, {
id: 7,
info: "运气真好，牌这么烂也赢了"
}, {
id: 8,
info: "这把我赢定了"
}, {
id: 9,
info: "这么打牌，我也是醉了"
}, {
id: 10,
info: "这牌出的必须给你点赞"
}, {
id: 11,
info: "都不要跑，玩把大的"
}, {
id: 12,
info: "谁怕谁，玩到底"
}, {
id: 13,
info: "哎，输光了，回家拿钱去"
}, {
id: 14,
info: "哥有钱，你们玩的过我吗"
} ],
default_bg: "public/table/game_bg_ddz"
}
});
cc._RF.pop();
}, {} ],
PDK1900Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e12563xrItI9I29ZMMk2Did", "PDK1900Game");
cc.Class({
extends: cc.Component,
editor: {
executionOrder: -1
},
properties: {
_winPlayer: cc.Node,
nodeCard: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
pokerPrefab: cc.Prefab,
othercards: cc.Node,
tips: cc.Node,
poker1Atlas: {
default: null,
type: cc.SpriteAtlas
},
poker2Atlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAltas: {
default: null,
type: cc.SpriteAtlas
},
btnAltas: {
default: null,
type: cc.SpriteAtlas
},
tipAltas: {
default: null,
type: cc.SpriteAtlas
},
zha: cc.Label,
difen: cc.Label,
opts: cc.Node,
timepos: cc.Node,
waitclock: cc.Node,
myfolds: cc.Node,
othterfolds: cc.Node,
shadow: cc.Node,
passNotice: cc.Node,
beishuRoot: cc.Node,
spine1: cc.Node,
spine2: cc.Node,
warming: cc.Node,
beishu1: cc.Label,
beishu2: cc.Label,
winUI: cc.Node,
loseUI: cc.Node,
gamebegin: cc.Node,
sprTip: cc.Sprite,
mingPai: cc.Node,
_tipIndex: 0,
_noChoise: !0,
_senceDestroy: !1
},
onLoad: function() {
var i = e("PDK1900Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "pdk",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_3: i.player3,
player_2: i.player2,
set_bg: !0,
location: !0,
show_watch_btn: !1,
default_bg: i.default_bg
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.new_round();
this.initEventHandlers();
this.btn_buchu = this.opts.getChildByName("btn_buchu");
this.btn_tishi = this.opts.getChildByName("btn_tishi");
this.btn_chupai = this.opts.getChildByName("btn_chupai");
this.btn_yaobuqi = this.opts.getChildByName("btn_yaobuqi");
this.timepoint = this.opts.getChildByName("timepoint").getComponentInChildren(cc.Label);
this.ske = this.spine1.getComponent(sp.Skeleton);
this.ske2 = this.spine2.getComponent(sp.Skeleton);
this.noMove = !0;
this.tishipai = [];
this.isMingPai = !1;
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
this.nodeCard.on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_END, this.touchend, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_CANCEL, this.touchcancel, this);
cc.vv.pdkMgr = this.node.getComponent("PDK1900Mgr");
var t = e("PDK1900ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.pdkMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
i.timepos.children[0].x = 456;
i.timepos.children[0].y = 80;
i.timepos.children[1].x = -456;
i.timepos.children[1].y = 80;
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
isInRect: function(e) {
for (var i = this.nodeCard.childrenCount - 1; i >= 0; --i) {
var t = this.nodeCard.children[i];
if (t.getBoundingBoxToWorld().contains(e)) {
t.getComponent("DDZPoker").setMove(1);
t.isChiose = !0;
return t;
}
}
return null;
},
setAllCardUnSelected: function() {
for (var e = 0; e < this.nodeCard.childrenCount; e++) {
var i = this.nodeCard.children[e].getComponent("DDZPoker");
this.selectCard(i, 0);
}
},
selectCard: function(e, i) {
e.setSelect(i);
},
getSelectPaiList: function(e) {
for (var i = [], t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t];
a.getComponent("DDZPoker").isSelect() == e && i.push(a);
}
return i;
},
touchstart: function(e) {
e.stopPropagation();
var i = e.getLocation();
if (this.isInRect(i)) return !0;
if (this.getSelectPaiList(1).length > 0) {
this._noChoise = !this._noChoise;
this._noChoise && this.setAllCardUnSelected();
}
return !1;
},
touchmove: function(e) {
e.stopPropagation();
var i = e.getLocation();
this.isInRect(i);
},
touchend: function(e) {
for (var i = 0, t = [], a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (n.isChiose) {
i++;
var s = n.getComponent("DDZPoker");
s.setMove(0);
this.selectCard(s, s.isSelect() ? 0 : 1);
n.isChiose = !1;
1 == s.isSelect() && t.push({
value: n.value % 16,
node: n
});
}
}
if (i > 0) {
cc.vv.audioMgr.click();
var c = this.getShunzi(t.reverse());
null != c && this.xuanpai(t, c);
}
},
touchcancel: function(e) {
this.touchend(e);
},
xuanpai: function(e, i) {
for (var t = 0; t < e.length; t++) e[t].node.getComponent("DDZPoker").setSelect(0);
for (;i.length > 0; ) for (var a = i.pop(), n = 0; n < e.length; n++) if (a == e[n].value) {
e[n].node.getComponent("DDZPoker").setSelect(1);
break;
}
},
getShunzi: function(e) {
if (0 == e.length) return null;
for (var i = 0; i < e.length; i++) {
var t = -1, a = -1, n = [];
n.push(e[i].value);
for (var s = i; s < e.length - 1; s++) {
if ((t = e[s].value) + 1 != (a = e[s + 1].value)) {
if (t == a) {
if (s == e.length - 2) {
if (this.ifShunZi(n)) return n;
}
continue;
}
if (this.ifShunZi(n)) return n;
break;
}
n.push(a);
if (s == e.length - 2) {
if (this.ifShunZi(n)) return n;
}
}
}
return null;
},
ifShunZi: function(e) {
return e.length >= 5;
},
initEventHandlers: function() {
var e = this;
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(e) {}), this.node.on("fapai", function(i) {
var t = i.data.pai;
i.data.round;
e.begin();
e.fapai(t);
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
}), this.node.on("chupai", function(i) {
0 == i.errcode ? e.chupai(i.data) : cc.vv.popMgr.tip(i.errmsg);
}), this.node.on("operate", function(i) {
e.operate(i.data);
}), this.node.on("tip", function(i) {
e.tishipai = i.data.pai;
}), this.node.on("shoupai", function(e) {}), this.node.on("chuPaiShiBai", function(e) {}), 
this.node.on("chongxinfapai", function(e) {}), this.node.on("beginOpenPai", function(i) {
e.opts.getChildByName("btn_ming").active = !0;
}), this.node.on("openPai", function(i) {
var t = i.data.pai, a = i.data.seatid, n = i.data.power;
e.showMingPai(t, a);
e.updateBeiShu(n, 0);
e.isMingPai = !0;
e.playSFX(a, "mingpai");
cc.vv.audioMgr.playSFX("ddz/effect/effect_flower");
}), this.node.on("showMing", function(i) {
var t = i.pai, a = i.seatid;
e.showMingPai(t, a);
}), this.node.on("updateBeiShu", function(i) {
e.updateBeiShu(i.power, 0);
}), this.node.on("showClock", function(i) {
e.showClock(i.seatid);
}), this.node.on("error", function(e) {
cc.vv.popMgr.tip(e.errmsg);
}), this.node.on("boom", function(i) {
e.boom(i.data.json);
});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay) {
e.new_round();
cc.vv.net2.quick("stage");
}
});
},
boom: function(e) {
for (var i = 0; i < e.length; i++) {
var t = e[i].seatId, a = e[i].power, n = e[i].getFen, s = cc.vv.roomMgr.viewChairID(t);
this.table.seat_emit(s, "score", a);
n > 0 ? this.table.seat_emit(s, "win", n) : this.table.seat_emit(s, "lost", n);
}
},
new_round: function() {
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeCard.removeAllChildren();
this.othercards.active = !1;
this.opts.active = !1;
cc.vv.roomMgr.stage = null;
this.hideTips();
this.hidePassNotice();
this.clearPoker();
this.waitclock.active = !1;
this.hideWarming();
this.zha.string = 0;
this.beishu1.string = "x1";
this.beishu2.string = "x1";
this.winUI.active = !1;
this.loseUI.active = !1;
this.threeCards = [];
this.gamebegin.active = !1;
this.isMingPai = !1;
this.isBegin = !1;
},
hideWarming: function() {
for (var e = 0; e < this.warming.childrenCount; ++e) {
var i = this.warming.children[e];
i.getComponent(cc.Animation).stop("warming");
i.active = !1;
}
},
param: function(e) {
this._feng = e.feng;
this._zhuang_mode = e.zhuang_mode;
this._fangzhu = e.fangzhu;
this.difen.string = e.feng;
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
},
begin: function() {
this.isBegin || cc.vv.audioMgr.playSFX("ddz/game_begin");
},
clearPoker: function() {
this.myfolds.removeAllChildren();
this.othterfolds.children[0].removeAllChildren();
this.othterfolds.children[1].removeAllChildren();
this.mingPai.children[0].removeAllChildren();
this.mingPai.children[1].removeAllChildren();
},
hidePassNotice: function() {
for (var e = 0; e < this.passNotice.childrenCount; ++e) this.passNotice.children[e].active = !1;
},
fapai: function(e) {
this.isBegin = !0;
var i = this;
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.othercards.active = 1 == cc.vv.roomMgr.param.showPais;
this.othercards.children[1].active = 3 == cc.vv.roomMgr.ren;
if (cc.vv.roomMgr.stage) {
i.othercards.children[0].getComponentInChildren(cc.Label).string = 16;
i.othercards.children[1].getComponentInChildren(cc.Label).string = 16;
}
this.deal_fapai(0, e.length, e, function(t) {
var a = t;
if (1 == cc.vv.roomMgr.param.showPais) {
i.othercards.children[0].getComponentInChildren(cc.Label).string = ++a;
i.othercards.children[1].getComponentInChildren(cc.Label).string = a;
}
if (!(t < e.length - 1)) {
i.jipai && i.pushremeberCard(i.jipai);
var n = i;
i.showPoker(e, function(i) {
i == e.length - 1 && n.refreshHandCards();
});
}
});
},
showPoker: function(e, i) {
for (var t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t], n = {
index: t,
atlas: this.poker1Atlas,
value: e[t],
callback: i
};
a.emit("flip", n);
}
},
deal_fapai: function(e, i, t, a) {
this.nodeCard.removeAllChildren();
for (var n = cc.vv.roomMgr.param.xipai, s = e; s < i; s++) {
var c = cc.instantiate(this.pokerPrefab);
c.myTag = s;
this.nodeCard.addChild(c);
c.y = 300;
var o = {
index: s,
atlas: this.poker1Atlas,
value: t[s],
callback: a,
xipai: n
};
if (cc.vv.roomMgr.stage || cc.vv.roomMgr.is_replay) {
c.y = 0;
c.x = 60 * s - 570;
if (0 != t[s]) {
var h = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, t[s]);
c.getChildByName("card").getComponent(cc.Sprite).spriteFrame = h;
c.getComponent("DDZPoker").setValue(t[s]);
c.value = t[s];
s == i - 1 && this.refreshHandCards();
}
} else c.emit("fapai", o);
}
},
selfTimeUpdate2: function() {
var e = parseInt(this.timepoint.string);
e -= 1;
this.timepoint.string = e;
if (e <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.selfTimeUpdate2);
}
},
otherTimeUpdate: function() {
var e = this.waitclock.getComponentInChildren(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.otherTimeUpdate);
}
},
hideTips: function() {
for (var e = 0; e < this.tips.childrenCount; ++e) this.tips.children[e].active = !1;
},
tip: function(e) {
if (null != e) {
var i = this.tipAltas.getSpriteFrame(e);
this.sprTip.spriteFrame = i;
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "ddz/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
showPais: function(e, i) {
this.othercards.active = 1 == cc.vv.roomMgr.param.showPais;
var t = cc.vv.roomMgr.viewChairID(e);
t >= 1 && (this.othercards.children[t - 1].getComponentInChildren(cc.Label).string = i);
},
updateBeiShu: function(e, i) {
for (var t = 0; t < e.length; ++t) {
t == this.beishuRoot.children[0].myTag && (this.beishu1.string = "x" + e[t]);
t == this.beishuRoot.children[1].myTag && (this.beishu2.string = "x" + e[t]);
}
this.zha.string = i;
},
onGameOver: function(e) {
this.hideWarming();
this.hidePassNotice();
this.waitclock.active = !1;
this.unschedule(this.selfTimeUpdate2);
this.unschedule(this.otherTimeUpdate);
if (e == cc.vv.roomMgr.seatid) {
this.winUI.active = !0;
cc.vv.audioMgr.playSFX("ddz/game_win");
} else {
cc.vv.audioMgr.playSFX("ddz/game_lose");
this.loseUI.active = !0;
}
},
chupai: function(e) {
this.updateBeiShu(e.beishu, e.nowZha);
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.passNotice.children[i].active = !1;
if (0 == e.list.length) {
this.passNotice.children[i].active = !0;
var t = [ "buyao1", "buyao2", "buyao3", "buyao4" ], a = t[Math.floor(Math.random() * t.length)];
this.playSFX(e.seatid, a);
} else {
cc.vv.audioMgr.playSFX("ddz/effect/effect_playcard");
1 == e.shouchu && this.hidePassNotice();
this.showChupaiType(e);
if (1 == e.pais) {
cc.vv.audioMgr.playBGM("ddz/bg_music_quick");
this.playSFX(e.seatid, "baojing" + e.pais);
var n = this.warming.children[i];
n.active = !0;
n.getComponent(cc.Animation).play("warming");
}
}
0 == e.pais && this.onGameOver(e.seatid);
this.showChupai(e.seatid, e.list);
this.showPais(e.seatid, e.pais);
if (e.seatid != cc.vv.roomMgr.seatid) {
this.waitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
if (this.isMingPai || cc.vv.roomMgr.is_replay) {
var s = this.mingPai.children[i - 1];
this.removePoker(s, e.list);
}
} else {
this.setAllCardUnSelected();
this.shadow.active = !1;
this.opts.active = !1;
this.unschedule(this.selfTimeUpdate2);
this._tipIndex = 0;
this.removePoker(this.nodeCard, e.list);
this.refreshHandCards();
}
},
showChupai: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(e), a = null;
(a = e == cc.vv.roomMgr.seatid ? this.myfolds : this.othterfolds.children[t - 1]).removeAllChildren();
for (var n = 0; n < i.length; ++n) {
var s = cc.instantiate(this.pokerPrefab);
s.scale = .6;
s.getComponent("DDZPoker");
if (0 != i[n]) {
var c = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, i[n]);
s.getChildByName("card").getComponent(cc.Sprite).spriteFrame = c;
a.addChild(s);
}
}
},
showChupaiType: function(e) {
var i = this, t = "", a = "", n = [ "dani1", "dani2", "dani3" ];
switch (e.type) {
case 16:
t = "zhadan";
a = "effect_bomb";
this.playSFX(e.seatid, t);
cc.vv.audioMgr.playSFX("ddz/effect/" + a);
cc.loader.loadRes("game/ddz/animation/bomb/doudizhu_zha_normal", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = 0;
i.ske.node.y = -179;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu zha", !1);
i.ske.setCompleteListener(function() {});
});
cc.loader.loadRes("game/ddz/animation/bomb/doudizhu_zha_add", sp.SkeletonData, function(e, t) {
i.ske2.node.x = 0;
i.ske2.node.y = -179;
i.ske2.skeletonData = t;
i.ske2.timeScale = .8;
i.ske2.setAnimation(0, "doudizhu zha", !1);
});
break;

case 15:
t = "sidaisan";
break;

case 14:
t = "sidailiangdui";
break;

case 13:
t = "sidaier";
break;

case 12:
case 11:
case 10:
case 9:
t = "feiji";
a = "effect_plane";
cc.loader.loadRes("game/ddz/animation/plane/feiji", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -184;
i.ske.node.y = -384;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu_feiji", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 8:
t = "liandui";
a = "effect_boat";
cc.loader.loadRes("game/ddz/animation/boat/shunzi", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -230;
i.ske.node.y = -99;
i.ske.skeletonData = t;
i.ske.setSkin("lian");
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 7:
t = "shunzi";
a = "effect_boat";
cc.loader.loadRes("game/ddz/animation/boat/shunzi", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = -230;
i.ske.node.y = -99;
i.ske.skeletonData = t;
i.ske.setSkin("shun");
i.ske.timeScale = 1;
i.ske.setAnimation(0, "animation", !1);
i.ske.setCompleteListener(function() {});
});
break;

case 6:
t = 1 == e.shouchu ? "sandaiyidui" : n[Math.floor(Math.random() * n.length)];
break;

case 5:
t = 1 == e.shouchu ? "sandaier" : n[Math.floor(Math.random() * n.length)];
break;

case 4:
t = 1 == e.shouchu ? "sandaiyi" : n[Math.floor(Math.random() * n.length)];
break;

case 3:
t = "pai/tuple" + (s = e.list[0]) % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
break;

case 2:
t = "pai/dui" + (s = e.list[0]) % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
break;

case 1:
var s;
if (95 == (s = e.list[0])) t = "pai/16"; else if (79 == s) t = "pai/15"; else {
t = "pai/" + s % 16;
if (1 != e.shouchu) {
n.push(t);
t = n[Math.floor(Math.random() * n.length)];
}
}
}
if (16 != e.type) {
"" != a && cc.vv.audioMgr.playSFX("ddz/effect/" + a);
this.playSFX(e.seatid, t);
}
},
operate: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.passNotice.children[i].active = !1;
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip(null);
this.myfolds.removeAllChildren();
this.waitclock.active = !1;
this.opts.active = !0;
this.timepoint.string = 15;
this.schedule(this.selfTimeUpdate2, 1);
this.btn_yaobuqi.active = 0 == e.can;
this.shadow.active = 0 == e.can || 4 == e.can;
if (0 == e.can || 4 == e.can) {
this.noMove = !0;
this.btn_buchu.active = !1;
this.btn_chupai.active = !1;
this.btn_tishi.active = !1;
} else if (1 == e.can) {
this.noMove = !1;
this.btn_buchu.active = 0 == e.must;
this.btn_chupai.active = !0;
this.btn_tishi.active = !0;
} else if (2 == e.can) {
this.noMove = !1;
this.btn_buchu.active = !1;
this.btn_chupai.active = !0;
this.btn_tishi.active = !1;
}
} else {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[i - 1].x;
this.waitclock.y = this.timepos.children[i - 1].y;
this.othterfolds.children[i - 1].removeAllChildren();
}
},
showClock: function(e) {
var i = cc.vv.roomMgr.viewChairID(e);
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.waitclock.scale = .7;
if (i >= 1) {
this.waitclock.x = this.timepos.children[i - 1].x;
this.waitclock.y = this.timepos.children[i - 1].y;
} else {
this.waitclock.x = -456;
this.waitclock.y = -56;
}
},
pokerTip: function(e) {
this.setAllCardUnSelected();
var i = e[this._tipIndex];
if (this._tipIndex >= e.length) {
this._tipIndex = 0;
this.setAllCardUnSelected();
} else {
i.sort(function(e, i) {
return e < i;
});
for (var t = 0; t < i.length; ++t) for (var a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (i[t] == n.value) {
var s = n.getComponent("DDZPoker");
this.selectCard(s, 1);
break;
}
}
this._tipIndex++;
}
},
jiesuan: function(e) {
cc.vv.audioMgr.playBGM("ddz/bg_music");
this.hideWarming();
this.nodeJiesuan.active = !0;
var i = e.list;
cc.vv.roomMgr.dissroom = e.gameEndFalg;
null != this.table._winDissroom && (this.table._winDissroom.active = !0);
this.table.hide_dismiss_room();
var t = i[cc.vv.roomMgr.seatid].hand, a = this.nodeJiesuan.getChildByName("bg").getComponent(cc.Sprite), n = this.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), s = "game/ddz/bg_win", c = null;
if (0 == t.length) c = "win"; else {
s = "game/ddz/bg_lose";
c = "lose";
}
cc.vv.utils.loadimg(s, function(e) {
a.spriteFrame = e;
});
n.spriteFrame = this.jiesuanAltas.getSpriteFrame(c);
this.nodeJiesuan.getChildByName("now").getComponent(cc.Label).string = "第" + cc.vv.roomMgr.now + "局";
this.nodeJiesuan.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.roomid;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
this.nodeJiesuan.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("zha").getComponent(cc.Label).string = "x" + e.zha;
for (var o = this.nodeJiesuan.getChildByName("resutl_list"), h = 0; h < o.childrenCount; h++) o.children[h].active = !1;
for (h = 0; h < cc.vv.roomMgr.ren; ++h) {
var r = cc.vv.roomMgr.viewChairID(h), l = o.getChildByName("s" + r);
l.x = o.children[h].x;
l.y = o.children[h].y;
l.active = !0;
var d = l.getChildByName("username").getComponent(cc.Label), g = l.getChildByName("userid").getComponent(cc.Label), u = l.getChildByName("score").getComponent(cc.Label), _ = l.getChildByName("difen").getComponent(cc.Label), v = l.getChildByName("beishu").getComponent(cc.Label), p = (t = l.getChildByName("hand"), 
l.getChildByName("chupai")), m = l.getChildByName("zha").getComponent(cc.Label), f = l.getChildByName("zhuaniao");
0 == cc.vv.roomMgr.param.zhuaNiao ? f.active = !1 : f.active = e.ht10Seatid == h;
m.string = "x" + e.zhadanNum[h];
d.string = i[h].username;
g.string = i[h].userid;
u.string = i[h].round_score;
_.string = i[h].hand.length;
v.string = "x" + e.power[h];
var y = this.table.seat_img(r);
l.getChildByName("head").getChildByName("img").getComponent(cc.Sprite).spriteFrame = y;
for (var C = 0; C < t.childrenCount; ++C) t.children[C].active = !1;
for (var b = 0; b < p.childrenCount; ++b) p.children[b].active = !1;
for (var w = 0; w < i[h].hand.length; ++w) {
t.children[w].active = !0;
t.children[w].getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, i[h].hand[w]);
}
r = cc.vv.roomMgr.viewChairID(h);
this.table.seat_emit(r, "score", i[h].user_score);
}
},
report: function(e) {
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
null != this.table._winDissroom && (this.table._winDissroom.active = !0);
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
this.table.hide_dismiss_room();
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("wanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
for (var i = e.list, t = this.nodeReport.getChildByName("list"), a = 0; a < t.childrenCount; a++) t.children[a].active = !1;
for (a = 0; a < cc.vv.roomMgr.ren; ++a) {
var n = t.children[a];
n.active = !0;
if (0 != i[a].userid) {
var s = n.getChildByName("head").getChildByName("img"), c = n.getChildByName("username").getComponent(cc.Label), o = n.getChildByName("userid").getComponent(cc.Label), h = n.getChildByName("fangzhu");
h.active = !1;
var r = n.getChildByName("score").getComponent(cc.Label), l = n.getChildByName("bigwin"), d = n.getChildByName("coins").getComponent(cc.Label);
s.getComponent("ImageLoader").loadImg(i[a].headimg);
c.string = i[a].name;
o.string = i[a].userid;
r.string = i[a].result_score;
d.string = i[a].coins;
h.active = this._fangzhu == o.string;
l.active = r.string == i[0].result_score && 0 != i[0].result_score;
} else n.active = !1;
}
},
stage: function(e) {
if (!this._senceDestroy) {
cc.vv.roomMgr.stage = e;
switch (e.stage) {
case 1:
break;

case 2:
this.fapai(e.cards);
break;

case 4:
case 5:
case 6:
case 3:
this.fapai(e.cards);
this.updateBeiShu(e.power, e.nowZha);
if (null != e.pais) for (var i = 0; i < e.pais.length; ++i) {
this.showPais(i, e.pais[i]);
if (1 == e.pais[i]) {
var t = cc.vv.roomMgr.viewChairID(i);
cc.vv.audioMgr.playBGM("ddz/bg_music_quick");
this.playSFX(i, "baojing" + e.pais[i]);
var a = this.warming.children[t];
a.active = !0;
a.getComponent(cc.Animation).play("warming");
}
}
for (i = 0; i < e.lastPai.length; ++i) null != e.lastPai[i] && this.showChupai(e.lastPai[i].seatID, e.lastPai[i].pai);
if (0 != (n = cc.vv.roomMgr.viewChairID(e.chuPaiPeople))) {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = this.timepos.children[n - 1].x;
this.waitclock.y = this.timepos.children[n - 1].y;
this.othterfolds.children[n - 1].removeAllChildren();
}
for (i = 0; i < e.userScore.length; i++) {
var n = cc.vv.roomMgr.viewChairID(e.userScore[i].seatid);
this.table.seat_emit(n, "score", e.userScore[i].score);
}
}
}
},
removePoker: function(e, i) {
for (var t = 0; t < i.length; ++t) for (var a = 0; a < e.childrenCount; ++a) {
var n = e.children[a];
if (i[t] == n.value) {
n.removeFromParent();
break;
}
}
},
refreshHandCards: function() {
var e = this.nodeCard.childrenCount;
if (0 != e) {
var i = e > 17 ? 60 : 70, t = e > 17 ? -30 : 0, a = parseInt((e - 1) / 2);
this.nodeCard.children[a].x = t;
for (var n = a + 1; n < e; n++) this.nodeCard.children[n].x = t + (n - a) * i;
for (n = a - 1; n >= 0; n--) this.nodeCard.children[n].x = (n - a) * i + t;
}
},
chuPaiShiBai: function(e) {
cc.vv.popMgr.tip(e.errmsg);
},
showMingPai: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(i);
if (t >= 1) {
var a = this.mingPai.children[t - 1];
a.active = !0;
a.removeAllChildren();
for (var n = 0, s = 0; s < e.length; ++s) if (0 != e[s]) {
var c = new cc.Node();
a.addChild(c);
c.value = e[s];
c.addComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(this.poker2Atlas, e[s]);
n++;
}
this.othercards.children[t - 1].getComponentInChildren(cc.Label).string = n;
}
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_tishi":
this.pokerTip(this.tishipai);
break;

case "btn_chupai":
for (var t = [], a = this.getSelectPaiList(1), n = 0; n < a.length; ++n) {
var s = a[n].getComponent("DDZPoker").getValue();
t.push(s);
}
0 == t.length ? cc.vv.popMgr.tip("您必须要打出一张牌") : cc.vv.net2.quick("chupai", {
list: t
});
break;

case "btn_buchu":
case "btn_yaobuqi":
t = [];
cc.vv.net2.quick("chupai", {
list: t
});
}
},
onDestroy: function() {
this._senceDestroy = !0;
cc.loader.setAutoRelease(this, !0);
}
});
cc._RF.pop();
}, {
PDK1900Const: "PDK1900Const",
PDK1900ReplayMgr: "PDK1900ReplayMgr"
} ],
PDK1900Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "10daapqLX1PBouEWx5y1/yy", "PDK1900Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
initEventHandlers: function() {},
doBegin: function() {
this.dispatchEvent("begin", {
errcode: 0
});
},
doFapai: function(e, i) {
i == cc.vv.roomMgr.seatid ? this.dispatchEvent("fapai", {
data: {
pai: e
}
}) : this.dispatchEvent("showMing", {
pai: e,
seatid: i
});
},
doChupai: function(e) {
var i = {
seatid: e.chuPaiPeopleSeatid,
beishu: e.power,
list: e.chupai,
pais: e.pais,
nowZha: e.nowZha,
type: e.type,
shouchu: e.shouchu
};
this.dispatchEvent("chupai", {
data: i,
errcode: 0
});
},
operate: function(e) {
this.dispatchEvent("showClock", {
seatid: e.chuPaiPeopleSeatid
});
}
});
cc._RF.pop();
}, {} ],
PDK1900ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "0eea3F5rWFPdqnBfuBNof7T", "PDK1900ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.pdkMgr.doBegin();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.pdkMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
return this._actionRecords[this._currentIndex++];
},
takeAction: function() {
var e = this.getNextAction();
if (null == e) return -1;
this._lastAction = e;
if (e.init_score) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.getSeatIndexByID(e.init_score[t].user_id), n = cc.vv.roomMgr.viewChairID(a);
cc.vv.pdkMgr.node.getComponent("Table").seat_emit(n, "score", e.init_score[t].score);
}
return .1;
}
if (2 == e.stage) {
cc.vv.pdkMgr.doFapai(e.pai, e.seatid);
return .5;
}
if (3 == e.stage) {
cc.vv.pdkMgr.doChupai(e);
cc.vv.pdkMgr.operate(e);
return 2;
}
return 4 == e.stage ? .5 : void 0;
}
});
cc._RF.pop();
}, {} ],
PDKGame: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "5001964qIZHnqO5RMwtZOuI", "PDKGame");
var a = 10, n = 20, s = 30, c = 40, o = 50, h = 60, r = 70, l = 80, d = 90, g = 100, u = 110, _ = 120, v = 200, p = 210, m = 220, f = 230, y = 240, C = 250, b = 260, w = 270, x = [ {
CT_NO: 10,
AUDIO: "common1",
CT_NAME: "乌龙",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 20,
AUDIO: "common2",
CT_NAME: "对子",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 30,
AUDIO: "common5",
CT_NAME: "头顺",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 40,
AUDIO: "common6",
CT_NAME: "头金",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 50,
AUDIO: "common3",
CT_NAME: "两对",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 60,
AUDIO: "common4",
CT_NAME: "三条",
SP: !1,
FD: 3,
SD: 1,
TD: 1
}, {
CT_NO: 70,
AUDIO: "common5",
CT_NAME: "顺子",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 80,
AUDIO: "common6",
CT_NAME: "同花",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 90,
AUDIO: "common7",
CT_NAME: "葫芦",
SP: !1,
FD: 1,
SD: 2,
TD: 1
}, {
CT_NO: 100,
AUDIO: "common8",
CT_NAME: "铁支",
SP: !1,
FD: 1,
SD: 8,
TD: 4
}, {
CT_NO: 110,
AUDIO: "common9",
CT_NAME: "同花顺",
SP: !1,
FD: 1,
SD: 10,
TD: 5
}, {
CT_NO: 120,
AUDIO: "common10",
CT_NAME: "五同",
SP: !1,
FD: 1,
SD: 8,
TD: 4
}, {
CT_NO: 200,
AUDIO: "special4",
CT_NAME: "六对半",
SP: !0,
FD: 4,
SD: 0,
TD: 0
}, {
CT_NO: 210,
AUDIO: "special3",
CT_NAME: "三顺子",
SP: !0,
FD: 4,
SD: 0,
TD: 0
}, {
CT_NO: 220,
AUDIO: "special2",
CT_NAME: "三同花",
SP: !0,
FD: 4,
SD: 0,
TD: 0
}, {
CT_NO: 230,
AUDIO: "special6",
CT_NAME: "四套三条",
SP: !0,
FD: 8,
SD: 0,
TD: 0
}, {
CT_NO: 240,
AUDIO: "special10",
CT_NAME: "三分天下",
SP: !0,
FD: 16,
SD: 0,
TD: 0
}, {
CT_NO: 250,
AUDIO: "special11",
CT_NAME: "三同花顺",
SP: !0,
FD: 18,
SD: 0,
TD: 0
}, {
CT_NO: 260,
AUDIO: "special13",
CT_NAME: "一条龙",
SP: !0,
FD: 26,
SD: 0,
TD: 0
}, {
CT_NO: 270,
AUDIO: "special14",
CT_NAME: "清龙",
SP: !0,
FD: 108,
SD: 0,
TD: 0
} ], z = cc.Class({
extends: cc.Node,
properties: {},
initData: function() {
this.currentCardList = [];
for (var e = 0; e < 9; e++) this.currentCardList[e] = [];
this.curGroupCardList = [];
for (e = 0; e < 9; e++) this.curGroupCardList[e] = [];
this.AiGroupList = [];
this.spGroup = [];
this.santonghuaTag = !1;
this.sanshunzhi = [];
},
initGroup: function() {
this.currentCardList = [];
for (var e = 0; e < 9; e++) this.currentCardList[e] = [];
this.curGroupCardList = [];
for (e = 0; e < 9; e++) this.curGroupCardList[e] = [];
},
getAiGroup: function() {
return this.AiGroupList;
},
RandCardList: function(e, i) {
for (var t = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61 ], a = 0, n = 0, s = 0, c = 0; c < 2e3; c++) {
var o, h, r = (n += s) % 52, l = (s = Math.ceil(9999 * Math.random()) + 1) % 52;
o = t[r];
h = t[l];
t[r] = h;
t[l] = o;
}
var d = 0;
do {
d = (Math.ceil(9999 * Math.random()) + 1) % (52 - a);
e[a++] = t[d];
t[d] = t[52 - a];
} while (a < i);
},
checkIsShunZi: function(e) {
for (var i = !0, t = [], a = 0; a < e.length; a++) t.push(e[a] % 16);
t.sort(function(e, i) {
return e - i;
}).forEach(function(e, a) {
e != t[0] + a && (i = !1);
});
if (!i) {
3 == e.length && 1 == t[0] && 12 == t[1] && 13 == t[2] && (i = !0);
5 == e.length && 1 == t[0] && 10 == t[1] && 11 == t[2] && 12 == t[3] && 13 == t[4] && (i = !0);
}
return i;
},
getQingLong: function(e) {
var i = [], t = [];
this.classifyCard(e).colors.forEach(function(e, i) {
if (13 == e.length) {
var a = e.map(function(e) {
return 16 * i + e;
});
t.push(a);
}
});
for (var a = 0; a < t.length; a++) {
var n = t[a];
this.checkIsShunZi(n) && i.push(n);
}
return i;
},
getYiTiaoLong: function(e) {
var i = [];
if (13 == e.length) {
this.checkIsShunZi(e) && i.push(e);
}
return i;
},
getSanFenTianXia: function(e) {
var i = [], t = [];
if (13 == e.length) {
var a = this.classifyCard(e).numbers;
a.forEach(function(e, i) {
4 == e.length && t.push(i);
});
if (3 == t.length) {
var n = [], s = [], c = [], o = -1, h = -1, r = -1, l = -1;
a.forEach(function(e, i) {
1 == e.length && (l = i);
});
if (1 == t[0]) {
o = t[0];
h = t[2];
r = t[1];
} else {
o = t[2];
h = t[1];
r = t[0];
}
for (var d = 0; d < 4; d++) n.push(16 * a[o][d] + o);
for (d = 0; d < 4; d++) s.push(16 * a[h][d] + h);
for (d = 0; d < 3; d++) c.push(16 * a[r][d] + r);
s.push(16 * a[r][3] + r);
n.push(16 * a[l][0] + l);
i.push(n);
i.push(s);
i.push(c);
}
}
return i;
},
getSiTaoSanTiao: function(e) {
var i = [], t = [];
if (13 == e.length) {
var a = this.classifyCard(e).numbers;
a.forEach(function(e, i) {
3 == e.length && t.push(i);
});
if (4 == t.length) {
var n = [], s = [], c = [], o = -1, h = -1, r = -1, l = -1, d = -1;
a.forEach(function(e, i) {
1 == e.length && (d = i);
});
if (1 == t[0]) {
o = t[0];
h = t[3];
r = t[2];
l = t[1];
} else {
o = t[3];
h = t[2];
r = t[1];
l = t[0];
}
for (var g = 0; g < 3; g++) n.push(16 * a[o][g] + o);
for (g = 0; g < 3; g++) s.push(16 * a[h][g] + h);
for (g = 0; g < 3; g++) c.push(16 * a[r][g] + r);
s.push(16 * a[d][0] + d);
s.push(16 * a[l][0] + l);
n.push(16 * a[l][1] + l);
n.push(16 * a[l][2] + l);
i.push(n);
i.push(s);
i.push(c);
}
}
return i;
},
getLiuDuiBan: function(e) {
var i = [], t = 0;
if (13 == e.length) {
this.classifyCard(e).numbers.forEach(function(e, i) {
2 == e.length ? t++ : 3 == e.length ? t++ : 4 == e.length ? t += 2 : 5 == e.length && (t += 2);
});
6 == t && i.push(e);
}
return i;
},
getSanTongHuaShun: function(e) {
this.getSanTongHua(e, 0);
if (!this.santonghuaTag) return [];
if (0 == this.getSanShunZi(e).length) return [];
for (var i = 0; i < this.sanshunzhi.length; i++) {
for (var t = this.sanshunzhi[i], a = 0, n = 0; n < t.length; n++) {
for (var s = this.classifyCard(t[n]).colors, c = 0, o = 0; o < s.length; o++) s[o].length > 0 && c++;
1 == c && a++;
}
if (3 == a) {
return t;
}
}
},
getSanTongHua: function(e, i) {
var t = [];
if (0 == i) {
this.santonghuaTag = !1;
for (var n = 0, s = this.classifyCard(e).colors, c = 0; c < s.length; c++) {
s[c].length > 0 && n++;
for (var o = [ 1, 2, 4, 6, 7, 9, 11, 12 ], h = 0; h < o.length; h++) if (s[c].length == o[h]) return [];
}
if (4 == n) return [];
this.santonghuaTag = !0;
return [];
}
if (!this.santonghuaTag) return [];
var r = [];
(s = this.classifyCard(e).colors).forEach(function(e, i) {
e.length > 0 && r.push([ e.length, i ]);
});
var l = [], d = [], g = [];
if (1 == r.length) {
var u = _[0][1], _ = [];
for (c = 0; c < s[u].length; c++) _.push(16 * u + s[u][c]);
this.setSanPai(_, a, l, 5);
this.setSanPai(_, a, d, 5);
this.setSanPai(_, a, g, 3);
}
if (2 == r.length) if (10 == r[0][0] || 3 == r[0][0]) {
var v = 0, p = 0;
if (10 == r[0][0]) {
v = r[0][1];
p = r[1][1];
} else {
v = r[1][1];
p = r[0][1];
}
var m = [], f = [];
for (c = 0; c < s[v].length; c++) m.push(16 * v + s[v][c]);
for (c = 0; c < s[p].length; c++) f.push(16 * p + s[p][c]);
this.setSanPai(m, a, l, 5);
this.setSanPai(m, a, d, 5);
this.setSanPai(f, a, g, 3);
} else {
var y = 0, C = 0;
if (8 == r[0][0]) {
y = r[0][1];
C = r[1][1];
} else {
y = r[1][1];
C = r[0][1];
}
var b = [], w = [];
for (c = 0; c < s[y].length; c++) b.push(16 * y + s[y][c]);
for (c = 0; c < s[C].length; c++) w.push(16 * C + s[C][c]);
this.setSanPai(b, a, l, 5);
this.setSanPai(w, a, d, 5);
this.setSanPai(b, a, g, 3);
}
if (3 == r.length) {
var x = -1, z = -1;
for (p = -1, c = 0; c < r.length; c++) {
5 == r[c][0] && (-1 == x ? x = r[c][1] : z = r[c][1]);
3 == r[c][0] && (p = r[c][1]);
}
var k = [], M = [];
for (f = [], c = 0; c < s[x].length; c++) k.push(16 * x + s[x][c]);
for (c = 0; c < s[z].length; c++) M.push(16 * z + s[z][c]);
for (c = 0; c < s[p].length; c++) f.push(16 * p + s[p][c]);
this.setSanPai(k, a, l, 5);
this.setSanPai(M, a, d, 5);
this.setSanPai(f, a, g, 3);
}
t.push(l);
t.push(d);
t.push(g);
return t;
},
getSanShunZi: function(e) {
var i = [], t = [], a = this.getShunzi(e);
if (a.length <= 0) return [];
for (var n = 0; n < a.length; n++) {
var s = [].concat(e);
this.arrRemove(s, a[n]);
t[n] = [];
i[n] = this.getShunzi(s);
if (!(i[n].length <= 0)) for (var c = 0; c < i[n].length; c++) {
var o = [].concat(s);
this.arrRemove(o, i[n][c]);
t[n][c] = [];
this.checkIsShunZi(o) && (t[n][c] = [].concat(o));
}
}
for (n = 0; n < t.length; n++) for (c = 0; c < t[n].length; c++) t[n][c].length > 0 && this.sanshunzhi.push([ a[n], i[n][c], t[n][c] ]);
return this.sanshunzhi.length > 0 ? this.sanshunzhi[0] : [];
},
getWuTong: function(e) {
var i = [];
this.classifyCard(e).numbers.forEach(function(e, t) {
5 == e.length && i.push([ 16 * e[0] + t, 16 * e[1] + t, 16 * e[2] + t, 16 * e[3] + t, 16 * e[4] + t ]);
});
return i;
},
getTongHuaShun: function(e) {
for (var i = [], t = this.getTonghua(e), a = 0; a < t.length; a++) {
var n = t[a];
this.checkIsShunZi(n) && i.push(n);
}
return i;
},
getTieZhi: function(e) {
var i = [];
this.classifyCard(e).numbers.forEach(function(e, t) {
4 == e.length && i.push([ 16 * e[0] + t, 16 * e[1] + t, 16 * e[2] + t, 16 * e[3] + t ]);
});
return i;
},
getHulu: function(e) {
var i = [], t = this.getSantiao(e), a = this.getDuizi(e), n = [];
t.length && a.length && (n = this.combination2([ t, a ], 2));
for (var s = 0; s < n.length; s++) n[s][0] % 16 != n[s][4] % 16 && i.push(n[s]);
return i;
},
getTonghua: function(e) {
var i = this, t = [], a = [];
this.classifyCard(e).colors.forEach(function(e, t) {
if (e.length > 4) {
var n = e.map(function(e) {
return 16 * t + e;
});
a.push(i.combination(n, 5));
}
});
for (var n = 0; n < a.length; n++) for (var s = 0; s < a[n].length; s++) t.push(a[n][s]);
return t;
},
getShunzi: function(e) {
var i = [], t = [], a = this.classifyCard(e).numbers, n = [], s = 0;
a.push(a[1]);
for (var c = 0; c < 15; c++) {
if (0 == a[c].length) {
s > 4 && n.push([ c, s ]);
s = 0;
} else s++;
14 == c && s > 4 && n.push([ 15, s ]);
}
for (c = 0; c < n.length; c++) for (var o = 0; o < n[c][1] - 4; o++) {
var h = n[c][0] - n[c][1] + o;
t.push(this.combination2([ a[h].map(function(e, i) {
return h + 16 * e;
}), a[h + 1].map(function(e, i) {
return h + 1 + 16 * e;
}), a[h + 2].map(function(e, i) {
return h + 2 + 16 * e;
}), a[h + 3].map(function(e, i) {
return h + 3 + 16 * e;
}), a[h + 4].map(function(e, i) {
return (h + 4 == 14 ? 1 : h + 4) + 16 * e;
}) ], 5));
}
for (c = 0; c < t.length; c++) for (o = 0; o < t[c].length; o++) i.push(t[c][o]);
return i;
},
getSantiao: function(e) {
var i = [];
this.classifyCard(e).numbers.forEach(function(e, t) {
3 == e.length && i.push([ 16 * e[0] + t, 16 * e[1] + t, 16 * e[2] + t ]);
4 == e.length && i.push([ 16 * e[0] + t, 16 * e[1] + t, 16 * e[2] + t ], [ 16 * e[3] + t, 16 * e[1] + t, 16 * e[2] + t ], [ 16 * e[0] + t, 16 * e[1] + t, 16 * e[3] + t ], [ 16 * e[0] + t, 16 * e[2] + t, 16 * e[3] + t ]);
});
return i;
},
getLiangDui: function(e) {
var i = [], t = [], a = this.getDuizi(e);
if (a.length >= 2) {
t = this.combination(a, 2);
for (var n = 0; n < t.length; n++) {
for (var s = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], c = 0; c < t[n].length; c++) {
var o = t[n][c] % 16;
1 == o && s[0]++;
2 == o && s[1]++;
3 == o && s[2]++;
4 == o && s[3]++;
5 == o && s[4]++;
6 == o && s[5]++;
7 == o && s[6]++;
8 == o && s[7]++;
9 == o && s[8]++;
10 == o && s[9]++;
11 == o && s[10]++;
12 == o && s[11]++;
13 == o && s[12]++;
}
for (var h = !1, r = 0; r < 13; r++) if (s[r] >= 3) {
h = !0;
break;
}
h || i.push(t[n]);
}
}
return i;
},
getDuizi: function(e) {
var i = [];
this.classifyCard(e).numbers.forEach(function(e, t) {
2 == e.length && i.push([ 16 * e[0] + t, 16 * e[1] + t ]);
3 == e.length && i.push([ 16 * e[0] + t, 16 * e[2] + t ], [ 16 * e[0] + t, 16 * e[1] + t ], [ 16 * e[1] + t, 16 * e[2] + t ]);
4 == e.length && i.push([ 16 * e[0] + t, 16 * e[1] + t ], [ 16 * e[0] + t, 16 * e[2] + t ], [ 16 * e[0] + t, 16 * e[3] + t ], [ 16 * e[1] + t, 16 * e[2] + t ], [ 16 * e[1] + t, 16 * e[3] + t ], [ 16 * e[2] + t, 16 * e[3] + t ]);
});
return i;
},
combination: function(e, i) {
var t = [];
(function e(i, a, n) {
if (0 == n) return t.push(i);
for (var s = 0, c = a.length; s <= c - n; s++) e(i.concat(a[s]), a.slice(s + 1), n - 1);
})([], e, i);
return t;
},
combination2: function(e, i) {
var t = [];
(function e(i, a, n) {
if (0 == n) return t.push(i);
for (var s = 0, c = a.length; s <= c - n; s++) for (var o = 0; o < a[s].length; o++) e(i.concat(a[s][o]), a.slice(s + 1), n - 1);
})([], e, i);
return t;
},
classifyCard: function(e) {
var i = [ [], [], [], [] ], t = [ [], [], [], [], [], [], [], [], [], [], [], [], [], [] ];
e.forEach(function(e) {
var a = parseInt(e / 16), n = e % 16;
i[a].push(n);
t[n].push(a);
});
return {
colors: i,
numbers: t
};
},
SortCardList: function(e, i) {
for (var t = new Array(e.length), a = 0; a < i; a++) t[a] = e[a] % 16;
var n, s = !0, c = i - 1;
do {
s = !0;
for (a = 0; a < c; a++) if (t[a] > t[a + 1] || t[a] == t[a + 1]) {
n = e[a + 1];
e[a + 1] = e[a];
e[a] = n;
n = t[a + 1];
t[a + 1] = t[a];
t[a] = n;
s = !1;
}
c--;
} while (0 == s);
},
arrRemove: function(e, i) {
if (!(i.length > e.length)) for (var t = 0; t < i.length; t++) for (var a = 0; a < e.length; a++) if (e[a] == i[t]) {
e.splice(a, 1);
break;
}
},
setSanPai: function(e, i, t, a) {
var s = e.length;
if (t.length > 0) {
if (5 == a) {
if (5 == t.length) return !0;
if (i == n) for (var c = t[0] % 16, r = s - 1; r >= 0; r--) if (e[r] % 16 != c) for (var l = e[r], d = s - 1; d >= 0; d--) if (e[d] % 16 != c && e[d] % 16 != l % 16) for (var u = e[d], _ = s - 1; _ >= 0; _--) if (e[_] % 16 != c && e[_] % 16 != l % 16 && e[_] % 16 != u % 16) {
var v = e[_];
t.push(l);
t.push(u);
t.push(v);
this.arrRemove(e, [ l, u, v ]);
return !0;
}
if (i == o) for (r = s - 1; r >= 0; r--) if (e[r] % 16 != t[0] % 16 && e[r] % 16 != t[1] % 16 && e[r] % 16 != t[2] % 16 && e[r] % 16 != t[3] % 16) {
t.push(e[r]);
this.arrRemove(e, [ e[r] ]);
return !0;
}
if (i == h) for (r = s - 1; r >= 0; r--) if (e[r] % 16 != t[0] % 16) for (l = e[r], 
d = s - 1; d >= 0; d--) if (e[d] % 16 != t[0] % 16 && e[d] % 16 != l % 16) {
u = e[d];
t.push(l);
t.push(u);
this.arrRemove(e, [ l, u ]);
return !0;
}
if (i == g) for (r = s - 1; r >= 0; r--) if (e[r] % 16 != t[0] % 16) {
t.push(e[r]);
this.arrRemove(e, [ e[r] ]);
return !0;
}
} else {
if (3 == t.length) return !0;
if (i == n) for (r = s - 1; r >= 0; r--) if (e[r] % 16 != t[0] % 16) {
t.push(e[r]);
this.arrRemove(e, [ e[r] ]);
return !0;
}
}
return !1;
}
if (5 == a) {
t[0] = e[0];
t[1] = e[s - 4];
t[2] = e[s - 3];
t[3] = e[s - 2];
t[4] = e[s - 1];
} else {
t[0] = e[0];
t[1] = e[s - 2];
t[2] = e[s - 1];
}
this.arrRemove(e, t);
return !0;
},
getCardTypeAi: function(e, i, t, v, p) {
for (var m = null, f = [], y = 0; y < x.length; y++) f.push([ x[y].CT_NO, !1 ]);
for (y = 0; y < f.length; y++) f[y][0] <= t && (f[y][1] = !0);
this.SortCardList(e, e.length);
for (y = f.length - 1; y >= 0; y--) if (f[y][1]) switch (f[y][0]) {
case a:
break;

case n:
if (1 == p) {
for (var C = 0, b = 0; b < 7; b++) 1 == i[b] && C++;
if (C > 0) break;
}
if (null != (m = this.getDuizi(e)) && m.length > 0) {
this.curGroupCardList[8] = [ 20, m ];
i[8] = 1;
}
break;

case s:
case c:
break;

case o:
if (3 != v && null != (m = this.getLiangDui(e)) && m.length > 0) {
this.curGroupCardList[7] = [ 50, m ];
i[7] = 1;
}
break;

case h:
if (null != (m = this.getSantiao(e)) && m.length > 0) {
this.curGroupCardList[6] = [ 60, m ];
i[6] = 1;
}
break;

case r:
if (3 != v && null != (m = this.getShunzi(e)) && m.length > 0) {
this.curGroupCardList[5] = [ 70, m ];
i[5] = 1;
}
break;

case l:
if (3 != v && null != (m = this.getTonghua(e)) && m.length > 0) {
this.curGroupCardList[4] = [ 80, m ];
i[4] = 1;
}
break;

case d:
if (3 != v && null != (m = this.getHulu(e)) && m.length > 0) {
this.curGroupCardList[3] = [ 90, m ];
i[3] = 1;
}
break;

case g:
if (3 != v && null != (m = this.getTieZhi(e)) && m.length > 0) {
this.curGroupCardList[2] = [ 100, m ];
i[2] = 1;
}
break;

case u:
if (3 != v && null != (m = this.getTongHuaShun(e)) && m.length > 0) {
this.curGroupCardList[1] = [ 110, m ];
i[1] = 1;
}
break;

case _:
if (3 != v && null != (m = this.getWuTong(e)) && m.length > 0) {
this.curGroupCardList[0] = [ 120, m ];
i[0] = 1;
}
}
},
vecPush: function(e, i) {
var t = [];
t[0] = i[0];
t[1] = [].concat(i[1]);
e.push(t);
},
getSpecialCardTypeAi: function(e, i) {
var t = null, a = !1;
if (!(this.spGroup.length > 0)) {
this.SortCardList(i, i.length);
for (var n = 0; n < e.length; n++) {
a = !1;
switch (e[n][0]) {
case w:
t = this.getQingLong(i);
break;

case b:
t = this.getYiTiaoLong(i);
break;

case C:
t = this.getSanTongHuaShun(i);
a = !0;
break;

case y:
t = this.getSanFenTianXia(i);
a = !0;
break;

case f:
t = this.getSiTaoSanTiao(i);
a = !0;
break;

case m:
t = this.getSanTongHua(i, 1);
a = !0;
break;

case p:
t = this.getSanShunZi(i);
a = !0;
break;

case v:
t = this.getLiuDuiBan(i);
}
if (null != t && t.length > 0) {
e[n][1] = !0;
if (a) {
this.spGroup.push([ e[n][0], t[0] ]);
this.spGroup.push([ e[n][0], t[1] ]);
this.spGroup.push([ e[n][0], t[2] ]);
} else {
this.spGroup.push([ e[n][0], [ i[8], i[9], i[10], i[11], i[12] ] ]);
this.spGroup.push([ e[n][0], [ i[3], i[4], i[5], i[6], i[7] ] ]);
this.spGroup.push([ e[n][0], [ i[0], i[1], i[2] ] ]);
}
break;
}
}
}
},
SortCardTypeGroupAi: function(e, i) {
for (var t = [], a = [], n = x.length - 1; n >= 0; n--) a.push([ x[n].CT_NO, !1 ]);
if (i) {
this.getSpecialCardTypeAi(a, e);
for (n = 0; n < a.length; n++) if (a[n][1]) {
this.AiGroupList.push(this.spGroup);
break;
}
}
var s = [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
this.vecFDPai = [];
this.vecSDPai = [];
this.vecTDPai = [];
this.getCardTypeAi(e, s, 9999, 1, 1);
for (n = 0; n < this.curGroupCardList.length; n++) if (1 == s[n]) for (var c = this.curGroupCardList[n][0], o = this.curGroupCardList[n][1], h = 0; h < o.length; h++) this.vecTDPai.push([ c, o[h] ]);
for (n = 0; n < this.vecTDPai.length; n++) {
var r = [].concat(e);
this.arrRemove(r, this.vecTDPai[n][1]);
this.vecSDPai[n] = [];
this.vecFDPai[n] = [];
var l = this.vecTDPai[n][0];
this.initGroup();
s = [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
this.getCardTypeAi(r, s, l, 2, 1);
for (h = 0; h < this.curGroupCardList.length; h++) if (1 == s[h]) {
c = this.curGroupCardList[h][0], o = this.curGroupCardList[h][1];
for (var d = 0; d < o.length; d++) {
if (c == l) {
if (2 == this.CompareSameCtCard(o[d], this.vecTDPai[n][1], c)) continue;
}
this.vecSDPai[n].push([ c, o[d] ]);
}
}
for (var g = 0; g < this.vecSDPai[n].length; g++) {
var u = [].concat(r);
this.arrRemove(u, this.vecSDPai[n][g][1]);
this.vecFDPai[n][g] = [];
this.initGroup();
s = [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
this.getCardTypeAi(u, s, this.vecSDPai[n][g][0], 3, 1);
for (h = 0; h < this.curGroupCardList.length; h++) if (1 == s[h]) for (c = this.curGroupCardList[h][0], 
o = this.curGroupCardList[h][1], d = 0; d < o.length; d++) {
2 != this.CompareSameCtCard(o[d], this.vecSDPai[n][g][1], c) && this.vecFDPai[n][g].push([ c, o[d] ]);
}
}
}
var _ = [];
for (n = 0; n < this.vecTDPai.length; n++) if (this.vecSDPai[n].length > 0) for (h = 0; h < this.vecSDPai[n].length; h++) if (this.vecFDPai[n][h].length > 0) for (d = 0; d < this.vecFDPai[n][h].length; d++) {
var v = [];
this.vecPush(v, this.vecTDPai[n]);
this.vecPush(v, this.vecSDPai[n][h]);
this.vecPush(v, this.vecFDPai[n][h][d]);
t.push(v);
_.push([ !1, [ v[0][0], v[1][0], v[2][0] ] ]);
} else {
v = [];
this.vecPush(v, this.vecTDPai[n]);
this.vecPush(v, this.vecSDPai[n][h]);
v.push([ 10, [] ]);
t.push(v);
_.push([ !1, [ v[0][0], v[1][0], v[2][0] ] ]);
} else {
v = [];
this.vecPush(v, this.vecTDPai[n]);
v.push([ 10, [] ]);
v.push([ 10, [] ]);
t.push(v);
_.push([ !1, [ v[0][0], v[1][0], v[2][0] ] ]);
}
var p = [];
for (n = 0; n < _.length; n++) {
var m = _[n];
if (!m[0]) {
var f = n;
m[0] = !0;
for (h = 0; h < _.length; h++) if (!_[h][0] && m[1][0] == _[h][1][0] && m[1][1] == _[h][1][1] && m[1][2] == _[h][1][2]) {
_[h][0] = !0;
var y = this.CompareSameCtCard(t[f][2][1], t[h][2][1], m[1][2]);
if (2 != y) if (0 == y) {
this.CompareSameCtCard(t[f][1][1], t[h][1][1], m[1][1]);
if (2 == C) continue;
if (0 == C) {
var C = this.CompareSameCtCard(t[f][0][1], t[h][0][1], m[1][0]);
if (2 == C) continue;
f = h;
} else f = h;
} else f = h;
}
p.push([ f, !1, !1, 0 ]);
}
}
for (n = 0; n < p.length; n++) {
var b = _[p[n][0]][1];
if (!p[n][1]) {
p[n][1] = !0;
for (h = 0; h < p.length; h++) if (!p[h][1]) {
var w = _[p[h][0]][1];
for (d = 0; d < 3; d++) if (b[d] != w[d]) {
var z = !1;
if (10 != b[d] && 10 != w[d]) z = !0; else {
if (10 == b[d]) {
p[n][2] = !0;
z = !0;
}
if (10 == w[d]) {
p[h][1] = !0;
p[h][2] = !0;
z = !0;
}
}
if (z) break;
}
}
}
}
for (n = 0; n < p.length; n++) if (!p[n][2]) for (h = n + 1; h < p.length; h++) if (!p[h][2]) {
var k = p[n][0], M = p[h][0], j = this.CompareGroup(t[k], t[M]);
p[n][3] += j;
p[h][3] -= j;
}
var N, S = !0, F = p.length - 1;
do {
S = !0;
for (n = 0; n < F; n++) if (p[n][3] < p[n + 1][3] || p[n][3] == p[n + 1][3]) {
N = [].concat(p[n + 1]);
for (d = 0; d < p[n].length; d++) p[n + 1][d] = p[n][d];
for (d = 0; d < p[n].length; d++) p[n][d] = N[d];
S = !1;
}
F--;
} while (0 == S);
var B = 0;
for (n = 0; n < p.length; n++) p[n][2] || (B > 3 ? p[n][2] = !0 : B++);
if (p.length <= 0) {
var T = [].concat(e), A = (v = [], [ 10, [] ]);
this.setSanPai(T, A[0], A[1], 5);
v.push(A);
A = [ 10, [] ];
this.setSanPai(T, A[0], A[1], 5);
v.push(A);
A = [ 10, [] ];
this.setSanPai(T, A[0], A[1], 3);
this.AiGroupList.push(v);
} else for (n = 0; n < p.length; n++) if (!p[n][2]) {
v = t[p[n][0]], T = [].concat(e);
for (var I = 0; I < v.length; I++) v[I].length > 0 && v[I][1].length > 0 && this.arrRemove(T, v[I][1]);
var X = 0;
for (I = 0; I < v.length; I++) this.setSanPai(T, v[I][0], v[I][1], I > 1 ? 3 : 5) || X++;
0 == X && this.AiGroupList.push(v);
}
},
getCardTypeFenEx: function(e, i) {
for (var t = 0; t < x.length; t++) if (x[t].CT_NO == e) return 0 == i ? x[t].TD : 1 == i ? x[t].SD : x[t].FD;
},
CompareGroup: function(e, i) {
for (var t = 0, a = 0; a < 3; a++) {
var n = e[a][0], s = i[a][0], c = 0, o = 0;
if (n > s) {
c = this.getCardTypeFenEx(n, a);
o = 2;
}
if (n < s) {
c = this.getCardTypeFenEx(s, a);
o = 1;
}
if (n == s) {
c = this.getCardTypeFenEx(s, a);
o = this.CompareSameCtCard(e[a][1], i[a][1], s);
}
2 == o ? t += c : 1 == o ? t -= c : t += 0;
}
return t;
},
CompareSameCtCard: function(e, i, t) {
var s = this.AnalysebCardData(e), c = this.AnalysebCardData(i), _ = e.length > i.length ? e.length : i.length;
switch (t) {
case a:
for (var v = 0; v < _; v++) {
var p = c.cbLogicValue[0];
if ((x = s.cbLogicValue[0]) != p) return x > p ? 2 : 1;
}
return 0;

case n:
case o:
case h:
case g:
case d:
if (s.cbFourCount > 0) {
p = c.cbFourLogicVolue[0];
return (x = s.cbFourLogicVolue[0]) != p ? x > p ? 2 : 1 : (x = s.cbSignedLogicVolue[0]) != (p = c.cbSignedLogicVolue[0]) ? x > p ? 2 : 1 : 0;
}
if (s.cbThreeCount > 0) {
p = c.cbThreeLogicVolue[0];
if ((x = s.cbThreeLogicVolue[0]) != p) return x > p ? 2 : 1;
if (d == t) return (x = s.cbLONGLogicVolue[0]) != (p = c.cbLONGLogicVolue[0]) ? x > p ? 2 : 1 : 0;
for (v = 0; v < s.cbSignedCount; v++) {
var m = c.cbSignedLogicVolue[v], f = s.cbSignedLogicVolue[v];
if (f != m) return f > m ? 2 : 1;
}
return 0;
}
for (v = 0; v < s.cbLONGCount; v++) {
p = c.cbLONGLogicVolue[v];
if ((x = s.cbLONGLogicVolue[v]) != p) return x > p ? 2 : 1;
}
for (v = 0; v < s.cbSignedCount; v++) {
p = c.cbSignedLogicVolue[v];
if ((x = s.cbSignedLogicVolue[v]) != p) return x > p ? 2 : 1;
}
return 0;

case r:
case u:
p = c.cbLogicValue[0];
var y = (x = s.cbLogicValue[0]) == s.cbLogicValue[1] + 9, C = p == c.cbLogicValue[1] + 9, b = 13 == s.cbLogicValue[1], w = 13 == c.cbLogicValue[1];
if (1 == y) {
if (1 == w) return 1;
if (1 != w && 1 != C) return 2;
}
if (1 == C) {
if (1 == b) return 2;
if (1 != b && 1 != y) return 1;
}
for (v = 0; v < _; v++) {
p = c.cbLogicValue[v];
if ((x = s.cbLogicValue[v]) != p) return x > p ? 2 : 1;
}
return 0;

case l:
for (v = 0; v < _; v++) {
var x;
p = c.cbLogicValue[v];
if ((x = s.cbLogicValue[v]) != p) return x > p ? 2 : 1;
}
return 0;
}
},
CompareCard: function(e, i) {
var t = this.GetCardType(i, i.length), a = this.GetCardType(e, e.length);
return a > t ? 2 : a < t ? 1 : CompareSameCtCard(e, i, a);
},
GetCardType: function(e, i) {
for (var t = !0, a = !0, n = this.GetCardColor(e[0]), s = this.GetCardLogicValue(e[0]), c = 1; c < i; c++) {
this.GetCardColor(e[c]) != n && (t = !1);
s != this.GetCardLogicValue(e[c]) + c && (a = !1);
if (0 == t && 0 == a) break;
}
if (0 == a && 14 == s) {
c = 1;
for (c = 1; c < i; c++) {
if (s != this.GetCardLogicValue(e[c]) + c + 8) break;
}
c == i && (a = !0);
}
if (3 == i) {
(o = ssz.tagAnalyseResult1).initData();
this.AnalysebCardData(e, i, o);
if (1 == o.cbThreeCount) return x.CT_THREE_TIAO;
if (1 == o.cbLONGCount) return x.CT_ONE_LONG;
} else {
if (1 == t && 1 == a && 13 == this.GetCardLogicValue(e[1])) return x.CT_KING_TONG_HUA_SHUN;
if (0 == t && 1 == a) return x.CT_SHUN_ZI;
if (1 == t && 0 == a) return x.CT_TONG_HUA;
if (1 == t && 1 == a) return x.CT_TONG_HUA_SHUN;
var o;
(o = ssz.tagAnalyseResult1).initData();
this.AnalysebCardData(e, i, o);
if (1 == o.cbFourCount) return x.CT_TIE_ZHI;
if (2 == o.cbLONGCount) return x.CT_TWO_LONG;
if (1 == o.cbLONGCount && 1 == o.cbThreeCount) return x.CT_HU_LU;
if (1 == o.cbThreeCount && 0 == o.cbLONGCount) return x.CT_THREE_TIAO;
if (1 == o.cbLONGCount && 3 == o.cbSignedCount) return x.CT_ONE_LONG;
}
return x.CT_SINGLE;
},
GetCardColor: function(e) {
return parseInt(e / 16);
},
GetCardLogicValue: function(e) {
var i = e % 16;
1 == i && (i = 14);
return i;
},
AnalysebCardData: function(e) {
var i = {
cbLogicValue: [],
cbSignedLogicVolue: [],
cbLONGLogicVolue: [],
cbThreeLogicVolue: [],
cbFourLogicVolue: [],
cbSignedCount: 0,
cbLONGCount: 0,
cbThreeCount: 0,
cbFourCount: 0
}, t = (e.length, this.classifyCard(e).numbers);
if (t[1].length > 0) {
t.push(t[1]);
t[1] = [];
}
for (var a = t.length - 1; a >= 0; a--) {
var n = t[a].length;
if (0 != n) {
for (var s = 0; s < n; s++) i.cbLogicValue.push(a);
switch (n) {
case 1:
i.cbSignedLogicVolue.push(a);
i.cbSignedCount++;
break;

case 2:
i.cbLONGLogicVolue.push(a);
i.cbLONGCount++;
break;

case 3:
i.cbThreeLogicVolue.push(a);
i.cbThreeCount++;
break;

case 4:
i.cbFourLogicVolue.push(a);
i.cbFourCount++;
}
}
}
return i;
}
});
cc.Class({
extends: cc.Component,
properties: {
_wanfa: 1,
_seatid: 0,
players: 3,
sszPokerAtlas: {
default: null,
type: cc.SpriteAtlas
},
_kaipai: !1,
_baipaiMode: 0,
_timeLabel: null,
_lastPlayTime: null,
_voiceMsgQueue: []
},
onLoad: function() {
if (!cc.sys.isNative && cc.sys.isMobile) {
var e = this.node.getComponent(cc.Canvas);
e.fitHeight = !0;
e.fitWidth = !0;
}
if (cc.vv) {
this.m_bGameStarted = !1;
this.m_bTableStarted = !1;
this.vecReadyCard = [ null, null, null ];
this.isSpeType = !1;
this.addComponent("UserInfoShow");
this.sszCardList = new z();
this.Constants = x;
this.initView();
this.initEventHandlers();
this.baipaiComponent = this.node.getComponent("SSZBaiPai");
cc.vv.audioMgr.playBGM("bgFight");
} else cc.director.loadScene("loading");
},
initMain: function() {
this.deskBack = this.node.getChildByName("ID_SPRITE_DESKBACK");
this._baipaiMode = cc.sys.localStorage.getItem("baipaiMode");
this._baipaiMode || (this._baipaiMode = 0);
this._baipaiMode = parseInt(this._baipaiMode);
this.funcBtn = this.node.getChildByName("Layout_FuncBtn");
this.inviteBtn = this.funcBtn.getChildByName("ID_BUTTON_INVITE");
this.readyBtn = this.funcBtn.getChildByName("ID_BUTTON_READY");
this.readyBtn.active = !1;
this._timeLabel = this.funcBtn.getChildByName("time").getComponent(cc.Label);
this.userList = [];
for (var e = this.deskBack.getChildByName("ID_LAYOUT_USERINFO"), i = 0; i < e.children.length; ++i) this.userList.push(e.children[i].getComponent("Seat"));
this.fjhLabel = this.node.getChildByName("ID_LABEL_FJH").getComponent(cc.Label);
this.roundLabel = this.node.getChildByName("ID_LABEL_ROUND").getComponent(cc.Label);
this.descLabel = this.node.getChildByName("ID_LABEL_DESC").getComponent(cc.Label);
this.mapaiSprite = this.node.getChildByName("ID_SPARTE_MAPAI");
this.initXuanPaiLayer();
this.initTanPaiCard();
this.gameresult = this.node.getChildByName("game_result");
this.gameresult.active = !1;
this.hintBack = this.node.getChildByName("ID_SPRITE_HINT_MSG");
this.hintBack.active = !1;
this.hintLabel = this.hintBack.getChildByName("ID_LABEL_HINTLABEL");
},
getsszPokerSpriteFrame: function(e) {
var i = parseInt(e / 16), t = e % 16;
1 == t && (t = 14);
var a = this.pngStr = [ "D", "C", "H", "S" ][i] + t;
return this.sszPokerAtlas.getSpriteFrame(a);
},
addClickEvent: function(e, i, t, a) {
var n = new cc.Component.EventHandler();
n.target = i;
n.component = t;
n.handler = a;
e.getComponent(cc.Button).clickEvents.push(n);
},
getCardTypeInfo: function(e) {
for (var i = 0; i < x.length; i++) if (x[i].CT_NO == e) return x[i];
},
checkIsSpecialType: function(e) {
if (0 == this.paixin) return !1;
for (var i = 0; i < x.length; i++) if (x[i].CT_NO == e) switch (x[i].CT_NO) {
case 200:
case 210:
case 220:
case 230:
case 240:
case 250:
case 260:
case 270:
return !0;

default:
return !1;
}
return !1;
},
playSexSFX: function(e, i) {
if (1 == e) var t = "ssz/1/" + i; else t = "ssz/2/" + i;
cc.vv.audioMgr.playSFX(t);
},
showDaoFen: function(e, i) {
var t = this.VecJieSuan[e];
t.active = !0;
var a = t.getChildByName("winscore"), n = t.getChildByName("losescore");
if (i >= 0) {
i = "+" + i;
n.active = !1;
a.getComponent(cc.Label).string = i;
a.active = !0;
} else {
a.active = !1;
n.getComponent(cc.Label).string = i;
n.active = !0;
}
var s = t.x;
t.setPosition(t.x - 200, t.y);
t.runAction(cc.moveTo(.2, cc.v2(s, t.y)));
},
doKaiSepcialPai: function(e, i, t, a) {
var n = this;
this.scheduleOnce(function() {
for (var e = n.getCardTypeInfo(a), s = e.CT_NAME, c = 0; c < 3; c++) for (var o = 0 == c ? 3 : 5, h = 0; h < o; h++) {
var r = t[c][h];
if (0 != r) {
n.userDoneCard[i][c][h].getComponent(cc.Sprite).spriteFrame = n.getsszPokerSpriteFrame(r);
r == n.mapai && n.addMaPaiToPai(n.userDoneCard[i][c][h], cc.v2(20, 36));
}
}
cc.vv.audioMgr.playSFX("ssz/openface/teshupai");
n.playSexSFX(n.userList[i]._sex, e.AUDIO);
n.userSpecialType[i].runAction(cc.sequence(cc.spawn(cc.fadeOut(.5), cc.scaleTo(.5, 5)), cc.callFunc(function() {
n.vecSpriteEffect[i].getChildByName("cardtype").getComponent(cc.Label).string = s;
n.vecSpriteEffect[i].active = !0;
n.vecSpriteEffect[i].zIndex = 99;
var e = n.userDoneCardBack[i][1].x, t = n.userDoneCardBack[i][1].y;
n.vecSpriteEffect[i].setPosition(e, t);
}, this)));
}, e);
},
addMaPaiToPai: function(e, i) {
var t = new cc.Node("horse");
t.addComponent(cc.Sprite).spriteFrame = this.mapaiSprite.getChildByName("MA_logo").getComponent(cc.Sprite).spriteFrame;
t.setAnchorPoint(.5, .5);
t.setPosition(i);
e.addChild(t);
},
doKaiDaoPai: function(e, i, t, a, n, s, c) {
var o = this;
this.scheduleOnce(function() {
var e = o.getCardTypeInfo(n), h = e.CT_NAME;
if (!o.checkIsSpecialType(n)) {
for (var r = 0 == t ? 3 : 5, l = 0; l < r; l++) {
var d = a[l];
if (0 != d) {
o.userDoneCard[i][t][l].getComponent(cc.Sprite).spriteFrame = o.getsszPokerSpriteFrame(d);
d == o.mapai && o.addMaPaiToPai(o.userDoneCard[i][t][l], cc.v2(15, 40));
}
}
o.userDoneCardBack[i][t].runAction(cc.sequence(cc.spawn(cc.callFunc(function() {
o.userDoneCardBack[i][t].zIndex = t + 3;
if (h) {
o.vecSpriteEffect[i].getChildByName("cardtype").getComponent(cc.Label).string = h;
var e = o.userDoneCardBack[i][t].x, a = o.userDoneCardBack[i][t].y - o.userDoneCardBack[i][t].height / 2;
o.vecSpriteEffect[i].setPosition(e, a);
o.vecSpriteEffect[i].zIndex = t + 4;
o.vecSpriteEffect[i].active = !0;
}
}, this), cc.scaleTo(.1, 1.2)), cc.delayTime(.8), cc.spawn(cc.callFunc(function() {
o.userDoneCardBack[i][t].zIndex = t - 3;
o.vecSpriteEffect[i].active = !1;
}, this), cc.scaleTo(.1, 1))));
o.playSexSFX(o.userList[i]._sex, e.AUDIO);
}
c && o.showDaoFen(t, s);
}, e);
},
doShot: function(e, i) {
var t = this;
this.scheduleOnce(function() {
t.playShotAnimation(i);
}, e);
},
OnUserKaiPai: function(e, i, t, a, n, s, c) {
var o = this, h = 0;
this.Layout_Desktop.active = !0;
for (var r = 0; r < this.VecJieSuan.length; r++) this.VecJieSuan[r].active = !1;
this.nodeJieSuan.active = !0;
this.vecCardList = e;
for (r = 0; r < this.players; r++) {
var l = this.checkIsSpecialType(i[r][0]), d = this.SwitchViewChairID(r);
if (l) {
o.userSpecialType[d].scale = 1;
o.userSpecialType[d].opacity = 255;
this.userSpecialType[d].active = !0;
this.userSpecialType[d].zIndex = 4;
}
}
for (var g = 0; g < 3; g++) {
var u = [], _ = [];
for (r = 0; r < this.players; r++) {
var v = 0;
this.checkIsSpecialType(i[r][g]) || (v = t[r][g]);
u.push(v);
_.push(r);
}
var p = u.length;
for (r = 0; r < p; r++) for (var m = 0; m < p - 1 - r; m++) if (u[m] > u[m + 1]) {
var f = u[m + 1];
u[m + 1] = u[m];
u[m] = f;
var y = _[m + 1];
_[m + 1] = _[m];
_[m] = y;
}
for (m = 0; m < _.length; m++) {
r = _[m], d = this.SwitchViewChairID(r);
var C = !1;
m == _.length - 1 && (C = !0);
(l = this.checkIsSpecialType(i[r][g])) ? this.mChairID == r ? h += .2 : h += 0 : h += .9;
v = 0;
this.checkIsSpecialType(i[this.mChairID][g]) || (v = t[this.mChairID][g]);
this.doKaiDaoPai(h, d, g, e[r][g], i[r][g], v, C);
}
}
for (r = 0; r < this.players; r++) {
l = this.checkIsSpecialType(i[r][0]), d = this.SwitchViewChairID(r);
if (l) {
h += .9;
this.doKaiSepcialPai(h, d, e[r], i[r][0]);
}
}
if (null != s) {
this.scheduleOnce(function() {
s.length > 0 && o.playShotReadyAnimation();
}, h + .5);
h += 1;
for (r = 0; r < s.length; r++) this.doShot(h + 1.5 * (r + 1), s[r]);
h += 1.5 * s.length;
}
if (c) {
h += 1;
this.scheduleOnce(function() {
o.playHomeRunAnimation();
}, h);
}
h += .2;
this.scheduleOnce(function() {
o.showDaoFen(3, o.vecTotalScore[this.mChairID]);
for (var e = 0; e < this.players; e++) {
var i = o.SwitchViewChairID(e);
o.userList[i].setWinCoinFixed(o.vecTotalScore[e]);
o.userList[i].setScore(n[e]);
o.vecUser[e].score = n[e];
}
}, h);
h += .5;
this.scheduleOnce(function() {
o.final_report ? this.scheduleOnce(function() {
cc.vv.GameResult.showReport(o.mRoomID, 0, o.final_report, o.m_nRound, o.m_nMaxRound);
o.gameresult.active = !0;
}, 1) : o.readyBtn.active = !0;
}, h);
},
turnCard: function() {
var e = this.m_vecXuanPaiCard[this.iIndex][this.jIndex], i = this.m_vecXuanPaiCard[this.iPopIndex][this.jPopIndex];
e.card.y -= 10;
i.card.y -= 10;
var t = this.nodeXuanPai.getChildByName("Sprite_CardPut").getChildByName("Layout_Move");
t.active = !0;
var a = e.card.parent.convertToWorldSpaceAR(e.card.getPosition()), n = i.card.parent.convertToWorldSpaceAR(i.card.getPosition()), s = {};
s.color = e.color;
s.num = e.num;
s.byPai = e.byPai;
s.value = e.value;
s.colorIdx = e.colorIdx;
var c = {};
c.color = i.color;
c.num = i.num;
c.byPai = i.byPai;
c.value = i.value;
c.colorIdx = i.colorIdx;
var o = t.getChildByName("Card0"), h = t.getChildByName("Card1");
o.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(e.byPai);
h.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i.byPai);
o.setContentSize(e.card.getContentSize());
h.setContentSize(i.card.getContentSize());
o.setPosition(t.convertToNodeSpaceAR(a));
h.setPosition(t.convertToNodeSpaceAR(n));
o.removeAllChildren();
h.removeAllChildren();
e.byPai == this.mapai && this.addMaPaiToPai(o, cc.v2(27, -38));
i.byPai == this.mapai && this.addMaPaiToPai(h, cc.v2(27, -38));
o.active = !0;
h.active = !0;
e.card.active = !1;
i.card.active = !1;
o.runAction(cc.sequence(cc.spawn(cc.moveTo(.15, t.convertToNodeSpaceAR(n)), cc.scaleTo(.15, h.width / o.width)), cc.callFunc(function() {
o.active = !1;
e.card.active = !0;
e.isSelected = !1;
e.isPop = !1;
e.isFloor = !1;
e.color = c.color;
e.num = c.num;
e.byPai = c.byPai;
e.value = c.value;
e.colorIdx = c.colorIdx;
e.card.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(e.byPai);
e.card.removeAllChildren();
e.byPai == this.mapai && this.addMaPaiToPai(e.card, cc.v2(27, -38));
}, this)));
h.runAction(cc.sequence(cc.spawn(cc.moveTo(.15, t.convertToNodeSpaceAR(a)), cc.scaleTo(.15, o.width / h.width)), cc.callFunc(function() {
h.active = !1;
i.card.active = !0;
i.isSelected = !1;
i.isPop = !1;
i.isFloor = !1;
i.color = s.color;
i.num = s.num;
i.byPai = s.byPai;
i.value = s.value;
i.colorIdx = s.colorIdx;
i.card.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i.byPai);
i.card.removeAllChildren();
i.byPai == this.mapai && this.addMaPaiToPai(i.card, cc.v2(27, -38));
}, this)));
this.scheduleOnce(function() {
t.active = !1;
for (var e = 0; e < 3; e++) if (0 == e) for (var i = 0; i < 3; i++) this.vecReadyCard[e][i] = this.m_vecXuanPaiCard[e][i].byPai; else for (i = 0; i < 5; i++) this.vecReadyCard[e][i] = this.m_vecXuanPaiCard[e][i].byPai;
}, .3);
this.reSetCardTypeGroupList();
},
onCardClicked: function(e) {
cc.vv.audioMgr.playSFX("ui_click");
cc.log(e.target.name);
for (var i = -1, t = -1, a = -1, n = -1, s = 0; s < 3; s++) {
var c = 0, o = this.m_vecXuanPaiCard[s];
c = 0 == s ? 3 : 5;
for (var h = 0; h < c; h++) {
if (o[h].cardName == e.target.name) {
i = s;
t = h;
}
if (this.m_vecXuanPaiCard[s][h].isSelected) {
a = s;
n = h;
}
}
}
if (-1 != a && -1 != n) if (a == i && n == t) {
this.m_vecXuanPaiCard[i][t].card.y -= 10;
this.m_vecXuanPaiCard[i][t].isSelected = !1;
this.m_vecXuanPaiCard[i][t].isPop = !1;
} else {
this.m_vecXuanPaiCard[i][t].card.y += 10;
this.m_vecXuanPaiCard[i][t].isSelected = !0;
this.m_vecXuanPaiCard[i][t].isPop = !0;
this.iIndex = i;
this.jIndex = t;
this.iPopIndex = a;
this.jPopIndex = n;
this.turnCard();
} else {
this.m_vecXuanPaiCard[i][t].card.y += 10;
this.m_vecXuanPaiCard[i][t].isSelected = !0;
this.m_vecXuanPaiCard[i][t].isPop = !0;
}
},
newCard: function(e, i) {
var t = {};
t.card = e;
t.cardName = i;
t.isSelected = !1;
t.isPop = !1;
t.isFloor = !1;
t.isSelectPop = !1;
t.color = 0;
t.num = 0;
t.byPai = 0;
t.value = 0;
t.colorIdx = 0;
return t;
},
initXuanPaiLayer: function() {
this.nodeXuanPai = this.node.getChildByName("ID_LAYOUT_XUANPAI");
this.nodeBaiPai = this.node.getChildByName("ID_LAYOUT_BAIPAI");
var e = this.nodeXuanPai.getChildByName("Sprite_CardPut");
this.nodeXuanPaiTime = this.nodeXuanPai.getChildByName("time").getComponent(cc.Label);
this.nodeBaiPaiTime = this.nodeBaiPai.getChildByName("time").getComponent(cc.Label);
this.m_vecXuanPaiCard = [];
for (var i = 0; i < 3; i++) {
var t = [];
if (0 == i) for (var a = e.getChildByName("Layout_FirstDun"), n = 0; n < 3; n++) {
(o = a.getChildByName("Sprite_FD_Card" + n)).myTag = n;
o.active = !1;
t[n] = this.newCard(o, "Sprite_FD_Card" + n);
this.addClickEvent(o, this.node, "SSZGame", "onCardClicked");
} else if (1 == i) {
var s = e.getChildByName("Layout_SecondDun");
for (n = 0; n < 5; n++) {
(o = s.getChildByName("Sprite_SD_Card" + n)).myTag = n;
o.active = !1;
t[n] = this.newCard(o, "Sprite_SD_Card" + n);
this.addClickEvent(o, this.node, "SSZGame", "onCardClicked");
}
} else if (2 == i) {
var c = e.getChildByName("Layout_ThirdDun");
for (n = 0; n < 5; n++) {
var o;
(o = c.getChildByName("Sprite_TD_Card" + n)).myTag = n;
o.active = !1;
t[n] = this.newCard(o, "Sprite_TD_Card" + n);
this.addClickEvent(o, this.node, "SSZGame", "onCardClicked");
}
}
this.m_vecXuanPaiCard[i] = t;
}
this._CardGroupSelect = this.nodeXuanPai.getChildByName("Layout_CardGroupSelect");
this._CardGroupSelect.active = !1;
this._viewlist = this._CardGroupSelect.getChildByName("viewlist");
this._content = cc.find("view/content", this._viewlist);
this._viewitemTemp = this._content.children[0];
this._content.removeChild(this._viewitemTemp);
e.getChildByName("ID_BUTTON_FINISH");
this.m_vecFloorCard = [];
for (i = 0; i < 3; i++) this.m_vecFloorCard[i] = [];
},
initTanPaiCard: function() {
this.Layout_Desktop = this.node.getChildByName("Layout_Desktop");
this.userDoneCard = [];
this.userDoneCardBack = [];
this.userDoneCardName = [];
this.vecSpriteEffect = [];
this.userBullet = [];
this.userSpecialType = [];
for (var e = 0; e < 4; e++) {
this.userDoneCard[e] = [];
this.userDoneCardBack[e] = [];
this.userDoneCardName[e] = [];
var i = this.Layout_Desktop.getChildByName("Layout_UserCard" + e);
this.vecSpriteEffect[e] = i.getChildByName("cardtype_bg");
this.vecSpriteEffect[e].active = !1;
this.userSpecialType[e] = i.getChildByName("specialType");
this.userSpecialType[e].active = !1;
this.userBullet[e] = [];
for (var t = i.getChildByName("bullets"), a = 0; a < t.children.length; a++) {
this.userBullet[e][a] = t.children[a];
this.userBullet[e][a].active = !1;
}
for (var n = 0; n < 3; n++) {
this.userDoneCard[e][n] = [];
this.userDoneCardName[e][n] = [];
if (0 == n) {
var s = i.getChildByName("Layout_FirstDun");
this.userDoneCardBack[e][n] = s;
this.userDoneCardBack[e][n].active = !1;
for (var c = 0; c < 3; c++) {
this.userDoneCard[e][n][c] = s.getChildByName("Sprite_FD_Card" + c);
this.userDoneCardName[e][n][c] = "Sprite_FD_Card" + c;
}
} else if (1 == n) {
var o = i.getChildByName("Layout_SecondDun");
this.userDoneCardBack[e][n] = o;
this.userDoneCardBack[e][n].active = !1;
for (c = 0; c < 5; c++) {
this.userDoneCard[e][n][c] = o.getChildByName("Sprite_SD_Card" + c);
this.userDoneCardName[e][n][c] = "Sprite_SD_Card" + c;
}
} else if (2 == n) {
var h = i.getChildByName("Layout_ThirdDun");
this.userDoneCardBack[e][n] = h;
this.userDoneCardBack[e][n].active = !1;
for (c = 0; c < 5; c++) {
this.userDoneCard[e][n][c] = h.getChildByName("Sprite_TD_Card" + c);
this.userDoneCardName[e][n][c] = "Sprite_TD_Card" + c;
}
}
this.userDoneCardBack[e][n].zIndex = n;
}
}
this.VecJieSuan = [];
var r = this.nodeJieSuan = this.node.getChildByName("ID_NODE_JIESUAN");
for (e = 0; e < r.children.length; e++) {
this.VecJieSuan.push(r.children[e]);
r.children[e].active = !1;
}
r.active = !1;
},
initCardTypeGroupList: function(e) {
for (var i = 0; i < e.length; ++i) {
var t = this.getViewItem(i);
t.idx = i;
var a = this.checkIsSpecialType(e[i][0][0]), n = t.getChildByName("highLight"), s = t.getChildByName("cardtype_selTag");
if (0 == i) {
n.active = !0;
s.active = !0;
} else {
n.active = !1;
s.active = !1;
}
var c = t.getChildByName("cardTypeSel");
c.getChildByName("groupNo").getComponent(cc.Label).string = i + 1;
for (var o = 0; o < 4; o++) {
var h = c.getChildByName("cardtype" + o);
if (a) if (0 == o) {
h.active = !0;
var r = this.getCardTypeInfo(e[i][0][0]);
h.getChildByName("cardtypeLabel").getComponent(cc.Label).string = r.CT_NAME;
} else h.active = !1; else if (0 == o) h.active = !1; else {
h.active = !0;
r = this.getCardTypeInfo(e[i][3 - o][0]);
h.getChildByName("cardtypeLabel").getComponent(cc.Label).string = r.CT_NAME;
}
}
}
this.shrinkContent(e.length);
this._CardGroupSelect.active = !0;
this._viewlist.getComponent(cc.ScrollView).scrollToLeft();
if (e.length > 0) {
this.cardDataList = [].concat(e[0][2][1]);
this.cardDataList = this.cardDataList.concat(e[0][1][1]);
this.cardDataList = this.cardDataList.concat(e[0][0][1]);
}
},
getViewItem: function(e) {
var i = this._content;
if (i.childrenCount > e) return i.children[e];
var t = cc.instantiate(this._viewitemTemp);
i.addChild(t);
return t;
},
shrinkContent: function(e) {
for (;this._content.childrenCount > e; ) {
var i = this._content.children[this._content.childrenCount - 1];
this._content.removeChild(i, !0);
}
},
getSelectedGroupId: function() {
for (var e = -1, i = this._content, t = 0; t < i.childrenCount; t++) {
var a = i.children[t];
a.getChildByName("highLight");
if (a.getChildByName("cardtype_selTag").active) {
e = t;
break;
}
}
return e;
},
reSetCardTypeGroupList: function() {
for (var e = this._content, i = 0; i < e.childrenCount; i++) {
var t = e.children[i], a = t.getChildByName("highLight"), n = t.getChildByName("cardtype_selTag");
a.active = !1;
n.active = !1;
}
},
onBtnOpClicked: function(e) {
cc.vv.audioMgr.playSFX("ui_click");
var i = e.target.idx;
if (!(i >= this.aiGroupList.length)) {
var t = this._content;
this.reSetCardTypeGroupList();
var a = t.children[i], n = a.getChildByName("highLight"), s = a.getChildByName("cardtype_selTag");
n.active = !0;
s.active = !0;
if (this.aiGroupList[i].length > 0) {
this.cardDataList = [].concat(this.aiGroupList[i][2][1]);
this.cardDataList = this.cardDataList.concat(this.aiGroupList[i][1][1]);
this.cardDataList = this.cardDataList.concat(this.aiGroupList[i][0][1]);
}
this.ReInitCardPut();
}
},
OnFinishBtnEvent: function() {
cc.vv.audioMgr.click();
if (this.vecReadyCard[0] && this.vecReadyCard[1] && this.vecReadyCard[2]) {
var e, i = [], t = 0;
(e = this.getSelectedGroupId()) > -1 && this.checkIsSpecialType(this.aiGroupList[e][0][0]) && (t = 1);
for (var a = 0; a < 3; a++) for (var n = 0; n < this.vecReadyCard[a].length; n++) i.push(this.vecReadyCard[a][n]);
this.common("kaipai", {
tanpai: i,
teshu: t
});
}
},
initView: function() {
this.initMain();
this.common("sit", {
roomid: cc.vv.userMgr.room_id
});
},
initEventHandlers: function() {
cc.vv.gameNetMgr.dataEventHandler = this.node;
var e = this;
this.node.on("sit", function(i) {
0 == i.errcode ? e.deal("sit", i) : cc.vv.alert.show("进房失败", i.errmsg, function() {
cc.vv.sceneMgr.gotoHall();
});
});
this.node.on("leave", function(e) {
0 == e.errcode && cc.vv.sceneMgr.gotoHall();
});
this.node.on("param", function(i) {
e.deal("param", i);
});
this.node.on("table", function(i) {
e.deal("table", i);
});
this.node.on("table_begin", function(i) {
e.deal("table_begin", i);
});
this.node.on("table_side", function(i) {
e.deal("table_side", i);
});
this.node.on("table_end", function(i) {
e.deal("table_end", i);
});
this.node.on("stage", function(i) {
e.deal("stage", i);
});
this.node.on("ready", function(i) {
e.deal("ready", i);
});
this.node.on("start", function(i) {
e.deal("start", i);
});
this.node.on("lock", function(i) {
e.deal("lock", i);
});
this.node.on("fapai", function(i) {
e.deal("fapai", i);
});
this.node.on("kaipai", function(i) {
e.deal("kaipai", i);
});
this.node.on("suanfen", function(i) {
e.deal("suanfen", i);
});
this.node.on("qiangzhuang", function(i) {
e.deal("qiangzhuang", i);
});
this.node.on("buqiangzhuang", function(i) {
e.deal("buqiangzhuang", i);
});
this.node.on("dingzhuang", function(i) {
e.deal("dingzhuang", i);
});
this.node.on("refuse_dismiss_room", function(i) {
e.deal("refuse_dismiss_room", i);
});
this.node.on("agree_dismiss_room", function(i) {
e.deal("agree_dismiss_room", i);
});
this.node.on("try_dismiss_room", function(i) {
e.deal("try_dismiss_room", i);
});
this.node.on("dismissroom", function(i) {
e.deal("dismissroom", i);
});
this.node.on("voice", function(i) {
e.deal("voice", i);
});
this.node.on("chat", function(i) {
e.deal("chat", i);
});
this.node.on("yuyin", function(i) {
e.deal("yuyin", i);
});
this.node.on("biaoqing", function(i) {
e.deal("biaoqing", i);
});
this.node.on("report", function(i) {
e.deal("report", i);
});
this.node.on("offline", function(i) {
i = i.data;
if (null != cc.vv.tip) {
e.vecUser[i.seat].offline = !0;
var t = e.SwitchViewChairID(i.seat);
e.userList[t].setOffline(!0);
var a = "玩家 " + i.name + " 离线";
cc.vv.tip.show(a);
}
});
this.node.on("online", function(i) {
i = i.data;
if (null != cc.vv.tip) {
e.vecUser[i.seat].offline = !1;
var t = e.SwitchViewChairID(i.seat);
e.userList[t].setOffline(!1);
var a = "玩家 " + i.name + " 上线";
cc.vv.tip.show(a);
}
});
},
OnShowHint: function(e) {
var i = this;
this.hintLabel.getComponent(cc.Label).string = e;
this.hintBack.active = !0;
this.hintBack.stopAllActions();
this.hintLabel.stopAllActions();
this.hintLabel.setPosition(0, -25);
this.hintBack.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
i.hintBack.active = !1;
i.hintLabel.setPosition(0, 0);
}, this)));
this.hintLabel.runAction(cc.moveBy(.2, cc.v2(0, 25)));
},
onBtnSettingsClicked: function() {
cc.vv.audioMgr.playSFX("ui_click");
cc.vv.popupMgr.showSettings();
},
OnClockBtnClick: function() {
this.unlocked ? this.unlocked = !1 : this.unlocked = !0;
},
common: function(e, i) {
cc.vv.net.common("pdk", e, i);
},
OnReady: function() {
this.common("ready");
this.readyBtn.active = !1;
this.playReadyAnimation();
this.userList[0].setReady(!0);
},
OnInvite: function() {
cc.vv.audioMgr.playSFX("ui_click");
var e = cc.GAME_NAME + "房间号：" + this.mRoomID;
cc.vv.share_url = "http://" + cc.GAME_CODE + ".game.fingerjoys.com/room/" + this.mRoomID;
cc.vv.anysdkMgr.share(e, "玩法: " + this.descLabel.getComponent(cc.Label).string + " " + this.m_nMaxRound + "局", "0", "2", "");
},
renew_ui: function() {
this.roundLabel.string = "局数:第" + this.m_nRound + "/" + this.m_nMaxRound + "局";
for (var e = 0; e < this.players; e++) {
var i = this.SwitchViewChairID(e);
if (this.vecUser && this.vecUser[e] && this.vecUser[e].uid > 0) {
this.userList[i].setID(this.vecUser[e].uid);
this.userList[i].setInfo(this.vecUser[e].nickname, this.vecUser[e].score, this.vecUser[e].gender, this.vecUser[e].ip);
1 == this.vecUser[e].state ? this.userList[i].setReady(!0) : this.userList[i].setReady(!1);
this.userList[i].setOffline(1 != this.vecUser[e].online);
if (0 == i && 1 == this.vecUser[e].state) {
this.playReadyAnimation();
this.readyBtn.active = !1;
}
} else this.userList[i].setInfo(null, null, null, null, null);
this.m_bGameStarted && this.m_byZhuang == e ? this.userList[i].setZhuang(!0) : this.userList[i].setZhuang(!1);
}
},
OnSubBiaoQing: function(e, i, t) {
var a = this.SwitchViewChairID(i);
this.showBiaoQing(a, t);
},
showBiaoQing: function(e, i) {
this.userList[e].emoji(i);
},
onSubChat: function(e, i, t) {
var a = this.SwitchViewChairID(i);
this.showChat(a, t);
},
showChat: function(e, i) {
this.userList[e].chat(i);
},
OnSubYuYin: function(e, i, t) {
var a = this.SwitchViewChairID(i);
this.showYuYin(a, t);
},
showYuYin: function(e, i) {
var t = cc.vv.chat.getQuickChatInfo(i);
this.userList[e].chat(t.content);
cc.vv.audioMgr.playSFX(t.sound);
},
OnSubTable: function(e) {
void 0 == this.vecUser && (this.vecUser = [ null, null, null, null, null, null ]);
for (var i = 0; i < this.players; i++) {
void 0 == this.vecUser[i] && (this.vecUser[i] = {});
this.vecUser[i].uid = e[i].uid;
this.vecUser[i].seat = i;
this.vecUser[i].score = e[i].score;
this.vecUser[i].nickname = e[i].nickname;
this.vecUser[i].avatar = e[i].avatar;
this.vecUser[i].gender = e[i].gender;
this.vecUser[i].state = e[i].state;
this.vecUser[i].ip = e[i].ip;
this.vecUser[i].online = e[i].online;
}
for (var t = 0, a = 0; a < this.players; a++) this.vecUser && this.vecUser[a] && this.vecUser[a].uid > 0 && t++;
if (this.m_bTableStarted) this.inviteBtn.active = !1; else {
t >= this.players ? this.inviteBtn.active = !1 : this.inviteBtn.active = !0;
this.readyBtn.active = !0;
}
this.renew_ui();
},
OnSubStage: function(e, i, t) {
for (var a = this, n = [], s = 0; s < 5; s++) if (this.vecUser && this.vecUser[s] && this.vecUser[s].uid) {
0;
n.push(s);
}
0 == e && (0 == this.mChairID ? this.readyBtn.active = !0 : this.readyBtn.active = !1);
if (3 == e || 5 == e) {
var c = t.round, o = [];
for (s = 0; s < t.list.length; s++) o.push(t.list[s].ready);
this.OnSubKaiPaiReady(c, o);
if (0 == t.list[this.mChairID].ready) {
a.baipaiUIReady = !1;
a.sortPaiReady = !1;
for (s = 0; s < this.players; s++) {
var h = this.SwitchViewChairID(s);
this.userList[h].setWinCoinFixed(null);
}
this.scheduleOnce(function() {
a.sszCardList.initData();
a.sszCardList.SortCardTypeGroupAi(t.list[a.mChairID].cards, a.paixin);
if (a.baipaiUIReady) {
a.ReInitAiXuanPaiGroup();
a.ReInitCardPut();
a.baipaiComponent.initBaiPaiList();
}
a.sortPaiReady = !0;
}, 0);
this.OnSubFaPai(o, t.list[this.mChairID].cards);
}
}
},
InitTable: function() {
this.RepositTable();
},
RepositTable: function() {
for (var e = 0; e < 4; e++) {
this.userDoneCardBack[e][0].active = !1;
this.userDoneCardBack[e][1].active = !1;
this.userDoneCardBack[e][2].active = !1;
this.userBullet[e][0].active = !1;
this.userBullet[e][1].active = !1;
this.userBullet[e][2].active = !1;
}
for (e = 0; e < 4; e++) for (var i = 0; i < 3; i++) if (0 == i) for (var t = 0; t < 3; t++) this.userDoneCard[e][i][t].initWithFile(dwc.g_arrSSZRes.defaultCard_png); else for (t = 0; t < 5; t++) this.userDoneCard[e][i][t].initWithFile(dwc.g_arrSSZRes.defaultCard_png);
this.m_waitState = "STATE_NULL";
this.m_vecHandPai = [ 255, 255, 255, 255, 255 ];
this.m_vecRoundScore = [ 0, 0, 0, 0, 0 ];
this.m_vecRoundScore = [ 0, 0, 0, 0, 0 ];
this.m_vecCardData = [ [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ] ];
this.vecRealScoreData = [];
this.m_bGameStarted = !1;
for (e = 0; e < 4; e++) for (i = 0; i < 13; i++) if (this.vecTableCard && this.vecTableCard[e] && this.vecTableCard[e][i]) {
this.vecTableCard[e][i].destroy();
this.vecTableCard[e][i] = null;
}
this.isCanTouch = !1;
this.nodeJieSuanBg.setVisible(!1);
this.nodeXuanPai.setVisible(!1);
this.nodeBaiPai.setVisible(!1);
this.vecTableCard = [ [ null, null, null, null, null, null ], [ null, null, null, null, null, null ], [ null, null, null, null, null, null ], [ null, null, null, null, null, null ], [ null, null, null, null, null, null ] ];
this.voiceBtn.setVisible(!0);
this.userList[0].userInfoBG.setVisible(!0);
this.userList[0].userName.setString(dwc.Myself.GetData().GetNickName());
},
xuanPaiAction: function(e) {
var i = null;
switch (this._baipaiMode) {
case 0:
i = this.nodeBaiPai;
break;

case 1:
i = this.nodeXuanPai;
}
if (e) {
this.m_nLeftTime = 30;
this.schedule(this.tipBaiPaiTime, 1);
i.setPosition(cc.v2(0, -720));
i.active = !0;
i.runAction(cc.sequence(cc.moveBy(.2, cc.v2(0, 720))));
} else {
cc.vv.audioMgr.stopSFX(this.alarm_id);
this.unschedule(this.tipBaiPaiTime);
i.setPosition(cc.v2(0, 0));
i.runAction(cc.sequence(cc.moveBy(.2, cc.v2(0, -720))));
}
},
tipBaiPaiTime: function() {
this.m_nLeftTime--;
if (this.m_nLeftTime < 0) Math.abs(this.m_nLeftTime + 4) % 5 == 0 && (this.alarm_id = cc.vv.audioMgr.playSFX("timeup_alarm")); else {
this.nodeXuanPaiTime.string = "" + this.m_nLeftTime;
this.nodeBaiPaiTime.string = "" + this.m_nLeftTime;
}
},
OnSubSit: function(e, i, t, a, n, s, c, o, h) {
if (e == cc.vv.userMgr.userid) {
this.mRoomID = t;
this.mChairID = i;
this.readyBtn.active = 0 == h;
}
void 0 == this.vecUser && (this.vecUser = [ null, null, null, null ]);
i == this.players - 1 && (this.inviteBtn.active = !1);
if (i < this.players) {
void 0 == this.vecUser[i] && (this.vecUser[i] = {});
this.vecUser[i].uid = e;
this.vecUser[i].seat = i;
this.vecUser[i].score = a;
this.vecUser[i].nickname = n;
this.vecUser[i].gender = s;
this.vecUser[i].avatar = c;
this.vecUser[i].online = 1;
void 0 != h && (this.vecUser[i].state = h);
this.vecUser[i].ip = o;
this.vecUser[i].offline = !1;
var r = this.SwitchViewChairID(i);
this.userList[r].setOffline(this.vecUser[i].offline);
this.renew_ui();
} else cc.log("OnSubSit error seat : " + i);
},
OnSubStandUp: function(e) {
if (this.vecUser) for (var i = 0; i < this.vecUser.length; i++) {
var t = this.SwitchViewChairID(i);
if (this.vecUser && this.vecUser[i] && this.vecUser[i].uid == e) if (this.m_bTableStarted) {
this.vecUser[i].offline = !0;
this.userList[t].userOfflineSprite.active = this.vecUser[i].offline;
} else {
this.vecUser[i].uid = 0;
this.vecUser[i].seat = 0;
this.vecUser[i].score = 0;
this.vecUser[i].nickname = "";
this.vecUser[i].gender = 0;
this.vecUser[i].avatar = 0;
this.vecUser[i].state = 0;
this.vecUser[i].offline = !1;
this.vecUser[i].ip = "0.0.0.0";
this.userList[t].setInfo(null, null);
}
}
if (e == cc.vv.userMgr.userid) {
if (this.vecUser) for (i = 0; i < this.vecUser.length; i++) if (this.vecUser && this.vecUser[i]) {
this.vecUser[i].uid = 0;
this.vecUser[i].seat = 0;
this.vecUser[i].score = 0;
this.vecUser[i].nickname = "";
this.vecUser[i].gender = 0;
this.vecUser[i].avatar = 0;
this.vecUser[i].state = 0;
this.vecUser[i].ip = "0.0.0.0";
this.vecUser[i].offline = !1;
t = this.SwitchViewChairID(i);
this.userList[t].setInfo(null, null);
}
this.RepositTable();
}
this.m_bTableStarted || 0 == this.mChairID || dwc.Myself.SetMyRoom(null);
},
OnSubKick: function(e) {
if (this.vecUser) if (e == cc.vv.userMgr.userid) {
var i = new dwc.DT_MainScene();
cc.director.runScene(i);
cc.vv.alert.show("提示", "由于超过3局未准备，您被踢出房间");
} else for (var t = 0; t < this.vecUser.length; t++) if (this.vecUser && this.vecUser[t] && this.vecUser[t].uid == e) {
this.vecUser[t].uid = 0;
this.vecUser[t].seat = 0;
this.vecUser[t].score = 0;
this.vecUser[t].nickname = "";
this.vecUser[t].gender = 0;
this.vecUser[t].avatar = 0;
this.vecUser[t].state = 0;
this.vecUser[t].ip = "0.0.0.0";
var a = this.SwitchViewChairID(t);
this.userList[a].setInfo(null, null);
}
},
OnSubReady: function(e, i) {
var t = this.SwitchViewChairID(i);
i < this.players && this.vecUser && this.vecUser[i] && (this.vecUser[i].state = 1);
0 == this.m_bGameStarted && 0 == t && (this.readyBtn.active = !1);
for (var a = 0; a < this.players; a++) {
t = this.SwitchViewChairID(a);
1 == this.vecUser[a].state ? this.userList[t].setReady(!0) : this.userList[t].setReady(!1);
}
},
OnSubFaPai: function(e, i) {
this.m_bTableStarted = !0;
this.m_bGameStarted = !0;
this.kaipaiFlg = !1;
for (var t = 0; t < this.players; t++) {
this.userList[t].setReady(!1);
0 == t ? this.userList[t].setSortPai(!1) : this.userList[t].setSortPai(!0);
}
for (t = 0; t < this.players; t++) this.vecUser[t].state = 0;
this.readyBtn.active = !1;
this.inviteBtn.active = !1;
this.m_vecReady = e;
this.cardDataList = i;
this.SortSelectCardList(this.cardDataList, 13);
this.baipaiComponent.setHandPai(this.cardDataList);
this.xuanPaiAction(!0);
for (t = 0; t < 3; t++) if (0 == t) for (var a = 0; a < 3; a++) this.m_vecXuanPaiCard[t][a].card.active = !1; else for (a = 0; a < 5; a++) this.m_vecXuanPaiCard[t][a].card.active = !1;
this.m_vecFloorCard = [];
for (t = 0; t < 3; t++) this.m_vecFloorCard[t] = [];
this.reInitBackCard();
for (var n = 0; n < 3; n++) for (t = 0; t < 4; t++) this.userDoneCardBack[t][n].active = !1;
for (t = 0; t < this.VecJieSuan.length; t++) this.VecJieSuan[t].active = !1;
this.nodeJieSuan.active = !1;
if (1 == this.sortPaiReady) {
this.ReInitAiXuanPaiGroup();
this.ReInitCardPut();
this.baipaiComponent.initBaiPaiList();
}
this.renew_ui();
this.baipaiUIReady = !0;
},
showMyDoneCard: function() {
for (var e = 0; e < 3; e++) if (0 == e) for (var i = 0; i < 3; i++) {
0 != (t = this.vecReadyCard[e][i]) && (this.userDoneCard[0][e][i].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(t));
} else for (i = 0; i < 5; i++) {
var t;
0 != (t = this.vecReadyCard[e][i]) && (this.userDoneCard[0][e][i].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(t));
}
for (var a = 0; a < 3; a++) 0 != t && this.userDoneCardBack[0][a].runAction(cc.sequence(cc.delayTime(1 * (a + 1)), cc.show()));
},
reInitBackCard: function() {
for (var e = 0; e < 4; e++) {
for (var i = 0; i < 3; i++) for (var t = 0 == i ? 3 : 5, a = 0; a < t; a++) {
this.userDoneCard[e][i][a].getComponent(cc.Sprite).spriteFrame = this.sszPokerAtlas.getSpriteFrame(255);
this.userDoneCard[e][i][a].removeAllChildren();
}
this.vecSpriteEffect[e].active = !1;
}
},
OnSubKaiPaiReady: function(e, i) {
this.m_vecIsKaiPaiReady = i;
this.Layout_Desktop.active = !0;
for (var t = 0; t < this.players; t++) {
var a = this.SwitchViewChairID(t);
if (1 == i[t]) {
if (0 == a && 0 == this._kaipai) {
this.xuanPaiAction(!1);
this._kaipai = !0;
}
this.userDoneCardBack[a][0].active = !0;
this.userDoneCardBack[a][1].active = !0;
this.userDoneCardBack[a][2].active = !0;
this.userList[a].setSortPai(!1);
} else {
this.userList[a].setSortPai(!0);
this.userDoneCardBack[a][0].active = !1;
this.userDoneCardBack[a][1].active = !1;
this.userDoneCardBack[a][2].active = !1;
}
}
},
OnSubJieSuan: function(e, i) {
this.againBtn.setVisible(!0);
this.reportBtn.setVisible(!1);
this.m_vecRoundScore = [ 0, 0, 0, 0, 0 ];
this.m_vecUserScore = [ 0, 0, 0, 0, 0 ];
for (var t = 1; t < this.players; t++) {
this.userDoneCardBack[t][0].active = !1;
this.userDoneCardBack[t][1].active = !1;
this.userDoneCardBack[t][2].active = !1;
this.userBullet[t][0].active = !1;
this.userBullet[t][1].active = !1;
this.userBullet[t][2].active = !1;
}
for (t = 0; t < this.players; t++) {
this.m_vecRoundScore[t] = i[t].round_score;
this.m_vecUserScore[t] = i[t].user_score;
this.vecUser && this.vecUser[t] && this.vecUser[t].uid > 0 && (this.vecUser[t].score = i[t].user_score);
}
},
SortSelectCardList: function(e, i) {
for (var t = new Array(e.length), a = 0; a < i; a++) t[a] = this.GetCardLogicValue(e[a]);
var n, s = !0, c = i - 1;
do {
s = !0;
for (a = 0; a < c; a++) if (t[a] < t[a + 1] || t[a] == t[a + 1]) {
n = e[a];
e[a] = e[a + 1];
e[a + 1] = n;
n = t[a];
t[a] = t[a + 1];
t[a + 1] = n;
s = !1;
}
c--;
} while (0 == s);
},
ReInitAiXuanPaiGroup: function() {
this.aiGroupList = this.sszCardList.getAiGroup();
this.initCardTypeGroupList(this.aiGroupList);
},
ReinitOneCard: function(e, i) {
e.card.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i);
e.card.removeAllChildren();
i == this.mapai && this.addMaPaiToPai(e.card, cc.v2(27, -38));
e.card.active = !0;
e.byPai = i;
if (1 == e.isSelected) {
e.isSelected = !1;
e.isPop = !1;
e.card.y -= 10;
e.isFloor = !1;
}
},
ReInitCardPut: function() {
for (var e = 0; e < 3; e++) {
var i = this.m_vecXuanPaiCard[e];
this.vecReadyCard[e] = [];
if (0 == e) for (var t = 0; t < 3; t++) {
this.ReinitOneCard(i[t], this.cardDataList[t]);
this.vecReadyCard[e][t] = this.cardDataList[t];
} else if (1 == e) for (t = 0; t < 5; t++) {
this.ReinitOneCard(i[t], this.cardDataList[3 + t]);
this.vecReadyCard[e][t] = this.cardDataList[3 + t];
} else if (2 == e) for (t = 0; t < 5; t++) {
this.ReinitOneCard(i[t], this.cardDataList[8 + t]);
this.vecReadyCard[e][t] = this.cardDataList[8 + t];
}
}
},
CompareCard: function(e, i, t) {
var a = this.GetCardType(i, t), n = this.GetCardType(e, t);
if (n > a) return 2;
if (n < a) return 1;
switch (n) {
case x.CT_SINGLE:
var s = 0;
for (s = 0; s < t; s++) {
var c = this.GetCardLogicValue(i[s]);
if ((u = this.GetCardLogicValue(e[s])) > c) return 2;
if (u < c) return 1;
}
if (s == t) {
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
break;

case x.CT_ONE_LONG:
case x.CT_TWO_LONG:
case x.CT_THREE_TIAO:
case x.CT_TIE_ZHI:
case x.CT_HU_LU:
var o = ssz.tagAnalyseResult2;
o.initData();
var h = ssz.tagAnalyseResult3;
h.initData();
this.AnalysebCardData(i, t, o);
this.AnalysebCardData(e, t, h);
if (h.cbFourCount > 0) {
c = o.cbFourLogicVolue[0];
if ((u = h.cbFourLogicVolue[0]) != c) return u > c ? 2 : 1;
if ((u = h.cbSignedLogicVolue[0]) != (c = o.cbSignedLogicVolue[0])) return u > c ? 2 : 1;
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
if (h.cbThreeCount > 0) {
c = o.cbThreeLogicVolue[0];
if ((u = h.cbThreeLogicVolue[0]) != c) return u > c ? 2 : 1;
if (x.CT_HU_LU == n) {
if ((u = h.cbLONGLogicVolue[0]) != (c = o.cbLONGLogicVolue[0])) return u > c ? 2 : 1;
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
s = 0;
for (s = 0; s < h.cbSignedCount; s++) {
var r = o.cbSignedLogicVolue[s], l = h.cbSignedLogicVolue[s];
if (u > r) return 2;
if (l < r) return 1;
}
if (s == h.cbSignedCount) {
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
}
s = 0;
for (s = 0; s < h.cbLONGCount; s++) {
c = o.cbLONGLogicVolue[s];
if ((u = h.cbLONGLogicVolue[s]) > c) return 2;
if (u < c) return 1;
}
for (s = 0; s < h.cbSignedCount; s++) {
c = o.cbSignedLogicVolue[s];
if ((u = h.cbSignedLogicVolue[s]) > c) return 2;
if (u < c) return 1;
}
if (s == h.cbSignedCount) {
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
break;

case x.CT_SHUN_ZI:
case x.CT_TONG_HUA_SHUN:
c = this.GetCardLogicValue(i[0]);
var d = (u = this.GetCardLogicValue(e[0])) == this.GetCardLogicValue(e[1]) + 9, g = c == this.GetCardLogicValue(i[1]) + 9;
if (u > c) return 2;
if (u < c) return 1;
if (u == c) {
if (14 == u && 1 == d && 0 == g) return 1;
if (14 == c && 0 == d && 1 == g) return 2;
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
return u > c ? 2 : 1;

case x.CT_TONG_HUA:
s = 0;
for (s = 0; s < t; s++) {
var u;
c = this.GetCardLogicValue(i[s]);
if ((u = this.GetCardLogicValue(e[s])) != c) return u > c ? 2 : 1;
}
if (s == t) {
s = 0;
for (s = 0; s < t; s++) {
var _, v;
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
}
return 0;
},
GetCardType: function(e, i) {
for (var t = !0, a = !0, n = this.GetCardColor(e[0]), s = this.GetCardLogicValue(e[0]), c = 1; c < i; c++) {
this.GetCardColor(e[c]) != n && (t = !1);
s != this.GetCardLogicValue(e[c]) + c && (a = !1);
if (0 == t && 0 == a) break;
}
if (0 == a && 14 == s) {
c = 1;
for (c = 1; c < i; c++) {
if (s != this.GetCardLogicValue(e[c]) + c + 8) break;
}
c == i && (a = !0);
}
if (3 == i) {
(o = ssz.tagAnalyseResult1).initData();
this.AnalysebCardData(e, i, o);
if (1 == o.cbThreeCount) return x.CT_THREE_TIAO;
if (1 == o.cbLONGCount) return x.CT_ONE_LONG;
} else {
if (1 == t && 1 == a && 13 == this.GetCardLogicValue(e[1])) return x.CT_KING_TONG_HUA_SHUN;
if (0 == t && 1 == a) return x.CT_SHUN_ZI;
if (1 == t && 0 == a) return x.CT_TONG_HUA;
if (1 == t && 1 == a) return x.CT_TONG_HUA_SHUN;
var o;
(o = ssz.tagAnalyseResult1).initData();
this.AnalysebCardData(e, i, o);
if (1 == o.cbFourCount) return x.CT_TIE_ZHI;
if (2 == o.cbLONGCount) return x.CT_TWO_LONG;
if (1 == o.cbLONGCount && 1 == o.cbThreeCount) return x.CT_HU_LU;
if (1 == o.cbThreeCount && 0 == o.cbLONGCount) return x.CT_THREE_TIAO;
if (1 == o.cbLONGCount && 3 == o.cbSignedCount) return x.CT_ONE_LONG;
}
return x.CT_SINGLE;
},
GetCardColor: function(e) {
return parseInt(e / 16);
},
GetCardLogicValue: function(e) {
var i = e % 16;
1 == i && (i = 14);
return i;
},
AnalysebCardData: function(e, i, t) {
for (var a = 0; a < i; a++) {
var n = 1, s = [ e[a], 0, 0, 0, 0 ], c = this.GetCardLogicValue(e[a]);
1 == c && (c = 14);
for (var o = a + 1; o < i; o++) {
var h = e[o] % 16;
1 == h && (h = 14);
if (h != c) break;
s[n++] = e[o];
}
switch (n) {
case 1:
t.cbSignedLogicVolue[t.cbSignedCount] = c;
for (var r = 0; r < n; r++) t.cbSignedCardData[t.cbSignedCount * n + r] = s[r];
t.cbSignedCount++;
break;

case 2:
t.cbLONGLogicVolue[t.cbLONGCount] = c;
for (r = 0; r < n; r++) t.cbLONGCardData[t.cbLONGCount * n + r] = s[r];
t.cbLONGCount++;
break;

case 3:
t.cbThreeLogicVolue[t.cbThreeCount] = c;
for (r = 0; r < n; r++) t.cbThreeCardData[t.cbThreeCount * n + r] = s[r];
t.cbThreeCount++;
break;

case 4:
t.cbFourLogicVolue[t.cbFourCount] = c;
for (r = 0; r < n; r++) t.cbFourCardData[t.cbFourCount * n + r] = s[r];
t.cbFourCount++;
}
a += n - 1;
}
},
OnSubQiangZhuang: function() {
this.getCurrentZhuang();
if ("DINGZHUANG" == this.m_zhuangMode) {
0 == this.SwitchRealChairID(0) ? this.common("qiangzhuang", {
power: 1
}) : this.nodeQiangZhuang.active = !1;
}
"LUNZHUANG" == this.m_zhuangMode && (0 == this.zhuangSeat ? this.common("qiangzhuang", {
power: 1
}) : this.nodeQiangZhuang.active = !1);
"QIANGZHUANG" == this.m_zhuangMode && (this.nodeQiangZhuang.active = !0);
},
getCurrentZhuang: function() {
for (var e = 0, i = 0; i < 5; i++) this.vecUser && this.vecUser[i] && this.vecUser[i].uid > 0 && e++;
this.zhuangSeat++;
this.zhuangSeat == e && (this.zhuangSeat = 0);
},
OnSubDingZhuang: function(e, i, t, a) {
this.nodeQiangZhuang.active = !1;
this.unschedule(this.tip_qiangzhuang_game);
this.OnBuQiangZhuangBtnClick();
for (var n = [], s = 0; s < 5; s++) a[s] > 0 && n.push(this.SwitchViewChairID(s));
this.m_byZhuang = i;
var c = this.SwitchViewChairID(i);
this.xuanZhuangIndex = 0;
this.xuanZhuangCounter = 0;
this.playXuanZhuangEffect(n, c, this.OnDingZhuangCallBack.bind(this));
},
OnStartBtnClick: function() {
for (var e = 0, i = 0; i < this.players; i++) this.vecUser && this.vecUser[i] && this.vecUser[i].uid > 0 && e++;
if (e > 1) {
this.startBtn.active = !1;
this.inviteBtn.active = !1;
this.common("start");
} else this.OnShowHint("房间内至少有2个人才能开始");
},
OnJieSanBtnClick: function() {
if (0 != cc.vv.userMgr.room_id || "hall" == cc.director.getScene().name) {
for (var e = this, i = 0, t = 0; t < 5; t++) e.vecUser && e.vecUser[t] && e.vecUser[t].uid > 0 && i++;
i > 1 ? cc.vv.alert.show("提示", "您是否确认要申请解散房间？", function() {
e.common("try_dismiss_room");
}, !0) : cc.vv.alert.show("提示", "解散房间不扣钻石,\n是否确认解散？", function() {
e.common("try_dismiss_room");
}, !0);
} else cc.vv.sceneMgr.gotoHall();
},
OnSubFinalReport: function(e, i) {
for (var t = [], a = 0; a < 4; a++) {
t[a] = {};
if (this.vecUser && this.vecUser[a] && this.vecUser[a].uid > 0) {
t[a].uid = this.vecUser[a].uid;
t[a].nickname = this.vecUser[a].nickname;
t[a].avatar_url = this.vecUser[a].avatar_url;
t[a].resultScore = i[a];
} else {
t[a].uid = 0;
t[a].nickname = "";
t[a].avatar_url = "";
t[a].resultScore = 0;
}
}
this.report = t;
this.final_report = t;
if (4 == e) {
cc.vv.GameResult.showReport(this.mRoomID, e, this.final_report, this.m_nRound, this.m_nMaxRound);
this.gameresult.active = !0;
}
},
playGameStartAnimation: function(e, i) {
var t = this;
this.sszStartspine.setAnimation(0, "kaishi", !1);
this.sszStartspine.setCompleteListener(function(a, n) {
var s = a.animation ? a.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", a.trackIndex, s, n);
t.sszStartAnimaNode.active = !1;
t.OnSubFaPai(e, i);
t.playSexSFX(t.userList[0]._sex, "start_poker");
});
this.sszStartAnimaNode.active = !0;
cc.vv.audioMgr.playSFX("ssz/openface/fantasy");
},
playBgCCardAnimation: function(e, i, t, a, n, s, c) {
var o = this;
this.sszBgCompCardspine.setAnimation(0, "bipai", !1);
this.sszBgCompCardspine.setCompleteListener(function(h, r) {
var l = h.animation ? h.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", h.trackIndex, l, r);
o.sszBgCompCardAnimaNode.active = !1;
o.OnUserKaiPai(e, i, t, a, n, s, c);
});
this.sszBgCompCardAnimaNode.active = !0;
cc.vv.audioMgr.playSFX("ssz/openface/fantasy");
this.playSexSFX(this.userList[0]._sex, "start_compare");
},
playHomeRunAnimation: function() {
var e = this;
this.sszHomeRunspine.setAnimation(0, "quanleida", !1);
this.sszHomeRunspine.setCompleteListener(function(i, t) {
var a = i.animation ? i.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", i.trackIndex, a, t);
e.sszHomeRunAnimaNode.active = !1;
});
this.sszHomeRunAnimaNode.active = !0;
this.playSexSFX(this.userList[0]._sex, "special1");
},
playShotReadyAnimation: function() {
var e = this;
this.sszShotReadyspine.setAnimation(0, "daqiang", !1);
this.sszShotReadyspine.setCompleteListener(function(i, t) {
var a = i.animation ? i.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", i.trackIndex, a, t);
e.sszShotReadyAnimaNode.active = !1;
});
this.sszShotReadyAnimaNode.active = !0;
this.playSexSFX(this.userList[0]._sex, "daqiang1");
},
go: function(e, i) {
return 180 * Math.atan((i.y - e.y) / (i.x - e.x)) / Math.PI;
},
playShotAnimation: function(e) {
var i = this, t = this, a = [ {
pos: cc.v2(-155, -195),
face: [ {
x: 1,
y: 1,
rate: 0
}, {
x: 1,
y: -1,
rate: 165
}, {
x: 1,
y: -1,
rate: 128
}, {
x: 1,
y: 1,
rate: 55
} ]
}, {
pos: cc.v2(554, 70),
face: [ {
x: 1,
y: 1,
rate: -38
}, {
x: 1,
y: 1,
rate: 0
}, {
x: 1,
y: 1,
rate: 12
}, {
x: 1,
y: 1,
rate: -15
} ]
}, {
pos: cc.v2(190, 188),
face: [ {
x: 1,
y: 1,
rate: -75
}, {
x: 1,
y: -1,
rate: -120
}, {
x: 1,
y: 1,
rate: 0
}, {
x: 1,
y: 1,
rate: -32
} ]
}, {
pos: cc.v2(-520, -40),
face: [ {
x: -1,
y: 1,
rate: 30
}, {
x: -1,
y: 1,
rate: 0
}, {
x: -1,
y: 1,
rate: -20
}, {
x: 1,
y: 1,
rate: 0
} ]
} ], n = this.SwitchViewChairID(e.f_seat_id), s = this.SwitchViewChairID(e.t_seat_id), c = (this.userList[n], 
this.userList[s], a[n].pos), o = a[n].face[s];
this.sszShotAnimaNode.setPosition(c);
this.sszShotAnimaNode.scaleX = o.x * Math.abs(this.sszShotAnimaNode.scaleX);
this.sszShotAnimaNode.scaleY = o.y * Math.abs(this.sszShotAnimaNode.scaleY);
this.sszShotAnimaNode.rotation = o.rate;
this.sszShotspine.setAnimation(0, "kaiqiang", !1);
this.sszShotspine.setCompleteListener(function(e, a) {
var n = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", e.trackIndex, n, a);
i.userBullet[s][0].active = !1;
i.userBullet[s][1].active = !1;
i.userBullet[s][2].active = !1;
t.sszShotAnimaNode.active = !1;
});
this.sszShotspine.setEventListener(function(e, t) {
var a = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] event: %s, %s, %s, %s", e.trackIndex, a, t.data.name, t.intValue, t.floatValue, t.stringValue);
"slot1" == t.data.name ? i.userBullet[s][0].active = !0 : "slot2" == t.data.name ? i.userBullet[s][1].active = !0 : "slot3" == t.data.name && (i.userBullet[s][2].active = !0);
cc.vv.audioMgr.playSFX("ssz/openface/daqiang3");
});
this.sszShotAnimaNode.active = !0;
cc.vv.audioMgr.playSFX("ssz/openface/bullets");
},
playReadyAnimation: function() {
this.sszReadyspine.setAnimation(0, "jijiangkaishi", !0);
this.sszReadyspine.setCompleteListener(function(e, i) {
var t = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", e.trackIndex, t, i);
});
this.sszReadyAnimaNode.active = !1;
},
GetMeChairID: function() {
return this.mChairID;
},
SwitchViewChairID: function(e) {
return Math.abs(e + this.players - this.GetMeChairID()) % this.players;
},
SwitchRealChairID: function(e) {
return (this.GetMeChairID() + e) % this.players;
},
VecStr2Int: function(e) {
for (var i = [], t = 0; t < e.length; t++) i[t] = parseInt(e[t]);
return i;
},
deal: function(e, i) {
if (0 == i.errcode) {
i = i.data;
if ("table" == e) {
this.mRoomID = i.roomid;
this.m_bTableStarted = i.table_started;
this.m_nRound = i.round;
this.m_nMaxRound = i.max_round;
this.m_bGameStarted = i.game_started;
this.m_cntLookon = i.lookon;
0 == this.m_nRound && (this.m_nRound = 1);
this.fjhLabel.string = "房号:" + this.mRoomID;
if (this.m_bTableStarted) {
this.inviteBtn.active = !1;
this.readyBtn.active = !1;
} else this.inviteBtn.active = !0;
for (var t = i.list, a = [], n = 0; n < this.players; n++) {
var s = t[n], c = {};
c.uid = s.userid;
c.score = s.coins;
c.nickname = s.nickname;
c.gender = s.sex;
c.avatar = s.avatar;
c.state = s.status;
c.vip = s.vip;
c.title = s.title;
c.lookon = s.lookon;
c.ip = s.ip;
c.online = s.online;
a.push(c);
}
this.OnSubTable(a);
} else if ("table_begin" == e) {
this.m_bTableStarted = !0;
this.m_bGameStarted = !0;
var o = i.now_round, h = (i.max_round, []), r = [];
if (i.list) for (n = 0; n++; n < i.list.length) {
h.push(i.list[n].ready);
r.push(i.list[n].status);
}
this.m_vecIsReady = h;
this.m_vecIsKaiPaiReady = r;
} else if ("table_side" == e) {
var l = i.seatid, d = (i.ready, i.status, i.cards);
if (l == this.mChairID) {
this.cardDataList = d;
this.SortSelectCardList(this.cardDataList, 13);
this.sszCardList.initData();
this.sszCardList.SortCardTypeGroupAi(this.cardDataList, this.paixin);
}
} else if ("table_end" == e) {
this.renew_ui();
for (n = 0; n < 4; n++) {
var g = this.SwitchViewChairID(n);
if (1 == this.m_vecIsKaiPaiReady[n]) {
this.userDoneCardBack[g][0].active = !0;
this.userDoneCardBack[g][1].active = !0;
this.userDoneCardBack[g][2].active = !0;
} else {
this.userDoneCardBack[g][0].active = !0;
this.userDoneCardBack[g][1].active = !0;
this.userDoneCardBack[g][2].active = !0;
}
}
this.m_bTableStarted = !0;
this.m_bGameStarted = !0;
this.readyBtn.active = !1;
this.inviteBtn.active = !1;
this.xuanPaiAction(!0);
for (n = 0; n < 3; n++) if (0 == n) for (var u = 0; u < 3; u++) this.m_vecXuanPaiCard[n][u].card.active = !1; else for (u = 0; u < 5; u++) this.m_vecXuanPaiCard[n][u].card.active = !1;
this.m_vecFloorCard = [];
for (n = 0; n < 3; n++) this.m_vecFloorCard[n] = [];
for (var _ = 0; _ < 3; _++) for (n = 0; n < 4; n++) this.userDoneCardBack[n][_].active = !1;
for (n = 0; n < 4; n++) {
this.userBullet[n][0].active = !1;
this.userBullet[n][1].active = !1;
this.userBullet[n][2].active = !1;
}
this.ReInitAiXuanPaiGroup();
this.ReInitCardPut();
} else if ("param" == e) {
i.roomid;
this.paixin = i.paixin;
this.players = i.ren;
this.descLabel.getComponent(cc.Label).string = i.desc;
this.mapai = i.mapai;
if (0 == i.mapai) this.mapaiSprite.active = !1; else {
this.mapaiSprite.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i.mapai);
this.mapaiSprite.active = !0;
}
} else if ("stage" == e) {
var v = i.stage, p = i.deal_time;
this.OnSubStage(v, p, i);
} else if ("ready" == e) {
var m = i.userid, f = i.seatid;
this.OnSubReady(m, f);
} else if ("sit" == e) {
m = i.userid, f = i.seatid;
var y = i.roomid, C = i.score, b = i.nickname, w = i.sex, x = i.avatar, z = i.ip;
v = i.status;
this.OnSubSit(m, f, y, C, b, w, x, z, v);
} else if ("standup" == e) {
m = parseInt(vecArg[1]);
this.OnSubStandUp(m);
} else if ("fapai" == e) {
h = i.ready;
var k = i.pai;
this.m_nRound = i.round;
this.m_nMaxRound = i.max_round;
this.baipaiHand = k;
this.sszReadyspine.clearTrack(0);
this.sszReadyAnimaNode.active = !1;
this._kaipai = !1;
this.baipaiUIReady = !1;
this.sortPaiReady = !1;
var M = this;
for (n = 0; n < this.players; n++) {
g = this.SwitchViewChairID(n);
this.userList[g].setWinCoinFixed(null);
}
this.scheduleOnce(function() {
M.sszCardList.initData();
M.sszCardList.SortCardTypeGroupAi(k, M.paixin);
if (M.baipaiUIReady) {
M.ReInitAiXuanPaiGroup();
M.ReInitCardPut();
M.baipaiComponent.initBaiPaiList();
}
M.sortPaiReady = !0;
}, 0);
this.playGameStartAnimation(h, k);
} else if ("kaipai" == e) {
for (o = i.round, h = [], n = 0; n < i.list.length; n++) h.push(i.list[n].ready);
this.OnSubKaiPaiReady(o, h);
} else if ("qiangzhuang" == e) ; else if ("dingzhuang" == e) {
m = i.userid, f = i.seatid, i.power, g = this.SwitchViewChairID(i.seatid);
this.userList[g].setZhuang(!0);
} else if ("suanfen" == e) {
if (1 == this.kaipaiFlg) {
this.readyBtn.active = !0;
return;
}
this.kaipaiFlg = !0;
var j = this.userScoreList = i.list, N = [], S = [], F = [], B = [], T = [], A = i.daqiang, I = !1;
for (n = 0; n < 4; n++) if (!(n >= this.players)) {
var X = [], P = [], D = [];
for (u = 0; u < 13; u++) u < 3 ? X.push(j[n].pai[u]) : u >= 3 && u < 8 ? P.push(j[n].pai[u]) : D.push(j[n].pai[u]);
var Y = [];
Y.push(X);
Y.push(P);
Y.push(D);
N.push(Y);
S.push(j[n].type);
F.push(j[n].dao);
B.push(j[n].score);
T.push(j[n].result_score);
1 == j[n].quanleida && (I = !0);
}
this.vecTotalScore = B;
this.playBgCCardAnimation(N, S, F, B, T, A, I);
} else if ("jiesuan" == e) o = i.round; else if ("report" == e) {
cc.vv.popupMgr.closeAll();
cc.vv.audioMgr.stopSFX(this.alarm_id);
cc.sys.localStorage.setItem("baipaiMode", this._baipaiMode);
var L = i.reason;
this.vecResultScore = [];
for (n = 0; n < this.players; n++) this.vecResultScore.push(i.list[n].result_score);
this.OnSubFinalReport(L, this.vecResultScore);
} else if ("dismissroom" == e) {
m = i.userid;
cc.vv.sceneMgr.gotoHall();
} else if ("cancel_dismiss_room" == e) m = i.userid, b = i.nickname, i.roomid; else if ("voice" == e) {
this._voiceMsgQueue.push(i);
this.playVoice();
} else if ("chat" == e) {
m = i.userid;
var R = i.seatid, E = i.content;
this.onSubChat(m, R, E);
} else if ("yuyin" == e) {
var H = i.index;
m = i.userid, R = i.seatid;
this.OnSubYuYin(m, R, H);
} else if ("biaoqing" == e) {
H = i.index, m = i.userid, R = i.seatid;
this.OnSubBiaoQing(m, R, H);
}
} else cc.vv.tip.show(i.errmsg);
},
playVoice: function() {
if (null == this._playingSeat && this._voiceMsgQueue.length) {
var e = this._voiceMsgQueue.shift();
this._playingSeat = e.seatid;
var i = this.SwitchViewChairID(e.seatid);
this.userList[i].voiceMsg(!0);
cc.vv.voiceMgr.writeVoice("voicemsg.amr", e.content);
cc.vv.voiceMgr.play("voicemsg.amr");
this._lastPlayTime = Date.now() + e.time;
}
},
update: function(e) {
var i = Math.floor(Date.now() / 1e3 / 60);
if (this._lastMinute != i) {
this._lastMinute = i;
var t = new Date(), a = t.getHours();
a = a < 10 ? "0" + a : a;
var n = t.getMinutes();
n = n < 10 ? "0" + n : n;
this._timeLabel.string = a + ":" + n;
}
if (null != this._lastPlayTime) {
if (Date.now() > this._lastPlayTime + 200) {
this.onPlayerOver();
this._lastPlayTime = null;
}
} else this.playVoice();
},
onPlayerOver: function() {
cc.vv.audioMgr.resumeAll();
cc.vv.log3.debug("onPlayCallback:" + this._playingSeat);
var e = this.SwitchViewChairID(this._playingSeat);
this._playingSeat = null;
this.userList[e].voiceMsg(!1);
},
onDestroy: function() {
cc.vv && cc.vv.gameNetMgr.clear();
}
});
cc._RF.pop();
}, {} ],
PhoneBind: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "594ef2zIx1DhL2gVkSqo1p5", "PhoneBind");
cc.Class({
extends: cc.Component,
properties: {
textPhone: cc.EditBox,
textCode: cc.EditBox,
lblTime: cc.Label,
btnSend: cc.Button,
sprSend: cc.Sprite
},
onLoad: function() {
this.init();
},
disbleSend: function() {
this.sprSend.node.active = !1;
this.lblTime.node.active = !0;
this.lblTime.string = cc.vv.userMgr.sign_code_time;
cc.director.getScheduler().schedule(this.updates, this, 1);
this.btnSend.interactable = !1;
},
start: function() {},
init: function() {
var e = this.node;
this.sprSend.node.active = !0;
this.lblTime.node.active = !1;
this.phone_type = 0;
this.send_type = 0;
this.toggle = e.getChildByName("toggle");
this.bind_phone = e.getChildByName("bind_phone");
this.retrieve_psd = e.getChildByName("retrieve_psd");
this.update_psd = e.getChildByName("update_psd");
this.btnGetCode = e.getChildByName("btnGetCode");
this.phone_retrieve_user = e.getChildByName("phone_retrieve_user");
if ("hall" != cc.director.getScene().name) {
this.node.getChildByName("toggle").active = !1;
this.bind_phone.active = !1;
this.retrieve_psd.active = !1;
this.update_psd.active = !0;
this.phone_type = 2;
this.btnGetCode.active = !1;
}
},
ableSend: function() {
cc.director.getScheduler().unschedule(this.updates);
this.btnSend.interactable = !0;
},
is_phonce_yz: function(e) {
var i;
if (0 == e) {
i = this.bind_phone.getChildByName("edb_input_psd").getComponent(cc.EditBox).string;
this.bind_phone.getChildByName("edb_phone_number").getComponent(cc.EditBox).string;
this.bind_phone.getChildByName("edb_okinput_psd").getComponent(cc.EditBox).string;
} else {
if (2 != e) return;
this.update_psd.getChildByName("edb_phone_number").getComponent(cc.EditBox).string;
this.update_psd.getChildByName("edb_okinput_psd").getComponent(cc.EditBox).string;
i = this.update_psd.getChildByName("edb_input_psd").getComponent(cc.EditBox).string;
}
if ("" == i) {
0 == e ? cc.vv.popMgr.tip("密码不能为空") : 2 == e && cc.vv.popMgr.tip("新密码不能为空");
return !1;
}
return !0;
},
is_phone_code: function() {
var e = !1;
if (0 == this.phone_type) {
var i = this.bind_phone.getChildByName("edb_phone_number").getComponent(cc.EditBox).string;
if (!e && !(e = /^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/.test(i))) {
cc.vv.popMgr.tip("请输入正确的手机号");
return !1;
}
} else if (1 == this.phone_type) {
i = this.retrieve_psd.getChildByName("edb_phone_number").getComponent(cc.EditBox).string;
if (!e && !(e = /^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/.test(i))) {
cc.vv.popMgr.tip("请输入正确的手机号");
return !1;
}
}
return !0;
},
OnBtnClieck: function(e, i) {
cc.vv.audioMgr.click();
var t = this.textPhone.string, a = this.textCode.string, n = this.node.getChildByName("toggle").getChildByName("phonefinduser").getComponent(cc.Toggle);
if (this.is_phone_code()) {
var s = this, c = function(e) {
e.data;
0 === e.errcode ? cc.vv.popMgr.alert(e.errmsg, function() {
s.node.destroy();
}) : cc.vv.popMgr.alert(e.errmsg);
};
switch (e.target.name) {
case "btnGetCode":
var o = cc.director.getScene().name;
n.isChecked;
"hall" == o && cc.vv.hall.addHandler("mobile_code", function(e) {
e.data;
if (0 === e.errcode) {
cc.vv.userMgr.sign_code_time = 60;
s.disbleSend();
cc.vv.popMgr.tip(e.errmsg, 3);
} else {
cc.vv.popMgr.alert(e.errmsg);
s.ableSend();
}
});
if (0 == this.phone_type) cc.vv.net1.quick("mobile_code", {
no: t,
type: 0
}); else if (1 == this.phone_type) {
var h = this.retrieve_psd.getChildByName("edb_phone_number").getComponent(cc.EditBox).string;
cc.vv.net1.quick("mobile_code", {
no: h,
type: 2
});
} else if (2 == this.phone_type) {
h = this.update_psd.getChildByName("edb_phone_number").getComponent(cc.EditBox).string;
cc.vv.net1.quick("mobile_code", {
no: h,
type: 3
});
} else if (3 == this.phone_type) {
h = this.phone_retrieve_user.getChildByName("edb_phone_number").getComponent(cc.EditBox).string;
cc.vv.net1.quick("mobile_code", {
no: h,
type: 1
});
}
break;

case "btnBind":
if (0 == this.phone_type) {
if ("" == a || 6 != a.length) {
cc.vv.popMgr.tip("验证码输入不正确");
return;
}
if (!this.is_phonce_yz(this.phone_type)) return;
h = this.bind_phone.getChildByName("edb_input_psd").getComponent(cc.EditBox).string;
cc.vv.hall.addHandler("bind_mobile", c);
var r = cc.vv.utils.md5(h + "jiale");
cc.vv.net1.quick("bind_mobile", {
no: t,
code: a,
type: 0,
password: r
});
} else if (1 == this.phone_type) {
var l = this.retrieve_psd.getChildByName("edb_phone_code").getComponent(cc.EditBox).string;
if ("" == l || 6 != l.length) {
cc.vv.popMgr.tip("验证码输入不正确");
return;
}
var d = this.retrieve_psd.getChildByName("edb_phone_number").getComponent(cc.EditBox).string;
cc.vv.hall.addHandler("bind_mobile", c);
cc.vv.net1.quick("bind_mobile", {
no: d,
code: l,
type: 1
});
} else if (2 == this.phone_type) {
if (!this.is_phonce_yz(this.phone_type)) return;
if (0 == this.send_type) {
var g = this.update_psd.getChildByName("edb_psd_code").getComponent(cc.EditBox).string, u = this.update_psd.getChildByName("edb_phone_number").getComponent(cc.EditBox).string, _ = this.update_psd.getChildByName("edb_input_psd").getComponent(cc.EditBox).string, v = cc.vv.utils.md5(g + "jiale");
r = cc.vv.utils.md5(_ + "jiale");
cc.vv.net1.quick("update_password", {
account: u,
password: r,
old_password: v,
type: 2
});
} else if (1 == this.send_type) {
g = this.update_psd.getChildByName("edb_phone_code").getComponent(cc.EditBox).string, 
u = this.update_psd.getChildByName("edb_phone_number").getComponent(cc.EditBox).string, 
_ = this.update_psd.getChildByName("edb_input_psd").getComponent(cc.EditBox).string, 
r = cc.vv.utils.md5(_ + "jiale");
cc.vv.net1.quick("find_password", {
account: u,
password: r,
code: g,
type: 2
});
}
} else if (3 == this.phone_type) {
if ("" == (g = this.phone_retrieve_user.getChildByName("edb_phone_code").getComponent(cc.EditBox).string) || 6 != g.length) {
cc.vv.popMgr.tip("验证码输入不正确");
return;
}
u = this.phone_retrieve_user.getChildByName("edb_phone_number").getComponent(cc.EditBox).string;
cc.vv.hall.addHandler("update_account", function(e) {
e.data;
0 === e.errcode ? "ok" == e.errmsg && cc.vv.popMgr.alert("找回账号成功,需要重新登陆", function() {
cc.game.restart();
}) : cc.vv.popMgr.tip(e.errmsg);
});
cc.vv.net1.quick("update_account", {
no: u,
code: g
});
}
}
}
},
btn_switch: function(e, i) {
switch (e.target.name) {
case "wenhao_1":
cc.vv.popMgr.alert("绑定手机号绑定手机号后，能够使用手机号登录游戏；并能够在新号上通过找回功能，恢复为老号码");
break;

case "wenhao_2":
cc.vv.popMgr.alert("找回账号绑定手机号后，如果您的微信号被封，可使用新号登录后，使用本功能找回老号码");
break;

case "wenhao_3":
cc.vv.popMgr.alert("注销绑定取消手机号与当前用户的绑定，您将失去手机登录和找回帐号功能");
break;

case "wenhao_4":
cc.vv.popMgr.alert("重置密码通过本功能，可以重置您设置的登录密码");
break;

case "btn_back":
cc.vv.utils.btn_node_back(this.node.getChildByName("tis_node"));
break;

case "btn_tips":
cc.vv.utils.popPanel(this.node.getChildByName("tis_node"));
break;

case "userbindphone":
this.btnGetCode.active = !0;
this.phone_type = 0;
this.bind_phone.active = !0;
this.retrieve_psd.active = !1;
this.update_psd.active = !1;
this.phone_retrieve_user.active = !1;
break;

case "phonefinduser":
this.btnGetCode.active = !0;
this.phone_type = 1;
this.bind_phone.active = !1;
this.retrieve_psd.active = !0;
this.update_psd.active = !1;
this.phone_retrieve_user.active = !1;
break;

case "password":
this.phone_type = 2;
this.bind_phone.active = !1;
this.retrieve_psd.active = !1;
this.update_psd.active = !0;
this.phone_retrieve_user.active = !1;
1 == this.send_type ? this.btnGetCode.active = !0 : 0 == this.send_type && (this.btnGetCode.active = !1);
break;

case "phone_user":
this.phone_type = 3;
this.bind_phone.active = !1;
this.retrieve_psd.active = !1;
this.update_psd.active = !1;
this.phone_retrieve_user.active = !0;
this.btnGetCode.active = !0;
break;

case "btn_code_upd":
this.send_type = 1;
var t = this.update_psd.getChildByName("btn_psd_upd"), a = this.update_psd.getChildByName("btn_code_upd");
this.btnGetCode.active = !0;
var n = this.update_psd.getChildByName("txt_pwd_code"), s = this.update_psd.getChildByName("edb_psd_code"), c = this.update_psd.getChildByName("txt_phone_code"), o = this.update_psd.getChildByName("edb_phone_code");
n.active = !1;
s.active = !1;
c.active = !0;
o.active = !0;
t.active = !0;
a.active = !1;
break;

case "btn_psd_upd":
this.send_type = 0;
t = this.update_psd.getChildByName("btn_psd_upd"), a = this.update_psd.getChildByName("btn_code_upd"), 
n = this.update_psd.getChildByName("txt_pwd_code"), s = this.update_psd.getChildByName("edb_psd_code");
c = this.update_psd.getChildByName("txt_phone_code");
o = this.update_psd.getChildByName("edb_phone_code");
n.active = !0;
s.active = !0;
this.btnGetCode.active = !1;
c.active = !1;
o.active = !1;
t.active = !1;
a.active = !0;
}
},
onDestroy: function() {
if ("hall" == cc.director.getScene().name) {
cc.vv.hall.removeHandler("bind_mobile");
cc.vv.hall.removeHandler("mobile_code");
cc.vv.hall.removeHandler("update_account");
}
},
updates: function() {
cc.vv.userMgr.sign_code_time--;
this.lblTime.string = cc.vv.userMgr.sign_code_time;
if (cc.vv.userMgr.sign_code_time <= 0) {
this.unschedule(this.updates);
this.btnSend.interactable = !0;
this.sprSend.node.active = !0;
this.lblTime.node.active = !1;
}
}
});
cc._RF.pop();
}, {} ],
PhoneLogin: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "291f3mwC6ZHJoIQTZrQkDaN", "PhoneLogin");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
var e = this.node.getChildByName("edit_password_code");
if (null != cc.sys.localStorage.getItem("is_me_password") && "" != cc.sys.localStorage.getItem("is_me_password")) {
e.getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("is_me_password");
this.node.getChildByName("is_me_password").getComponent(cc.Toggle).isChecked = !0;
} else this.node.getChildByName("is_me_password").getComponent(cc.Toggle).isChecked = !1;
var i = this.node.getChildByName("edit_phone_code");
if (null != cc.sys.localStorage.getItem("is_me_phone") && "" != cc.sys.localStorage.getItem("is_me_phone")) {
i.getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("is_me_phone");
this.node.getChildByName("is_me_phone").getComponent(cc.Toggle).isChecked = !0;
} else this.node.getChildByName("is_me_phone").getComponent(cc.Toggle).isChecked = !1;
},
start: function() {
this.waittime = 60;
},
on_regist_ok: function() {
var e = this, i = this.node.getChildByName("register"), t = i.getChildByName("edit_phone_code1").getComponent(cc.EditBox).string, a = i.getChildByName("edit_password1").getComponent(cc.EditBox).string;
this.node.getChildByName("edit_password_code").getComponent(cc.EditBox).string = a;
this.node.getChildByName("edit_phone_code").getComponent(cc.EditBox).string = t;
this.btn_hide_register();
this.node.runAction(cc.sequence(cc.delayTime(.1), cc.callFunc(function() {
e.btn_phone_login();
})));
},
btn_retrieve_psd: function() {
this.node.getChildByName("zhaohui").active = !0;
var e = this.node.getChildByName("zhaohui");
e.getChildByName("edit_phone_code1").getComponent(cc.EditBox).string = "";
e.getChildByName("edit_code1").getComponent(cc.EditBox).string = "";
e.getChildByName("edit_password1").getComponent(cc.EditBox).string = "";
},
btn_retrieve_hid: function() {
this.node.getChildByName("zhaohui").active = !1;
},
btn_getchange_code: function() {
var e = this.node.getChildByName("zhaohui").getChildByName("edit_phone_code1").getComponent(cc.EditBox).string;
if ("" != e) {
var i = {
method: "blogin_sendcode_for_password",
data: {
account: e
}
};
cc.vv.popMgr.tip("正在获取验证码！");
this.waitNode = this.node.getChildByName("zhaohui").getChildByName("btnGetCode").getComponent(cc.Button).interactable = !1;
cc.vv.net1.send(i);
} else cc.vv.popMgr.tip("请输入手机号！");
},
btn_sure_change: function() {
var e = this.node.getChildByName("zhaohui"), i = e.getChildByName("edit_phone_code1").getComponent(cc.EditBox).string, t = e.getChildByName("edit_code1").getComponent(cc.EditBox).string, a = e.getChildByName("edit_password1").getComponent(cc.EditBox).string, n = cc.vv.utils.md5(a + "jiale"), s = /^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/.test(i);
if ("" != i) if (s) if ("" != t) if ("" != n) {
if (/^.*(?=.{6,16})(?=.*\d)(?=.*[a-zA-z]).*$/.test(n)) {
cc.sys.os == cc.sys.OS_IOS && 2;
var c = {
method: "blogin_find_password",
data: {
account: i,
code: t,
password: n
}
};
cc.vv.popMgr.wait("正在找回密码！", function() {
cc.vv.net1.send(c);
});
} else cc.vv.popMgr.tip("密码长度必须大于六且必须包含一个字母或一个字符");
} else cc.vv.popMgr.tip("请输入密码！"); else cc.vv.popMgr.tip("请输入验证码！"); else cc.vv.popMgr.tip("请输入正确的手机号"); else cc.vv.popMgr.tip("请输入手机号！");
},
on_chenge_ok: function() {
var e = this.node.getChildByName("zhaohui");
e.getChildByName("btnGetCode").getComponent(cc.Button).interactable = !0;
var i = e.getChildByName("edit_phone_code1").getComponent(cc.EditBox).string, t = e.getChildByName("edit_password1").getComponent(cc.EditBox).string;
this.node.getChildByName("edit_password_code").getComponent(cc.EditBox).string = t;
this.node.getChildByName("edit_phone_code").getComponent(cc.EditBox).string = i;
this.btn_retrieve_hid();
},
btn_show_register: function() {
this.node.getChildByName("register").active = !0;
var e = this.node.getChildByName("register");
e.getChildByName("edit_phone_code1").getComponent(cc.EditBox).string = "";
e.getChildByName("edit_code1").getComponent(cc.EditBox).string = "";
e.getChildByName("edit_password1").getComponent(cc.EditBox).string = "";
e.getChildByName("edit_password1").getComponent(cc.EditBox).string = "";
e.getChildByName("edit_nickname").getComponent(cc.EditBox).string = "";
},
btn_get_code: function() {
var e = this.node.getChildByName("register").getChildByName("edit_phone_code1").getComponent(cc.EditBox).string;
if ("" != e) {
var i = {
method: "register_code",
data: {
account: e
}
};
this.waitNode = this.node.getChildByName("register").getChildByName("btnGetCode").getComponent(cc.Button).interactable = !1;
this.waitNode = this.node.getChildByName("register").getChildByName("btnGetCode").getChildByName("send").active = !1;
this.waitNode = this.node.getChildByName("register").getChildByName("btnGetCode").getChildByName("time").active = !0;
this.waitNode = this.node.getChildByName("register").getChildByName("btnGetCode").getChildByName("time").getComponent(cc.Label).string = 60;
this.dotime();
cc.vv.popMgr.tip("正在获取验证码！");
cc.vv.net1.send(i);
} else cc.vv.popMgr.tip("请输入手机号！");
},
btn_to_regist: function() {
var e = this.node.getChildByName("register"), i = e.getChildByName("edit_phone_code1").getComponent(cc.EditBox).string, t = e.getChildByName("edit_code1").getComponent(cc.EditBox).string, a = e.getChildByName("edit_password1").getComponent(cc.EditBox).string, n = e.getChildByName("edit_nickname").getComponent(cc.EditBox).string, s = cc.vv.utils.md5(a + "jiale"), c = /^1[3|4|5|6|7|8|9][0-9]\d{4,8}$/.test(i);
if ("" != i) if (c) if ("" != t) if ("" != s) {
if (/^.*(?=.{6,16})(?=.*\d)(?=.*[a-zA-z]).*$/.test(s)) if ("" != n) {
var o = 1;
cc.sys.os == cc.sys.OS_IOS && (o = 2);
var h = {
method: "register",
data: {
account: i,
code: t,
name: n,
password: s,
version: cc.VERSION,
platform: o
}
};
cc.vv.popMgr.wait("正在注册中！", function() {
cc.vv.net1.send(h);
});
} else cc.vv.popMgr.tip("请输入昵称！"); else cc.vv.popMgr.tip("密码长度必须大于六且必须包含一个字母或一个字符");
} else cc.vv.popMgr.tip("请输入密码！"); else cc.vv.popMgr.tip("请输入验证码！"); else cc.vv.popMgr.tip("请输入正确的手机号"); else cc.vv.popMgr.tip("请输入手机号！");
},
btn_hide_register: function() {
this.node.getChildByName("register").active = !1;
},
btn_phone_login: function() {
var e = cc.args.account;
null == e && (e = cc.sys.localStorage.getItem("account"));
var i = 1;
cc.sys.os == cc.sys.OS_IOS && (i = 2);
if (null == e) {
e = Date.now() + "";
cc.sys.localStorage.setItem("account", e);
}
var t = this.node.getChildByName("edit_password_code").getComponent(cc.EditBox).string, a = this.node.getChildByName("edit_phone_code").getComponent(cc.EditBox).string, n = cc.vv.utils.md5(t + "jiale"), s = {
method: "login",
data: {
type: 2,
msg: {
openid: e
},
version: cc.VERSION,
platform: i,
adcode: cc.vv.global.adcode,
ip: cc.vv.global.ip,
password: n,
account: a,
address: cc.vv.global.address
}
}, c = this.node.getChildByName("is_me_phone").getComponent(cc.Toggle).isChecked, o = this.node.getChildByName("is_me_password").getComponent(cc.Toggle).isChecked;
c ? cc.sys.localStorage.setItem("is_me_phone", a) : cc.sys.localStorage.setItem("is_me_phone", "");
o ? cc.sys.localStorage.setItem("is_me_password", t) : cc.sys.localStorage.setItem("is_me_password", "");
cc.vv.popMgr.wait("正在登录中", function() {
cc.vv.net1.send(s);
});
},
dotime: function() {
var e = this;
if (this.waittime > 0) {
this.waittime--;
this.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
e.waitNode = e.node.getChildByName("register").getChildByName("btnGetCode").getChildByName("time").getComponent(cc.Label).string = e.waittime;
e.dotime();
})));
} else {
this.waitNode = this.node.getChildByName("register").getChildByName("btnGetCode").getComponent(cc.Button).interactable = !0;
this.waitNode = this.node.getChildByName("register").getChildByName("btnGetCode").getChildByName("send").active = !0;
this.waitNode = this.node.getChildByName("register").getChildByName("btnGetCode").getChildByName("time").getComponent(cc.Label).string = 60;
this.waitNode = this.node.getChildByName("register").getChildByName("btnGetCode").getChildByName("time").active = !1;
}
}
});
cc._RF.pop();
}, {} ],
Platform: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a97a2IdlptPmKfJ+EDy1G1u", "Platform");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
cc.vv.platform = this;
},
start: function() {
this.androidListener();
},
androidListener: function() {
if (cc.sys.os == cc.sys.OS_ANDROID) {
var e = cc.EventListener.create({
event: cc.EventListener.KEYBOARD,
onKeyPressed: function(e, i) {
cc.vv.moreGame || e == cc.macro.KEY.back && cc.vv.popMgr.alert("才玩一会会儿的，您真的要离开吗？", function() {
cc.director.pause();
cc.audioEngine.stopAll();
cc.director.isPaused() && cc.game.end();
}, !0);
}
});
cc.eventManager.addListener(e, this.node);
}
},
order: function() {
1 == cc.APP_STORE_REVIEW && 1 == cc.vv.userMgr.ios_review && cc.sys.os == cc.sys.OS_IOS ? cc.vv.popMgr.open("hall/Shopping") : cc.vv.popMgr.open("hall/Ticket");
}
});
cc._RF.pop();
}, {} ],
PopMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "fc1b9MfwUJKn4nD/+iFA+gn", "PopMgr");
cc.Class({
extends: cc.Component,
properties: {
popFlag: !0
},
tip: function(e, i) {
var t = e || "";
this.pop("Tip", function(e) {
e.getComponent("Tip").tip(t, i);
});
},
kuaixun: function(e) {
this.pop("Kuaixun", function(i) {
i.getComponent("Kuaixun").kuaixun(e);
});
},
alert: function(e, i, t, a) {
this.pop("Alert", function(n) {
n.zIndex = 1001;
n.getComponent("Alert").show(e, i, t, a);
});
},
alertip_repeat: function(e, i, t) {
var a = cc.find("Canvas/pop/IpCheck");
null != a ? a.getComponent("IpCheck").show(e, i, t) : this.pop("IpCheck", function(a) {
a.getComponent("IpCheck").show(e, i, t);
});
},
back_wait: function(e, i) {
var t = function(e) {
i && i();
}, a = cc.find("Canvas/pop/BackWaitingConnection");
if (null == a) this.pop("BackWaitingConnection", function(e) {
e.zIndex = 1e3;
t();
}); else {
a.active = !0;
t();
}
},
wait: function(e, i) {
var t = function(t) {
t.getComponent("WaitingConnection").show(e);
i && i();
}, a = cc.find("Canvas/pop/WaitingConnection");
null == a ? this.pop("WaitingConnection", function(e) {
e.zIndex = 1e3;
t(e);
}) : t(a);
},
wait2: function(e, i) {
var t = function(t) {
t.getComponent("WaitingConnection").show(e);
i && i(t);
}, a = cc.find("Canvas/pop/Waiting");
null == a ? this.pop("Waiting", function(e) {
e.zIndex = 1e3;
t(e);
}) : t(a);
},
hide: function() {
var e;
null != (e = cc.find("Canvas/pop/WaitingConnection")) && e.getComponent("WaitingConnection").hide();
null != (e = cc.find("Canvas/pop/Waiting")) && e.getComponent("WaitingConnection").hide();
null != (e = cc.find("Canvas/pop/BackWaitingConnection")) && (e.active = !1);
},
loading_tip: function(e, i) {
cc.log("context = ", e);
var t = function(t) {
t.getComponent("LoadingTip").show(e);
if (i) {
cc.log("node 1111 = ", t);
i(t);
}
}, a = cc.find("Canvas/pop/LoadingTip");
cc.log("node 11111 =", a);
if (null == a) {
cc.log("139139");
this.pop("LoadingTip", function(e) {
e.zIndex = 500;
cc.log("142142");
t(e);
});
} else t(a);
},
hide_loading_tip: function() {
var e = cc.find("Canvas/pop/LoadingTip");
null != e && e.getComponent("LoadingTip").hide();
},
pop: function(e, i) {
var t = cc.find("Canvas/pop");
this.newPrefad(t, e, i);
},
get_pop: function(e, i) {
return null != cc.find("Canvas/pop/" + e);
},
del_pop: function(e) {
var i = cc.find("Canvas/pop").getChildByName(e);
if (null == i) return !1;
i.destroy();
},
open: function(e, i, t) {
var a = cc.find("Canvas/open");
this.newPrefad(a, e, i, t);
},
getNode: function(e, i, t) {
var a = cc.find("Canvas/" + e + "/" + i);
return null != a && a;
},
get_open: function(e) {
return null != cc.find("Canvas/open/" + e);
},
del_open: function(e) {
var i = cc.find("Canvas/open").getChildByName(e);
if (null == i) return !1;
i.destroy();
},
newPrefad: function(e, i, t, a) {
var n = "prefabs/" + i;
cc.loader.loadRes(n, function(i, n) {
if (!i && n instanceof cc.Prefab) {
var s = cc.instantiate(n);
cc.isValid(e) && s && e.addChild(s);
t && cc.isValid(e) && t(s, a);
}
});
}
});
cc._RF.pop();
}, {} ],
PwsRuleItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "faca5f2AoJNz7IpwuGlR/W0", "PwsRuleItem");
cc.Class({
extends: cc.Component,
properties: {
game: cc.Label,
info: cc.Label
},
onLoad: function() {
var e = this;
this.node.on("new", function(i) {
var t = i;
e.game.string = t.info.split(" ")[0];
e.info.string = t.info;
});
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
var i = {
method: "club_room_create",
data: {
version: cc.SERVER,
club_id: cc.vv.userMgr.club_id,
model: 3,
id: this.node.id
}
};
cc.vv.popMgr.wait("正在创建房间", function() {
cc.vv.net1.send(i);
});
}
});
cc._RF.pop();
}, {} ],
RA1910Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "86893uPHQ1E8KVus9yqkZ7U", "RA1910Const");
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -343,
y: 330,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: -620,
y: 93,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
player3: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -620,
y: 93,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
player2: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: -343,
y: 330,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
threeD: {
card2: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -290,
y: -48,
scale: .6,
distance: [ 0, 74, 74, 75, 72, 72, 72, 72, 72, 72, 72, 74, 75, 74, -952, 75, 76, 76, 72, 72, 72, 72, 72, 72, 72, 74, 75, 75, -958, 77, 76, 76, 72, 72, 72, 72, 72, 72, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu2", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: 223,
y: 328,
scale: .6,
distance: [ 0, -59, -59, -59, -60, -60, -59, -60, -60, -60, -59, -59, -59, -91 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "Frame_shangjia_shupai_14", "Frame_shangjia_shupai_13", "Frame_shangjia_shupai_12", "Frame_shangjia_shupai_11", "Frame_shangjia_shupai_10", "Frame_shangjia_shupai_9", "Frame_shangjia_shupai_8", "Frame_shangjia_shupai_7", "Frame_shangjia_shupai_6", "Frame_shangjia_shupai_5", "Frame_shangjia_shupai_4", "Frame_shangjia_shupai_3", "Frame_shangjia_shupai_2", "Frame_shangjia_shupai_1" ],
size: [ {
width: 72,
height: 91
}, {
width: 69,
height: 91
}, {
width: 68,
height: 91
}, {
width: 67,
height: 91
}, {
width: 66,
height: 91
}, {
width: 65,
height: 91
}, {
width: 66,
height: 91
}, {
width: 67,
height: 91
}, {
width: 68,
height: 91
}, {
width: 70,
height: 91
}, {
width: 71,
height: 91
}, {
width: 73,
height: 91
}, {
width: 74,
height: 91
}, {
width: 75,
height: 91
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
} ]
},
paiIndex: [ 9, 9, 9, 9, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
xhide: 223,
yhide: 318,
scalehide: .6,
distancehide: [ 0, -58, -59, -59, -59, -58, -59, -59, -59, -59, -59, -59, -59, -91 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_shangjia_pingpai_fan_14", "Frame_shangjia_pingpai_fan_13", "Frame_shangjia_pingpai_fan_12", "Frame_shangjia_pingpai_fan_11", "Frame_shangjia_pingpai_fan_10", "Frame_shangjia_pingpai_fan_9", "Frame_shangjia_pingpai_fan_8", "Frame_shangjia_pingpai_fan_7", "Frame_shangjia_pingpai_fan_6", "Frame_shangjia_pingpai_fan_5", "Frame_shangjia_pingpai_fan_4", "Frame_shangjia_pingpai_fan_3", "Frame_shangjia_pingpai_fan_2", "Frame_shangjia_pingpai_fan_1" ],
imgshow: [ "Frame_shangjia_pingpai_zheng_14", "Frame_shangjia_pingpai_zheng_13", "Frame_shangjia_pingpai_zheng_12", "Frame_shangjia_pingpai_zheng_11", "Frame_shangjia_pingpai_zheng_10", "Frame_shangjia_pingpai_zheng_9", "Frame_shangjia_pingpai_zheng_8", "Frame_shangjia_pingpai_zheng_7", "Frame_shangjia_pingpai_zheng_6", "Frame_shangjia_pingpai_zheng_5", "Frame_shangjia_pingpai_zheng_4", "Frame_shangjia_pingpai_zheng_3", "Frame_shangjia_pingpai_zheng_2", "Frame_shangjia_pingpai_zheng_1" ],
sizehide: [ {
width: 71,
height: 93
}, {
width: 71,
height: 94
}, {
width: 72,
height: 93
}, {
width: 71,
height: 93
}, {
width: 74,
height: 93
}, {
width: 73,
height: 93
}, {
width: 76,
height: 93
}, {
width: 77,
height: 93
}, {
width: 77,
height: 93
}, {
width: 78,
height: 93
}, {
width: 81,
height: 93
}, {
width: 82,
height: 93
}, {
width: 83,
height: 93
}, {
width: 84,
height: 93
} ],
dianScalehideAll: 1.2,
dianhide: {
position: [ {
x: .5,
y: 20
}, {
x: .5,
y: 20
}, {
x: 0,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2.5,
y: 20
}, {
x: -3,
y: 20
}, {
x: -3,
y: 20
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
haoScale: 1.3,
hao: [ {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
} ],
skew: [ {
x: -1,
y: 0
}, {
x: 0,
y: 0
}, {
x: .5,
y: 0
}, {
x: 1,
y: 0
}, {
x: 2,
y: 0
}, {
x: 3,
y: 0
}, {
x: 3,
y: 0
}, {
x: 4,
y: 0
}, {
x: 4,
y: 0
}, {
x: 5,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 8,
y: 0
} ],
dianScale: [ {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
} ]
},
paiIndexhide: [ 1, 2, 3, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -4,
y: 222,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 299,
y: 179,
scale: .6,
distance: [ 0, -74, -77, -78, -72, -72, -72, -72, -72, -72, -72, -75, -77, -74, 958, -74, -75, -76, -72, -72, -72, -72, -72, -72, -72, -75, -75, -74, 952, -72, -74, -75, -72, -72, -72, -72, -72, -72, -72, -75, -74, -72 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 85, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
img: [ "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue" ],
dianScale: [ {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
} ]
},
paiIndex: [ 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 15, 14, 13, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 11, 10, 9, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 7, 6, 5 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: -450,
spacingY: 0,
destination: [ {
x: 243,
y: 328
}, {
x: 123,
y: 328
}, {
x: 3,
y: 298
}, {
x: -117,
y: 328
} ],
fourPai: {
x: 2,
y: 30
}
},
ting: {
scale: .9,
x: 0,
y: -60
}
} ],
card3: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -290,
y: -58,
scale: .6,
distance: [ 0, 74, 74, 75, 72, 72, 72, 72, 72, 72, 72, 74, 75, 74, -952, 75, 76, 76, 72, 72, 72, 72, 72, 72, 72, 74, 75, 75, -958, 77, 76, 76, 72, 72, 72, 72, 72, 72, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu2", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -313,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 139,
y: 10,
scale: .6,
distance: [ 0, -4, -4, -2, -4, -2, -2, 110, -4, -4, -4, -4, -4, -4, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
imghide: [ "you1_1", "you1_2", "you1_3", "you1_4", "you1_5", "you1_6", "you1_7", "you2_1", "you2_2", "you2_3", "you2_4", "you2_5", "you2_6", "you2_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -515,
y: -185
}, {
x: -495,
y: -75
}, {
x: -475,
y: 35
}, {
x: -455,
y: 145
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: -464,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -136,
y: 206,
scale: .6,
distance: [ 0, -3, -4, -4, -3, -4, -4, -66, -4, -5, -5, -4, -4, -6, -61, -5, -6, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -55, -55, -58, 325, -52, -52, -54, -54, -56, -57, 326, -52, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
imghide: [ "zuo1_7", "zuo2_6", "zuo1_5", "zuo1_4", "zuo1_3", "zuo1_2", "zuo1_1", "zuo2_7", "zuo2_6", "zuo2_5", "zuo2_4", "zuo2_3", "zuo2_2", "zuo2_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -434,
y: 300
}, {
x: -454,
y: 190
}, {
x: -474,
y: 80
}, {
x: -494,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ],
card4: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: .94,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -67.5,
y: -50,
scale: .55,
distance: [ 0, 74, 74, 75, 72, 72, 74, 75, 74, -592, 75, 76, 76, 72, 72, 74, 75, 75, -597, 77, 76, 76, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -313,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 115,
y: 0,
scale: .55,
distance: [ 0, -4, -4, -2, -3.5, -3.5, -3, -2, -2, 115, -4, -4, -4, -4, -4, -4, -4, -4, 120, -6, -4, -6, -6, -6, -6, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 54, 54, 52, 52, 50, -426, 56, 54, 54, 54, 54, 52, 52, 50, -426, 56, 54, 54, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_4", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_4", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_4", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
imghide: [ "you1_1", "you1_2", "you1_3", "you1_4", "you1_4", "you1_4", "you1_5", "you1_6", "you1_7", "you2_1", "you2_2", "you2_3", "you2_4", "you2_4", "you2_4", "you2_5", "you2_6", "you2_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_4", "you3_4", "you3_5", "you3_6", "you3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 105,
height: 89
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 106,
height: 89
}, {
width: 105,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 108,
height: 89
}, {
width: 105,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -535,
y: -120
}, {
x: -515,
y: -20
}, {
x: -495,
y: 80
}, {
x: -475,
y: 180
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: 223,
y: 328,
scale: .6,
distance: [ 0, -59, -59, -59, -60, -60, -59, -60, -60, -60, -59, -59, -59, -91 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "Frame_shangjia_shupai_14", "Frame_shangjia_shupai_13", "Frame_shangjia_shupai_12", "Frame_shangjia_shupai_11", "Frame_shangjia_shupai_10", "Frame_shangjia_shupai_9", "Frame_shangjia_shupai_8", "Frame_shangjia_shupai_7", "Frame_shangjia_shupai_6", "Frame_shangjia_shupai_5", "Frame_shangjia_shupai_4", "Frame_shangjia_shupai_3", "Frame_shangjia_shupai_2", "Frame_shangjia_shupai_1" ],
size: [ {
width: 72,
height: 91
}, {
width: 69,
height: 91
}, {
width: 68,
height: 91
}, {
width: 67,
height: 91
}, {
width: 66,
height: 91
}, {
width: 65,
height: 91
}, {
width: 66,
height: 91
}, {
width: 67,
height: 91
}, {
width: 68,
height: 91
}, {
width: 70,
height: 91
}, {
width: 71,
height: 91
}, {
width: 73,
height: 91
}, {
width: 74,
height: 91
}, {
width: 75,
height: 91
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
} ]
},
paiIndex: [ 9, 9, 9, 9, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
xhide: 223,
yhide: 318,
scalehide: .6,
distancehide: [ 0, -58, -59, -59, -59, -58, -59, -59, -59, -59, -59, -59, -59, -91 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_shangjia_pingpai_fan_14", "Frame_shangjia_pingpai_fan_13", "Frame_shangjia_pingpai_fan_12", "Frame_shangjia_pingpai_fan_11", "Frame_shangjia_pingpai_fan_10", "Frame_shangjia_pingpai_fan_9", "Frame_shangjia_pingpai_fan_8", "Frame_shangjia_pingpai_fan_7", "Frame_shangjia_pingpai_fan_6", "Frame_shangjia_pingpai_fan_5", "Frame_shangjia_pingpai_fan_4", "Frame_shangjia_pingpai_fan_3", "Frame_shangjia_pingpai_fan_2", "Frame_shangjia_pingpai_fan_1" ],
imgshow: [ "Frame_shangjia_pingpai_zheng_14", "Frame_shangjia_pingpai_zheng_13", "Frame_shangjia_pingpai_zheng_12", "Frame_shangjia_pingpai_zheng_11", "Frame_shangjia_pingpai_zheng_10", "Frame_shangjia_pingpai_zheng_9", "Frame_shangjia_pingpai_zheng_8", "Frame_shangjia_pingpai_zheng_7", "Frame_shangjia_pingpai_zheng_6", "Frame_shangjia_pingpai_zheng_5", "Frame_shangjia_pingpai_zheng_4", "Frame_shangjia_pingpai_zheng_3", "Frame_shangjia_pingpai_zheng_2", "Frame_shangjia_pingpai_zheng_1" ],
sizehide: [ {
width: 71,
height: 93
}, {
width: 71,
height: 94
}, {
width: 72,
height: 93
}, {
width: 71,
height: 93
}, {
width: 74,
height: 93
}, {
width: 73,
height: 93
}, {
width: 76,
height: 93
}, {
width: 77,
height: 93
}, {
width: 77,
height: 93
}, {
width: 78,
height: 93
}, {
width: 81,
height: 93
}, {
width: 82,
height: 93
}, {
width: 83,
height: 93
}, {
width: 84,
height: 93
} ],
dianScalehideAll: 1.2,
dianhide: {
position: [ {
x: .5,
y: 20
}, {
x: .5,
y: 20
}, {
x: 0,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2.5,
y: 20
}, {
x: -3,
y: 20
}, {
x: -3,
y: 20
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
haoScale: 1.3,
hao: [ {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
} ],
skew: [ {
x: -1,
y: 0
}, {
x: 0,
y: 0
}, {
x: .5,
y: 0
}, {
x: 1,
y: 0
}, {
x: 2,
y: 0
}, {
x: 3,
y: 0
}, {
x: 3,
y: 0
}, {
x: 4,
y: 0
}, {
x: 4,
y: 0
}, {
x: 5,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 8,
y: 0
} ],
dianScale: [ {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
} ]
},
paiIndexhide: [ 1, 2, 3, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -4,
y: 222,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 69,
y: 179,
scale: .55,
distance: [ 0, -74, -77, -78, -78, -78, -75, -77, -74, 605, -74, -75, -76, -76, -76, -75, -75, -74, 598, -72, -74, -75, -75, -75, -75, -74, -72 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 87, 0, 0, 0, 0, 0, 0, 0, 0, 85, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
img: [ "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue" ],
dianScale: [ {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
} ]
},
paiIndex: [ 12, 12, 12, 12, 12, 12, 15, 14, 13, 8, 8, 8, 8, 8, 8, 11, 10, 9, 4, 4, 4, 4, 4, 4, 7, 6, 5 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: -450,
spacingY: 0,
destination: [ {
x: 243,
y: 328
}, {
x: 123,
y: 328
}, {
x: 3,
y: 328
}, {
x: -117,
y: 328
} ],
fourPai: {
x: 2,
y: 30
}
},
ting: {
scale: .9,
x: 0,
y: -60
}
}, {
holds: {
x: -454,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -124,
y: 102,
scale: .55,
distance: [ 0, -3, -4, -4, -4, -4, -3, -4, -4, -58, -4, -5, -5, -5, -5, -4, -4, -6, -53, -5, -6, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -54, -54, -55, -55, -58, 433, -52, -52, -54, -54, -54, -54, -56, -57, 434, -52, -52, -54, -54, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_4", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_4", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_4", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
imghide: [ "zuo1_7", "zuo2_6", "zuo1_5", "zuo1_4", "zuo1_4", "zuo1_4", "zuo1_3", "zuo1_2", "zuo1_1", "zuo2_7", "zuo2_6", "zuo2_5", "zuo2_4", "zuo2_4", "zuo2_4", "zuo2_3", "zuo2_2", "zuo2_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_4", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 108,
height: 92
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 109,
height: 92
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 111,
height: 92
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -414,
y: 300
}, {
x: -434,
y: 190
}, {
x: -454,
y: 80
}, {
x: -474,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ]
},
chat_path: "mj",
quick_chat: [ {
id: 0,
info: "你太牛啦"
}, {
id: 1,
info: "哈哈，手气真好"
}, {
id: 2,
info: "快点出牌啊"
}, {
id: 3,
info: "今天真高兴"
}, {
id: 4,
info: "这个吃的好"
}, {
id: 5,
info: "你放炮，我不胡"
}, {
id: 6,
info: "你家里是开银行的吗"
}, {
id: 7,
info: "不好意思，我有事要先走一步了"
}, {
id: 8,
info: "你的牌打的太好了"
}, {
id: 9,
info: "大家好，很高心见到各位"
}, {
id: 10,
info: "怎么又断线了，网络怎么这么差啊"
} ],
TIME_ITEM: 100,
TIME_THREE: 100,
TIME_SAIZI: 1e3,
TIME_HOLDS: 1e3,
TIME_HIDE_SAIZI: 3e3,
TIME_DING_ZHUANG: 2e3,
TIME_FRIST_TURE_CHANGE: 4e3,
TIME_FRIST_ACTION: 3e3,
TIME_START: 10
}
});
cc._RF.pop();
}, {} ],
RA1910Folds: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "fa806wp41pEp6qRS0TGfiSJ", "RA1910Folds");
cc.Class({
extends: cc.Component,
properties: {
_pointers: null,
_folds: null,
_huas: null
},
onLoad: function() {
cc.vv;
},
start: function() {
this.initView();
this.initEventHandler();
},
initView: function() {
this._folds = {};
this._pointers = {};
this._huas = {};
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
var t = e[i];
this._folds[t] = [];
this._pointers[t] = [];
this._huas[t] = [];
}
},
initEventHandler: function() {
this.node.on("game_begin", function(e) {});
this.node.on("login_finished", function(e) {});
this.node.on("game_sync", function(e) {});
this.node.on("game_chupai_notify", function(e) {});
this.node.on("buhua_notify", function(e) {});
this.node.on("guo_notify", function(e) {});
},
change_color_outcrad: function(e) {
this._chupai_pai = e;
var i = cc.vv.mahjongMgr._seats;
for (var t in i) {
var a = i[t].folds;
if (null == a) return;
for (var n = cc.vv.roomMgr.viewChairID(i[t].seatIndex), s = 0; s < a.length; ++s) {
var c = n + "_folds_" + (r = s);
a.length;
if (a[s] == e) {
var o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
}
}
var h = i[t].chipenggang;
if (null == h) return;
for (s = 0; s < h.length; ++s) {
var r = s, l = (h.length, cc.vv.game.majiangTable.getHoldParent(n, "penggangs")), d = (c = n + "_nodeChipenggang_" + r, 
cc.vv.utils.getChildByTag(l, c));
c = n + "_chipenggang_" + r + "_0";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_1";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_2";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_3";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
}
}
},
hideAllFolds: function() {
for (var e = cc.find("Canvas/mgr/game"), i = cc.vv.mahjongMgr._sides, t = 0; t < i.length; ++t) {
var a = i[t];
e.getChildByName(a).getChildByName("folds").getChildByName("list").removeAllChildren();
}
},
hideChupai: function() {
if (-1 != cc.vv.mahjongMgr._turn) if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
var e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn), i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length;
cc.vv.game.majiangTable.hideFolds(e, i);
} else {
e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn);
if (0 == cc.vv.mahjongMgr._seats.length) return;
var t = e + "_chupai_" + (i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length), a = cc.vv.game.majiangTable.getHoldParent(e, "holdschupai");
cc.vv.game.majiangTable.send_card_emit(a, "nodeDestroy", {}, t);
var n = cc.vv.game.majiangTable._chupaiArr, s = n.indexOf(t);
-1 != s && n.splice(s, 1);
}
},
initAllFolds: function() {
var e = cc.vv.mahjongMgr._seats;
for (var i in e) this.initFolds(e[i]);
this.initPointer();
},
initPointer: function() {
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) for (var t = e[i], a = cc.vv.mahjongMgr.getViewidBySide(e[i]), n = this._pointers[t], s = 0; s < n.length; s++) {
var c = n[s];
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", {
isShow: !1
}, c);
}
},
initFolds: function(e) {
e.folds;
},
setSpritePointer: function(e, i, t) {
var a = cc.vv.roomMgr.viewChairID(e);
this.initPointer();
var n = a + "_folds_" + i, s = {
isShow: t
};
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", s, n);
this.setPointers(t, a, n);
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setShandian", {}, n);
},
setPointers: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._pointers[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setFolds: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._folds[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setHua: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._huas[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
}
});
cc._RF.pop();
}, {} ],
RA1910Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b0d04wPsiJD27PAP8ibzZKb", "RA1910Game");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
cc.vv.log3.debug("RA1910Game:onLoad");
cc.vv.audioMgr.playBGM("mj_bg_01");
if (!cc.sys.isNative && cc.sys.isMobile) {
var i = this.node.getComponent(cc.Canvas);
i.fitHeight = !0;
i.fitWidth = !0;
}
if (cc.vv) {
cc.vv.game = this;
var t = e("RA1910Const");
cc.vv.game.config = {
type: "3dmj",
name: "ra1910",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: t.chat_path,
quick_chat: t.quick_chat,
player_4: t.player4,
player_3: t.player3,
player_2: t.player2,
card_4: t.threeD.card4,
card_3: t.threeD.card3,
card_2: t.threeD.card2,
TIME_ITEM: t.TIME_ITEM,
TIME_THREE: t.TIME_THREE,
TIME_SAIZI: t.TIME_SAIZI,
TIME_HOLDS: t.TIME_HOLDS,
TIME_HIDE_SAIZI: t.TIME_HIDE_SAIZI,
TIME_DING_ZHUANG: t.TIME_DING_ZHUANG,
TIME_FRIST_TURE_CHANGE: t.TIME_FRIST_TURE_CHANGE,
TIME_FRIST_ACTION: t.TIME_FRIST_ACTION,
TIME_START: t.TIME_START,
set_bg: !1,
isTinghougang: !0,
isLianzhuang: !1,
isBaoting: !1,
isGangfen: !1,
location: !0,
isSelectSit: !0,
show_watch_btn: !1
};
} else cc.director.loadScene("loading");
},
start: function() {
var i = this;
cc.vv.log3.debug("RA1910Game:start");
this.majiangTable = this.node.getComponent("majiangTable");
this.table = this.node.getComponent("Table");
cc.vv.mahjongMgr = this.node.getComponent("RA1910Mgr");
cc.vv.folds = this.node.getComponent("RA1910Folds");
this._winPlayer = cc.find("Canvas/mgr/players");
this.majiangTable.initView();
this.majiangTable.new_round();
this.initEventHandlers();
cc.vv.roomMgr.is_replay && (cc.vv.mahjongMgr._magicPai = cc.vv.roomMgr.action.init.magicPai);
var t = e("RA1910ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.mahjongMgr.prepareReplay(cc.vv.roomMgr.action.init, cc.vv.roomMgr.seatid);
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
for (var t = cc.vv.roomMgr.table.list, a = cc.vv.roomMgr.action.init.score, n = 0; n < t.length; ++n) {
e = cc.vv.roomMgr.getSeatIndexByID(a[n].user_id);
var s = cc.vv.roomMgr.viewChairID(e);
i.table.seat_emit(s, "score", a[n].score);
cc.vv.utils.getChildByTag(i._winPlayer, e).getComponent("Seat").ready(!1);
}
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
i.majiangTable.onGameBeign();
}
};
a.emit("get_open", n);
}
},
initEventHandlers: function() {
var e = this;
this.node.on("game_saizi", function(i) {
e.dispatchEvent("game_kaiju_table");
setTimeout(function() {
e.dispatchEvent("game_saizi_table", i);
}, cc.vv.game.config.TIME_SAIZI);
});
this.node.on("game_magic", function(i) {
e.dispatchEvent("game_magic_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("showAction", i);
});
this.node.on("game_holds", function() {
setTimeout(function() {
e.dispatchEvent("game_holds_table");
}, cc.vv.game.config.TIME_HOLDS);
});
this.node.on("mj_count", function() {
var i = {
data: {
count: cc.vv.mahjongMgr._numOfMJ
}
};
e.dispatchEvent("mj_count_table", i);
});
this.node.on("login_finished", function(i) {
e.dispatchEvent("game_begin_table");
});
this.node.on("game_begin", function() {
e.dispatchEvent("game_begin_table");
setTimeout(function() {
e.dispatchEvent("game_hideSaizi_table");
}, cc.vv.game.config.TIME_HIDE_SAIZI);
setTimeout(function() {
var i = {
data: {
seatid: cc.vv.mahjongMgr._zhuang
}
};
e.dispatchEvent("game_dingzhuang_table", i);
}, cc.vv.game.config.TIME_DING_ZHUANG);
setTimeout(function() {
e.dispatchEvent("game_fristTurnChange_table");
}, cc.vv.game.config.TIME_FRIST_TURE_CHANGE);
setTimeout(function() {
e.dispatchEvent("game_fristShowAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION);
setTimeout(function() {
e.dispatchEvent("game_fristShowTingAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 100);
setTimeout(function() {
e.dispatchEvent("game_fristShowTing1Action_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 200);
});
this.node.on("game_playing", function(i) {
e.dispatchEvent("game_playing_table", i);
});
this.node.on("game_chupai", function(i) {
e.dispatchEvent("game_chupai_table", i);
});
this.node.on("game_chupai_notify", function(i) {
e.dispatchEvent("game_chupai_notify_table", i);
});
this.node.on("game_mopai", function(i) {
e.dispatchEvent("game_mopai_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("game_showaction_table", i);
});
this.node.on("jiesuan", function(i) {
i = i.data;
e.dispatchEvent("game_jiesuan_table", i);
});
this.node.on("report", function(i) {
i = i.data;
e.dispatchEvent("game_report_table", i);
});
this.node.on("guo_notify", function(i) {
e.dispatchEvent("guo_notify_table", i);
});
this.node.on("peng_notify", function(i) {
e.dispatchEvent("peng_notify_table", i);
});
this.node.on("chi_notify", function(i) {
e.dispatchEvent("chi_notify_table", i);
});
this.node.on("gang_notify", function(i) {
e.dispatchEvent("gang_notify_table", i);
});
this.node.on("hupai", function(i) {
e.dispatchEvent("hupai_table", i);
});
this.node.on("chupai_limit_notify", function(i) {
e.dispatchEvent("chupai_limit_notify_table", i);
});
this.node.on("bao_ting_push", function(i) {
e.dispatchEvent("bao_ting_push_table", i);
});
this.node.on("buhua_notify", function(i) {
e.dispatchEvent("buhua_notify_table", i);
});
this.node.on("hangang_notify", function(i) {
var t = cc.vv.roomMgr.viewChairID(i);
e.majiangTable.playEfx(t, "play_gang");
e.majiangTable.playSFX(i, "gang");
e.majiangTable.hideOptions();
e.majiangTable.hideGangPaiOpts();
e.majiangTable.hideChipaiOpts();
});
this.node.on("game_sync", function(i) {
e.dispatchEvent("game_sync_table", i);
});
this.node.on("game_action_ting", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting_table", i);
});
this.node.on("game_action_ting1", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting1_table", i);
});
this.node.on("guo_result", function() {
e.dispatchEvent("guo_result_table");
});
this.node.on("view_ting", function(i) {
e.dispatchEvent("view_ting_table", i);
});
this.node.on("guohu_game", function(i) {
e.dispatchEvent("guohu_table", i);
});
this.node.on("hujiaozhuanyi_game", function(i) {
e.dispatchEvent("hujiaozhuanyi_table", i);
});
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "jiesuan":
this.onButtonQieGuo("game_sync_push", {
errcode: 0,
data: {
liupaiCnt: 0,
button: 0,
numofmj: 104,
round: 1,
chuPai: -1,
state: 3,
turn: 1,
zhuang: 0,
seats: [ {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35 ],
baoting: !1,
wangangs: [],
guohu: !1,
userid: 3015,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
holds: [ 16, 3, 4, 5, 6, 7, 16, 17, 19, 25, 27, 32, 35 ],
pengs: [],
hued: !1
}, {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35 ],
baoting: !1,
wangangs: [],
userid: 3028,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
pengs: [],
hued: !1
} ],
magicPai: 15,
saizi_2: 3,
saizi_1: 4
},
errmsg: "ok",
model: "game",
event: "game_sync_push"
});
}
},
onGangChecked: function(e) {
cc.vv.audioMgr.click();
cc.vv.net2.quick("gang", {
pai: e.target.pai,
wik: e.target.paiWik
});
},
onOptionClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btnPeng":
cc.vv.net2.quick("peng");
cc.vv.folds.initPointer();
break;

case "btnTing":
cc.vv.net2.quick("baoting");
this.majiangTable.initbnaoting();
break;

case "btnHu":
cc.vv.net2.quick("hu");
break;

case "btnGuo":
this.ops_bgclick_guo();
break;

case "cancelbtnGuo":
1 == this.majiangTable._baoting && this.majiangTable.cencelbaoting();
cc.vv.net2.quick("guo");
break;

case "btnGang":
this.majiangTable.showGang(e.target.pai, e.target.paiWik, e.target.actpai);
cc.vv.folds.initPointer();
break;

case "btnChi":
this.majiangTable.showChipai(e.target.pai, e.target.paiWik);
cc.vv.folds.initPointer();
}
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_button_01");
},
ops_bgclick_guo: function() {
cc.vv.net2.quick("guo");
this.majiangTable.hideOptions();
1 == this.majiangTable._baoting && 1 == this.majiangTable._tinghuhoupai && 1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
},
shoot: function(e, i) {
this.majiangTable.baotingopsUi(!1);
if (null != e) {
1 == this.majiangTable._baoting && (this.majiangTable._autoOutCrad = !0);
if (cc.vv.mahjongMgr._canChui) {
var t = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid];
cc.vv.mahjongMgr._canChui = !1;
cc.vv.folds.change_color_outcrad(-4);
if (1 == this.majiangTable._yiting) {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 1,
index: i
});
this.majiangTable._yiting = !1;
var a = t.folds.length, n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: a,
pai: e,
baoting: 1,
index: i
});
} else {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 0,
index: i
});
if (!cc.vv.game.majiangTable._baotingchupai) {
n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: -1,
pai: e,
baoting: 0,
index: i
});
}
}
cc.vv.folds.initAllFolds();
1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
cc.vv.roomMgr.param.too_hu_must_zimo || this.majiangTable.hideGuohu();
this.majiangTable.hideting();
this.majiangTable.hideOptions();
this.majiangTable.hideChipaiOpts();
this.majiangTable.hideGangPaiOpts();
this.majiangTable.hideTingOpts();
cc.find("Canvas/open/tingPaiList").active = !1;
}
}
},
sortHolds: function(e) {
var i = e.holds;
if (null == i) return null;
var t = null, a = i.length;
2 != a && 5 != a && 8 != a && 11 != a && 14 != a || (t = i.pop());
var n = cc.vv.mahjongMgr._magicPai, s = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(i, n, s);
null != t && i.push(t);
return i;
},
sortHoldsByPai: function(e) {
if (null == e) return null;
var i = null, t = e.length;
2 != t && 5 != t && 8 != t && 11 != t && 14 != t || (i = e.pop());
var a = cc.vv.mahjongMgr._magicPai, n = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(e, a, n);
null != i && e.push(i);
return e;
},
getMJIndex: function(e, i) {
return i;
},
getStartIndex: function(e) {
if (null == e) return null;
var i = e.length;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getStartIndexByNum: function(e) {
var i = e;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getFourteenTo: function(e, i) {
for (var t = cc.vv.game.sortHoldsByPai(cc.vv.mahjongMgr._oldholds), a = cc.vv.game.getStartIndex(t), n = t.length, s = t[13 - a], c = a; c < a + n; c++) {
if (s == e) return a - 1;
if (s == i && s == t[c - a] || s == i && t[c - a] != e) return c - 1;
if (t[c - a] != e && t[c - a] != i && s < t[c - a]) return c - 1;
}
return 13;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
testData: function(e, i) {
cc.vv.mahjongMgr.node.emit(e, i);
},
onButtonQieGuo: function(e, i) {
this.testData(e, i);
}
});
cc._RF.pop();
}, {
RA1910Const: "RA1910Const",
RA1910ReplayMgr: "RA1910ReplayMgr"
} ],
RA1910Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "77075PZWCxJIZ1LhuSiZ3sx", "RA1910Mgr");
cc.Class({
extends: cc.Component,
properties: {
pengPrefabSelf: {
default: null,
type: cc.Prefab
},
_sides: null,
_pres: null,
_foldPres: null,
_fangxiang: null,
_mahjongSprites: [],
_turn: -1,
_last: -1,
_zhuang: -1,
_saizi_1: 0,
_saizi_2: 0,
_magicPai: -1,
_magicPai2: -1,
_seats: [],
_numOfMJ: 0,
_liupaiCnt: 0,
_maxNumOfGames: 0,
_numOfGames: 0,
_isOver: !0,
_button: -1,
_gamestate: -1,
_canChui: !1,
_curaction: null,
_baoting_index: -1,
_oldholds: []
},
onLoad: function() {
if (null != cc.vv) {
switch (cc.vv.roomMgr.ren) {
case 4:
this._sides = [ "myself", "right", "up", "left" ];
this._pres = [ "M_", "R_", "B_", "L_" ];
this._foldPres = [ "B_", "R_", "B_", "L_" ];
this._fangxiang = [ "nan", "dong", "bei", "xi" ];
break;

case 3:
this._sides = [ "myself", "right", "left" ];
this._pres = [ "M_", "R_", "L_" ];
this._foldPres = [ "B_", "R_", "L_" ];
this._fangxiang = [ "nan", "dong", "xi" ];
break;

case 2:
this._sides = [ "myself", "up" ];
this._pres = [ "M_", "B_" ];
this._foldPres = [ "B_", "B_" ];
this._fangxiang = [ "nan", "bei" ];
}
for (var e = 1; e < 10; ++e) this._mahjongSprites.push("B" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("T" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("W" + e);
this._mahjongSprites.push("F2");
this._mahjongSprites.push("F3");
this._mahjongSprites.push("F4");
this._mahjongSprites.push("F5");
this._mahjongSprites.push("F1");
this._mahjongSprites.push("F6");
this._mahjongSprites.push("F7");
this._mahjongSprites.push("J1");
this._mahjongSprites.push("J2");
this._mahjongSprites.push("J3");
this._mahjongSprites.push("J4");
this._mahjongSprites.push("H3");
this._mahjongSprites.push("H2");
this._mahjongSprites.push("H1");
this._mahjongSprites.push("H4");
this.initEventHandlers();
}
},
prepareReplay: function(e, i) {
this._seats = [];
if (null != e.zhuang) {
this._zhuang = e.zhuang;
this._turn = e.zhuang;
}
for (var t = 0; t < cc.vv.roomMgr.table.list.length; ++t) {
var a = {};
a.seatIndex = t;
a.score = null;
a.holds = e.game_seats[t];
a.pengs = [];
a.chis = [];
a.huas = [];
a.piaonum = 0;
a.angangs = [];
a.diangangs = [];
a.wangangs = [];
a.folds = [];
a.chipenggang = [];
i == cc.vv.roomMgr.table.list[t].userid && (cc.vv.roomMgr.seatid = t);
this._seats[t] = a;
}
if (e.numofmj) {
this._numOfMJ = e.numofmj;
this._liupaiCnt = e.liupaiCnt;
}
this._gamestate = 3;
},
initEventHandlers: function() {
var e = this;
this.node.on("login_result", function(i) {
if (0 === i.errcode) {
i = i.data;
e._seats = i.seats;
e._isOver = !1;
e.reset();
}
});
this.node.on("sit", function(i) {
i = i.data;
if (null != e._seats[i.seatid]) {
e._seats[i.seatid].seatIndex = i.seatid;
e._seats[i.seatid].userid = i.userid;
e._seats[i.seatid].headimg = i.headimg;
}
});
this.node.on("game_saizi_push", function(i) {
i = i.data;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e.dispatchEvent("game_saizi", i);
});
this.node.on("game_magic_push", function(i) {
i = i.data;
e._magicPai = i.magic;
e.dispatchEvent("game_magic", i);
});
this.node.on("game_action_push", function(i) {
i = i.data;
e._curaction = i;
e.dispatchEvent("game_action", i);
});
this.node.on("game_holds_push", function(i) {
i = i.data;
e._seats[cc.vv.roomMgr.seatid].holds = i.holds;
for (var t = 0; t < e._seats.length; ++t) {
var a = e._seats[t];
null == a.folds && (a.folds = []);
null == a.pengs && (a.pengs = []);
null == a.chis && (a.chis = []);
null == a.huas && (a.huas = []);
a.piaonum = 0;
null == a.angangs && (a.angangs = []);
null == a.diangangs && (a.diangangs = []);
null == a.wangangs && (a.wangangs = []);
null == a.chipenggang && (a.chipenggang = []);
a.ready = !1;
}
e.dispatchEvent("game_holds");
});
this.node.on("mj_count_push", function(i) {
i = i.data;
e.doMjCount(i.numOfMJ, i.liupaiCnt);
});
this.node.on("game_begin_push", function(i) {
i = i.data;
e._button = i.button;
e._turn = i.button;
e._zhuang = i.zhuang;
e._gamestate = 2;
e.dispatchEvent("game_begin");
});
this.node.on("game_playing_push", function(i) {
i = i.data;
e._gamestate = 3;
e.dispatchEvent("game_playing");
});
this.node.on("game_chupai_push", function(i) {
i = i.data;
if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
null != i.game_action_push && (e._curaction = i.game_action_push);
null != i.game_action_ting && null != i.game_action_ting.data && (cc.vv.game.majiangTable._datating = i.game_action_ting.data);
}
var t = cc.vv.roomMgr.getSeatIndexByID(i.userId);
e.doTurnChange(t, i);
});
this.node.on("game_chupai_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
-1 != n && (cc.vv.game.majiangTable._baotingchupai || n != cc.vv.roomMgr.seatid) && e.doChupai(n, a, i.baoTing_index, i.baoting, i.index);
});
this.node.on("game_mopai_push", function(i) {
i = i.data;
e.doMopai(cc.vv.roomMgr.seatid, i.pai, i.is_auto);
});
this.node.on("guo_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGuo(n, a);
});
this.node.on("peng_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doPeng(n, a);
});
this.node.on("chi_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.chiPai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doChi(s, a, n);
});
this.node.on("gang_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.gangpai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGang(s, a, n, i.gangtype);
});
this.node.on("chupai_limit_notify_push", function(i) {
e.dispatchEvent("chupai_limit_notify");
});
this.node.on("baoting_notify_push", function(i) {
i = i.data;
e.doTing(i);
});
this.node.on("hu_push", function(i) {
i = i.data;
e.doHu(i);
});
this.node.on("guohu", function(i) {
i = i.data;
e.doGuoHu(i);
});
this.node.on("game_sync_push", function(i) {
i = i.data;
e.reset();
e._liupaiCnt = i.liupaiCnt;
e._magicPai = i.magicPai;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e._gamestate = i.state;
e._turn = i.turn;
e._zhuang = i.zhuang;
e._button = i.button;
e._chupai = i.chuPai;
e._numOfMJ = i.numofmj;
for (var t = 0; t < cc.vv.roomMgr.ren; ++t) {
e._seats[t].baoTing_index = i.seats[t].m_bBaoTing_index;
e._seats[t].status = i.seats[t].status;
var a = e._seats[t], n = i.seats[t];
a.baoting = n.baoting;
a.holds = n.holds;
a.folds = n.folds;
a.angangs = n.angangs;
a.diangangs = n.diangangs;
a.wangangs = n.wangangs;
a.pengs = n.pengs;
a.chis = n.chis;
a.huas = n.huas;
a.hued = n.hued;
a.iszimo = n.iszimo;
a.huinfo = n.huinfo;
a.huanpais = n.huanpais;
a.m_bBaoTing_index = n.m_bBaoTing_index;
a.chipenggang = [];
for (var s = 0; s < a.angangs.length; s++) {
var c = a.angangs[s];
a.chipenggang.push([ 2, c ]);
}
for (var o = 0; o < a.diangangs.length; o++) {
var h = a.diangangs[o];
a.chipenggang.push([ 3, h ]);
}
for (var r = 0; r < a.wangangs.length; r++) {
var l = a.wangangs[r];
a.chipenggang.push([ 4, l ]);
}
for (var d = a.pengs.length, g = 0; g < d; g++) {
var u = a.pengs[g];
-1 != e.arrayReturn(a.wangangs, u) ? a.pengs.splice(g, 1) : a.chipenggang.push([ 1, u ]);
}
for (var _ = 0; _ < a.chis.length; _++) {
var v = a.chis[_];
a.chipenggang.push([ 0, v ]);
}
t == e.seatIndex && (e.dingque = n.que);
}
e.dispatchEvent("game_sync", i);
});
},
doMopai: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
a.holds.push(i);
this.dispatchEvent("game_mopai", {
seatIndex: e,
pai: i,
is_auto: t
});
}
},
doChupai: function(e, i, t, a, n) {
this._chupai = i;
var s = this._seats[e];
s.seatIndex = e;
this._seats[s.seatIndex].baoTing_index = t;
if (s.holds) {
var c = s.holds.indexOf(i), o = cc.vv.game.getStartIndex(s.holds);
cc.vv.roomMgr.is_replay && (n = o + c);
e == cc.vv.roomMgr.seatid && (this._oldholds = cc.vv.utils.deepCopy(s.holds));
s.holds.splice(c, 1);
}
this.dispatchEvent("game_chupai_notify", {
seatData: s,
pai: i,
baoTing_index: t,
baoting: a,
index: n
});
},
doMjCount: function(e, i) {
this._numOfMJ = e;
this._liupaiCnt = i;
this.dispatchEvent("mj_count", null);
},
doTurnChange: function(e, i) {
i = {
last: this._turn,
turn: e,
data: i
};
this._last = this._turn;
this._turn = e;
this.dispatchEvent("game_chupai", i);
},
doGuo: function(e, i) {
var t = this._seats[e];
this.dispatchEvent("guo_notify", t);
},
doPeng: function(e, i) {
var t = this._seats[e];
t.pengs.push(i);
t.chipenggang.push([ 1, i ]);
if (t.holds) for (var a = 0; a < 2; ++a) {
var n = t.holds.indexOf(i[1]);
t.holds.splice(n, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("peng_notify", {
seatData: t,
pengpai: i
});
},
doChi: function(e, i, t) {
var a = this._seats[e];
a.chis.push(t);
a.chipenggang.push([ 0, i ]);
if (a.holds) for (var n = 1; n < t.length; ++n) if (t[n] != i) {
var s = a.holds.indexOf(t[n]);
-1 != s && a.holds.splice(s, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("chi_notify", {
seatData: a,
chipai: i
});
},
doGang: function(e, i, t, a) {
var n = this._seats[e];
if (11 == a) for (var s = 0; s < n.pengs.length; ++s) if (n.pengs[s][1] == i) {
n.pengs.splice(s, 1);
break;
}
if (9 == a || 12 == a) {
n.angangs.push(t);
n.chipenggang.push([ 2, t ]);
} else if (10 == a || 13 == a) {
n.diangangs.push(t);
n.chipenggang.push([ 3, t ]);
this.removeChupai(t[0]);
} else if (14 == a || 11 == a) {
n.wangangs.push(t);
for (var c = n.chipenggang, o = 0; o < c.length; o++) 1 == c[o][0] && c[o][1][1] == i && (c[o][0] = 4);
}
if (n.holds) {
if (9 == a || 12 == a || 10 == a || 11 == a) for (var h = 1; h <= t.length; ++h) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
if (13 == a) for (h = 1; h <= t.length; ++h) if (t[h] != i) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
}
this.dispatchEvent("gang_notify", {
seatData: n,
gangtype: a,
gangpai: t
});
},
doTing: function(e) {
this.dispatchEvent("bao_ting_push", e);
},
doHu: function(e) {
e.turn = this._turn;
e.foldslength = -1;
if (-1 != e.turn) {
var i = cc.vv.mahjongMgr._seats[e.turn].folds.length;
e.foldslength = i;
}
this.dispatchEvent("hupai", e);
},
doGuoHu: function(e) {
this.dispatchEvent("guohu_game", e);
},
doHujiaozhuanyi: function(e) {
var i = e.seatid;
cc.vv.mahjongMgr._seats[i].holds.pop();
this.dispatchEvent("hujiaozhuanyi_game", e);
},
doBuhua: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
var n = a.holds.indexOf(i);
-1 != n && a.holds.splice(n, 1);
}
a.huas && a.huas.push(i);
a.piaonum = t;
this.dispatchEvent("buhua_notify", a);
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "mj/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
switchHuMp3: function(e, i) {
switch (i) {
case "平胡":
this.playSFX(e, "hu");
break;

case "自摸":
this.playSFX(e, "zimo");
break;

case "七小对":
case "七对":
this.playSFX(e, "qidui");
break;

case "清一色七小对":
case "清一色七对":
case "豪华七对":
case "豪华七小对":
this.playSFX(e, "haohuaqidui");
break;

case "清一色":
this.playSFX(e, "qinyise");
break;

case "十三幺":
this.playSFX(e, "shisanyao");
break;

case "清一色一条龙":
case "一条龙":
this.playSFX(e, "yitaolong");
break;

default:
this.playSFX(e, "hu");
}
},
reset: function() {
this._turn = -1;
this._last = -1;
this._zhuang = -1;
this._chupai = -1, this._button = -1;
this._magicPai = -1;
this._saizi_1 = -1, this._saizi_2 = -1, this._gamestate = -1;
this._curaction = null;
for (var e = 0; e < this._seats.length; ++e) {
this._seats[e].holds = [];
this._seats[e].folds = [];
this._seats[e].pengs = [];
this._seats[e].chipenggang = [];
this._seats[e].chis = [];
this._seats[e].huas = [];
this._seats[e].piaonum = 0;
this._seats[e].angangs = [];
this._seats[e].diangangs = [];
this._seats[e].wangangs = [];
this._seats[e].dingque = -1;
this._seats[e].ready = !1;
this._seats[e].hued = !1;
this._seats[e].huanpais = null;
this._seats[e].baoting = !0;
}
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
clear: function() {
this.dataEventHandler = null;
null == this.isOver && (this._seats = null);
},
getGangType: function(e, i) {
if (-1 != e.pengs.indexOf(i)) return "wangang";
for (var t = 0, a = 0; a < e.holds.length; ++a) e.holds[a] == i && t++;
return 3 == t ? "diangang" : "angang";
},
getMahjongPai: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 10 : 1 == parseInt(e / 10) ? e += 10 : 2 == parseInt(e / 10) && (e -= 20);
return e;
},
getMahjongPaiReturn: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 20 : 1 == parseInt(e / 10) ? e -= 10 : 2 == parseInt(e / 10) && (e -= 10);
return e;
},
getMahjongPaiThree: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e -= 1 : 1 == parseInt(e / 10) ? e -= 2 : 2 == parseInt(e / 10) ? e -= 3 : 3 == parseInt(e / 10) && (e -= 4);
return e;
},
getMahjongType: function(e) {
return e >= 0 && e < 9 ? 0 : e >= 9 && e < 18 ? 1 : e >= 18 && e < 27 ? 2 : void 0;
},
getAudioURLByMJID: function(e) {
var i = 0;
e >= 0 && e < 9 ? i = e + 21 : e >= 9 && e < 18 ? i = e - 8 : e >= 18 && e < 27 ? i = e - 7 : e >= 27 && e < 34 && (i = e + 4);
return i;
},
getTargetSide: function(e, i) {
var t = (e.seatIndex + 1) % cc.vv.roomMgr.ren, a = (e.seatIndex + 2) % cc.vv.roomMgr.ren, n = (e.seatIndex + 3) % cc.vv.roomMgr.ren;
return i == t ? 2 : i == a ? 1 : i == n ? 0 : -1;
},
sortMJ: function(e, i, t) {
t <= 0 ? e.sort(function(e, t) {
if (i >= 0) {
if (i == e) return -1;
if (i == t) return 1;
}
return e - t;
}) : e.sort(function(e, a) {
if (i >= 0 || t >= 0) {
if (i == e && t == a || i == a && t == e) return e - a;
if (i == e || t == e) return -1;
if (i == a || t == a) return 1;
}
return e - a;
});
},
getSide: function(e) {
return this._sides[e];
},
getFangxiang: function(e) {
return this._fangxiang[e];
},
getPre: function(e) {
return this._pres[e];
},
getFoldPre: function(e) {
return this._foldPres[e];
},
getSeatidByFangxiang: function(e) {
for (var i = 0, t = 0; t < this._fangxiang.length; t++) {
e == this._fangxiang[t] && (i = t);
}
return i;
},
getViewidBySide: function(e) {
for (var i = this._sides, t = 0; t < i.length; t++) if (i[t] == e) return t;
},
getNumberPai: function(e) {
var i = this._seats[e], t = 0;
null != i.pengs && (t += i.pengs.length);
null != i.angangs && (t += i.angangs.length);
null != i.diangangs && (t += i.diangangs.length);
null != i.wangangs && (t += i.wangangs.length);
null != i.chis && (t += i.chis.length);
return t *= 3;
},
removeChupai: function(e) {
if (i = e) var i = cc.vv.mahjongMgr._turn;
var t = this._seats[i];
t && t.folds && t.folds.pop();
},
getWangIndex: function(e, i) {
for (var t = e.chipenggang, a = 0; a < t.length; a++) if (4 == t[a][0] && t[a][1][1] == i) return a;
},
getBgSpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
},
getSpriteFrameByMJID: function(e, i) {
var t = cc.vv.game.majiangTable.selfhandAtlasThreeD, a = cc.vv.mahjongMgr.getMahjongPai(i);
return t.getSpriteFrame("img_cardvalue" + a);
},
getEmptySpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
},
arrayReturn: function(e, i) {
for (var t = -1, a = 0; a < e.length; a++) i[1] == e[a][1] && (t = a);
return t;
}
});
cc._RF.pop();
}, {} ],
RA1910ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a6352uqyT1KUJwh8i5G1O3l", "RA1910ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.majiangTable.game_magicshow();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex, cc.vv.mahjongMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
si: e.si,
type: e.type,
pai: e.pai,
actPai: e.act
};
},
takeAction: function() {
var e = this.getNextAction();
null == this._lastAction || 1 != this._lastAction.type && 8 != this._lastAction.type || null != e && 3 != e.type && 4 != e.type && 5 != e.type && 7 != e.type && cc.vv.mahjongMgr.doGuo(this._lastAction.si, this._lastAction.pai);
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.type) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.nnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return 0;
}
if (1 == e.type) {
3 == e.actPai.length ? cc.vv.mahjongMgr.doChupai(e.si, e.pai, e.actPai[1], e.actPai[2]) : cc.vv.mahjongMgr.doChupai(e.si, e.pai);
return .5;
}
if (2 == e.type) {
3 == e.actPai.length && cc.vv.mahjongMgr.doMjCount(e.actPai[1], e.actPai[2]);
cc.vv.mahjongMgr.doTurnChange(e.si);
cc.vv.mahjongMgr.doMopai(e.si, e.pai);
return .5;
}
if (3 == e.type) {
cc.vv.mahjongMgr.doPeng(e.si, e.actPai);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (9 == e.type || 10 == e.type || 11 == e.type || 12 == e.type || 13 == e.type || 14 == e.type) {
cc.vv.mahjongMgr.dispatchEvent("hangang_notify", e.si);
cc.vv.mahjongMgr.doGang(e.si, e.pai, e.actPai, e.type);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (5 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !1
});
return 1.5;
}
if (6 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !0
});
return 1.5;
}
if (7 == e.type) {
cc.vv.mahjongMgr.doChi(e.si, e.pai, e.actPai);
return 1;
}
if (8 == e.type) {
cc.vv.mahjongMgr.doBuhua(e.si, e.pai, 0);
return 1;
}
if (15 == e.type) {
cc.vv.mahjongMgr.doTing({
userid: e.pai
});
return 1;
}
if (16 == e.type) {
cc.vv.mahjongMgr.doGuoHu({
seatid: e.si
});
return .5;
}
if (17 == e.type) {
cc.vv.mahjongMgr.doHujiaozhuanyi({
seatid: e.si
});
return .5;
}
}
});
cc._RF.pop();
}, {} ],
Ready: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "4e21b8x1URPYKdnPEdxCIbE", "Ready");
cc.Class({
extends: cc.Component,
properties: {
btnReady: cc.Node,
btnBegin: cc.Node,
btncopy: cc.Node
},
start: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("begin", function(i) {
e.btnReady.active = !1;
e.btnBegin.active = !1;
e.btncopy.active = !1;
});
this.node.emit("begin");
},
show: function(e, i) {
if (cc.vv.roomMgr.param && cc.vv.roomMgr.param.is_start_mode) {
0 == cc.vv.roomMgr.now ? this.btncopy.active = !0 : this.btncopy.active = !1;
if (0 == cc.vv.roomMgr.param.start_mode && cc.vv.roomMgr.param.fangzhu == cc.vv.userMgr.userid) {
0 == cc.vv.roomMgr.now ? this.btnBegin.active = !0 : this.btnBegin.active = !1;
return;
}
0 == e && cc.vv.net2.quick("ready");
} else if (1 != e || 0 == cc.vv.roomMgr.now) {
if (0 == cc.vv.roomMgr.now) {
this.btnReady.active = !0;
this.btnBegin.active = !0;
}
this.btncopy.active = !0;
if (1 == cc.vv.roomMgr.started) {
this.btnReady.active = !1;
this.btncopy.active = !1;
this.btnBegin.active = !1;
}
if (0 == cc.vv.roomMgr.now) if (cc.vv.roomMgr.param.fangzhu == cc.vv.userMgr.userid) if (cc.vv.game.config.direct_begin) {
this.btnBegin.active = !0;
this.btnReady.active = !1;
} else {
this.btnReady.active = 0 == e;
this.btnBegin.active = !1;
} else {
this.btnReady.active = 0 == e;
this.btnBegin.active = !1;
}
} else {
this.btnReady.active = !1;
this.btnBegin.active = !1;
}
},
fangzhu: function(e) {
if (1 != cc.vv.roomMgr.started && 0 == cc.vv.roomMgr.now && e.seatid == cc.vv.roomMgr.seatid && cc.vv.game.config.direct_begin) {
0 == cc.vv.roomMgr.param.start_mode && (this.btnBegin.active = !0);
this.btnReady.active = !1;
}
},
share: function(e, i) {
for (var t = 0, a = 0; a < cc.vv.roomMgr.table.list.length; a++) cc.vv.roomMgr.table.list[a].userid > 0 && t++;
var n = parseInt(e), s = cc.GAME_NAME + "房间号：" + cc.vv.roomMgr.roomid;
cc.vv.roomMgr.ren != t && (s = s + " [缺" + (cc.vv.roomMgr.ren - t) + "人]");
var c = "玩法:" + cc.vv.roomMgr.enter.desc, o = cc.GAMEADRESS, h = jsb.fileUtils.fullPathForFilename("res/raw-assets/resources/public/dairy_icon.png");
4 == n ? cc.vv.g3Plugin.shareXLTYaoqing(h, cc.vv.roomMgr.roomid + "", s, o, s, c) : cc.vv.g3Plugin.shareWeb(n, s, c, h, o);
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
var t = this;
switch (e.target.name) {
case "btn_copy":
cc.vv.popMgr.open("Share", function(e) {
e.getComponent("Share").share(t.share, t);
});
break;

case "btn_ready":
cc.vv.net2.quick("ready");
break;

case "btn_begin":
cc.vv.net2.quick("begin");
}
}
});
cc._RF.pop();
}, {} ],
RealName: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "11b13waGOlMq52Fx+IaCQkP", "RealName");
cc.Class({
extends: cc.Component,
properties: {
textName: cc.EditBox,
textId: cc.EditBox
},
OnBtnClieck: function(e, i) {
var t = this;
cc.vv.audioMgr.click();
var a = this.textName.string, n = this.textId.string;
if ("" != a && "" != n) {
cc.vv.hall.addHandler("real_name", function(e) {
e.data;
if (0 === e.errcode) {
cc.vv.popMgr.alert(e.errmsg);
t.destroy();
} else cc.vv.popMgr.alert(e.errmsg);
});
cc.vv.net1.quick("real_name", {
card_id: n,
real_name: a
});
} else cc.vv.popMgr.tip("信息输入不完整");
},
onDestroy: function() {
cc.vv.hall.removeHandler("real_name");
}
});
cc._RF.pop();
}, {} ],
ReplayCtrl: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "192f9quQptFxrpP3BxkupMj", "ReplayCtrl");
cc.Class({
extends: cc.Component,
properties: {
_nextPlayTime: 1,
_replay: null,
_isPlaying: !0,
_speed: 1,
nodePlay: cc.Node,
nodePause: cc.Node
},
onLoad: function() {
cc.vv.replayMgr.speed = 1;
},
onBtnPauseClicked: function() {
this._isPlaying = !1;
this.nodePlay.active = !0;
this.nodePause.active = !1;
},
onBtnFastClicked: function() {
if (this._speed > .7) {
cc.vv.replayMgr.speed = this._speed;
this._speed = this._speed - .1;
}
},
onBtnRewindClicked: function() {
this._speed < 2 && (this._speed = this._speed + .1);
},
onBtnPlayClicked: function() {
this._isPlaying = !0;
this.nodePlay.active = !1;
this.nodePause.active = !0;
},
onBtnBackClicked: function() {
cc.vv.userMgr.is_replay = !1;
cc.vv.replayMgr.clear();
cc.director.loadScene("hall");
},
update: function(e) {
if (cc.vv && this._isPlaying && null != cc.vv.replayMgr && 1 == cc.vv.replayMgr.isReplay() && this._nextPlayTime > 0) {
this._nextPlayTime -= e;
this._nextPlayTime < 0 && (this._nextPlayTime = this._speed * cc.vv.replayMgr.takeAction());
}
}
});
cc._RF.pop();
}, {} ],
Replay: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "89756qJ4dVGHpvkAh+AUmO7", "Replay");
cc.Class({
extends: cc.Component,
properties: {
Replay_Code: cc.EditBox
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "select":
cc.vv.popMgr.wait("正在查询中...");
var t = this.Replay_Code.string;
cc.vv.net1.quick("history_replay", {
replay_id: t
});
break;

case "rezero":
this.Replay_Code.string = "";
}
},
start: function() {}
});
cc._RF.pop();
}, {} ],
ReportItemMin: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "59a96EmqMJNTr6p35EmhZUW", "ReportItemMin");
cc.Class({
extends: cc.Component,
properties: {
nodeDayingjia: cc.Node,
nodeDatuhao: cc.Node,
lblName: cc.Label,
lblId: cc.Label,
spriteFlg: cc.Sprite,
spriteHeadimg: cc.Sprite,
lblScore: cc.Label,
checkmark: cc.Node,
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
reportAtlas: {
default: null,
type: cc.SpriteAtlas
}
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("info", function(i) {
e.nodeDayingjia.active = i.dayingjia;
e.nodeDatuhao.active = i.datuhao;
e.lblName.string = i.name;
e.lblId.string = "ID:" + i.userid;
e.checkmark.active = i.userid == cc.vv.userMgr.userid;
e.spriteHeadimg.getComponent("ImageLoader").loadImg(i.headimg);
if (i.score > 0) {
e.lblScore.font = e.winFont;
e.lblScore.string = "+" + i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
} else if (i.score < 0) {
e.lblScore.font = e.lostFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_lose");
} else {
e.lblScore.font = e.winFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
}
});
}
});
cc._RF.pop();
}, {} ],
ReportItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "86872gFmiRCg5TsbhT0mYQV", "ReportItem");
cc.Class({
extends: cc.Component,
properties: {
nodeDayingjia: cc.Node,
nodeDatuhao: cc.Node,
lblName: cc.Label,
lblId: cc.Label,
spriteFlg: cc.Sprite,
spriteHeadimg: cc.Sprite,
lblScore: cc.Label,
checkmark: cc.Node,
zhuang: cc.Node,
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
reportAtlas: {
default: null,
type: cc.SpriteAtlas
}
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("info", function(i) {
e.nodeDayingjia.active = i.dayingjia;
e.lblName.string = i.name;
e.lblId.string = "ID:" + i.userid;
e.checkmark && (e.checkmark.active = i.userid == cc.vv.userMgr.userid);
null != e.zhuang && (void 0 != i.zhuang && void 0 != i.seatid ? e.zhuang.active = i.zhuang == i.seatid : e.zhuang.active = !1);
e.spriteHeadimg.getComponent("ImageLoader").loadImg(i.headimg);
if (i.score > 0) {
e.lblScore.font = e.winFont;
e.lblScore.string = "+" + i.score;
if (!e.spriteFlg) return;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
} else if (i.score < 0) {
e.lblScore.font = e.lostFont;
e.lblScore.string = i.score;
if (!e.spriteFlg) return;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_lose");
} else {
e.lblScore.font = e.winFont;
e.lblScore.string = i.score;
if (!e.spriteFlg) return;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
}
});
}
});
cc._RF.pop();
}, {} ],
RoomHub: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "5bf97cRvSJLf45LvmNsnJ8G", "RoomHub");
cc.Class({
extends: cc.Component,
properties: {
wifi: cc.Sprite,
time: cc.Label,
text_roomid: cc.Node,
roomid: cc.Label,
club: cc.Label,
desc: cc.Label,
bg: cc.Node,
nodePower: cc.Node,
titlebg: cc.Node,
wang: cc.Node,
_winChat: cc.Node,
_desc: "",
_Location: null
},
onLoad: function() {
this._winChat = cc.find("Canvas/open/Chat");
this.initEventHandlers();
},
start: function() {
this.timeInterval();
this.node.emit("power");
this.node.emit("network");
this.node.getChildByName("oper").getChildByName("btn_yuyin").active = !1;
},
timeInterval: function() {
var e = this, i = function() {
e.hudTime();
};
i();
this.inter = setInterval(function() {
i();
}, 1e4);
},
onDestroy: function() {
clearInterval(this.inter);
},
hudTime: function() {
var e = new Date(), i = e.getHours();
i = i < 10 ? "0" + i : i;
var t = e.getMinutes();
t = t < 10 ? "0" + t : t;
this.time.string = i + ":" + t;
},
initEventHandlers: function() {
var e = this;
this.node.on("enter", function(i) {
e._desc = i.desc;
e._max = cc.vv.roomMgr.now;
e._now = cc.vv.roomMgr.now;
e.roomid.string = i.room_id;
e.hudDesc();
});
this.node.on("begin", function(e) {});
this.node.on("round", function(i) {
e.hudDesc();
});
this.node.on("power", function(i) {
cc.vv.global.power <= 0 && (cc.vv.global.power = 0);
var t = 34 * cc.vv.global.power / 100;
e.nodePower.width = t;
cc.loader.loadRes("public/table/sysInfo", cc.SpriteAtlas, function(i, t) {
var a = "info_power_g";
cc.vv.global.power <= 20 && (a = "info_power_r");
e.nodePower.getComponent(cc.Sprite).spriteFrame = t.getSpriteFrame(a);
});
});
this.node.on("network", function(i) {
cc.vv.global.net_level > 3 && (cc.vv.global.net_level = 3);
cc.vv.global.net_level < 0 && (cc.vv.global.net_level = 0);
cc.loader.loadRes("public/table/sysInfo", cc.SpriteAtlas, function(i, t) {
var a = "info_wifi_" + cc.vv.global.net_level;
e.wifi.spriteFrame = t.getSpriteFrame(a);
});
});
},
hudDesc: function() {
var e = cc.vv.roomMgr.max, i = "/";
if (-1 == cc.vv.roomMgr.max || 1e5 == cc.vv.roomMgr.max) {
e = "";
i = "";
}
null == cc.vv.roomMgr.now ? this.desc.string = cc.vv.roomMgr.stage.now + i + e : this.desc.string = cc.vv.roomMgr.now + i + e;
},
btnCopyClieck: function(e, i) {
cc.vv.audioMgr.click();
var t = this;
switch (e.target.name) {
case "btn_setting":
cc.vv.popMgr.open("Setting", function(e) {
e.getComponent("Setting").hideButton();
});
break;

case "btn_wang":
this.wang.active = !0;
break;

case "btn_exit":
if (0 == cc.vv.roomMgr.started) null == cc.vv.roomMgr.param || cc.vv.userMgr.userid != cc.vv.roomMgr.param.creator && cc.vv.userMgr.userid != cc.vv.roomMgr.param.fangzhu || 0 != cc.vv.roomMgr.clubid ? cc.vv.popMgr.alert("您是否要确认离开房间？", function() {
cc.vv.net2.quick("leave", {
room_id: cc.vv.roomMgr.roomid
});
}, !0) : cc.vv.popMgr.alert("房间未开局,解散房间将不会扣除乐豆", function() {
cc.vv.net2.quick("leave", {
room_id: cc.vv.roomMgr.roomid
});
}, !0); else {
if (null != cc.vv.roomMgr.guanzhan_table) for (var a = cc.vv.roomMgr.guanzhan_table.list, n = 0; n < a.length; n++) if (0 != a[n].userid && a[n].userid == cc.vv.userMgr.userid) {
cc.vv.popMgr.alert("您是否要确认离开房间？", function() {
cc.vv.net2.quick("leave", {
room_id: cc.vv.roomMgr.roomid
});
}, !0);
return;
}
cc.vv.popMgr.alert("房间已开局,是否确认要申请解散？", function() {
cc.vv.net2.quick("try_dismiss_room");
}, !0);
}
break;

case "btn_chat":
if (null != cc.vv.game.config.is_chat && 0 == cc.vv.game.config.is_chat) {
cc.vv.popMgr.tip("本游戏禁止发送表情和互动");
return;
}
this._winChat.active = !0;
break;

case "btn_yuyin":
cc.vv.popMgr.open("Yuyin");
break;

case "btn_god_wash":
case "btn_god_luck":
this.wang.active = !1;
cc.vv.popMgr.open("GoodLuck", function(e) {
ojb.emit("show", i);
});
break;

case "btn_roominfo":
cc.vv.popMgr.pop("table/roominfo", function(e) {
var i = e.getChildByName("bg").getChildByName("info");
i.getComponent(cc.Label).string = t._desc.replace(/ /g, "\n");
i.getComponent(cc.Label)._forceUpdateRenderData();
e.getChildByName("bg").height = i.height + 50;
e.getChildByName("Mask").on(cc.Node.EventType.TOUCH_START, function() {
cc.vv.popMgr.del_pop("roominfo");
});
e.on(cc.Node.EventType.TOUCH_START, function() {
cc.vv.popMgr.del_pop("roominfo");
});
});
break;

case "btn_yiwen":
var s = this._desc, c = cc.find("Canvas/mgr/hud/oper/btn_yiwen/bg_menu/label");
c.getComponent(cc.Label).string = "";
var o = cc.find("Canvas/mgr/hud/oper/btn_yiwen/bg_menu");
if (!1 === c.active) {
c.active = !0;
o.active = !0;
for (n = 0; n < s.length; ++n) " " == s[n] ? c.getComponent(cc.Label).string += "\n" : c.getComponent(cc.Label).string += s[n];
o.width = c.width;
o.height = c.height + 30;
this.scheduleOnce(function() {
this.qingchudingshi();
}, 2);
}
break;

case "btn_location":
this.node._Location.getComponent("Location").show(!0);
this.node._Location.active = !0;
break;

case "btn_restart":
cc.vv.net2.quick("sync");
}
},
qingchudingshi: function(e, i) {
var t = cc.find("Canvas/mgr/hud/oper/btn_yiwen/bg_menu/label"), a = cc.find("Canvas/mgr/hud/oper/btn_yiwen/bg_menu");
t.active = !1;
a.active = !1;
}
});
cc._RF.pop();
}, {} ],
RoomMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "4bd30FZagpK3bwvxd04vO/R", "RoomMgr");
cc.Class({
extends: cc.Component,
properties: {
roomType: "",
roomId: 0,
started: 0,
data: null,
param: null,
table: null,
seatid: 0,
ren: 5,
now: 0,
max: 20,
clubid: 0,
minmoney: !1,
ip_repeat: null
},
init: function() {
this.started = 0;
this.param = null;
this.table = null;
this.seatid = 0;
this.ren = 5;
this.now = 0;
this.max = 20;
this.ip_repeat = !1;
},
viewChairID: function(e) {
return Math.abs(e + this.ren - this.seatid) % this.ren;
},
realChairID: function(e) {
return (this.seatid + e) % this.ren;
},
userSex: function(e) {
if (!(null == this.table && this.ren <= e) && this.table.list) {
var i = this.table.list[e].sex;
1 != i && 2 != i && (i = 1);
return i;
}
},
getSeatIndexByID: function(e) {
if (null == this.table) return -1;
for (var i = 0; i < this.table.list.length; ++i) {
if (this.table.list[i].userid == e) return i;
}
return -1;
},
is_end: function() {
return this.now >= this.max && -1 != this.max;
}
});
cc._RF.pop();
}, {} ],
RunningTip: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "eea70YO9H9Ox5PKtTSd5DvH", "RunningTip");
cc.Class({
extends: cc.Component,
properties: {},
update: function(e) {
var i = this.node.x;
(i -= 100 * e) + this.node.width < -1e3 && (i = 500);
this.node.x = i;
}
});
cc._RF.pop();
}, {} ],
SSZ1100Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "6798dIxbHdKAKbqfD9Gdeso", "SSZ1100Game");
var a;
function n(e, i, t) {
i in e ? Object.defineProperty(e, i, {
value: t,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[i] = t;
return e;
}
var s = 10, c = 20, o = 50, h = 60, r = 70, l = 80, d = 90, g = 100, u = 110, _ = 120, v = 200, p = 210, m = 220, f = 221, y = 222, C = 223, b = 224, w = 225, x = 226, z = 227, k = 228, M = 229, j = 230, N = 240, S = 250, F = 260, B = 270, T = [ {
CT_NO: 10,
AUDIO: "common1",
CT_NAME: "乌龙",
CT_TISHI: "w_wulong",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 20,
AUDIO: "common2",
CT_NAME: "对子",
CT_TISHI: "w_duizi",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 50,
AUDIO: "common3",
CT_NAME: "两对",
CT_TISHI: "w_liangdui",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 60,
AUDIO: "common4",
CT_NAME: "三条",
CT_TISHI: "w_santiao",
SP: !1,
FD: 3,
SD: 1,
TD: 1
}, {
CT_NO: 70,
AUDIO: "common5",
CT_NAME: "顺子",
CT_TISHI: "w_shunzi",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 80,
AUDIO: "common6",
CT_NAME: "同花",
CT_TISHI: "w_tonghua",
SP: !1,
FD: 1,
SD: 1,
TD: 1
}, {
CT_NO: 90,
AUDIO: "common7",
CT_NAME: "葫芦",
CT_TISHI: "w_hulu",
SP: !1,
FD: 1,
SD: 2,
TD: 1
}, {
CT_NO: 100,
AUDIO: "common8",
CT_NAME: "铁支",
CT_TISHI: "w_tiezhi",
SP: !1,
FD: 1,
SD: 8,
TD: 4
}, {
CT_NO: 110,
AUDIO: "common9",
CT_NAME: "同花顺",
CT_TISHI: "w_tonghuashun",
SP: !1,
FD: 1,
SD: 10,
TD: 5
}, {
CT_NO: 200,
AUDIO: "special4",
CT_NAME: "六对半",
CT_TISHI: "",
SP: !0,
FD: 6,
SD: 0,
TD: 0,
IMG: "liuduiban",
WORDS: [ "liu", "dui", "ban" ]
}, {
CT_NO: 210,
AUDIO: "special3",
CT_NAME: "三顺子",
CT_TISHI: "",
SP: !0,
FD: 3,
SD: 0,
TD: 0,
IMG: "sanshunzi",
WORDS: [ "san", "shun", "zi" ]
}, {
CT_NO: 220,
AUDIO: "special2",
CT_NAME: "三同花",
CT_TISHI: "",
SP: !0,
FD: 3,
SD: 0,
TD: 0,
IMG: "santonghua",
WORDS: [ "san", "tong", "hua" ]
}, {
CT_NO: 221,
AUDIO: "special8",
CT_NAME: "全小",
CT_TISHI: "",
SP: !0,
FD: 3,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "quan", "xiao" ]
}, {
CT_NO: 222,
AUDIO: "special9",
CT_NAME: "全大",
CT_TISHI: "",
SP: !0,
FD: 3,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "quan", "da2" ]
}, {
CT_NO: 223,
AUDIO: "special8",
CT_NAME: "全小",
CT_TISHI: "",
SP: !0,
FD: 6,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "quan", "xiao" ]
}, {
CT_NO: 224,
AUDIO: "special9",
CT_NAME: "全大",
CT_TISHI: "",
SP: !0,
FD: 6,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "quan", "da2" ]
}, {
CT_NO: 225,
AUDIO: "",
CT_NAME: "豪华六轮",
CT_TISHI: "",
SP: !0,
FD: 9,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "hao", "hua2", "liu", "lun" ]
}, {
CT_NO: 226,
AUDIO: "",
CT_NAME: "全黑一点红",
CT_TISHI: "",
SP: !0,
FD: 13,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "quan", "hei", "yi", "dian", "hong" ]
}, {
CT_NO: 227,
AUDIO: "",
CT_NAME: "全红一点黑",
CT_TISHI: "",
SP: !0,
FD: 13,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "quan", "hong", "yi", "dian", "hei" ]
}, {
CT_NO: 228,
AUDIO: "special7",
CT_NAME: "全黑",
CT_TISHI: "",
SP: !0,
FD: 26,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "quan", "hei" ]
}, {
CT_NO: 229,
AUDIO: "special7",
CT_NAME: "全红",
CT_TISHI: "",
SP: !0,
FD: 26,
SD: 0,
TD: 0,
IMG: "normal",
WORDS: [ "quan", "hong" ]
}, {
CT_NO: 230,
AUDIO: "special6",
CT_NAME: "四套三条",
CT_TISHI: "",
SP: !0,
FD: 26,
SD: 0,
TD: 0,
IMG: "sitaosantiao",
WORDS: [ "si", "tao", "san", "tiao" ]
}, {
CT_NO: 240,
AUDIO: "special10",
CT_NAME: "三分天下",
CT_TISHI: "",
SP: !0,
FD: 52,
SD: 0,
TD: 0,
IMG: "sanfentianxia",
WORDS: [ "san", "fen", "tian", "xia" ]
}, {
CT_NO: 250,
AUDIO: "special11",
CT_NAME: "三同花顺",
SP: !0,
FD: 18,
SD: 0,
TD: 0,
IMG: "santonghuashun",
WORDS: [ "quan", "hong" ]
}, {
CT_NO: 260,
AUDIO: "special13",
CT_NAME: "一条龙",
CT_TISHI: "",
SP: !0,
FD: 13,
SD: 0,
TD: 0,
IMG: "yitiaolong",
WORDS: [ "yi", "tiao", "long" ]
}, {
CT_NO: 270,
AUDIO: "special14",
CT_NAME: "清龙",
CT_TISHI: "",
SP: !0,
FD: 108,
SD: 0,
TD: 0,
IMG: "qinglong",
WORDS: [ "qing", "long" ]
} ], A = [ 120, 110, 100, 90, 80, 70, 60, 50, 20 ], I = [ cc.v2(539, 125), cc.v2(430, 556), cc.v2(743, 329), cc.v2(143, 329) ], X = [ "FDCt", "SDCt", "TDCt" ], P = cc.Class((n(a = {
extends: cc.Node,
properties: {},
initData: function() {
this.currentCardList = [];
for (var e = 0; e < 9; e++) this.currentCardList[e] = [];
this.curGroupCardList = [];
for (e = 0; e < 9; e++) this.curGroupCardList[e] = [];
this.AiGroupList = [];
this.santonghuaTag = !1;
this.sanshunzhi = [];
},
initSpData: function() {
this.spGroup = [];
},
initGroup: function() {
this.currentCardList = [];
for (var e = 0; e < 9; e++) this.currentCardList[e] = [];
this.curGroupCardList = [];
for (e = 0; e < 9; e++) this.curGroupCardList[e] = [];
},
getAiGroup: function() {
return this.AiGroupList;
},
RandCardList: function(e, i) {
for (var t = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 66, 67 ], a = 0, n = 0, s = 0, c = 0; c < 2e3; c++) {
var o, h, r = (n += s) % 52, l = (s = Math.ceil(9999 * Math.random()) + 1) % 52;
o = t[r];
h = t[l];
t[r] = h;
t[l] = o;
}
var d = 0;
do {
d = (Math.ceil(9999 * Math.random()) + 1) % (52 - a);
e[a++] = t[d];
t[d] = t[52 - a];
} while (a < i);
},
deepcopy: function(e) {
for (var i = [], t = 0, a = e.length; t < a; t++) e[t] instanceof Array ? i[t] = this.deepcopy(e[t]) : i[t] = e[t];
return i;
},
checkIsShunZi: function(e) {
for (var i = !1, t = !1, a = !1, n = [], s = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61 ], c = 0; c < e.length; c++) 66 == e[c] ? t = !0 : 67 == e[c] ? i = !0 : n.push(e[c]);
var o = this.classifyCard(n).numbers;
if (i && t) for (c = 0; c < s.length; c++) {
if (!(o[s[c] % 16].length > 0)) for (var h = c + 1; h < s.length; h++) if (!(o[s[c] % 16].length > 0)) {
(r = [].concat(n)).push(s[c]);
r.push(s[h]);
if (a = this.checkIsShunZiFx(r)) return a;
}
} else if (i || t) for (c = 0; c < s.length; c++) {
if (!(o[s[c] % 16].length > 0)) {
var r;
(r = [].concat(n)).push(s[c]);
if (a = this.checkIsShunZiFx(r)) return a;
}
} else a = this.checkIsShunZiFx(e);
return a;
},
checkIsShunZiFx: function(e) {
for (var i = !0, t = [], a = 0; a < e.length; a++) t.push(e[a] % 16);
t.sort(function(e, i) {
return e - i;
}).forEach(function(e, a) {
e != t[0] + a && (i = !1);
});
if (!i) {
3 == e.length && 1 == t[0] && 12 == t[1] && 13 == t[2] && (i = !0);
5 == e.length && 1 == t[0] && 10 == t[1] && 11 == t[2] && 12 == t[3] && 13 == t[4] && (i = !0);
}
return i;
},
getQingLong: function(e, i, t) {
var a = [], n = [];
t.forEach(function(e, i) {
if (13 == e.length) {
var t = e.map(function(e) {
return 16 * i + e;
});
n.push(t);
}
});
for (var s = 0; s < n.length; s++) {
var c = n[s];
this.checkIsShunZi(c) && a.push(c);
}
return a;
},
getYiTiaoLong: function(e, i, t) {
var a = [];
if (13 == e.length) {
this.checkIsShunZi(e) && a.push(e);
}
return a;
},
getSanFenTianXia: function(e, i, t) {
var a = [], n = [];
if (13 == e.length) {
i.forEach(function(e, i) {
4 == e.length && n.push(i);
});
if (3 == n.length) {
var s = [], c = [], o = [], h = -1, r = -1, l = -1, d = -1;
i.forEach(function(e, i) {
1 == e.length && (d = i);
});
if (1 == n[0]) {
h = n[0];
r = n[2];
l = n[1];
} else {
h = n[2];
r = n[1];
l = n[0];
}
for (var g = 0; g < 4; g++) s.push(16 * i[h][g] + h);
for (g = 0; g < 4; g++) c.push(16 * i[r][g] + r);
for (g = 0; g < 3; g++) o.push(16 * i[l][g] + l);
c.push(16 * i[l][3] + l);
s.push(16 * i[d][0] + d);
a.push(s);
a.push(c);
a.push(o);
}
}
return a;
},
getHalfSmall: function(e, i, t) {
var a = [], n = !1, s = !1;
i.forEach(function(e, i) {
i > 10 && e.length > 0 && (n = !0);
1 == i && e.length > 0 && (s = !0);
});
!n && s && a.push(e);
return a;
},
getAllSmall: function(e, i, t) {
var a = [], n = !1;
i.forEach(function(e, i) {
(i > 10 || i < 2) && e.length > 0 && (n = !0);
});
n || a.push(e);
return a;
},
getHalfBig: function(e, i, t) {
var a = [], n = !1, s = !1;
i.forEach(function(e, i) {
1 < i && i < 6 && e.length > 0 && (n = !0);
1 == i && e.length > 0 && (s = !0);
});
!n && s && a.push(e);
return a;
},
getAllBig: function(e, i, t) {
var a = [], n = !1;
i.forEach(function(e, i) {
0 < i && i < 6 && e.length > 0 && (n = !0);
});
n || a.push(e);
return a;
},
getLuxurySix: function(e, i, t) {
var a = [], n = 0, s = !1;
if (13 == e.length) {
i.forEach(function(e, i) {
if (2 == e.length) n++; else if (3 == e.length) {
n++;
s = !0;
} else if (4 == e.length) {
n += 2;
s = !0;
} else if (5 == e.length) {
n += 2;
s = !0;
}
});
6 == n && s && a.push(e);
}
return a;
},
getAllBlackOneRed: function(e, i, t) {
var a = 0, n = [];
t.forEach(function(e, i) {
1 != i && 3 != i || (a += e.length);
});
12 == a && n.push(e);
return n;
},
getAllRedOneBlack: function(e, i, t) {
var a = 0, n = [];
t.forEach(function(e, i) {
0 != i && 2 != i || (a += e.length);
});
12 == a && n.push(e);
return n;
},
getAllblack: function(e, i, t) {
var a = 0, n = [];
t.forEach(function(e, i) {
1 != i && 3 != i || (a += e.length);
});
13 == a && n.push(e);
return n;
},
getAllRed: function(e, i, t) {
var a = 0, n = [];
t.forEach(function(e, i) {
0 != i && 2 != i || (a += e.length);
});
13 == a && n.push(e);
return n;
},
getSiTaoSanTiao: function(e, i, t) {
var a = [], n = [];
if (13 == e.length) {
i.forEach(function(e, i) {
3 == e.length && n.push(i);
});
if (4 == n.length) {
var s = [], c = [], o = [], h = -1, r = -1, l = -1, d = -1, g = -1;
i.forEach(function(e, i) {
1 == e.length && (g = i);
});
if (1 == n[0]) {
h = n[0];
r = n[3];
l = n[2];
d = n[1];
} else {
h = n[3];
r = n[2];
l = n[1];
d = n[0];
}
for (var u = 0; u < 3; u++) s.push(16 * i[h][u] + h);
for (u = 0; u < 3; u++) c.push(16 * i[r][u] + r);
for (u = 0; u < 3; u++) o.push(16 * i[l][u] + l);
c.push(16 * i[g][0] + g);
c.push(16 * i[d][0] + d);
s.push(16 * i[d][1] + d);
s.push(16 * i[d][2] + d);
a.push(s);
a.push(c);
a.push(o);
}
}
return a;
},
getLiuDuiBan: function(e, i, t) {
var a = [], n = 0;
if (13 == e.length) {
i.forEach(function(e, i) {
2 == e.length ? n++ : 3 == e.length ? n++ : 4 == e.length ? n += 2 : 5 == e.length && (n += 2);
});
6 == n && a.push(e);
}
return a;
},
getSanTongHuaShun: function(e, i, t) {
this.getSanTongHua(e, i, t, 0);
if (!this.santonghuaTag) return [];
if (0 == this.getSanShunZi(e).length) return [];
for (var a = 0; a < this.sanshunzhi.length; a++) {
for (var n = this.sanshunzhi[a], s = 0, c = 0; c < n.length; c++) {
for (var o = this.classifyCard(n[c]).colors, h = 0, r = 0; r < o.length; r++) o[r].length > 0 && h++;
1 == h && s++;
}
if (3 == s) {
return n;
}
}
},
getSanTongHua: function(e, i, t, a) {
var n = [];
if (0 == a) {
this.santonghuaTag = !1;
for (var c = 0, o = 0; o < t.length; o++) {
t[o].length > 0 && c++;
for (var h = [ 1, 2, 4, 6, 7, 9, 11, 12 ], r = 0; r < h.length; r++) if (t[o].length == h[r]) return [];
}
if (4 == c) return [];
this.santonghuaTag = !0;
return [];
}
if (!this.santonghuaTag) return [];
var l = [];
t.forEach(function(e, i) {
e.length > 0 && l.push([ e.length, i ]);
});
var d = [], g = [], u = [];
if (1 == l.length) {
var _ = v[0][1], v = [];
for (o = 0; o < t[_].length; o++) v.push(16 * _ + t[_][o]);
this.setSanPai(v, s, d, 5);
this.setSanPai(v, s, g, 5);
this.setSanPai(v, s, u, 3);
}
if (2 == l.length) if (10 == l[0][0] || 3 == l[0][0]) {
var p = 0, m = 0;
if (10 == l[0][0]) {
p = l[0][1];
m = l[1][1];
} else {
p = l[1][1];
m = l[0][1];
}
var f = [], y = [];
for (o = 0; o < t[p].length; o++) f.push(16 * p + t[p][o]);
for (o = 0; o < t[m].length; o++) y.push(16 * m + t[m][o]);
this.setSanPai(f, s, d, 5);
this.setSanPai(f, s, g, 5);
this.setSanPai(y, s, u, 3);
} else {
var C = 0, b = 0;
if (8 == l[0][0]) {
C = l[0][1];
b = l[1][1];
} else {
C = l[1][1];
b = l[0][1];
}
var w = [], x = [];
for (o = 0; o < t[C].length; o++) w.push(16 * C + t[C][o]);
for (o = 0; o < t[b].length; o++) x.push(16 * b + t[b][o]);
this.setSanPai(w, s, d, 5);
this.setSanPai(x, s, g, 5);
this.setSanPai(w, s, u, 3);
}
if (3 == l.length) {
var z = -1, k = -1;
for (m = -1, o = 0; o < l.length; o++) {
5 == l[o][0] && (-1 == z ? z = l[o][1] : k = l[o][1]);
3 == l[o][0] && (m = l[o][1]);
}
var M = [], j = [];
for (y = [], o = 0; o < t[z].length; o++) M.push(16 * z + t[z][o]);
for (o = 0; o < t[k].length; o++) j.push(16 * k + t[k][o]);
for (o = 0; o < t[m].length; o++) y.push(16 * m + t[m][o]);
this.setSanPai(M, s, d, 5);
this.setSanPai(j, s, g, 5);
this.setSanPai(y, s, u, 3);
}
n.push(d);
n.push(g);
n.push(u);
return n;
},
getSanShunZi: function(e) {
var i = [], t = [], a = this.getShunziAll(e, !1, !1);
if (a.length <= 0) return [];
for (var n = 0; n < a.length; n++) {
var s = [].concat(e);
this.arrRemove(s, a[n]);
t[n] = [];
i[n] = this.getShunziAll(s, !1, !1);
if (!(i[n].length <= 0)) for (var c = 0; c < i[n].length; c++) {
var o = [].concat(s);
this.arrRemove(o, i[n][c]);
t[n][c] = [];
this.checkIsShunZi(o) && (t[n][c] = [].concat(o));
}
}
for (n = 0; n < t.length; n++) for (c = 0; c < t[n].length; c++) t[n][c].length > 0 && this.sanshunzhi.push([ a[n], i[n][c], t[n][c] ]);
return this.sanshunzhi.length > 0 ? this.sanshunzhi[0] : [];
},
getWuTong: function(e) {
var i = [];
this.classifyCard(e).numbers.forEach(function(e, t) {
5 == e.length && i.push([ 16 * e[0] + t, 16 * e[1] + t, 16 * e[2] + t, 16 * e[3] + t, 16 * e[4] + t ]);
});
return i;
},
getTongHuaShun: function(e, i, t) {
for (var a = [], n = this.getTonghuaFx(e, i, t), s = 0; s < n.length; s++) {
var c = n[s];
this.checkIsShunZi(c) && a.push(c);
}
return a;
},
getTieZhi: function(e, i, t) {
var a = [];
this.classifyCard(e).numbers.forEach(function(e, n) {
2 == e.length && i && t && a.push([ 16 * e[0] + n, 16 * e[1] + n, 66, 67 ]);
if (3 == e.length) {
t && a.push([ 16 * e[0] + n, 16 * e[1] + n, 16 * e[2] + n, 66 ]);
i && a.push([ 16 * e[0] + n, 16 * e[1] + n, 16 * e[2] + n, 67 ]);
}
4 == e.length && a.push([ 16 * e[0] + n, 16 * e[1] + n, 16 * e[2] + n, 16 * e[3] + n ]);
});
return a;
},
getHulu: function(e, i, t) {
var a = [], n = this.getSantiao(e, i, t), s = this.getDuizi(e, i, t), c = [];
i && 0;
t && 0;
n.length && s.length && (c = this.combination2([ n, s ], 2));
for (var o = 0; o < c.length; o++) {
for (var h = [], r = 0, l = 0, d = 0; d < c[o].length; d++) 66 == c[o][d] ? l++ : 67 == c[o][d] ? r++ : h.push(c[o][d]);
if (!(r + l >= 2)) {
var g = !1;
this.classifyCard(h).numbers.forEach(function(e, i) {
3 == e.length && (1 != r && 1 != l || (g = !0));
4 == e.length && (g = !0);
5 == e.length && (g = !0);
});
g || a.push(c[o]);
}
}
return a;
},
getTonghua: function(e, i, t) {
var a, n = [];
a = this.getTonghuaFx(e, i, t);
for (var s = 0; s < a.length; s++) {
this.checkIsShunZi(a[s]) || n.push(a[s]);
}
return n;
},
getTonghuaFx: function(e, i, t) {
var a = this, n = [], s = [];
this.classifyCard(e).colors.forEach(function(e, n) {
if (3 == e.length && i && t) {
(c = e.map(function(e) {
return 16 * n + e;
})).push(66);
c.push(67);
s.push(a.combination(c, 5));
}
if (4 == e.length && (i || t)) {
var c = e.map(function(e) {
return 16 * n + e;
});
i && c.push(67);
t && c.push(66);
s.push(a.combination(c, 5));
}
if (e.length > 4) {
c = e.map(function(e) {
return 16 * n + e;
});
i && c.push(67);
t && c.push(66);
s.push(a.combination(c, 5));
}
});
for (var c = 0; c < s.length; c++) for (var o = 0; o < s[c].length; o++) n.push(s[c][o]);
return n;
},
getShunzi: function(e, i, t) {
for (var a = [], n = this.getShunziAll(e, i, t), s = 0; s < n.length; s++) {
for (var c = [], o = 0; o < n[s].length; o++) 66 != n[s][o] && 67 != n[s][o] && c.push(n[s][o]);
for (var h = 0, r = this.classifyCard(c).colors, l = 0; l < r.length; l++) r[l].length > 0 && h++;
1 != h && a.push(n[s]);
}
return a;
},
getShunziAll: function(e, i, t) {
var a = [], n = [], s = this.classifyCard(e).numbers, c = [], o = 0;
i && o++;
t && o++;
s.push(s[1]);
for (var h = 1; h < 11; h++) {
for (var r = [], l = o, d = 0, g = 0; g < 5; g++) if (0 == s[h + g].length) {
if (l > 0) {
l--;
d++;
r.push([ h + g, !1 ]);
}
} else {
d++;
r.push([ h + g, !0 ]);
}
if (5 == d) if (0 == o) c.push(r); else if (1 == o) {
for (var u = 0, _ = 0; _ < 5; _++) if (!r[_][1]) {
u++;
break;
}
if (1 == u) c.push(r); else {
c.push(r);
for (_ = 0; _ < 5; _++) {
(p = this.deepcopy(r))[_][1] = !1;
c.push(p);
}
}
} else if (2 == o) {
for (u = 0, _ = 0; _ < 5; _++) r[_][1] || u++;
if (2 == u) c.push(r); else if (1 == u) {
c.push(r);
for (_ = 0; _ < 5; _++) {
if ((p = this.deepcopy(r))[_][1]) {
p[_][1] = !1;
c.push(p);
}
}
} else {
c.push(r);
for (_ = 0; _ < 5; _++) {
(p = this.deepcopy(r))[_][1] = !1;
c.push(p);
}
for (_ = 0; _ < 5; _++) for (var v = _ + 1; v < 5; v++) {
var p;
(p = this.deepcopy(r))[_][1] = !1;
p[v][1] = !1;
c.push(p);
}
}
}
}
for (h = 0; h < c.length; h++) {
var m = null;
if (1 == o) {
i && (m = [ 67 ]);
t && (m = [ 66 ]);
} else 2 == o && (m = [ 66, 67 ]);
var f = [];
for (g = 0; g < 5; g++) {
var y = c[h][g][0];
c[h][g][1] ? f.push(s[y].map(function(e, i) {
return (14 == y ? 1 : y) + 16 * e;
})) : f.push(m);
}
n.push(this.combination2(f, 5));
}
for (h = 0; h < n.length; h++) for (g = 0; g < n[h].length; g++) {
if (o > 0) {
var C = 0, b = 0;
for (_ = 0; _ < n[h][g].length; _++) {
66 == n[h][g][_] && b++;
67 == n[h][g][_] && C++;
}
if (2 == C || 2 == b) continue;
}
a.push(n[h][g]);
}
return a;
},
getSantiao: function(e, i, t) {
var a = [];
this.classifyCard(e).numbers.forEach(function(e, n) {
1 == e.length && i && t && a.push([ 16 * e[0] + n, 66, 67 ]);
if (2 == e.length) {
i && a.push([ 16 * e[0] + n, 16 * e[1] + n, 67 ]);
t && a.push([ 16 * e[0] + n, 16 * e[1] + n, 66 ]);
}
3 == e.length && a.push([ 16 * e[0] + n, 16 * e[1] + n, 16 * e[2] + n ]);
4 == e.length && a.push([ 16 * e[0] + n, 16 * e[1] + n, 16 * e[2] + n ], [ 16 * e[3] + n, 16 * e[1] + n, 16 * e[2] + n ], [ 16 * e[0] + n, 16 * e[1] + n, 16 * e[3] + n ], [ 16 * e[0] + n, 16 * e[2] + n, 16 * e[3] + n ]);
});
return a;
},
getLiangDui: function(e, i, t) {
var a = [], n = [], s = this.getDuizi(e, i, t);
if (s.length >= 2) {
n = this.combination(s, 2);
for (var c = 0; c < n.length; c++) {
for (var o = 0, h = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ], r = 0; r < n[c].length; r++) {
66 != n[c][r] && 67 != n[c][r] || o++;
var l = n[c][r] % 16;
1 == l && h[0]++;
2 == l && h[1]++;
3 == l && h[2]++;
4 == l && h[3]++;
5 == l && h[4]++;
6 == l && h[5]++;
7 == l && h[6]++;
8 == l && h[7]++;
9 == l && h[8]++;
10 == l && h[9]++;
11 == l && h[10]++;
12 == l && h[11]++;
13 == l && h[12]++;
}
for (var d = !1, g = 0; g < 13; g++) {
if (h[g] >= 3) {
d = !0;
break;
}
if (o > 0) {
d = !0;
break;
}
}
d || a.push(n[c]);
}
}
return a;
},
getDuizi: function(e, i, t) {
var a = [];
this.classifyCard(e).numbers.forEach(function(e, n) {
if (1 == e.length) {
i && a.push([ 16 * e[0] + n, 67 ]);
t && a.push([ 16 * e[0] + n, 66 ]);
}
2 == e.length && a.push([ 16 * e[0] + n, 16 * e[1] + n ]);
3 == e.length && a.push([ 16 * e[0] + n, 16 * e[2] + n ], [ 16 * e[0] + n, 16 * e[1] + n ], [ 16 * e[1] + n, 16 * e[2] + n ]);
4 == e.length && a.push([ 16 * e[0] + n, 16 * e[1] + n ], [ 16 * e[0] + n, 16 * e[2] + n ], [ 16 * e[0] + n, 16 * e[3] + n ], [ 16 * e[1] + n, 16 * e[2] + n ], [ 16 * e[1] + n, 16 * e[3] + n ], [ 16 * e[2] + n, 16 * e[3] + n ]);
});
i && t && a.push([ 66, 67 ]);
return a;
},
combination: function(e, i) {
var t = [];
(function e(i, a, n) {
if (0 == n) return t.push(i);
for (var s = 0, c = a.length; s <= c - n; s++) e(i.concat(a[s]), a.slice(s + 1), n - 1);
})([], e, i);
return t;
},
combination2: function(e, i) {
var t = [];
(function e(i, a, n) {
if (0 == n) return t.push(i);
for (var s = 0, c = a.length; s <= c - n; s++) for (var o = 0; o < a[s].length; o++) e(i.concat(a[s][o]), a.slice(s + 1), n - 1);
})([], e, i);
return t;
},
classifyCard: function(e) {
var i = [ [], [], [], [], [] ], t = [ [], [], [], [], [], [], [], [], [], [], [], [], [], [] ];
e.forEach(function(e) {
var a = parseInt(e / 16), n = e % 16;
i[a].push(n);
t[n].push(a);
});
return {
colors: i,
numbers: t
};
},
SortCardList: function(e, i) {
for (var t = new Array(e.length), a = 0; a < i; a++) t[a] = e[a] % 16;
var n, s = !0, c = i - 1;
do {
s = !0;
for (a = 0; a < c; a++) if (t[a] > t[a + 1] || t[a] == t[a + 1]) {
n = e[a + 1];
e[a + 1] = e[a];
e[a] = n;
n = t[a + 1];
t[a + 1] = t[a];
t[a] = n;
s = !1;
}
c--;
} while (0 == s);
},
SortSpTypeList: function(e, i) {
var t = !0, a = [], n = i - 1;
do {
t = !0;
for (var s = 0; s < n; s++) if (e[s][2] < e[s + 1][2] || e[s] == e[s + 1]) {
a = [].concat(e[s + 1]);
e[s + 1][0] = e[s][0];
e[s + 1][1] = e[s][1];
e[s + 1][2] = e[s][2];
e[s][0] = a[0];
e[s][1] = a[1];
e[s][2] = a[2];
t = !1;
}
n--;
} while (0 == t);
},
arrRemove: function(e, i) {
if (!(i.length > e.length)) for (var t = 0; t < i.length; t++) for (var a = 0; a < e.length; a++) if (e[a] == i[t]) {
e.splice(a, 1);
break;
}
},
setSanPai: function(e, i, t, a) {
var n = e.length;
if (t.length > 0) {
if (5 == a) {
if (5 == t.length) return !0;
if (i == c) for (var s = t[0] % 16, r = n - 1; r >= 0; r--) if (e[r] % 16 != s) for (var l = e[r], d = n - 1; d >= 0; d--) if (e[d] % 16 != s && e[d] % 16 != l % 16) for (var u = e[d], _ = n - 1; _ >= 0; _--) if (e[_] % 16 != s && e[_] % 16 != l % 16 && e[_] % 16 != u % 16) {
var v = e[_];
t.push(l);
t.push(u);
t.push(v);
this.arrRemove(e, [ l, u, v ]);
return !0;
}
if (i == o) for (r = n - 1; r >= 0; r--) if (e[r] % 16 != t[0] % 16 && e[r] % 16 != t[1] % 16 && e[r] % 16 != t[2] % 16 && e[r] % 16 != t[3] % 16) {
t.push(e[r]);
this.arrRemove(e, [ e[r] ]);
return !0;
}
if (i == h) for (r = n - 1; r >= 0; r--) if (e[r] % 16 != t[0] % 16) for (l = e[r], 
d = n - 1; d >= 0; d--) if (e[d] % 16 != t[0] % 16 && e[d] % 16 != l % 16) {
u = e[d];
t.push(l);
t.push(u);
this.arrRemove(e, [ l, u ]);
return !0;
}
if (i == g) for (r = n - 1; r >= 0; r--) if (e[r] % 16 != t[0] % 16) {
t.push(e[r]);
this.arrRemove(e, [ e[r] ]);
return !0;
}
} else {
if (3 == t.length) return !0;
if (i == c) for (r = n - 1; r >= 0; r--) if (e[r] % 16 != t[0] % 16) {
t.push(e[r]);
this.arrRemove(e, [ e[r] ]);
return !0;
}
}
return !1;
}
if (5 == a) {
t[0] = e[0];
t[1] = e[n - 4];
t[2] = e[n - 3];
t[3] = e[n - 2];
t[4] = e[n - 1];
} else {
t[0] = e[0];
t[1] = e[n - 2];
t[2] = e[n - 1];
}
this.arrRemove(e, t);
return !0;
},
getCardTypeFenEx: function(e, i) {
for (var t = 0; t < T.length; t++) if (T[t].CT_NO == e) return 0 == i ? T[t].TD : 1 == i ? T[t].SD : T[t].FD;
},
getCardBigValue: function(e, i) {
for (var t = !1, a = !1, n = [], _ = [ [], [], [], [], [], [], [], [], [], [], [], [], [], [], [] ], v = 0; v < e.length; v++) 66 == e[v] ? a = !0 : 67 == e[v] ? t = !0 : n.push(e[v]);
n.length;
var p = this.classifyCard(n).numbers;
for (v = 0; v < p.length; v++) if (p[v].length > 0) for (var m = 0; m < p[v].length; m++) _[v].push([ p[v][m], !0 ]);
switch (i) {
case s:
if (0 != p[1].length) {
_[14] = this.deepcopy(_[1]);
_[1] = [];
}
break;

case c:
if (t || a) if (0 != p[1].length) _[1].push([ 0, !1 ]); else for (v = p.length - 1; v >= 0; v--) if (p[v].length > 0) {
_[v].push([ 0, !1 ]);
break;
}
if (0 != _[1].length) {
_[14] = this.deepcopy(_[1]);
_[1] = [];
}
break;

case o:
if (0 != _[1].length) {
_[14] = this.deepcopy(_[1]);
_[1] = [];
}
break;

case h:
if (t || a) if (t && a) {
if (0 != p[1].length) {
_[1].push([ 0, !1 ]);
_[1].push([ 0, !1 ]);
} else for (v = p.length - 1; v >= 0; v--) if (p[v].length > 0) {
_[v].push([ 0, !1 ]);
_[v].push([ 0, !1 ]);
break;
}
} else for (v = p.length - 1; v >= 0; v--) if (2 == p[v].length) {
_[v].push([ 0, !1 ]);
break;
}
if (0 != _[1].length) {
_[14] = this.deepcopy(_[1]);
_[1] = [];
}
break;

case r:
if (t || a) {
var f = -1, y = -1;
for (v = p.length - 1; v >= 0; v--) if (p[v].length > 0) {
f = v;
break;
}
for (v = 0; v < p.length; v++) if (p[v].length > 0) {
y = v;
break;
}
if (1 == y && f > 5) {
p.push(p[1]);
p[1] = [];
f = 14;
for (v = 0; v < p.length; v++) if (p[v].length > 0) {
y = v;
break;
}
}
for (v = y; v <= f; v++) p[v].length > 0 || _[v].push([ 0, !1 ]);
if (f - y == 3) 14 == f ? _[f - 4].push([ 0, !1 ]) : 5 == f ? _[1].push([ 0, !1 ]) : _[f + 1].push([ 0, !1 ]); else if (f - y == 2) if (14 == f) {
_[f - 3].push([ 0, !1 ]);
_[f - 4].push([ 0, !1 ]);
} else if (13 == f) {
_[14].push([ 0, !1 ]);
_[10].push([ 0, !1 ]);
} else if (5 == f) {
_[1].push([ 0, !1 ]);
_[2].push([ 0, !1 ]);
} else if (4 == f) {
_[1].push([ 0, !1 ]);
_[5].push([ 0, !1 ]);
} else {
_[f + 1].push([ 0, !1 ]);
_[f + 2].push([ 0, !1 ]);
}
}
if (0 != _[1].length) {
_[14] = this.deepcopy(_[1]);
_[1] = [];
}
break;

case l:
t && _[1].push([ 0, !1 ]);
a && _[1].push([ 0, !1 ]);
if (0 != _[1].length) {
_[14] = this.deepcopy(_[1]);
_[1] = [];
}
break;

case d:
if (t || a) if (0 != _[1].length) _[1].push([ 0, !1 ]); else for (v = p.length - 1; v >= 0; v--) if (2 == p[v].length) {
_[v].push([ 0, !1 ]);
break;
}
if (0 != _[1].length) {
_[14] = this.deepcopy(_[1]);
_[1] = [];
}
break;

case g:
if (t || a) if (t && a) {
for (v = p.length - 1; v >= 0; v--) if (2 == p[v].length) {
_[v].push([ 0, !1 ]);
_[v].push([ 0, !1 ]);
break;
}
} else for (v = p.length - 1; v >= 0; v--) if (3 == p[v].length) {
_[v].push([ 0, !1 ]);
break;
}
if (0 != _[1].length) {
_[14] = this.deepcopy(_[1]);
_[1] = [];
}
break;

case u:
if (t || a) {
for (f = -1, y = -1, v = p.length - 1; v >= 0; v--) if (p[v].length > 0) {
f = v;
break;
}
for (v = 0; v < p.length; v++) if (p[v].length > 0) {
y = v;
break;
}
var C = p[y][0];
if (1 == y && f > 5) {
p.push(p[1]);
p[1] = [];
f = 14;
for (v = 0; v < p.length; v++) if (p[v].length > 0) {
y = v;
break;
}
}
for (v = y; v <= f; v++) p[v].length > 0 || _[v].push([ C, !1 ]);
if (f - y == 3) 14 == f ? _[f - 4].push([ C, !1 ]) : 5 == f ? _[1].push([ C, !1 ]) : _[f + 1].push([ C, !1 ]); else if (f - y == 2) if (14 == f) {
_[f - 3].push([ C, !1 ]);
_[f - 4].push([ C, !1 ]);
} else if (13 == f) {
_[14].push([ C, !1 ]);
_[10].push([ 0, !1 ]);
} else if (5 == f) {
_[1].push([ 0, !1 ]);
_[2].push([ 0, !1 ]);
} else if (4 == f) {
_[1].push([ 0, !1 ]);
_[5].push([ 0, !1 ]);
} else {
_[f + 1].push([ C, !1 ]);
_[f + 2].push([ C, !1 ]);
}
}
if (0 != _[1].length) {
_[14] = this.deepcopy(_[1]);
_[1] = [];
}
}
return _;
},
CompareSameCardTypeDao: function(e, i, t, a, n) {
var _ = e.length > i.length ? e.length : i.length;
switch (n) {
case s:
for (var v = 0, p = t.length - 1; p >= 0 && v != _; p--) if (t[p].length > 0 && a[p].length > 0) v++; else if (0 != t[p].length || 0 != a[p].length) {
if (t[p].length > 0) {
v++;
return 2;
}
if (a[p].length > 0) {
v++;
return 1;
}
}
var m = 0, f = 0;
v = 0;
for (p = t.length - 1; p >= 0 && v != _; p--) if (t[p].length > 0 && a[p].length > 0) {
if ((m = t[p][0][0]) != (f = a[p][0][0])) return m > f ? 2 : 1;
v++;
} else ;
return 0;

case c:
var y = 0;
for (p = t.length - 1; p >= 0; p--) {
if (2 == t[p].length && 2 == a[p].length) {
y = p;
break;
}
if (0 != t[p].length || 0 != a[p].length) {
if (2 == t[p].length) return 2;
if (2 == a[p].length) return 1;
}
}
if (e.length == i.length) for (p = t.length - 1; p >= 0 && (1 != t[p].length || 1 != a[p].length); p--) if (0 != t[p].length || 0 != a[p].length) {
if (1 == t[p].length) return 2;
if (1 == a[p].length) return 1;
}
for (var C = 3; C >= 0; C--) {
var b = !1, w = !1;
for (p = 0; p < t[y].length; p++) t[y][p][0] == C && 0 != t[y][p][1] && (b = !0);
for (p = 0; p < a[y].length; p++) a[y][p][0] == C && 0 != a[y][p][1] && (w = !0);
if (b != w) {
if (b) return 2;
if (w) return 1;
}
}
return 0;

case o:
for (y = -1, p = t.length - 1; p >= 0; p--) if (2 != t[p].length || 2 != a[p].length) {
if (0 != t[p].length || 0 != a[p].length) {
if (2 == t[p].length) return 2;
if (2 == a[p].length) return 1;
}
} else -1 == y && (y = p);
if (e.length == i.length) for (p = t.length - 1; p >= 0 && (1 != t[p].length || 1 != a[p].length); p--) if (0 != t[p].length || 0 != a[p].length) {
if (1 == t[p].length) return 2;
if (1 == a[p].length) return 1;
}
for (C = 3; C >= 0; C--) {
for (b = !1, w = !1, p = 0; p < t[y].length; p++) t[y][p][0] == C && 0 != t[y][p][1] && (b = !0);
for (p = 0; p < a[y].length; p++) a[y][p][0] == C && 0 != a[y][p][1] && (w = !0);
if (b != w) {
if (b) return 2;
if (w) return 1;
}
}
return 0;

case h:
for (y = 0, p = t.length - 1; p >= 0; p--) {
if (3 == t[p].length && 3 == a[p].length) {
y = p;
break;
}
if (0 != t[p].length || 0 != a[p].length) {
if (3 == t[p].length) return 2;
if (3 == a[p].length) return 1;
}
}
if (e.length == i.length) for (p = t.length - 1; p >= 0 && (1 != t[p].length || 1 != a[p].length); p--) if (0 != t[p].length || 0 != a[p].length) {
if (1 == t[p].length) return 2;
if (1 == a[p].length) return 1;
}
for (C = 3; C >= 0; C--) {
for (b = !1, w = !1, p = 0; p < t[y].length; p++) t[y][p][0] == C && 0 != t[y][p][1] && (b = !0);
for (p = 0; p < a[y].length; p++) a[y][p][0] == C && 0 != a[y][p][1] && (w = !0);
if (b != w) {
if (b) return 2;
if (w) return 1;
}
}
return 0;

case r:
for (p = t.length - 1; p >= 0; p--) if (!(1 == t[p].length && 1 == a[p].length || 0 == t[p].length && 0 == a[p].length)) {
if (1 == t[p].length) return 2;
if (1 == a[p].length) return 1;
}
for (p = t.length - 1; p >= 0; p--) if (1 == t[p].length && 1 == a[p].length) for (C = 3; C >= 0; C--) {
b = !1, w = !1;
t[p][0][0] == C && 0 != t[p][0][1] && (b = !0);
a[p][0][0] == C && 0 != a[p][0][1] && (w = !0);
if (b != w) {
if (b) return 2;
if (w) return 1;
}
}
return 0;

case l:
for (p = t.length - 1; p >= 0; p--) {
if (t[p].length > 0 && a[p].length > 0) {
if (t[p].length == a[p].length) continue;
return t[p].length > a[p].length ? 2 : 1;
}
if (0 != t[p].length || 0 != a[p].length) {
if (t[p].length > 0) return 2;
if (a[p].length > 0) return 1;
}
}
var x = 0, z = 0;
for (p = t.length - 1; p >= 0; p--) if (t[p].length > 0 && 0 != t[p][0][1]) {
x = t[p][0][0];
break;
}
for (p = a.length - 1; p >= 0; p--) if (a[p].length > 0 && 0 != a[p][0][1]) {
z = a[p][0][0];
break;
}
return x > z ? 2 : x < z ? 1 : 0;

case d:
var k = -1;
for (p = t.length - 1; p >= 0; p--) {
if (3 == t[p].length && 3 == a[p].length) {
k = p;
break;
}
if (0 != t[p].length || 0 != a[p].length) {
if (3 == t[p].length) return 2;
if (3 == a[p].length) return 1;
}
}
var M = -1;
for (p = t.length - 1; p >= 0; p--) {
if (2 == t[p].length && 2 == a[p].length) {
M = p;
break;
}
if (0 != t[p].length || 0 != a[p].length) {
if (2 == t[p].length) return 2;
if (2 == a[p].length) return 1;
}
}
for (C = 3; C >= 0; C--) {
for (b = !1, w = !1, p = 0; p < t[k].length; p++) t[k][p][0] == C && 0 != t[k][p][1] && (b = !0);
for (p = 0; p < a[k].length; p++) a[k][p][0] == C && 0 != a[k][p][1] && (w = !0);
if (b != w) {
if (b) return 2;
if (w) return 1;
}
}
for (C = 3; C >= 0; C--) {
for (b = !1, w = !1, p = 0; p < t[M].length; p++) t[M][p][0] == C && 0 != t[M][p][1] && (b = !0);
for (p = 0; p < a[M].length; p++) a[M][p][0] == C && 0 != a[M][p][1] && (w = !0);
if (b != w) {
if (b) return 2;
if (w) return 1;
}
}
return 0;

case g:
var j = -1, N = !0, S = -1, F = !0;
for (p = t.length - 1; p >= 0; p--) {
if (4 == t[p].length) {
j = p;
for (var B = 0; B < t[p].length; B++) if (0 == t[p][B][1]) {
N = !1;
break;
}
}
if (4 == a[p].length) {
S = p;
for (B = 0; B < a[p].length; B++) if (0 == a[p][B][1]) {
F = !1;
break;
}
}
}
return N != F ? N ? 2 : 1 : j == S ? 0 : j > S ? 2 : j < S ? 1 : 0;

case u:
for (N = !0, F = !0, p = t.length - 1; p >= 0; p--) {
1 == t[p].length && 0 == t[p][0][1] && (N = !1);
1 == a[p].length && 0 == a[p][0][1] && (F = !1);
}
if (N != F) return N ? 2 : 1;
for (p = t.length - 1; p >= 0; p--) if (!(1 == t[p].length && 1 == a[p].length || 0 == t[p].length && 0 == a[p].length)) {
if (1 == t[p].length) return 2;
if (1 == a[p].length) return 1;
}
for (x = 0, z = 0, p = t.length - 1; p >= 0; p--) if (1 == t[p].length && 0 != t[p][0][1]) {
x = t[p][0][0];
break;
}
for (p = a.length - 1; p >= 0; p--) if (1 == a[p].length && 0 != a[p][0][1]) {
z = a[p][0][0];
break;
}
return x > z ? 2 : x < z ? 1 : 0;
}
},
CompareSameCtCard: function(e, i, t) {
var a = this.AnalysebCardData(e), n = this.AnalysebCardData(i), o = e.length > i.length ? e.length : i.length;
switch (t) {
case s:
for (var g = 0; g < o; g++) {
var _ = n.cbLogicValue[0];
if ((b = a.cbLogicValue[0]) != _) return b > _ ? 2 : 1;
}
return 0;

case c:
case h:
if (a.cbFourCount > 0) {
_ = n.cbFourLogicVolue[0];
return (b = a.cbFourLogicVolue[0]) != _ ? b > _ ? 2 : 1 : (b = a.cbSignedLogicVolue[0]) != (_ = n.cbSignedLogicVolue[0]) ? b > _ ? 2 : 1 : 0;
}
if (a.cbThreeCount > 0) {
_ = n.cbThreeLogicVolue[0];
if ((b = a.cbThreeLogicVolue[0]) != _) return b > _ ? 2 : 1;
if (d == t) return (b = a.cbLONGLogicVolue[0]) != (_ = n.cbLONGLogicVolue[0]) ? b > _ ? 2 : 1 : 0;
for (g = 0; g < a.cbSignedCount; g++) {
var v = n.cbSignedLogicVolue[g], p = a.cbSignedLogicVolue[g];
if (p != v) return p > v ? 2 : 1;
}
return 0;
}
for (g = 0; g < a.cbLONGCount; g++) {
_ = n.cbLONGLogicVolue[g];
if ((b = a.cbLONGLogicVolue[g]) != _) return b > _ ? 2 : 1;
}
for (g = 0; g < a.cbSignedCount; g++) {
_ = n.cbSignedLogicVolue[g];
if ((b = a.cbSignedLogicVolue[g]) != _) return b > _ ? 2 : 1;
}
return 0;

case r:
case u:
_ = n.cbLogicValue[0];
var m = (b = a.cbLogicValue[0]) == a.cbLogicValue[1] + 12, f = _ == n.cbLogicValue[1] + 12, y = 13 == a.cbLogicValue[1], C = 13 == n.cbLogicValue[1];
if (1 == m) {
if (1 == C) return 1;
if (1 != C && 1 != f) return 2;
}
if (1 == f) {
if (1 == y) return 2;
if (1 != y && 1 != m) return 1;
}
for (g = 0; g < o; g++) {
_ = n.cbLogicValue[g];
if ((b = a.cbLogicValue[g]) != _) return b > _ ? 2 : 1;
}
for (g = 0; g < o; g++) {
_ = parseInt(i[g] / 16);
if ((b = parseInt(e[g] / 16)) != _) return b > _ ? 2 : 1;
}
return 0;

case l:
for (g = 0; g < o; g++) {
var b;
_ = n.cbLogicValue[g];
if ((b = a.cbLogicValue[g]) != _) return b > _ ? 2 : 1;
}
return 0;
}
},
checkisSameCards: function(e, i) {
for (var t = 0; t < i.length; t++) {
var a = !1, n = [].concat(i[t]), s = [].concat(e);
n.sort();
s.sort();
for (var c = 0; c < n.length; c++) if (n[c] != s[c]) {
a = !0;
break;
}
if (0 == a) return !0;
}
return !1;
},
CompareDaoCtCard: function(e, i) {
var t = [ 0, "" ], a = 0, n = "";
do {
if (-1 != e[0][0]) {
if (-1 != e[1][0]) {
if (e[0][0] > e[1][0]) {
n = "出牌顺序不符合规则，请重新选牌";
a = 2;
break;
}
if (e[0][0] < e[1][0]) a = 0; else {
0 == e[0][1].length && (e[0][1] = this.getCardBigValue(i[0], e[0][0]));
0 == e[1][1].length && (e[1][1] = this.getCardBigValue(i[1], e[0][0]));
if (2 == (a = this.CompareSameCardTypeDao(i[0], i[1], e[0][1], e[1][1], e[0][0]))) {
n = "出牌顺序不符合规则，请重新选牌";
a = 2;
break;
}
a = 0;
}
}
if (-1 != e[2][0]) {
if (e[0][0] > e[2][0]) {
n = "出牌顺序不符合规则，请重新选牌";
a = 2;
break;
}
if (e[0][0] < e[2][0]) a = 0; else {
0 == e[0][1].length && (e[0][1] = this.getCardBigValue(i[0], e[0][0]));
0 == e[2][1].length && (e[2][1] = this.getCardBigValue(i[2], e[0][0]));
if (2 == (a = this.CompareSameCardTypeDao(i[0], i[2], e[0][1], e[2][1], e[0][0]))) {
n = "出牌顺序不符合规则，请重新选牌";
a = 2;
break;
}
a = 0;
}
}
}
if (-1 != e[1][0] && -1 != e[2][0]) {
if (e[1][0] > e[2][0]) {
n = "出牌顺序不符合规则";
a = 1;
break;
}
if (e[1][0] < e[2][0]) a = 0; else {
0 == e[1][1].length && (e[1][1] = this.getCardBigValue(i[1], e[1][0]));
0 == e[2][1].length && (e[2][1] = this.getCardBigValue(i[2], e[1][0]));
if (2 == (a = this.CompareSameCardTypeDao(i[1], i[2], e[1][1], e[2][1], e[1][0]))) {
n = "出牌顺序不符合规则";
a = 1;
break;
}
a = 0;
}
}
} while (0);
t[0] = a;
t[1] = n;
return t;
},
getDaoCardType: function(e) {
for (var i = !1, t = [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ], a = (this.getCardTypeAi(e, t, 9999, e.length > 3 ? 1 : 3, 0, !1), 
0); a < t.length; a++) if (1 == t[a]) {
i = !0;
break;
}
return i ? A[a] : s;
},
getCardTypeAi: function(e, i, t, a, n, s) {
for (var v = null, p = [], m = !1, f = !1, y = [], C = 0; C < T.length; C++) T[C].SP || p.push([ T[C].CT_NO, !1 ]);
for (C = 0; C < p.length; C++) p[C][0] <= t && (p[C][1] = !0);
for (C = 0; C < e.length; C++) 66 == e[C] ? f = !0 : 67 == e[C] ? m = !0 : y.push(e[C]);
this.SortCardList(y, y.length);
for (C = p.length - 1; C >= 0; C--) if (p[C][1]) switch (p[C][0]) {
case c:
if (1 == n) {
for (var b = 0, w = 0; w < 7; w++) 1 == i[w] && b++;
if (b > 0) break;
}
if (null != (v = this.getDuizi(y, m, f)) && v.length > 0) {
i[8] = 1;
if (!s) return v;
this.curGroupCardList[8] = [ c, v ];
}
break;

case o:
if (3 != a && null != (v = this.getLiangDui(y, m, f)) && v.length > 0) {
i[7] = 1;
if (!s) return v;
this.curGroupCardList[7] = [ o, v ];
}
break;

case h:
if (null != (v = this.getSantiao(y, m, f)) && v.length > 0) {
i[6] = 1;
if (!s) return v;
this.curGroupCardList[6] = [ h, v ];
}
break;

case r:
if (3 != a && null != (v = this.getShunzi(y, m, f)) && v.length > 0) {
i[5] = 1;
if (!s) return v;
this.curGroupCardList[5] = [ r, v ];
}
break;

case l:
if (3 != a && null != (v = this.getTonghua(y, m, f)) && v.length > 0) {
i[4] = 1;
if (!s) return v;
this.curGroupCardList[4] = [ l, v ];
}
break;

case d:
if (3 != a && null != (v = this.getHulu(y, m, f)) && v.length > 0) {
i[3] = 1;
if (!s) return v;
this.curGroupCardList[3] = [ d, v ];
}
break;

case g:
if (3 != a && null != (v = this.getTieZhi(y, m, f)) && v.length > 0) {
i[2] = 1;
if (!s) return v;
this.curGroupCardList[2] = [ g, v ];
}
break;

case u:
if (3 != a && null != (v = this.getTongHuaShun(y, m, f)) && v.length > 0) {
i[1] = 1;
if (!s) return v;
this.curGroupCardList[1] = [ u, v ];
}
break;

case _:
if (3 != a && null != (v = this.getWuTong(y)) && v.length > 0) {
i[0] = 1;
if (!s) return v;
this.curGroupCardList[0] = [ _, v ];
}
}
},
vecPush: function(e, i) {
var t = [];
t[0] = i[0];
t[1] = [].concat(i[1]);
e.push(t);
},
getSpecialCardTypeGroup: function(e, i) {
var t = null, a = !1, n = [];
this.SortCardList(i, i.length);
for (var s = this.classifyCard(i).numbers, c = this.classifyCard(i).colors, o = 0; o < e.length; o++) {
a = !1;
switch (e[o][0]) {
case B:
t = this.getQingLong(i, s, c);
break;

case F:
t = this.getYiTiaoLong(i, s, c);
break;

case S:
t = this.getSanTongHuaShun(i, s, c);
a = !0;
break;

case f:
t = this.getHalfSmall(i, s, c);
break;

case C:
t = this.getAllSmall(i, s, c);
break;

case y:
t = this.getHalfBig(i, s, c);
break;

case b:
t = this.getAllBig(i, s, c);
break;

case x:
t = this.getAllBlackOneRed(i, s, c);
break;

case k:
t = this.getAllblack(i, s, c);
break;

case z:
t = this.getAllRedOneBlack(i, s, c);
break;

case M:
t = this.getAllRed(i, s, c);
break;

case N:
t = this.getSanFenTianXia(i, s, c);
a = !0;
break;

case j:
t = this.getSiTaoSanTiao(i, s, c);
a = !0;
break;

case m:
this.getSanTongHua(i, s, c, 0);
t = this.getSanTongHua(i, s, c, 1);
a = !0;
break;

case p:
t = this.getSanShunZi(i);
a = !0;
break;

case v:
t = this.getLiuDuiBan(i, s, c);
break;

case w:
t = this.getLuxurySix(i, s, c);
}
if (null != t && t.length > 0) {
e[o][1] = !0;
if (a) {
n.push([ e[o][0], t[0] ]);
n.push([ e[o][0], t[1] ]);
n.push([ e[o][0], t[2] ]);
} else {
n.push([ e[o][0], [ i[8], i[9], i[10], i[11], i[12] ] ]);
n.push([ e[o][0], [ i[3], i[4], i[5], i[6], i[7] ] ]);
n.push([ e[o][0], [ i[0], i[1], i[2] ] ]);
}
break;
}
}
return n;
},
getSpecialCardTypeAi: function(e, i) {
if (!(this.spGroup.length > 0)) {
var t = !1, a = !1, n = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61 ];
this.SortSpTypeList(e, e.length);
for (var s = [], c = 0; c < i.length; c++) 66 == i[c] ? t = !0 : 67 == i[c] ? a = !0 : s.push(i[c]);
if (!t && !a) {
var o = s.length;
if (1 == t && 0 == a || 0 == t && 1 == a) for (c = 0; c < n.length; c++) {
for (var h = 0, r = 0; r < o; r++) s[r] == n[c] && h++;
var l = [];
(l = [].concat(s)).push(n[c]);
for (var d = this.getSpecialCardTypeGroup(e, l), g = !1, u = 0; u < d.length; u++) for (var _ = d[u][1], v = 0; v < _.length; v++) if (_[v] == n[c]) {
if (0 == h && 0 == g) {
_[v] = 1 == t ? 66 : 67;
g = !0;
break;
}
h--;
}
if (0 != d.length) if (0 == this.spGroup.length) this.spGroup = d; else {
this.getCardTypeFenEx(this.spGroup[0][0], 2) < this.getCardTypeFenEx(d[0][0], 2) && (this.spGroup = d);
}
} else if (1 == t && 1 == a) for (c = 0; c < n.length; c++) for (var p = 0; p < n.length; p++) {
var m = 0, f = 0;
for (r = 0; r < o; r++) {
s[r] == n[c] && m++;
s[r] == n[p] && f++;
}
l = [];
(l = [].concat(s)).push(n[c]);
l.push(n[p]);
d = this.getSpecialCardTypeGroup(e, l);
var y = !1, C = !1;
for (u = 0; u < d.length; u++) for (_ = d[u][1], v = 0; v < _.length; v++) {
if (_[v] == n[c]) {
if (0 == m && 0 == y) {
_[v] = 66;
y = !0;
break;
}
m--;
}
if (_[v] == n[p]) {
if (0 == f && 0 == C) {
_[v] = 67;
C = !0;
break;
}
f--;
}
}
if (0 != d.length) if (0 == this.spGroup.length) this.spGroup = d; else {
this.getCardTypeFenEx(this.spGroup[0][0], 2) < this.getCardTypeFenEx(d[0][0], 2) && (this.spGroup = d);
}
} else this.spGroup = this.getSpecialCardTypeGroup(e, i);
}
}
},
SortCardTypeGroupAi: function(e, i) {
for (var t = [], a = [], n = T.length - 1; n >= 0; n--) T[n].SP && a.push([ T[n].CT_NO, !1, T[n].FD ]);
if (i) {
this.getSpecialCardTypeAi(a, e);
for (n = 0; n < a.length; n++) if (a[n][1]) {
this.AiGroupList.push(this.spGroup);
break;
}
}
var s = [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
this.vecFDPai = [];
this.vecSDPai = [];
this.vecTDPai = [];
this.getCardTypeAi(e, s, 9999, 1, 1, !0);
for (n = 0; n < this.curGroupCardList.length; n++) if (1 == s[n]) for (var c = this.curGroupCardList[n][0], o = this.curGroupCardList[n][1], h = 0; h < o.length; h++) this.vecTDPai.push([ c, o[h] ]);
for (n = 0; n < this.vecTDPai.length; n++) {
var r = [].concat(e);
this.arrRemove(r, this.vecTDPai[n][1]);
this.vecSDPai[n] = [];
this.vecFDPai[n] = [];
var l = this.vecTDPai[n][0];
this.initGroup();
s = [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
this.getCardTypeAi(r, s, l, 2, 1, !0);
for (h = 0; h < this.curGroupCardList.length; h++) if (1 == s[h]) {
c = this.curGroupCardList[h][0], o = this.curGroupCardList[h][1];
for (var d = 0; d < o.length; d++) {
if (c == l) {
if (2 == this.CompareSameCtCard(o[d], this.vecTDPai[n][1], c)) continue;
}
this.vecSDPai[n].push([ c, o[d] ]);
}
}
for (var g = 0; g < this.vecSDPai[n].length; g++) {
var u = [].concat(r);
this.arrRemove(u, this.vecSDPai[n][g][1]);
this.vecFDPai[n][g] = [];
this.initGroup();
s = [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
this.getCardTypeAi(u, s, this.vecSDPai[n][g][0], 3, 1, !0);
for (h = 0; h < this.curGroupCardList.length; h++) if (1 == s[h]) for (c = this.curGroupCardList[h][0], 
o = this.curGroupCardList[h][1], d = 0; d < o.length; d++) {
2 != this.CompareSameCtCard(o[d], this.vecSDPai[n][g][1], c) && this.vecFDPai[n][g].push([ c, o[d] ]);
}
}
}
var _ = [];
for (n = 0; n < this.vecTDPai.length; n++) if (this.vecSDPai[n].length > 0) for (h = 0; h < this.vecSDPai[n].length; h++) if (this.vecFDPai[n][h].length > 0) for (d = 0; d < this.vecFDPai[n][h].length; d++) {
var v = [];
this.vecPush(v, this.vecTDPai[n]);
this.vecPush(v, this.vecSDPai[n][h]);
this.vecPush(v, this.vecFDPai[n][h][d]);
t.push(v);
_.push([ !1, [ v[0][0], v[1][0], v[2][0] ] ]);
} else {
v = [];
this.vecPush(v, this.vecTDPai[n]);
this.vecPush(v, this.vecSDPai[n][h]);
v.push([ 10, [] ]);
t.push(v);
_.push([ !1, [ v[0][0], v[1][0], v[2][0] ] ]);
} else {
v = [];
this.vecPush(v, this.vecTDPai[n]);
v.push([ 10, [] ]);
v.push([ 10, [] ]);
t.push(v);
_.push([ !1, [ v[0][0], v[1][0], v[2][0] ] ]);
}
var p = [];
for (n = 0; n < _.length; n++) {
var m = _[n];
if (!m[0]) {
var f = n;
m[0] = !0;
for (h = 0; h < _.length; h++) if (!_[h][0] && m[1][0] == _[h][1][0] && m[1][1] == _[h][1][1] && m[1][2] == _[h][1][2]) {
_[h][0] = !0;
var y = this.CompareSameCtCard(t[f][2][1], t[h][2][1], m[1][2]);
if (2 != y) if (0 == y) {
this.CompareSameCtCard(t[f][1][1], t[h][1][1], m[1][1]);
if (2 == C) continue;
if (0 == C) {
var C = this.CompareSameCtCard(t[f][0][1], t[h][0][1], m[1][0]);
if (2 == C) continue;
f = h;
} else f = h;
} else f = h;
}
p.push([ f, !1, !1, 0 ]);
}
}
for (n = 0; n < p.length; n++) {
var b = _[p[n][0]][1];
if (!p[n][1]) {
p[n][1] = !0;
for (h = 0; h < p.length; h++) if (!p[h][1]) {
var w = _[p[h][0]][1];
for (d = 0; d < 3; d++) if (b[d] != w[d]) {
var x = !1;
if (10 != b[d] && 10 != w[d]) x = !0; else {
if (10 == b[d]) {
p[n][2] = !0;
x = !0;
}
if (10 == w[d]) {
p[h][1] = !0;
p[h][2] = !0;
x = !0;
}
}
if (x) break;
}
}
}
}
for (n = 0; n < p.length; n++) if (!p[n][2]) for (h = n + 1; h < p.length; h++) if (!p[h][2]) {
var z = p[n][0], k = p[h][0], M = this.CompareGroup(t[z], t[k]);
p[n][3] += M;
p[h][3] -= M;
}
var j, N = !0, S = p.length - 1;
do {
N = !0;
for (n = 0; n < S; n++) if (p[n][3] < p[n + 1][3] || p[n][3] == p[n + 1][3]) {
j = [].concat(p[n + 1]);
for (d = 0; d < p[n].length; d++) p[n + 1][d] = p[n][d];
for (d = 0; d < p[n].length; d++) p[n][d] = j[d];
N = !1;
}
S--;
} while (0 == N);
var F = 0;
for (n = 0; n < p.length; n++) p[n][2] || (F > 3 ? p[n][2] = !0 : F++);
if (p.length <= 0) {
var B = [].concat(e), A = (v = [], [ 10, [] ]);
this.setSanPai(B, A[0], A[1], 5);
v.push(A);
A = [ 10, [] ];
this.setSanPai(B, A[0], A[1], 5);
v.push(A);
A = [ 10, [] ];
this.setSanPai(B, A[0], A[1], 3);
this.AiGroupList.push(v);
} else for (n = 0; n < p.length; n++) if (!p[n][2]) {
v = t[p[n][0]], B = [].concat(e);
for (var I = 0; I < v.length; I++) v[I].length > 0 && v[I][1].length > 0 && this.arrRemove(B, v[I][1]);
var X = 0;
for (I = 0; I < v.length; I++) this.setSanPai(B, v[I][0], v[I][1], I > 1 ? 3 : 5) || X++;
0 == X && this.AiGroupList.push(v);
}
},
CompareGroup: function(e, i) {
for (var t = 0, a = 0; a < 3; a++) {
var n = e[a][0], s = i[a][0], c = 0, o = 0;
if (n > s) {
c = this.getCardTypeFenEx(n, a);
o = 2;
}
if (n < s) {
c = this.getCardTypeFenEx(s, a);
o = 1;
}
if (n == s) {
c = this.getCardTypeFenEx(s, a);
o = this.CompareSameCtCard(e[a][1], i[a][1], s);
}
2 == o ? t += c : 1 == o ? t -= c : t += 0;
}
return t;
}
}, "CompareSameCtCard", function(e, i, t) {
var a = this.AnalysebCardData(e), n = this.AnalysebCardData(i), _ = e.length > i.length ? e.length : i.length;
switch (t) {
case s:
for (var v = 0; v < _; v++) {
var p = n.cbLogicValue[0];
if ((x = a.cbLogicValue[0]) != p) return x > p ? 2 : 1;
}
return 0;

case c:
case o:
case h:
case g:
case d:
if (a.cbFourCount > 0) {
p = n.cbFourLogicVolue[0];
return (x = a.cbFourLogicVolue[0]) != p ? x > p ? 2 : 1 : (x = a.cbSignedLogicVolue[0]) != (p = n.cbSignedLogicVolue[0]) ? x > p ? 2 : 1 : 0;
}
if (a.cbThreeCount > 0) {
p = n.cbThreeLogicVolue[0];
if ((x = a.cbThreeLogicVolue[0]) != p) return x > p ? 2 : 1;
if (d == t) return (x = a.cbLONGLogicVolue[0]) != (p = n.cbLONGLogicVolue[0]) ? x > p ? 2 : 1 : 0;
for (v = 0; v < a.cbSignedCount; v++) {
var m = n.cbSignedLogicVolue[v], f = a.cbSignedLogicVolue[v];
if (f != m) return f > m ? 2 : 1;
}
return 0;
}
for (v = 0; v < a.cbLONGCount; v++) {
p = n.cbLONGLogicVolue[v];
if ((x = a.cbLONGLogicVolue[v]) != p) return x > p ? 2 : 1;
}
for (v = 0; v < a.cbSignedCount; v++) {
p = n.cbSignedLogicVolue[v];
if ((x = a.cbSignedLogicVolue[v]) != p) return x > p ? 2 : 1;
}
return 0;

case r:
case u:
p = n.cbLogicValue[0];
var y = (x = a.cbLogicValue[0]) == a.cbLogicValue[1] + 9, C = p == n.cbLogicValue[1] + 9, b = 13 == a.cbLogicValue[1], w = 13 == n.cbLogicValue[1];
if (1 == y) {
if (1 == w) return 1;
if (1 != w && 1 != C) return 2;
}
if (1 == C) {
if (1 == b) return 2;
if (1 != b && 1 != y) return 1;
}
for (v = 0; v < _; v++) {
p = n.cbLogicValue[v];
if ((x = a.cbLogicValue[v]) != p) return x > p ? 2 : 1;
}
return 0;

case l:
for (v = 0; v < _; v++) {
var x;
p = n.cbLogicValue[v];
if ((x = a.cbLogicValue[v]) != p) return x > p ? 2 : 1;
}
return 0;
}
}), n(a, "CompareCard", function(e, i) {
var t = this.GetCardType(i, i.length), a = this.GetCardType(e, e.length);
return a > t ? 2 : a < t ? 1 : CompareSameCtCard(e, i, a);
}), n(a, "GetCardType", function(e, i) {
for (var t = !0, a = !0, n = this.GetCardColor(e[0]), s = this.GetCardLogicValue(e[0]), c = 1; c < i; c++) {
this.GetCardColor(e[c]) != n && (t = !1);
s != this.GetCardLogicValue(e[c]) + c && (a = !1);
if (0 == t && 0 == a) break;
}
if (0 == a && 14 == s) {
c = 1;
for (c = 1; c < i; c++) {
if (s != this.GetCardLogicValue(e[c]) + c + 8) break;
}
c == i && (a = !0);
}
if (3 == i) {
(o = ssz.tagAnalyseResult1).initData();
this.AnalysebCardData(e, i, o);
if (1 == o.cbThreeCount) return T.CT_THREE_TIAO;
if (1 == o.cbLONGCount) return T.CT_ONE_LONG;
} else {
if (1 == t && 1 == a && 13 == this.GetCardLogicValue(e[1])) return T.CT_KING_TONG_HUA_SHUN;
if (0 == t && 1 == a) return T.CT_SHUN_ZI;
if (1 == t && 0 == a) return T.CT_TONG_HUA;
if (1 == t && 1 == a) return T.CT_TONG_HUA_SHUN;
var o;
(o = ssz.tagAnalyseResult1).initData();
this.AnalysebCardData(e, i, o);
if (1 == o.cbFourCount) return T.CT_TIE_ZHI;
if (2 == o.cbLONGCount) return T.CT_TWO_LONG;
if (1 == o.cbLONGCount && 1 == o.cbThreeCount) return T.CT_HU_LU;
if (1 == o.cbThreeCount && 0 == o.cbLONGCount) return T.CT_THREE_TIAO;
if (1 == o.cbLONGCount && 3 == o.cbSignedCount) return T.CT_ONE_LONG;
}
return T.CT_SINGLE;
}), n(a, "GetCardColor", function(e) {
return parseInt(e / 16);
}), n(a, "GetCardLogicValue", function(e) {
var i = e % 16;
1 == i && (i = 14);
return i;
}), n(a, "AnalysebCardData", function(e) {
var i = {
cbLogicValue: [],
cbSignedLogicVolue: [],
cbLONGLogicVolue: [],
cbThreeLogicVolue: [],
cbFourLogicVolue: [],
cbSignedCount: 0,
cbLONGCount: 0,
cbThreeCount: 0,
cbFourCount: 0
}, t = (e.length, this.classifyCard(e).numbers);
if (t[1].length > 0) {
t.push(t[1]);
t[1] = [];
}
for (var a = t.length - 1; a >= 0; a--) {
var n = t[a].length;
if (0 != n) {
for (var s = 0; s < n; s++) i.cbLogicValue.push(a);
switch (n) {
case 1:
i.cbSignedLogicVolue.push(a);
i.cbSignedCount++;
break;

case 2:
i.cbLONGLogicVolue.push(a);
i.cbLONGCount++;
break;

case 3:
i.cbThreeLogicVolue.push(a);
i.cbThreeCount++;
break;

case 4:
i.cbFourLogicVolue.push(a);
i.cbFourCount++;
}
}
}
return i;
}), a));
cc.Class({
extends: cc.Component,
properties: {
_wanfa: 1,
_seatid: 0,
players: 4,
sszPokerAtlas: {
default: null,
type: cc.SpriteAtlas
},
sszPokerAtlas2: {
default: null,
type: cc.SpriteAtlas
},
sszTableAtlas: {
default: null,
type: cc.SpriteAtlas
},
SpCardAtlas: {
default: null,
type: cc.SpriteAtlas
},
SpEffectAtlas: {
default: null,
type: cc.SpriteAtlas
},
CardTypeAtlas: {
default: null,
type: cc.SpriteAtlas
},
SpecialCardTypeSpineData: {
default: [],
type: sp.SkeletonData
},
_kaipai: !1,
_baipaiMode: 0,
_timeLabel: null,
_lastPlayTime: null,
_voiceMsgQueue: []
},
onLoad: function() {
if (!cc.sys.isNative && cc.sys.isMobile) {
var e = this.node.getComponent(cc.Canvas);
e.fitHeight = !0;
e.fitWidth = !0;
}
if (cc.vv) {
this.m_bGameStarted = !1;
this.m_bTableStarted = !1;
this.vecReadyCard = [ null, null, null ];
this.isSpeType = !1;
this.refreshPlayerStatus();
this.addComponent("UserInfoShow");
this.sszCardList = new P();
this.Constants = T;
this.initView();
this.initEventHandlers();
this.baipaiComponent = this.node.getComponent("SSZBaiPai");
this.paiMianType = 1;
var i = cc.sys.localStorage.getItem("paimian");
null != i && (this.paiMianType = i);
cc.vv.audioMgr.playBGM("bgFight");
} else cc.director.loadScene("loading");
},
refreshPlayerStatus: function(e) {
this.m_vecIsReady = [ 0, 0, 0, 0 ];
this.m_vecIsKaiPaiReady = [ 0, 0, 0, 0 ];
},
initMain: function() {
this.byRound = 0;
this.deskBack = this.node.getChildByName("ID_SPRITE_DESKBACK");
this.funcBtn = this.node.getChildByName("Layout_FuncBtn");
this.inviteBtn = this.funcBtn.getChildByName("ID_BUTTON_INVITE");
this.readyBtn = this.funcBtn.getChildByName("ID_BUTTON_READY");
this.readyBtn.active = !1;
this.roundinfo = this.node.getChildByName("roundinfo");
this.reportBtn = this.roundinfo.getChildByName("ID_BUTTON_START");
this.reportBtn.active = !1;
this.readyBtn2 = this.roundinfo.getChildByName("ID_BUTTON_READY");
this.readyBtn2.active = !1;
this._timeLabel = this.funcBtn.getChildByName("time").getComponent(cc.Label);
this.userList = [];
for (var e = this.deskBack.getChildByName("ID_LAYOUT_USERINFO"), i = 0; i < e.children.length; ++i) this.userList.push(e.children[i].getComponent("Seat"));
this.fjhLabel = this.node.getChildByName("ID_LABEL_FJH").getComponent(cc.Label);
this.roundLabel = this.node.getChildByName("ID_LABEL_ROUND").getComponent(cc.Label);
this.roundLabelTotal = this.node.getChildByName("ID_LABEL_ROUND_TOTAL").getComponent(cc.Label);
this.descLabel = this.node.getChildByName("ID_LABEL_DESC").getComponent(cc.Label);
this.mapaiSprite = this.node.getChildByName("ID_SPARTE_MAPAI");
this.initXuanPaiLayer();
this.initTanPaiCard();
this.gameresult = this.node.getChildByName("game_result");
this.gameresult.active = !1;
this.hintBack = this.node.getChildByName("ID_SPRITE_HINT_MSG");
this.hintBack.active = !1;
this.hintLabel = this.hintBack.getChildByName("ID_LABEL_HINTLABEL");
this.Layout_Effect = this.node.getChildByName("Layout_Effect");
this.sszStartAnimaNode = this.Layout_Effect.getChildByName("ssz_startAnimanode");
this.sszStartspine = this.sszStartAnimaNode.getComponent("sp.Skeleton");
this.sszStartAnimaNode.active = !1;
this.sszBgCompCardAnimaNode = this.Layout_Effect.getChildByName("ssz_BgCompCardAnimanode");
this.sszBgCompCardspine = this.sszBgCompCardAnimaNode.getComponent("sp.Skeleton");
this.sszBgCompCardAnimaNode.active = !1;
this.sszHomeRunAnimaNode = this.Layout_Effect.getChildByName("ssz_HomeRunAnimanode");
this.sszHomeRunspine = this.sszHomeRunAnimaNode.getComponent("sp.Skeleton");
this.sszHomeRunAnimaNode.active = !1;
this.sszShotReadyAnimaNode = this.Layout_Effect.getChildByName("ssz_shotReadyAnimanode");
this.sszShotReadyspine = this.sszShotReadyAnimaNode.getComponent("sp.Skeleton");
this.sszShotReadyAnimaNode.active = !1;
this.sszShotAnimaNode = this.deskBack.getChildByName("ssz_shotAnimanode");
this.sszShotspine = this.sszShotAnimaNode.getComponent("sp.Skeleton");
this.sszShotAnimaNode.active = !1;
this.sszReadyAnimaNode = this.Layout_Effect.getChildByName("ssz_ReadyAnimanode");
this.sszReadyspine = this.sszReadyAnimaNode.getComponent("sp.Skeleton");
this.sszReadyAnimaNode.active = !1;
this.sszSpecialCardTypeAnimationNode = this.Layout_Effect.getChildByName("ssz_SpecialCardTypeAnimationNode");
this.sszSpecialCardTypeSpine = this.sszSpecialCardTypeAnimationNode.getComponent("sp.Skeleton");
this.sszSpecialCardTypeAnimationNode.active = !1;
},
getsszPokerSpriteFrame: function(e) {
var i = "255", t = null;
t = 0 == this.paiMianType ? this.sszPokerAtlas : this.sszPokerAtlas2;
if (255 != e) {
var a = parseInt(e / 16), n = e % 16;
1 == n && (n = 14);
i = this.pngStr = [ "D", "C", "H", "S", "A" ][a] + n;
return t.getSpriteFrame(i);
}
return t.getSpriteFrame(i);
},
getCardTypeBgSpriteFrame: function(e) {
return this.sszTableAtlas.getSpriteFrame(e);
},
getSpCardTypeSpriteFrame: function(e) {
221 == e && (e = 223);
222 == e && (e = 224);
var i = "sp_" + e;
return this.SpCardAtlas.getSpriteFrame(i);
},
getCardTypeSpriteFrame: function(e) {
var i = this.getCardTypeInfo(e);
return this.CardTypeAtlas.getSpriteFrame(i.CT_TISHI);
},
addClickEvent: function(e, i, t, a) {
var n = new cc.Component.EventHandler();
n.target = i;
n.component = t;
n.handler = a;
e.getComponent(cc.Button).clickEvents.push(n);
},
getCardTypeInfo: function(e) {
for (var i = 0; i < T.length; i++) if (T[i].CT_NO == e) return T[i];
},
checkIsSpecialType: function(e) {
return 0 != this.paixin && e >= v;
},
playSexSFX: function(e, i) {
if (1 == e) var t = "ssz/1/" + i; else t = "ssz/2/" + i;
cc.vv.audioMgr.playSFX(t);
},
showDaoFen: function(e, i) {
var t = this.VecJieSuan[e];
t.active = !0;
var a = t.getChildByName("winscore"), n = t.getChildByName("losescore");
if (i >= 0) {
i = "+" + i;
n.active = !1;
a.getComponent(cc.Label).string = i;
a.active = !0;
} else {
a.active = !1;
n.getComponent(cc.Label).string = i;
n.active = !0;
}
var s = t.x;
t.setPosition(t.x - 200, t.y);
t.runAction(cc.moveTo(.2, cc.v2(s, t.y)));
},
doKaiSepcialPai: function(e, i, t, a) {
var n = this;
this.scheduleOnce(function() {
for (var e = n.getCardTypeInfo(a), s = (e.CT_NAME, 0); s < 3; s++) for (var c = 0 == s ? 3 : 5, o = 0; o < c; o++) {
var h = t[s][o];
if (0 != h) {
n.userDoneCard[i][s][o].getComponent(cc.Sprite).spriteFrame = n.getsszPokerSpriteFrame(h);
h == n.mapai && n.addMaPaiToPai(n.userDoneCard[i][s][o], cc.v2(20, 36));
}
}
if (n.SwitchViewChairID(this.mChairID) == i) {
cc.vv.audioMgr.playSFX("ssz/openface/teshupai");
n.playSexSFX(n.userList[i]._sex, e.AUDIO);
}
n.userSpecialType[i].active = !1;
var r, l = n.node.getChildByName("special_effect");
l.getChildByName("main");
l.getChildByName("words").removeAllChildren();
for (var d = e.IMG, g = 0; g < n.SpecialCardTypeSpineData.length; g++) if (n.SpecialCardTypeSpineData[g].name == d) {
r = n.SpecialCardTypeSpineData[g];
break;
}
n.sszSpecialCardTypeSpine.skeletonData = r;
n.sszSpecialCardTypeSpine.setAnimation(0, d, !1);
n.sszSpecialCardTypeSpine.setCompleteListener(function(e, i) {
var t = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", e.trackIndex, t, i);
n.sszSpecialCardTypeAnimationNode.active = !1;
});
n.sszSpecialCardTypeAnimationNode.active = !0;
cc.vv.log3.info("animation" + n.ssz_specialCardTypeSpine.animation);
}, e);
},
addMaPaiToPai: function(e, i) {
var t = new cc.Node("horse");
t.addComponent(cc.Sprite).spriteFrame = this.mapaiSprite.getChildByName("MA_logo").getComponent(cc.Sprite).spriteFrame;
t.setAnchorPoint(.5, .5);
t.setPosition(i);
e.addChild(t);
},
doKaiDaoPai: function(e, i, t, a, n, s, c) {
var o = this;
this.scheduleOnce(function() {
var e = o.getCardTypeInfo(n), s = e.CT_NAME;
if (!o.checkIsSpecialType(n)) {
for (var c = 0 == t ? 3 : 5, h = 0; h < c; h++) {
var r = a[h];
if (0 != r) {
o.userDoneCard[i][t][h].getComponent(cc.Sprite).spriteFrame = o.getsszPokerSpriteFrame(r);
r == o.mapai && o.addMaPaiToPai(o.userDoneCard[i][t][h], cc.v2(15, 40));
}
}
o.userDoneCardBack[i][t].runAction(cc.sequence(cc.spawn(cc.callFunc(function() {
o.userDoneCardBack[i][t].zIndex = t + 3;
if (s) {
var e = null, a = o.getCardTypeInfo(n), c = 1;
0 == t ? c = a.FD : 1 == t ? c = a.SD : 2 == t && (c = a.TD);
e = c > 1 ? "cardtype_specile_bg" : "cardtype_nomal_bg";
o.vecSpriteEffect[i].getComponent(cc.Sprite).spriteFrame = o.getCardTypeBgSpriteFrame(e);
o.vecSpriteEffect[i].getChildByName("cardtype").getComponent(cc.Sprite).spriteFrame = o.getCardTypeSpriteFrame(n);
o.userDoneCardBack[i][t].x;
var h = o.userDoneCardBack[i][t].y - o.userDoneCardBack[i][t].height / 2 + 20;
o.vecSpriteEffect[i].setPositionY(h);
o.vecSpriteEffect[i].zIndex = t + 4;
o.vecSpriteEffect[i].active = !0;
}
}, this), cc.scaleTo(.1, 1.2)), cc.delayTime(1.1), cc.spawn(cc.callFunc(function() {
o.userDoneCardBack[i][t].zIndex = t - 3;
o.vecSpriteEffect[i].active = !1;
}, this), cc.scaleTo(.1, 1))));
o.SwitchViewChairID(this.mChairID) == i && o.playSexSFX(o.userList[i]._sex, e.AUDIO);
}
}, e);
},
doShot: function(e, i) {
var t = this;
this.scheduleOnce(function() {
t.playShotAnimation(i);
}, e);
},
OnUserKaiPai: function(e, i, t, a, n, s, c) {
var o = this, h = 0;
this.Layout_Desktop.active = !0;
for (var r = 0; r < this.VecJieSuan.length; r++) this.VecJieSuan[r].active = !1;
this.nodeJieSuan.active = !0;
this.vecCardList = e;
for (r = 0; r < this.players; r++) {
var l = this.checkIsSpecialType(i[r][0]), d = this.SwitchViewChairID(r);
if (l) {
o.userSpecialType[d].scale = 1;
o.userSpecialType[d].opacity = 255;
this.userSpecialType[d].active = !0;
this.userSpecialType[d].zIndex = 4;
}
}
for (var g = 0; g < 3; g++) {
var u = [], _ = [];
for (r = 0; r < this.players; r++) {
var v = 0;
this.checkIsSpecialType(i[r][g]) || (v = t[r][g]);
u.push(v);
_.push(r);
}
var p = u.length;
for (r = 0; r < p; r++) for (var m = 0; m < p - 1 - r; m++) if (u[m] > u[m + 1]) {
var f = u[m + 1];
u[m + 1] = u[m];
u[m] = f;
var y = _[m + 1];
_[m + 1] = _[m];
_[m] = y;
}
h += 1.25;
for (m = 0; m < _.length; m++) {
r = _[m], d = this.SwitchViewChairID(r);
var C = !1;
m == _.length - 1 && (C = !0);
v = 0;
this.checkIsSpecialType(i[this.mChairID][g]) || (v = t[this.mChairID][g]);
this.doKaiDaoPai(h, d, g, e[r][g], i[r][g], v, C);
}
}
for (r = 0; r < this.players; r++) {
l = this.checkIsSpecialType(i[r][0]), d = this.SwitchViewChairID(r);
if (l) {
h += 2;
this.doKaiSepcialPai(h, d, e[r], i[r][0]);
}
}
if (null != s) {
h += 1;
for (r = 0; r < s.length; r++) this.doShot(h + 1.2 * (r + 1), s[r]);
h += 1.2 * s.length;
}
if (c) {
h += 1;
this.scheduleOnce(function() {
o.playHomeRunAnimation();
}, h + .5);
h += 1;
}
h += .8;
this.scheduleOnce(function() {
for (var e = 0; e < this.players; e++) {
var i = o.SwitchViewChairID(e);
o.userList[i].setWinCoinNoAction(a[e]);
o.userList[i].setScore(n[e]);
o.vecUser[e].score = n[e];
}
o.showRoundInfo();
}, h);
},
doKaiDaoPaiByOrder: function(e, i, t, a, n, s, c, o, h, r) {
var l = this;
this.scheduleOnce(function() {
var e = l.getCardTypeInfo(n), d = e.CT_NAME;
if (l.checkIsSpecialType(n)) {
if (c) {
l.specialCardKaiPaiByOrder();
return;
}
r && (t += 1);
o(t, h + 1);
} else {
for (var g = 0 == t ? 3 : 5, u = 0; u < g; u++) {
var _ = a[u];
if (0 != _) {
l.userDoneCard[i][t][u].getComponent(cc.Sprite).spriteFrame = l.getsszPokerSpriteFrame(_);
_ == l.mapai && l.addMaPaiToPai(l.userDoneCard[i][t][u], cc.v2(15, 40));
}
}
l.userDoneCardBack[i][t].runAction(cc.sequence(cc.callFunc(function() {
l.userDoneCardBack[i][t].zIndex = t + 3;
if (d) {
var e = l.userDoneCardBack[i][t].parent.getChildByName(X[t]);
e.getComponent(cc.Sprite).spriteFrame = l.getCardTypeSpriteFrame(n);
e.getChildByName("score").getComponent(cc.Label).string = s;
e.active = !0;
e.runAction(cc.sequence(cc.scaleTo(.1, 1.2), cc.delayTime(.5), cc.scaleTo(.1, 1)));
}
}, this), cc.delayTime(1.1), cc.callFunc(function() {
l.userDoneCardBack[i][t].zIndex = t - 3;
if (c) l.specialCardKaiPaiByOrder(); else {
r && (t += 1);
o(t, h + 1);
}
}, this)));
l.SwitchViewChairID(this.mChairID) == i && l.playSexSFX(l.userList[i]._sex, e.AUDIO);
}
}, e);
},
OnUserKaiPaiByOrder: function(e, i, t, a, n, s, c) {
var o = this;
this.Layout_Desktop.active = !0;
for (var h = 0; h < this.VecJieSuan.length; h++) this.VecJieSuan[h].active = !1;
this.nodeJieSuan.active = !0;
this.vecCardList = this.vecCard;
for (h = 0; h < this.players; h++) {
var r = this.checkIsSpecialType(this.vecDaoCardType[h][0]), l = this.SwitchViewChairID(h);
if (r) {
o.userSpecialType[l].scale = 1;
o.userSpecialType[l].opacity = 255;
this.userSpecialType[l].active = !0;
this.userSpecialType[l].zIndex = 4;
}
}
for (var d = [], g = [], u = 0; u < 3; u++) {
d[u] = [];
g[u] = [];
for (h = 0; h < this.players; h++) {
var _ = 0;
this.checkIsSpecialType(i[h][u]) || (_ = t[h][u]);
d[u].push(_);
g[u].push(h);
}
var v = d[u].length;
for (h = 0; h < v; h++) for (var p = 0; p < v - 1 - h; p++) if (d[u][p] > d[u][p + 1]) {
var m = d[u][p + 1];
d[u][p + 1] = d[u][p];
d[u][p] = m;
var f = g[u][p + 1];
g[u][p + 1] = g[u][p];
g[u][p] = f;
}
}
(function a(n, s) {
cc.vv.log3.info("hahahahah:dao:" + n + "diguifun:" + s);
s %= o.players;
var c = g[n][s], h = o.SwitchViewChairID(c), r = !1, l = !1;
s == g[n].length - 1 && (n == g.length - 1 ? r = !0 : l = !0);
var d;
d = t[c][n];
o.doKaiDaoPaiByOrder(0, h, n, e[c][n], i[c][n], d, r, a, s, l);
})(0, 0);
},
doKaiSepcialPaiByOrder: function(e, i, t) {
var a, n = this, s = i[t], c = this.SwitchViewChairID(s), o = this.vecCard[s], h = this.vecDaoCardType[s][0], r = n.getCardTypeInfo(h);
r.CT_NAME;
n.setPlayerCardPosToTwoType(s);
for (var l = 0; l < 3; l++) for (var d = 0 == l ? 3 : 5, g = 0; g < d; g++) {
var u = o[l][g];
if (0 != u) {
n.userDoneCard[c][l][g].getComponent(cc.Sprite).spriteFrame = n.getsszPokerSpriteFrame(u);
u == n.mapai && n.addMaPaiToPai(n.userDoneCard[c][l][g], cc.v2(20, 36));
}
}
if (n.SwitchViewChairID(this.mChairID) == c) {
cc.vv.audioMgr.playSFX("ssz/openface/teshupai");
n.playSexSFX(n.userList[c]._sex, r.AUDIO);
}
n.userSpecialType[c].active = !1;
var _ = r.IMG;
cc.vv.log3.info("hahahaha, play Sepcial spine");
for (t = 0; t < n.SpecialCardTypeSpineData.length; t++) if (n.SpecialCardTypeSpineData[t].name == _) {
a = n.SpecialCardTypeSpineData[t];
break;
}
this.sszSpecialCardTypeSpine.skeletonData = a;
this.sszSpecialCardTypeAnimationNode.active = !0;
this.sszSpecialCardTypeSpine.setAnimation(0, _, !1);
this.sszSpecialCardTypeSpine.setCompleteListener(function(e, a) {
var s = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", e.trackIndex, s, a);
n.sszSpecialCardTypeAnimationNode.active = !1;
t >= i.length - 1 ? n.doShotAndQuanleida() : n.doKaiSepcialPaiByOrder(0, i, t + 1);
});
},
specialCardKaiPaiByOrder: function() {
for (var e = [], i = !1, t = 0; t < this.players; t++) {
if (this.checkIsSpecialType(this.vecDaoCardType[t][0])) {
i = !0;
e.push(t);
}
}
if (i) {
this.doKaiSepcialPaiByOrder(0, e, 0);
} else this.doShotAndQuanleida();
},
doShotAndQuanleida: function(e) {
var i = this;
if (null != this.vecShot) for (var t = 0; t < this.vecShot.length; t++) this.doShot(1.2 * t, this.vecShot[t]);
this.homeRunTag ? this.Layout_Effect.runAction(cc.sequence(cc.delayTime(1.2 * i.vecShot.length), cc.callFunc(function(e) {
i.playHomeRunAnimation();
}), cc.delayTime(.5), cc.callFunc(function(e) {
i.showSmallResult();
}))) : this.Layout_Effect.runAction(cc.sequence(cc.delayTime(1.2 * i.vecShot.length), cc.delayTime(.5), cc.callFunc(function(e) {
i.showSmallResult();
})));
},
showSmallResult: function(e) {
var i = this;
this.scheduleOnce(function() {
for (var e = 0; e < this.players; e++) {
var t = i.SwitchViewChairID(e);
i.userList[t].setWinCoinNoAction(i.vecTotalScore[e]);
i.userList[t].setScore(i.vecUserTotalScore[e]);
i.vecUser[e].score = i.vecUserTotalScore[e];
}
i.showRoundInfo();
}, .1);
},
onShowRoundInfo: function(e) {
cc.vv.audioMgr.playSFX("ui_click");
switch (e.target.name) {
case "show_score":
this.roundinfo.active = !0;
this.roundinfo.runAction(cc.sequence(cc.moveTo(.2, cc.v2(0, 0))));
cc.find("Canvas/Layout_FuncBtn/show_score").active = !1;
break;

case "hide_score":
this.roundinfo.runAction(cc.sequence(cc.moveTo(.2, cc.v2(0, -720))));
cc.find("Canvas/Layout_FuncBtn/show_score").active = !0;
}
},
showRoundInfo: function() {
this.roundinfo.setPosition(cc.v2(0, -720));
this.roundinfo.active = !0;
this.showSuanFen = !0;
if (this.showReportFlg) {
this.readyBtn2.active = !1;
this.readyBtn.active = !1;
if (this.final_report) {
this.cbReason = 4;
this.reportBtn.active = !0;
}
} else {
this.cbReason = 0;
this.readyBtn.active = !0;
this.readyBtn2.active = !0;
this.reportBtn.active = !1;
}
this.roundinfo.runAction(cc.moveTo(.2, cc.v2(0, 0)));
if (this.vecTotalScore[this.mChairID] < 0) {
this.roundinfo.getChildByName("bgpanel").getChildByName("win").active = !1;
this.roundinfo.getChildByName("bgpanel").getChildByName("lost").active = !0;
} else {
this.roundinfo.getChildByName("bgpanel").getChildByName("win").active = !0;
this.roundinfo.getChildByName("bgpanel").getChildByName("lost").active = !1;
}
this.roundinfo.getChildByName("bgpanel").getChildByName("num").getComponent(cc.Label).string = this.m_nRound;
for (var e = this.roundinfo.getChildByName("seats"), i = 0; i < e.children.length; i++) e.children[i].active = !1;
for (i = 0; i < e.children.length; i++) {
var t = this.SwitchViewChairID(i), a = this.userList[t], n = e.children[t];
if (null != a._userId && "0" != a._userId) {
n.active = !0;
var s = n.getChildByName("user_portrait"), c = s.getChildByName("name").getChildByName("name");
c.getComponent(cc.Label).string = a._userName;
s.getChildByName("score").getComponent(cc.Label).string = a._score;
s.getChildByName("icon").getComponent(cc.Sprite).spriteFrame = a._Icon.getComponent(cc.Sprite).spriteFrame;
c.stopAllActions();
if (c.width > 90) {
var o = (c.width - 90) / 2;
c.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1), cc.moveTo(2, cc.v2(o, 0)), cc.delayTime(1), cc.moveTo(2, cc.v2(-o, 0)))));
}
if (a._winScore < 0) {
n.getChildByName("winscore").active = !1;
n.getChildByName("losescore").active = !0;
n.getChildByName("losescore").getComponent(cc.Label).string = a._winScore;
} else {
n.getChildByName("losescore").active = !1;
n.getChildByName("winscore").active = !0;
n.getChildByName("winscore").getComponent(cc.Label).string = "+" + a._winScore;
}
}
}
},
turnCard: function() {
var e = this.m_vecXuanPaiCard[this.iIndex][this.jIndex], i = this.m_vecXuanPaiCard[this.iPopIndex][this.jPopIndex];
e.card.y -= 10;
i.card.y -= 10;
var t = this.nodeXuanPai.getChildByName("Sprite_CardPut").getChildByName("Layout_Move");
t.active = !0;
var a = e.card.parent.convertToWorldSpaceAR(e.card.getPosition()), n = i.card.parent.convertToWorldSpaceAR(i.card.getPosition()), s = {};
s.color = e.color;
s.num = e.num;
s.byPai = e.byPai;
s.value = e.value;
s.colorIdx = e.colorIdx;
var c = {};
c.color = i.color;
c.num = i.num;
c.byPai = i.byPai;
c.value = i.value;
c.colorIdx = i.colorIdx;
var o = t.getChildByName("Card0"), h = t.getChildByName("Card1");
o.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(e.byPai);
h.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i.byPai);
o.setContentSize(e.card.getContentSize());
h.setContentSize(i.card.getContentSize());
o.setPosition(t.convertToNodeSpaceAR(a));
h.setPosition(t.convertToNodeSpaceAR(n));
o.removeAllChildren();
h.removeAllChildren();
e.byPai == this.mapai && this.addMaPaiToPai(o, cc.v2(27, -38));
i.byPai == this.mapai && this.addMaPaiToPai(h, cc.v2(27, -38));
o.active = !0;
h.active = !0;
e.card.active = !1;
i.card.active = !1;
o.runAction(cc.sequence(cc.spawn(cc.moveTo(.15, t.convertToNodeSpaceAR(n)), cc.scaleTo(.15, h.width / o.width)), cc.callFunc(function() {
o.active = !1;
e.card.active = !0;
e.isSelected = !1;
e.isPop = !1;
e.isFloor = !1;
e.color = c.color;
e.num = c.num;
e.byPai = c.byPai;
e.value = c.value;
e.colorIdx = c.colorIdx;
e.card.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(e.byPai);
e.card.removeAllChildren();
e.byPai == this.mapai && this.addMaPaiToPai(e.card, cc.v2(27, -38));
}, this)));
h.runAction(cc.sequence(cc.spawn(cc.moveTo(.15, t.convertToNodeSpaceAR(a)), cc.scaleTo(.15, o.width / h.width)), cc.callFunc(function() {
h.active = !1;
i.card.active = !0;
i.isSelected = !1;
i.isPop = !1;
i.isFloor = !1;
i.color = s.color;
i.num = s.num;
i.byPai = s.byPai;
i.value = s.value;
i.colorIdx = s.colorIdx;
i.card.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i.byPai);
i.card.removeAllChildren();
i.byPai == this.mapai && this.addMaPaiToPai(i.card, cc.v2(27, -38));
}, this)));
this.scheduleOnce(function() {
t.active = !1;
for (var e = 0; e < 3; e++) if (0 == e) for (var i = 0; i < 3; i++) this.vecReadyCard[e][i] = this.m_vecXuanPaiCard[e][i].byPai; else for (i = 0; i < 5; i++) this.vecReadyCard[e][i] = this.m_vecXuanPaiCard[e][i].byPai;
}, .3);
this.reSetCardTypeGroupList();
},
onCardClicked: function(e) {
cc.vv.audioMgr.playSFX("ui_click");
cc.log(e.target.name);
for (var i = -1, t = -1, a = -1, n = -1, s = 0; s < 3; s++) {
var c = 0, o = this.m_vecXuanPaiCard[s];
c = 0 == s ? 3 : 5;
for (var h = 0; h < c; h++) {
if (o[h].cardName == e.target.name) {
i = s;
t = h;
}
if (this.m_vecXuanPaiCard[s][h].isSelected) {
a = s;
n = h;
}
}
}
if (-1 != a && -1 != n) if (a == i && n == t) {
this.m_vecXuanPaiCard[i][t].card.y -= 10;
this.m_vecXuanPaiCard[i][t].isSelected = !1;
this.m_vecXuanPaiCard[i][t].isPop = !1;
} else {
this.m_vecXuanPaiCard[i][t].card.y += 10;
this.m_vecXuanPaiCard[i][t].isSelected = !0;
this.m_vecXuanPaiCard[i][t].isPop = !0;
this.iIndex = i;
this.jIndex = t;
this.iPopIndex = a;
this.jPopIndex = n;
this.turnCard();
} else {
this.m_vecXuanPaiCard[i][t].card.y += 10;
this.m_vecXuanPaiCard[i][t].isSelected = !0;
this.m_vecXuanPaiCard[i][t].isPop = !0;
}
},
newCard: function(e, i) {
var t = {};
t.card = e;
t.cardName = i;
t.isSelected = !1;
t.isPop = !1;
t.isFloor = !1;
t.isSelectPop = !1;
t.color = 0;
t.num = 0;
t.byPai = 0;
t.value = 0;
t.colorIdx = 0;
return t;
},
initXuanPaiLayer: function() {
this.nodeXuanPai = this.node.getChildByName("ID_LAYOUT_XUANPAI");
this.nodeBaiPai = this.node.getChildByName("ID_LAYOUT_BAIPAI");
var e = this.nodeXuanPai.getChildByName("Sprite_CardPut");
this.nodeXuanPaiTime = this.nodeXuanPai.getChildByName("time").getComponent(cc.Label);
this.nodeBaiPaiTime = this.nodeBaiPai.getChildByName("time").getComponent(cc.Label);
this.m_vecXuanPaiCard = [];
for (var i = 0; i < 3; i++) {
var t = [];
if (0 == i) for (var a = e.getChildByName("Layout_FirstDun"), n = 0; n < 3; n++) {
(o = a.getChildByName("Sprite_FD_Card" + n)).myTag = n;
o.active = !1;
t[n] = this.newCard(o, "Sprite_FD_Card" + n);
this.addClickEvent(o, this.node, "SSZ1100Game", "onCardClicked");
} else if (1 == i) {
var s = e.getChildByName("Layout_SecondDun");
for (n = 0; n < 5; n++) {
(o = s.getChildByName("Sprite_SD_Card" + n)).myTag = n;
o.active = !1;
t[n] = this.newCard(o, "Sprite_SD_Card" + n);
this.addClickEvent(o, this.node, "SSZ1100Game", "onCardClicked");
}
} else if (2 == i) {
var c = e.getChildByName("Layout_ThirdDun");
for (n = 0; n < 5; n++) {
var o;
(o = c.getChildByName("Sprite_TD_Card" + n)).myTag = n;
o.active = !1;
t[n] = this.newCard(o, "Sprite_TD_Card" + n);
this.addClickEvent(o, this.node, "SSZ1100Game", "onCardClicked");
}
}
this.m_vecXuanPaiCard[i] = t;
}
this._CardGroupSelect = this.nodeXuanPai.getChildByName("Layout_CardGroupSelect");
this._CardGroupSelect.active = !1;
this._viewlist = this._CardGroupSelect.getChildByName("viewlist");
this._content = cc.find("view/content", this._viewlist);
this._viewitemTemp = this._content.children[0];
this._content.removeChild(this._viewitemTemp);
e.getChildByName("ID_BUTTON_FINISH");
this.m_vecFloorCard = [];
for (i = 0; i < 3; i++) this.m_vecFloorCard[i] = [];
},
initTanPaiCard: function() {
this.Layout_Desktop = this.node.getChildByName("Layout_Desktop");
this.userDoneCard = [];
this.userDoneCardBack = [];
this.userDoneCardName = [];
this.vecSpriteEffect = [];
this.vecSpSpriteEffect = [];
this.userBullet = [];
this.userSpecialType = [];
this.userDaoCardType = [];
for (var e = 0; e < 4; e++) {
this.userDoneCard[e] = [];
this.userDoneCardBack[e] = [];
this.userDoneCardName[e] = [];
var i = this.Layout_Desktop.getChildByName("Layout_UserCard" + e);
this.vecSpriteEffect[e] = i.getChildByName("cardtype_bg");
this.vecSpriteEffect[e].active = !1;
this.vecSpSpriteEffect[e] = i.getChildByName("sp_cardtype_bg");
this.vecSpSpriteEffect[e].active = !1;
this.userSpecialType[e] = i.getChildByName("specialType");
this.userSpecialType[e].active = !1;
this.userBullet[e] = [];
for (var t = i.getChildByName("bullets"), a = 0; a < t.children.length; a++) {
this.userBullet[e][a] = t.children[a];
this.userBullet[e][a].active = !1;
}
this.userDaoCardType[e] = [];
var n = null;
(n = i.getChildByName("FDCt")).active = !1;
this.userDaoCardType[e].push(n);
(n = i.getChildByName("SDCt")).active = !1;
this.userDaoCardType[e].push(n);
(n = i.getChildByName("TDCt")).active = !1;
this.userDaoCardType[e].push(n);
for (var s = 0; s < 3; s++) {
this.userDoneCard[e][s] = [];
this.userDoneCardName[e][s] = [];
if (0 == s) {
var c = i.getChildByName("Layout_FirstDun");
this.userDoneCardBack[e][s] = c;
this.userDoneCardBack[e][s].active = !1;
for (var o = 0; o < 3; o++) {
this.userDoneCard[e][s][o] = c.getChildByName("Sprite_FD_Card" + o);
this.userDoneCardName[e][s][o] = "Sprite_FD_Card" + o;
}
} else if (1 == s) {
var h = i.getChildByName("Layout_SecondDun");
this.userDoneCardBack[e][s] = h;
this.userDoneCardBack[e][s].active = !1;
for (o = 0; o < 5; o++) {
this.userDoneCard[e][s][o] = h.getChildByName("Sprite_SD_Card" + o);
this.userDoneCardName[e][s][o] = "Sprite_SD_Card" + o;
}
} else if (2 == s) {
var r = i.getChildByName("Layout_ThirdDun");
this.userDoneCardBack[e][s] = r;
this.userDoneCardBack[e][s].active = !1;
for (o = 0; o < 5; o++) {
this.userDoneCard[e][s][o] = r.getChildByName("Sprite_TD_Card" + o);
this.userDoneCardName[e][s][o] = "Sprite_TD_Card" + o;
}
}
this.userDoneCardBack[e][s].zIndex = s;
}
}
this.VecJieSuan = [];
var l = this.nodeJieSuan = this.node.getChildByName("ID_NODE_JIESUAN");
for (e = 0; e < l.children.length; e++) {
this.VecJieSuan.push(l.children[e]);
l.children[e].active = !1;
}
l.active = !1;
},
initCardTypeGroupList: function(e) {
for (var i = 0; i < e.length; ++i) {
var t = this.getViewItem(i);
t.idx = i;
var a = this.checkIsSpecialType(e[i][0][0]), n = t.getChildByName("highLight"), s = t.getChildByName("cardtype_selTag");
if (0 == i) {
n.active = !0;
s.active = !0;
} else {
n.active = !1;
s.active = !1;
}
var c = t.getChildByName("cardTypeSel");
c.getChildByName("groupNo").getComponent(cc.Label).string = i + 1;
for (var o = 0; o < 4; o++) {
var h = c.getChildByName("cardtype" + o);
if (a) if (0 == o) {
h.active = !0;
var r = this.getCardTypeInfo(e[i][0][0]);
h.getChildByName("cardtypeLabel").getComponent(cc.Label).string = r.CT_NAME;
} else h.active = !1; else if (0 == o) h.active = !1; else {
h.active = !0;
r = this.getCardTypeInfo(e[i][3 - o][0]);
h.getChildByName("cardtypeLabel").getComponent(cc.Label).string = r.CT_NAME;
}
}
}
this.shrinkContent(e.length);
this._CardGroupSelect.active = !0;
this._viewlist.getComponent(cc.ScrollView).scrollToLeft();
if (e.length > 0) {
this.cardDataList = [].concat(e[0][2][1]);
this.cardDataList = this.cardDataList.concat(e[0][1][1]);
this.cardDataList = this.cardDataList.concat(e[0][0][1]);
}
},
getViewItem: function(e) {
var i = this._content;
if (i.childrenCount > e) return i.children[e];
var t = cc.instantiate(this._viewitemTemp);
i.addChild(t);
return t;
},
shrinkContent: function(e) {
for (;this._content.childrenCount > e; ) {
var i = this._content.children[this._content.childrenCount - 1];
this._content.removeChild(i, !0);
}
},
getSelectedGroupId: function() {
for (var e = -1, i = this._content, t = 0; t < i.childrenCount; t++) {
var a = i.children[t];
a.getChildByName("highLight");
if (a.getChildByName("cardtype_selTag").active) {
e = t;
break;
}
}
return e;
},
reSetCardTypeGroupList: function() {
for (var e = this._content, i = 0; i < e.childrenCount; i++) {
var t = e.children[i], a = t.getChildByName("highLight"), n = t.getChildByName("cardtype_selTag");
a.active = !1;
n.active = !1;
}
},
onBtnOpClicked: function(e) {
cc.vv.audioMgr.playSFX("ui_click");
var i = e.target.idx;
if (!(i >= this.aiGroupList.length)) {
var t = this._content;
this.reSetCardTypeGroupList();
var a = t.children[i], n = a.getChildByName("highLight"), s = a.getChildByName("cardtype_selTag");
n.active = !0;
s.active = !0;
if (this.aiGroupList[i].length > 0) {
this.cardDataList = [].concat(this.aiGroupList[i][2][1]);
this.cardDataList = this.cardDataList.concat(this.aiGroupList[i][1][1]);
this.cardDataList = this.cardDataList.concat(this.aiGroupList[i][0][1]);
}
this.ReInitCardPut();
}
},
OnFinishBtnEvent: function() {
cc.vv.audioMgr.click();
if (this.vecReadyCard[0] && this.vecReadyCard[1] && this.vecReadyCard[2]) {
var e, i = [], t = 0;
(e = this.getSelectedGroupId()) > -1 && this.checkIsSpecialType(this.aiGroupList[e][0][0]) && (t = 1);
for (var a = 0; a < 3; a++) for (var n = 0; n < this.vecReadyCard[a].length; n++) i.push(this.vecReadyCard[a][n]);
this.common("kaipai", {
tanpai: i,
teshu: t
});
}
},
initView: function() {
this.initMain();
this.common("sit", {
room_id: cc.vv.roomMgr.roomid
});
},
initEventHandlers: function() {
cc.vv.gameNetMgr.dataEventHandler = this.node;
var e = this;
this.node.on("sit", function(i) {
0 == i.errcode ? e.deal("sit", i) : cc.vv.alert.show("进房失败", i.errmsg, function() {
cc.vv.sceneMgr.gotoHall();
});
});
this.node.on("renew", function(i) {
if (0 == i.errcode) {
cc.find("Canvas/game_result/btnRenew").active = !1;
cc.find("Canvas/game_result/btnReady").active = !0;
cc.find("Canvas/Layout_FuncBtn/show_score").active = !1;
for (var t = 0; t < e.players; t++) if (e.vecUser && e.vecUser[t] && e.vecUser[t].uid > 0) {
var a = e.SwitchViewChairID(t);
e.userDoneCardBack[a][0].active = !1;
e.userDoneCardBack[a][1].active = !1;
e.userDoneCardBack[a][2].active = !1;
e.userBullet[a][0].active = !1;
e.userBullet[a][1].active = !1;
e.userBullet[a][2].active = !1;
e.userDaoCardType[a][0].active = !1;
e.userDaoCardType[a][1].active = !1;
e.userDaoCardType[a][2].active = !1;
e.userList[a].setZhuang(!1);
e.userList[a].setWinCoinFixed(null);
e.userList[a].setInfo(null, null, null, null, null);
e.vecSpriteEffect[a].active = !1;
e.vecSpSpriteEffect[a].active = !1;
e.vecUser[t] = {};
}
e.m_byZhuang = -1;
e.final_report = null;
} else cc.vv.alert.show("续房失败", i.errmsg);
});
this.node.on("leave", function(i) {
var t = i.data;
if (t.userid == cc.vv.userMgr.userid) 0 == i.errcode && cc.vv.sceneMgr.gotoHall(); else {
var a = t.seatid;
a = e.SwitchViewChairID(a);
e.userDoneCardBack[a][0].active = !1;
e.userDoneCardBack[a][1].active = !1;
e.userDoneCardBack[a][2].active = !1;
e.userBullet[a][0].active = !1;
e.userBullet[a][1].active = !1;
e.userBullet[a][2].active = !1;
e.userDaoCardType[a][0].active = !1;
e.userDaoCardType[a][1].active = !1;
e.userDaoCardType[a][2].active = !1;
e.userList[a].setID(null, "");
e.userList[a].setWinCoinFixed(null);
e.userList[a].setInfo(null, null, null, null, null);
e.vecUser[t.seatid] = {};
e.vecSpriteEffect[a].active = !1;
e.vecSpSpriteEffect[a].active = !1;
e.inviteBtn.active = !0;
}
});
this.node.on("param", function(i) {
e.deal("param", i);
});
this.node.on("table", function(i) {
e.deal("table", i);
});
this.node.on("table_begin", function(i) {
e.deal("table_begin", i);
});
this.node.on("table_side", function(i) {
e.deal("table_side", i);
});
this.node.on("table_end", function(i) {
e.deal("table_end", i);
});
this.node.on("stage", function(i) {
e.deal("stage", i);
});
this.node.on("ready", function(i) {
e.deal("ready", i);
});
this.node.on("start", function(i) {
e.deal("start", i);
});
this.node.on("lock", function(i) {
e.deal("lock", i);
});
this.node.on("fapai", function(i) {
e.deal("fapai", i);
});
this.node.on("kaipai", function(i) {
e.deal("kaipai", i);
});
this.node.on("jiesuan", function(i) {
e.deal("jiesuan", i);
});
this.node.on("qiangzhuang", function(i) {
e.deal("qiangzhuang", i);
});
this.node.on("buqiangzhuang", function(i) {
e.deal("buqiangzhuang", i);
});
this.node.on("dingzhuang", function(i) {
e.deal("dingzhuang", i);
});
this.node.on("refuse_dismiss_room", function(i) {
e.deal("refuse_dismiss_room", i);
});
this.node.on("agree_dismiss_room", function(i) {
e.deal("agree_dismiss_room", i);
});
this.node.on("try_dismiss_room", function(i) {
e.deal("try_dismiss_room", i);
});
this.node.on("dismissroom", function(i) {
e.deal("dismissroom", i);
});
this.node.on("voice", function(i) {
e.deal("voice", i);
});
this.node.on("chat", function(i) {
e.deal("chat", i);
});
this.node.on("yuyin", function(i) {
e.deal("yuyin", i);
});
this.node.on("biaoqing", function(i) {
e.deal("biaoqing", i);
});
this.node.on("report", function(i) {
e.deal("report", i);
});
this.node.on("offline", function(i) {
i = i.data;
e.vecUser[i.seat].online = 0;
var t = e.SwitchViewChairID(i.seat);
e.userList[t].setOffline(!0);
});
this.node.on("online", function(i) {
i = i.data;
e.vecUser[i.seat].online = 1;
var t = e.SwitchViewChairID(i.seat);
e.userList[t].setOffline(!1);
});
},
OnShowHint: function(e) {
var i = this;
this.hintLabel.getComponent(cc.Label).string = e;
this.hintBack.active = !0;
this.hintBack.stopAllActions();
this.hintLabel.stopAllActions();
this.hintLabel.setPosition(0, -25);
this.hintBack.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function() {
i.hintBack.active = !1;
i.hintLabel.setPosition(0, 0);
}, this)));
this.hintLabel.runAction(cc.moveBy(.2, cc.v2(0, 25)));
},
onBtnSettingsClicked: function() {
cc.vv.audioMgr.playSFX("ui_click");
cc.vv.popupMgr.showSettings();
},
OnClockBtnClick: function() {
this.unlocked ? this.unlocked = !1 : this.unlocked = !0;
},
common: function(e, i) {
cc.vv.net.common("ssz_1100", e, i);
},
OnReadyStart: function() {
this.cbReason = 4;
this.OnSubFinalReport(this.report_data);
this.gameresult.active = !0;
var e = this;
this.roundinfo.runAction(cc.sequence(cc.moveTo(.2, cc.v2(0, -720)), cc.callFunc(function() {
e.roundinfo.active = !1;
})));
cc.find("Canvas/Layout_FuncBtn/show_score").active = !1;
},
OnReady: function() {
this.common("ready");
this.readyBtn.active = !1;
this.roundinfo.active = !1;
cc.find("Canvas/Layout_FuncBtn/show_score").active = !1;
this.playReadyAnimation();
this.userList[0].setReady(!0);
},
OnInvite: function() {
for (var e = 0, i = 0; i < this.players; i++) this.vecUser && this.vecUser[i] && this.vecUser[i].uid > 0 && e++;
cc.vv.audioMgr.playSFX("ui_click");
var t = cc.GAME_NAME + "房间号：" + this.mRoomID + " [缺" + (this.players - e) + "人]";
cc.vv.share_url = "http://game.fingerjoys.com/room/" + cc.GAME_CODE + "/" + this.mRoomID;
cc.vv.anysdkMgr.share(t, "玩法: " + this.descLabel.getComponent(cc.Label).string + " " + this.m_nMaxRound + "局", "0", "2", "");
},
renew_ui: function() {
this.roundLabel.string = this.m_nRound;
this.roundLabelTotal.string = this.m_nMaxRound;
for (var e = 0; e < this.players; e++) {
var i = this.SwitchViewChairID(e);
if (this.vecUser && this.vecUser[e] && this.vecUser[e].uid > 0) {
this.userList[i].setID(this.vecUser[e].uid, "");
this.userList[i].setInfo(this.vecUser[e].nickname, this.vecUser[e].score, this.vecUser[e].gender, this.vecUser[e].ip);
1 == this.vecUser[e].state ? this.userList[i].setReady(!0) : this.userList[i].setReady(!1);
this.userList[i].setOffline(1 != this.vecUser[e].online);
if (0 == i && 1 == this.vecUser[e].state) {
this.playReadyAnimation();
this.readyBtn.active = !1;
}
} else {
this.userList[i].setID(null, "");
this.userList[i].setWinCoinFixed(null);
this.userList[i].setInfo(null, null, null, null, null);
}
this.m_bGameStarted && this.m_byZhuang == e ? this.userList[i].setZhuang(!0) : this.userList[i].setZhuang(!1);
}
},
OnSubBiaoQing: function(e, i, t) {
var a = this.SwitchViewChairID(i);
this.showBiaoQing(a, t);
},
showBiaoQing: function(e, i) {
this.userList[e].emoji(i);
},
onSubChat: function(e, i, t) {
var a = this.SwitchViewChairID(i);
this.showChat(a, t);
},
showChat: function(e, i) {
this.userList[e].chat(i);
},
OnSubYuYin: function(e, i, t) {
var a = this.SwitchViewChairID(i);
this.showYuYin(a, t);
},
showYuYin: function(e, i) {
var t = cc.vv.chat.getQuickChatInfo(i);
this.userList[e].chat(t.content);
cc.vv.audioMgr.playSFX(t.sound);
},
OnSubTable: function(e) {
void 0 == this.vecUser && (this.vecUser = [ null, null, null, null, null, null ]);
for (var i = 0; i < this.players; i++) {
void 0 == this.vecUser[i] && (this.vecUser[i] = {});
this.vecUser[i].uid = e[i].uid;
this.vecUser[i].seat = i;
this.vecUser[i].score = e[i].score;
this.vecUser[i].nickname = e[i].nickname;
this.vecUser[i].avatar = e[i].avatar;
this.vecUser[i].gender = e[i].gender;
this.vecUser[i].state = e[i].state;
this.vecUser[i].ip = e[i].ip;
this.vecUser[i].online = e[i].online;
}
for (var t = 0, a = 0; a < this.players; a++) this.vecUser && this.vecUser[a] && this.vecUser[a].uid > 0 && t++;
if (this.m_bTableStarted) this.inviteBtn.active = !1; else {
t >= this.players ? this.inviteBtn.active = !1 : this.inviteBtn.active = !0;
this.readyBtn.active = !0;
}
this.renew_ui();
},
hidePlayerResultType: function(e) {
for (var i = 0; i < this.players; i++) for (var t = 0; t < 3; t++) this.userDoneCardBack[i][t].parent.getChildByName(X[t]).active = !1;
},
OnSubStage: function(e, i, t) {
for (var a = this, n = [], s = 0; s < 5; s++) if (this.vecUser && this.vecUser[s] && this.vecUser[s].uid) {
0;
n.push(s);
}
0 == e && (0 == this.mChairID ? this.readyBtn.active = !0 : this.readyBtn.active = !1);
if (3 == e || 5 == e) {
this.byRound = t.round;
var c = [];
for (s = 0; s < t.list.length; s++) c.push(t.list[s].ready);
this.OnSubKaiPaiReady(this.byRound, c);
var o = t.list[this.mChairID].cards;
if (null != o && 13 == o.length) {
this.vecReadyCard[0] = [ o[0], o[1], o[2] ];
this.vecReadyCard[1] = [ o[3], o[4], o[5], o[6], o[7] ];
this.vecReadyCard[2] = [ o[8], o[9], o[10], o[11], o[12] ];
}
if (0 == t.list[this.mChairID].ready) {
a.baipaiUIReady = !1;
a.sortPaiReady = !1;
for (s = 0; s < this.players; s++) {
var h = this.SwitchViewChairID(s);
this.userList[h].setWinCoinFixed(null);
}
this.scheduleOnce(function() {
a.sszCardList.initData();
a.baipaiUIReady && a.baipaiComponent.initBaiPaiList();
a.sortPaiReady = !0;
}, 0);
this.OnSubFaPai(c, t.list[this.mChairID].cards);
}
}
},
InitTable: function() {
this.RepositTable();
},
RepositTable: function() {
for (var e = 0; e < 4; e++) {
this.userDoneCardBack[e][0].active = !1;
this.userDoneCardBack[e][1].active = !1;
this.userDoneCardBack[e][2].active = !1;
this.userBullet[e][0].active = !1;
this.userBullet[e][1].active = !1;
this.userBullet[e][2].active = !1;
this.userDaoCardType[e][0].active = !1;
this.userDaoCardType[e][1].active = !1;
this.userDaoCardType[e][2].active = !1;
}
for (e = 0; e < 4; e++) for (var i = 0; i < 3; i++) if (0 == i) for (var t = 0; t < 3; t++) this.userDoneCard[e][i][t].initWithFile(dwc.g_arrSSZRes.defaultCard_png); else for (t = 0; t < 5; t++) this.userDoneCard[e][i][t].initWithFile(dwc.g_arrSSZRes.defaultCard_png);
this.m_waitState = "STATE_NULL";
this.m_vecHandPai = [ 255, 255, 255, 255, 255 ];
this.m_vecRoundScore = [ 0, 0, 0, 0, 0 ];
this.m_vecRoundScore = [ 0, 0, 0, 0, 0 ];
this.m_vecCardData = [ [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ] ];
this.vecRealScoreData = [];
for (e = 0; e < 4; e++) for (i = 0; i < 13; i++) if (this.vecTableCard && this.vecTableCard[e] && this.vecTableCard[e][i]) {
this.vecTableCard[e][i].destroy();
this.vecTableCard[e][i] = null;
}
this.isCanTouch = !1;
this.nodeJieSuanBg.setVisible(!1);
this.nodeXuanPai.setVisible(!1);
this.nodeBaiPai.setVisible(!1);
this.vecTableCard = [ [ null, null, null, null, null, null ], [ null, null, null, null, null, null ], [ null, null, null, null, null, null ], [ null, null, null, null, null, null ], [ null, null, null, null, null, null ] ];
this.voiceBtn.setVisible(!0);
this.userList[0].userInfoBG.setVisible(!0);
this.userList[0].userName.setString(dwc.Myself.GetData().GetNickName());
},
xuanPaiAction: function(e) {
var i = null;
switch (this._baipaiMode) {
case 0:
i = this.nodeBaiPai;
break;

case 1:
i = this.nodeXuanPai;
}
if (e) {
i.setPosition(cc.v2(0, 720));
i.active = !0;
i.runAction(cc.moveTo(.2, cc.v2(0, 0)));
} else {
cc.vv.audioMgr.stopSFX(this.alarm_id);
this.unschedule(this.tipBaiPaiTime);
i.getPositionY() > -720 && i.setPosition(cc.v2(0, -720));
}
},
tipBaiPaiTime: function() {
this.m_nLeftTime--;
this.m_nLeftTime < 0 && Math.abs(this.m_nLeftTime) % 10 == 0 && (this.alarm_id = cc.vv.audioMgr.playSFX("timeup_alarm"));
if (!(this.m_nLeftTime <= -1)) {
this.nodeXuanPaiTime.string = "" + this.m_nLeftTime;
this.nodeBaiPaiTime.string = "" + this.m_nLeftTime;
}
},
OnSubSit: function(e, i, t, a, n, s, c, o, h) {
if (e == cc.vv.userMgr.userid) {
this.mRoomID = t;
this.mChairID = i;
this.readyBtn.active = 0 == h;
}
void 0 == this.vecUser && (this.vecUser = [ null, null, null, null ]);
i == this.players - 1 && (this.inviteBtn.active = !1);
if (i < this.players) {
void 0 == this.vecUser[i] && (this.vecUser[i] = {});
this.vecUser[i].uid = e;
this.vecUser[i].seat = i;
this.vecUser[i].score = a;
this.vecUser[i].nickname = n;
this.vecUser[i].gender = s;
this.vecUser[i].avatar = c;
this.vecUser[i].online = 1;
void 0 != h && (this.vecUser[i].state = h);
this.vecUser[i].ip = o;
this.vecUser[i].online = 1;
var r = this.SwitchViewChairID(i);
this.userList[r].setOffline(!1);
this.renew_ui();
} else cc.log("OnSubSit error seat : " + i);
},
OnSubStandUp: function(e) {
if (this.vecUser) for (var i = 0; i < this.vecUser.length; i++) {
var t = this.SwitchViewChairID(i);
if (this.vecUser && this.vecUser[i] && this.vecUser[i].uid == e) if (this.m_bTableStarted) {
this.vecUser[i].offline = !0;
this.userList[t].userOfflineSprite.active = this.vecUser[i].offline;
} else {
this.vecUser[i].uid = 0;
this.vecUser[i].seat = 0;
this.vecUser[i].score = 0;
this.vecUser[i].nickname = "";
this.vecUser[i].gender = 0;
this.vecUser[i].avatar = 0;
this.vecUser[i].state = 0;
this.vecUser[i].offline = !1;
this.vecUser[i].ip = "0.0.0.0";
this.userList[t].setInfo(null, null);
}
}
if (e == cc.vv.userMgr.userid) {
if (this.vecUser) for (i = 0; i < this.vecUser.length; i++) if (this.vecUser && this.vecUser[i]) {
this.vecUser[i].uid = 0;
this.vecUser[i].seat = 0;
this.vecUser[i].score = 0;
this.vecUser[i].nickname = "";
this.vecUser[i].gender = 0;
this.vecUser[i].avatar = 0;
this.vecUser[i].state = 0;
this.vecUser[i].ip = "0.0.0.0";
this.vecUser[i].offline = !1;
t = this.SwitchViewChairID(i);
this.userList[t].setInfo(null, null);
}
this.RepositTable();
}
this.m_bTableStarted || 0 == this.mChairID || dwc.Myself.SetMyRoom(null);
},
OnSubKick: function(e) {
if (this.vecUser) if (e == cc.vv.userMgr.userid) {
var i = new dwc.DT_MainScene();
cc.director.runScene(i);
cc.vv.alert.show("提示", "由于超过3局未准备，您被踢出房间");
} else for (var t = 0; t < this.vecUser.length; t++) if (this.vecUser && this.vecUser[t] && this.vecUser[t].uid == e) {
this.vecUser[t].uid = 0;
this.vecUser[t].seat = 0;
this.vecUser[t].score = 0;
this.vecUser[t].nickname = "";
this.vecUser[t].gender = 0;
this.vecUser[t].avatar = 0;
this.vecUser[t].state = 0;
this.vecUser[t].ip = "0.0.0.0";
var a = this.SwitchViewChairID(t);
this.userList[a].setInfo(null, null);
}
},
OnSubReady: function(e, i) {
var t = this.SwitchViewChairID(i);
i < this.players && this.vecUser && this.vecUser[i] && (this.vecUser[i].state = 1);
0 == this.m_bGameStarted && 0 == t && (this.readyBtn.active = !1);
for (var a = 0; a < this.players; a++) {
t = this.SwitchViewChairID(a);
1 == this.vecUser[a].state ? this.userList[t].setReady(!0) : this.userList[t].setReady(!1);
}
},
OnSubFaPai: function(e, i) {
this.m_bTableStarted = !0;
this.m_bGameStarted = !0;
this.kaipaiFlg = !1;
for (var t = 0; t < this.players; t++) {
this.userList[t].setReady(!1);
0 == t ? this.userList[t].setSortPai(!1) : this.userList[t].setSortPai(!0);
}
for (t = 0; t < this.players; t++) this.vecUser[t].state = 0;
this.readyBtn.active = !1;
this.inviteBtn.active = !1;
this.m_vecReady = e;
this.cardDataList = i;
this.SortSelectCardList(this.cardDataList, 13);
this.baipaiComponent.setHandPai(this.cardDataList);
this.xuanPaiAction(!0);
for (t = 0; t < 3; t++) if (0 == t) for (var a = 0; a < 3; a++) this.m_vecXuanPaiCard[t][a].card.active = !1; else for (a = 0; a < 5; a++) this.m_vecXuanPaiCard[t][a].card.active = !1;
this.m_vecFloorCard = [];
for (t = 0; t < 3; t++) this.m_vecFloorCard[t] = [];
this.reInitBackCard();
for (var n = 0; n < 3; n++) for (t = 0; t < 4; t++) {
this.userDoneCardBack[t][n].active = !1;
this.userDaoCardType[t][n].active = !1;
}
for (t = 0; t < this.VecJieSuan.length; t++) this.VecJieSuan[t].active = !1;
this.nodeJieSuan.active = !1;
1 == this.sortPaiReady && this.baipaiComponent.initBaiPaiList();
this.renew_ui();
this.baipaiUIReady = !0;
},
OnCheckReadyPai: function() {
this.showMyDoneCard(0);
},
showMyDoneCard: function(e) {
if (!this.kaipaiFlg && 0 != this._kaipai) {
if (0 != this.vecReadyCard.length && null != this.vecReadyCard[0] && 0 != this.vecReadyCard[0].length) {
if (0 == e) this.showSelfCard ? this.showSelfCard = !1 : this.showSelfCard = !0; else if (1 == e) {
if (!this.showSelfCard) return;
this.showSelfCard = !1;
}
for (var i = 0; i < 3; i++) if (0 == i) for (var t = 0; t < 3; t++) {
0 != (a = this.vecReadyCard[i][t]) && (0 == this.showSelfCard ? this.userDoneCard[0][i][t].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(255) : this.userDoneCard[0][i][t].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(a));
} else for (t = 0; t < 5; t++) {
var a;
0 != (a = this.vecReadyCard[i][t]) && (0 == this.showSelfCard ? this.userDoneCard[0][i][t].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(255) : this.userDoneCard[0][i][t].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(a));
}
for (var n = 0; n < 3; n++) 0 != a && this.userDoneCardBack[0][n].runAction(cc.sequence(cc.delayTime(1 * (n + 1)), cc.show()));
}
}
},
reInitBackCard: function() {
for (var e = 0; e < 4; e++) {
for (var i = 0; i < 3; i++) for (var t = 0 == i ? 3 : 5, a = 0; a < t; a++) {
this.userDoneCard[e][i][a].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(255);
this.userDoneCard[e][i][a].removeAllChildren();
}
this.vecSpriteEffect[e].active = !1;
this.vecSpSpriteEffect[e].active = !1;
this.userDaoCardType[e][0].active = !1;
this.userDaoCardType[e][1].active = !1;
this.userDaoCardType[e][2].active = !1;
}
},
OnSubKaiPaiReady: function(e, i) {
this.m_vecIsKaiPaiReady = i;
this.Layout_Desktop.active = !0;
for (var t = 0; t < this.players; t++) {
var a = this.SwitchViewChairID(t);
if (1 == i[t]) {
if (0 == a && 0 == this._kaipai) {
this.xuanPaiAction(!1);
this._kaipai = !0;
}
this.userDoneCardBack[a][0].active = !0;
this.userDoneCardBack[a][1].active = !0;
this.userDoneCardBack[a][2].active = !0;
this.userList[a].setSortPai(!1);
} else {
this.userList[a].setSortPai(!0);
this.userDoneCardBack[a][0].active = !1;
this.userDoneCardBack[a][1].active = !1;
this.userDoneCardBack[a][2].active = !1;
}
}
},
OnSubJieSuan: function(e, i) {
this.againBtn.setVisible(!0);
this.reportBtn.setVisible(!1);
this.m_vecRoundScore = [ 0, 0, 0, 0, 0 ];
this.m_vecUserScore = [ 0, 0, 0, 0, 0 ];
for (var t = 1; t < this.players; t++) {
this.userDoneCardBack[t][0].active = !1;
this.userDoneCardBack[t][1].active = !1;
this.userDoneCardBack[t][2].active = !1;
this.userBullet[t][0].active = !1;
this.userBullet[t][1].active = !1;
this.userBullet[t][2].active = !1;
this.userDaoCardType[t][0].active = !1;
this.userDaoCardType[t][1].active = !1;
this.userDaoCardType[t][2].active = !1;
}
for (t = 0; t < this.players; t++) {
this.m_vecRoundScore[t] = i[t].round_score;
this.m_vecUserScore[t] = i[t].user_score;
this.vecUser && this.vecUser[t] && this.vecUser[t].uid > 0 && (this.vecUser[t].score = i[t].user_score);
}
},
SortSelectCardList: function(e, i) {
for (var t = new Array(e.length), a = 0; a < i; a++) t[a] = this.GetCardLogicValue(e[a]);
var n, s = !0, c = i - 1;
do {
s = !0;
for (a = 0; a < c; a++) if (t[a] < t[a + 1] || t[a] == t[a + 1]) {
n = e[a];
e[a] = e[a + 1];
e[a + 1] = n;
n = t[a];
t[a] = t[a + 1];
t[a + 1] = n;
s = !1;
}
c--;
} while (0 == s);
},
ReInitAiXuanPaiGroup: function() {
this.aiGroupList = this.sszCardList.getAiGroup();
this.initCardTypeGroupList(this.aiGroupList);
},
ReinitOneCard: function(e, i) {
e.card.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i);
e.card.removeAllChildren();
i == this.mapai && this.addMaPaiToPai(e.card, cc.v2(27, -38));
e.card.active = !0;
e.byPai = i;
if (1 == e.isSelected) {
e.isSelected = !1;
e.isPop = !1;
e.card.y -= 10;
e.isFloor = !1;
}
},
ReInitCardPut: function() {
for (var e = 0; e < 3; e++) {
var i = this.m_vecXuanPaiCard[e];
this.vecReadyCard[e] = [];
if (0 == e) for (var t = 0; t < 3; t++) {
this.ReinitOneCard(i[t], this.cardDataList[t]);
this.vecReadyCard[e][t] = this.cardDataList[t];
} else if (1 == e) for (t = 0; t < 5; t++) {
this.ReinitOneCard(i[t], this.cardDataList[3 + t]);
this.vecReadyCard[e][t] = this.cardDataList[3 + t];
} else if (2 == e) for (t = 0; t < 5; t++) {
this.ReinitOneCard(i[t], this.cardDataList[8 + t]);
this.vecReadyCard[e][t] = this.cardDataList[8 + t];
}
}
},
CompareCard: function(e, i, t) {
var a = this.GetCardType(i, t), n = this.GetCardType(e, t);
if (n > a) return 2;
if (n < a) return 1;
switch (n) {
case T.CT_SINGLE:
var s = 0;
for (s = 0; s < t; s++) {
var c = this.GetCardLogicValue(i[s]);
if ((u = this.GetCardLogicValue(e[s])) > c) return 2;
if (u < c) return 1;
}
if (s == t) {
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
break;

case T.CT_ONE_LONG:
case T.CT_TWO_LONG:
case T.CT_THREE_TIAO:
case T.CT_TIE_ZHI:
case T.CT_HU_LU:
var o = ssz.tagAnalyseResult2;
o.initData();
var h = ssz.tagAnalyseResult3;
h.initData();
this.AnalysebCardData(i, t, o);
this.AnalysebCardData(e, t, h);
if (h.cbFourCount > 0) {
c = o.cbFourLogicVolue[0];
if ((u = h.cbFourLogicVolue[0]) != c) return u > c ? 2 : 1;
if ((u = h.cbSignedLogicVolue[0]) != (c = o.cbSignedLogicVolue[0])) return u > c ? 2 : 1;
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
if (h.cbThreeCount > 0) {
c = o.cbThreeLogicVolue[0];
if ((u = h.cbThreeLogicVolue[0]) != c) return u > c ? 2 : 1;
if (T.CT_HU_LU == n) {
if ((u = h.cbLONGLogicVolue[0]) != (c = o.cbLONGLogicVolue[0])) return u > c ? 2 : 1;
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
s = 0;
for (s = 0; s < h.cbSignedCount; s++) {
var r = o.cbSignedLogicVolue[s], l = h.cbSignedLogicVolue[s];
if (u > r) return 2;
if (l < r) return 1;
}
if (s == h.cbSignedCount) {
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
}
s = 0;
for (s = 0; s < h.cbLONGCount; s++) {
c = o.cbLONGLogicVolue[s];
if ((u = h.cbLONGLogicVolue[s]) > c) return 2;
if (u < c) return 1;
}
for (s = 0; s < h.cbSignedCount; s++) {
c = o.cbSignedLogicVolue[s];
if ((u = h.cbSignedLogicVolue[s]) > c) return 2;
if (u < c) return 1;
}
if (s == h.cbSignedCount) {
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
break;

case T.CT_SHUN_ZI:
case T.CT_TONG_HUA_SHUN:
c = this.GetCardLogicValue(i[0]);
var d = (u = this.GetCardLogicValue(e[0])) == this.GetCardLogicValue(e[1]) + 9, g = c == this.GetCardLogicValue(i[1]) + 9;
if (u > c) return 2;
if (u < c) return 1;
if (u == c) {
if (14 == u && 1 == d && 0 == g) return 1;
if (14 == c && 0 == d && 1 == g) return 2;
s = 0;
for (s = 0; s < t; s++) {
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
return u > c ? 2 : 1;

case T.CT_TONG_HUA:
s = 0;
for (s = 0; s < t; s++) {
var u;
c = this.GetCardLogicValue(i[s]);
if ((u = this.GetCardLogicValue(e[s])) != c) return u > c ? 2 : 1;
}
if (s == t) {
s = 0;
for (s = 0; s < t; s++) {
var _, v;
if ((_ = this.GetCardColor(e[s])) > (v = this.GetCardColor(i[s]))) return 2;
if (_ < v) return 1;
}
return 0;
}
}
return 0;
},
GetCardType: function(e, i) {
for (var t = !0, a = !0, n = this.GetCardColor(e[0]), s = this.GetCardLogicValue(e[0]), c = 1; c < i; c++) {
this.GetCardColor(e[c]) != n && (t = !1);
s != this.GetCardLogicValue(e[c]) + c && (a = !1);
if (0 == t && 0 == a) break;
}
if (0 == a && 14 == s) {
c = 1;
for (c = 1; c < i; c++) {
if (s != this.GetCardLogicValue(e[c]) + c + 8) break;
}
c == i && (a = !0);
}
if (3 == i) {
(o = ssz.tagAnalyseResult1).initData();
this.AnalysebCardData(e, i, o);
if (1 == o.cbThreeCount) return T.CT_THREE_TIAO;
if (1 == o.cbLONGCount) return T.CT_ONE_LONG;
} else {
if (1 == t && 1 == a && 13 == this.GetCardLogicValue(e[1])) return T.CT_KING_TONG_HUA_SHUN;
if (0 == t && 1 == a) return T.CT_SHUN_ZI;
if (1 == t && 0 == a) return T.CT_TONG_HUA;
if (1 == t && 1 == a) return T.CT_TONG_HUA_SHUN;
var o;
(o = ssz.tagAnalyseResult1).initData();
this.AnalysebCardData(e, i, o);
if (1 == o.cbFourCount) return T.CT_TIE_ZHI;
if (2 == o.cbLONGCount) return T.CT_TWO_LONG;
if (1 == o.cbLONGCount && 1 == o.cbThreeCount) return T.CT_HU_LU;
if (1 == o.cbThreeCount && 0 == o.cbLONGCount) return T.CT_THREE_TIAO;
if (1 == o.cbLONGCount && 3 == o.cbSignedCount) return T.CT_ONE_LONG;
}
return T.CT_SINGLE;
},
GetCardColor: function(e) {
return parseInt(e / 16);
},
GetCardLogicValue: function(e) {
var i = e % 16;
1 == i && (i = 14);
66 == e && (i = 15);
67 == e && (i = 16);
return i;
},
AnalysebCardData: function(e, i, t) {
for (var a = 0; a < i; a++) {
var n = 1, s = [ e[a], 0, 0, 0, 0 ], c = this.GetCardLogicValue(e[a]);
1 == c && (c = 14);
for (var o = a + 1; o < i; o++) {
var h = e[o] % 16;
1 == h && (h = 14);
if (h != c) break;
s[n++] = e[o];
}
switch (n) {
case 1:
t.cbSignedLogicVolue[t.cbSignedCount] = c;
for (var r = 0; r < n; r++) t.cbSignedCardData[t.cbSignedCount * n + r] = s[r];
t.cbSignedCount++;
break;

case 2:
t.cbLONGLogicVolue[t.cbLONGCount] = c;
for (r = 0; r < n; r++) t.cbLONGCardData[t.cbLONGCount * n + r] = s[r];
t.cbLONGCount++;
break;

case 3:
t.cbThreeLogicVolue[t.cbThreeCount] = c;
for (r = 0; r < n; r++) t.cbThreeCardData[t.cbThreeCount * n + r] = s[r];
t.cbThreeCount++;
break;

case 4:
t.cbFourLogicVolue[t.cbFourCount] = c;
for (r = 0; r < n; r++) t.cbFourCardData[t.cbFourCount * n + r] = s[r];
t.cbFourCount++;
}
a += n - 1;
}
},
OnSubQiangZhuang: function() {
this.getCurrentZhuang();
if ("DINGZHUANG" == this.m_zhuangMode) {
0 == this.SwitchRealChairID(0) ? this.common("qiangzhuang", {
power: 1
}) : this.nodeQiangZhuang.active = !1;
}
"LUNZHUANG" == this.m_zhuangMode && (0 == this.zhuangSeat ? this.common("qiangzhuang", {
power: 1
}) : this.nodeQiangZhuang.active = !1);
"QIANGZHUANG" == this.m_zhuangMode && (this.nodeQiangZhuang.active = !0);
},
getCurrentZhuang: function() {
for (var e = 0, i = 0; i < 5; i++) this.vecUser && this.vecUser[i] && this.vecUser[i].uid > 0 && e++;
this.zhuangSeat++;
this.zhuangSeat == e && (this.zhuangSeat = 0);
},
OnSubDingZhuang: function(e, i, t, a) {
this.nodeQiangZhuang.active = !1;
this.unschedule(this.tip_qiangzhuang_game);
this.OnBuQiangZhuangBtnClick();
for (var n = [], s = 0; s < 5; s++) a[s] > 0 && n.push(this.SwitchViewChairID(s));
this.m_byZhuang = i;
var c = this.SwitchViewChairID(i);
this.xuanZhuangIndex = 0;
this.xuanZhuangCounter = 0;
this.playXuanZhuangEffect(n, c, this.OnDingZhuangCallBack.bind(this));
},
OnStartBtnClick: function() {
for (var e = 0, i = 0; i < this.players; i++) this.vecUser && this.vecUser[i] && this.vecUser[i].uid > 0 && e++;
if (e > 1) {
this.startBtn.active = !1;
this.inviteBtn.active = !1;
this.common("start");
} else this.OnShowHint("房间内至少有2个人才能开始");
},
OnJieSanBtnClick: function() {
if (0 != cc.vv.userMgr.room_id || "hall" == cc.director.getScene().name) {
for (var e = this, i = 0, t = 0; t < 5; t++) e.vecUser && e.vecUser[t] && e.vecUser[t].uid > 0 && i++;
i > 1 ? this.m_bTableStarted ? cc.vv.alert.show("提示", "您是否确认要申请解散房间？", function() {
e.common("try_dismiss_room");
}, !0) : this.creator == cc.vv.userMgr.userid ? cc.vv.alert.show("提示", "解散房间不扣钻石,\n是否确认解散？", function() {
e.common("leave");
}, !0) : cc.vv.alert.show("提示", "您是否确认要退出房间？", function() {
e.common("leave");
}, !0) : cc.vv.alert.show("提示", "解散房间不扣钻石,\n是否确认解散？", function() {
e.common("leave");
}, !0);
} else cc.vv.sceneMgr.gotoHall();
},
OnSubFinalReport: function(e) {
for (var i = [], t = e.dismiss, a = e.time, n = 0; n < e.list.length; n++) {
i[n] = {};
if (e.list[n].userid > 0) {
i[n].uid = e.list[n].userid;
i[n].nickname = e.list[n].name;
i[n].avatar_url = "";
i[n].resultScore = e.list[n].result_score;
} else {
i[n].uid = 0;
i[n].nickname = "";
i[n].avatar_url = "";
i[n].resultScore = 0;
}
}
this.report_data = e;
this.final_report = i;
if (4 == this.cbReason) {
cc.vv.GameResult.showReport(e.roomid, this.cbReason, i, e.nowRound, e.maxRound, a);
if (1 == t) {
this.gameresult.active = !0;
this.roundinfo.active = !1;
}
}
},
playGameStartAnimation: function(e, i) {
var t = this;
this.sszStartspine.setAnimation(0, "kaishi", !1);
this.sszStartspine.setCompleteListener(function(a, n) {
var s = a.animation ? a.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", a.trackIndex, s, n);
t.sszStartAnimaNode.active = !1;
t.setPlayerCardSpriteToback();
t.hidePlayerCard();
t.playGameStartSendCardAnimation(e, i);
});
this.sszStartAnimaNode.active = !0;
cc.vv.audioMgr.playSFX("ssz/openface/fantasy");
},
playGameStartSendCardAnimation: function(e, i) {
for (var t = e.length, a = 0; a < t; a++) if (1 == e[a]) {
var n = this.setPlayerCardPosToTwoType(a);
this.playFapaiAnimation(n, a, e, i);
}
},
playFapaiAnimation: function(e, i, t, a) {
var n = this.SwitchViewChairID(i), s = 0, c = this, o = this.vecSpriteEffect[n].parent, h = cc.sequence(cc.delayTime(.2), cc.callFunc(function(i) {
e[s].active = !0;
(s += 1) < e.length && o.runAction(h);
if (s == e.length && 0 == n) {
c.OnSubFaPai(t, a);
c.playSexSFX(c.userList[0]._sex, "start_poker");
c.OnSubKaiPaiReady(c.m_nRound, c.m_vecIsKaiPaiReady);
}
}, this));
o.runAction(h);
},
initCardOldPos: function(e) {
for (var i = 0; i < this.players; i++) for (var t = this.SwitchViewChairID(i), a = 0; a < 3; a++) for (var n = 0 == a ? 3 : 5, s = 0; s < n; s++) this.userDoneCard[t][a][s].getComponent("TableCardAttri").setOldPosition();
},
setPlayerCardSpriteToback: function(e) {
for (var i = 0; i < this.players; i++) for (var t = this.SwitchViewChairID(i), a = 0; a < 3; a++) for (var n = 0 == a ? 3 : 5, s = 0; s < n; s++) this.userDoneCard[t][a][s].getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(255);
},
hidePlayerCard: function(e) {
for (var i = 0; i < this.players; i++) for (var t = this.SwitchViewChairID(i), a = 0; a < 3; a++) for (var n = 0 == a ? 3 : 5, s = 0; s < n; s++) this.userDoneCard[t][a][s].active = !1;
},
setPlayerCardPosToOneType: function(e) {
for (var i = 0; i < this.players; i++) for (var t = this.SwitchViewChairID(i), a = 0; a < 3; a++) for (var n = 0 == a ? 3 : 5, s = 0; s < n; s++) {
var c = this.userDoneCard[t][a][s].getComponent("TableCardAttri").getOldPosition();
this.userDoneCard[t][a][s].setPosition(c.x, c.y);
}
},
setPlayerCardPosToTwoType: function(e) {
for (var i = this.SwitchViewChairID(e), t = [], a = 0, n = I[i], s = 0; s < 3; s++) for (var c = 0 == s ? 3 : 5, o = 0; o < c; o++) {
var h = this.userDoneCard[i][s][o].parent.convertToNodeSpaceAR(n);
this.userDoneCard[i][s][o].setPosition(h.x + 30 * a, h.y);
t.push(this.userDoneCard[i][s][o]);
a += 1;
}
return t;
},
playBgCCardAnimation: function(e, i, t, a, n, s, c) {
var o = this;
this.sszBgCompCardspine.setAnimation(0, "bipai", !1);
this.sszBgCompCardspine.setCompleteListener(function(h, r) {
var l = h.animation ? h.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", h.trackIndex, l, r);
o.sszBgCompCardAnimaNode.active = !1;
o.OnUserKaiPaiByOrder(e, i, t, a, n, s, c);
});
this.sszBgCompCardAnimaNode.active = !0;
cc.vv.audioMgr.playSFX("ssz/openface/fantasy");
this.playSexSFX(this.userList[0]._sex, "start_compare");
cc.vv.log3.info("animation" + this.sszBgCompCardspine.animation);
},
playHomeRunAnimation: function() {
var e = this;
this.sszHomeRunspine.setAnimation(0, "quanleida", !1);
this.sszHomeRunspine.setCompleteListener(function(i, t) {
var a = i.animation ? i.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", i.trackIndex, a, t);
e.sszHomeRunAnimaNode.active = !1;
});
this.sszHomeRunAnimaNode.active = !0;
this.playSexSFX(this.userList[0]._sex, "special1");
},
playShotReadyAnimation: function() {
var e = this;
this.sszShotReadyspine.setAnimation(0, "daqiang", !1);
this.sszShotReadyspine.setCompleteListener(function(i, t) {
var a = i.animation ? i.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", i.trackIndex, a, t);
e.sszShotReadyAnimaNode.active = !1;
});
this.sszShotReadyAnimaNode.active = !0;
this.playSexSFX(this.userList[0]._sex, "daqiang1");
},
go: function(e, i) {
return 180 * Math.atan((i.y - e.y) / (i.x - e.x)) / Math.PI;
},
playShotAnimation: function(e) {
var i = this, t = this, a = [ {
pos: cc.v2(-180, -205),
face: [ {
x: 1,
y: 1,
rate: 0
}, {
x: 1,
y: -1,
rate: 128
}, {
x: 1,
y: -1,
rate: 165
}, {
x: 1,
y: 1,
rate: 40
} ]
}, {
pos: cc.v2(250, 230),
face: [ {
x: 1,
y: 1,
rate: -75
}, {
x: 1,
y: 1,
rate: 0
}, {
x: 1,
y: -1,
rate: -120
}, {
x: 1,
y: 1,
rate: -32
} ]
}, {
pos: cc.v2(554, 50),
face: [ {
x: 1,
y: 1,
rate: -38
}, {
x: 1,
y: 1,
rate: 12
}, {
x: 1,
y: 1,
rate: 0
}, {
x: 1,
y: 1,
rate: -15
} ]
}, {
pos: cc.v2(-565, 20),
face: [ {
x: -1,
y: 1,
rate: 30
}, {
x: -1,
y: 1,
rate: -20
}, {
x: -1,
y: 1,
rate: 0
}, {
x: 1,
y: 1,
rate: 0
} ]
} ], n = this.SwitchViewChairID(e.f_seat_id), s = this.SwitchViewChairID(e.t_seat_id), c = (this.userList[n], 
this.userList[s], a[n].pos), o = a[n].face[s], h = 0;
this.sszShotAnimaNode.setPosition(c);
this.sszShotAnimaNode.scaleX = o.x * Math.abs(this.sszShotAnimaNode.scaleX);
this.sszShotAnimaNode.scaleY = o.y * Math.abs(this.sszShotAnimaNode.scaleY);
this.sszShotAnimaNode.rotation = o.rate;
this.sszShotspine.setAnimation(0, "kaiqiang", !1);
this.sszShotspine.setCompleteListener(function(e, a) {
var n = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", e.trackIndex, n, a);
i.userBullet[s][0].active = !1;
i.userBullet[s][1].active = !1;
i.userBullet[s][2].active = !1;
t.sszShotAnimaNode.active = !1;
cc.vv.audioMgr.stopSFX(h);
});
this.sszShotspine.setEventListener(function(e, t) {
var a = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] event: %s, %s, %s, %s", e.trackIndex, a, t.data.name, t.intValue, t.floatValue, t.stringValue);
0 == i.userBullet[s][0].active && (h = cc.vv.audioMgr.playSFX("ssz/openface/daqiang2"));
"slot1" == t.data.name ? i.userBullet[s][0].active = !0 : "slot2" == t.data.name ? i.userBullet[s][1].active = !0 : "slot3" == t.data.name && (i.userBullet[s][2].active = !0);
});
this.sszShotAnimaNode.active = !0;
},
playReadyAnimation: function() {
this.sszReadyspine.setAnimation(0, "jijiangkaishi", !0);
this.sszReadyspine.setCompleteListener(function(e, i) {
var t = e.animation ? e.animation.name : "";
cc.log("[track %s][animation %s] complete: %s", e.trackIndex, t, i);
});
this.sszReadyAnimaNode.active = !1;
},
GetMeChairID: function() {
return this.mChairID;
},
SwitchViewChairID: function(e) {
return Math.abs(e + this.players - this.GetMeChairID()) % this.players;
},
SwitchRealChairID: function(e) {
return (this.GetMeChairID() + e) % this.players;
},
VecStr2Int: function(e) {
for (var i = [], t = 0; t < e.length; t++) i[t] = parseInt(e[t]);
return i;
},
deal: function(e, i) {
cc.vv.log3.info("deal name:" + e);
if (0 == i.errcode) {
i = i.data;
if ("table" == e) {
this.mRoomID = i.roomid;
this.m_bTableStarted = i.table_started;
this.m_nRound = i.round;
this.m_nMaxRound = i.max_round;
this.m_bGameStarted = i.game_started;
this.m_cntLookon = i.lookon;
0 == this.m_nRound && (this.m_nRound = 1);
this.fjhLabel.string = "房号:" + this.mRoomID;
if (this.m_bTableStarted) {
this.inviteBtn.active = !1;
this.readyBtn.active = !1;
} else this.inviteBtn.active = !0;
for (var t = i.list, a = [], n = 0; n < this.players; n++) {
var s = t[n], c = {};
c.uid = s.userid;
c.score = s.coins;
c.nickname = s.nickname;
c.gender = s.sex;
c.avatar = s.avatar;
c.state = s.status;
c.vip = s.vip;
c.title = s.title;
c.lookon = s.lookon;
c.ip = s.ip;
c.online = s.online;
a.push(c);
}
this.OnSubTable(a);
} else if ("param" == e) {
i.roomid;
this.wang = i.wang;
this.paixin = i.paixin;
this.players = i.ren;
this.creator = i.creator;
this.descLabel.getComponent(cc.Label).string = i.desc;
this.mapai = i.mapai;
if (0 == i.mapai) this.mapaiSprite.active = !1; else {
this.mapaiSprite.getComponent(cc.Sprite).spriteFrame = this.getsszPokerSpriteFrame(i.mapai);
this.mapaiSprite.active = !0;
}
this.initCardOldPos();
} else if ("stage" == e) {
var o = i.stage, h = i.deal_time;
this.OnSubStage(o, h, i);
} else if ("ready" == e) {
var r = i.userid, l = i.seatid;
this.m_vecIsReady[i.seatid] = 1;
this.OnSubReady(r, l);
} else if ("sit" == e) {
r = i.userid, l = i.seatid;
var d = i.roomid, g = i.score, u = i.nickname, _ = i.sex, v = i.avatar, p = i.ip;
o = i.status;
this.OnSubSit(r, l, d, g, u, _, v, p, o);
} else if ("standup" == e) {
r = parseInt(vecArg[1]);
this.OnSubStandUp(r);
} else if ("fapai" == e) {
var m = i.pai;
this.m_nRound = i.round;
this.m_nMaxRound = i.max_round;
this.baipaiHand = m;
this.sszReadyspine.clearTrack(0);
this.sszReadyAnimaNode.active = !1;
this._kaipai = !1;
this.showSelfCard = !1;
this.baipaiUIReady = !1;
this.sortPaiReady = !1;
var f = this;
for (n = 0; n < this.players; n++) {
var y = this.SwitchViewChairID(n);
this.userList[y].setWinCoinFixed(null);
this.userList[y].setOffline(!1);
this.vecUser && this.vecUser[n] && this.vecUser[n].uid > 0 && (this.vecUser[n].offline = !1);
}
this.scheduleOnce(function() {
f.sszCardList.initData();
f.baipaiUIReady && f.baipaiComponent.initBaiPaiList();
f.sortPaiReady = !0;
}, 0);
this.hidePlayerResultType();
this.playGameStartAnimation(this.m_vecIsReady, m);
} else if ("kaipai" == e) {
cc.vv.log3.info("vecPai:hahaha");
this.byRound = i.round;
this.m_vecIsKaiPaiReady[i.seatid] = i.ready;
this.setPlayerCardPosToOneType();
this.OnSubKaiPaiReady(this.byRound, this.m_vecIsKaiPaiReady);
} else if ("qiangzhuang" == e) ; else if ("dingzhuang" == e) {
r = i.userid, l = i.seatid, i.power, y = this.SwitchViewChairID(i.seatid);
this.userList[y].setZhuang(!0);
} else if ("suanfen" == e) this.byRound = i.round; else if ("jiesuan" == e) {
if (1 == this.kaipaiFlg) {
this.readyBtn.active = !0;
return;
}
this.showSuanFen = !1;
this.showReportFlg = i.report;
this.showMyDoneCard(1);
this.kaipaiFlg = !0;
this.xuanPaiAction(!1);
for (n = 0; n < i.list.length; n++) 0 != i.list[n].pai[0] ? this.m_vecIsKaiPaiReady[i.list[n].seatid] = 1 : this.m_vecIsKaiPaiReady[i.list[n].seatid] = 0;
this.OnSubKaiPaiReady(this.m_nRound, this.m_vecIsKaiPaiReady);
var C = this.userScoreList = i.list, b = [], w = [], x = [], z = [], k = [], M = i.daqiang, j = !1;
for (n = 0; n < 4; n++) if (!(n >= this.players)) {
for (var N = [], S = [], F = [], B = 0; B < 13; B++) B < 3 ? N.push(C[n].pai[B]) : B >= 3 && B < 8 ? S.push(C[n].pai[B]) : F.push(C[n].pai[B]);
var T = [];
T.push(N);
T.push(S);
T.push(F);
b.push(T);
if (n == this.mChairID) {
this.vecReadyCard[0] = [].concat(N);
this.vecReadyCard[1] = [].concat(S);
this.vecReadyCard[2] = [].concat(F);
}
w.push(C[n].type);
x.push(C[n].dao);
z.push(C[n].score);
k.push(C[n].result_score);
1 == C[n].quanleida && (j = !0);
}
this.vecCard = b;
this.vecDaoCardType = w;
this.vecDaoScore = x;
this.vecTotalScore = z;
this.vecUserTotalScore = k;
this.vecShot = M;
this.homeRunTag = j;
this.refreshPlayerStatus();
this.playBgCCardAnimation(b, w, x, z, k, M, j);
} else if ("report" == e) {
cc.vv.popupMgr.closeAll();
cc.vv.audioMgr.stopSFX(this.alarm_id);
if (this.showSuanFen) {
this.reportBtn.active = !0;
this.readyBtn2.active = !1;
this.readyBtn.active = !1;
}
this.cbReason = i.reason;
this.OnSubFinalReport(i);
} else if ("dismissroom" == e) {
r = i.userid;
cc.vv.sceneMgr.gotoHall();
} else if ("cancel_dismiss_room" == e) r = i.userid, u = i.nickname, i.roomid; else if ("voice" == e) {
this._voiceMsgQueue.push(i);
this.playVoice();
} else if ("chat" == e) {
r = i.userid;
var A = i.seatid, I = i.content;
this.onSubChat(r, A, I);
} else if ("yuyin" == e) {
var X = i.index;
r = i.userid, A = i.seatid;
this.OnSubYuYin(r, A, X);
} else if ("biaoqing" == e) {
X = i.index, r = i.userid, A = i.seatid;
this.OnSubBiaoQing(r, A, X);
}
} else cc.vv.tip.show(i.errmsg);
},
playVoice: function() {
if (null == this._playingSeat && this._voiceMsgQueue.length) {
var e = this._voiceMsgQueue.shift();
this._playingSeat = e.seatid;
var i = this.SwitchViewChairID(e.seatid);
this.userList[i].voiceMsg(!0);
cc.vv.voiceMgr.writeVoice("voicemsg.amr", e.content);
cc.vv.voiceMgr.play("voicemsg.amr");
this._lastPlayTime = Date.now() + e.time;
}
},
update: function(e) {
var i = Math.floor(Date.now() / 1e3 / 60);
if (this._lastMinute != i) {
this._lastMinute = i;
var t = new Date(), a = t.getHours();
a = a < 10 ? "0" + a : a;
var n = t.getMinutes();
n = n < 10 ? "0" + n : n;
this._timeLabel.string = a + ":" + n;
}
if (null != this._lastPlayTime) {
if (Date.now() > this._lastPlayTime + 200) {
this.onPlayerOver();
this._lastPlayTime = null;
}
} else this.playVoice();
},
onPlayerOver: function() {
cc.vv.audioMgr.resumeAll();
cc.vv.log3.debug("onPlayCallback:" + this._playingSeat);
var e = this.SwitchViewChairID(this._playingSeat);
this._playingSeat = null;
this.userList[e].voiceMsg(!1);
},
onDestroy: function() {
cc.vv && cc.vv.gameNetMgr.clear();
}
});
cc._RF.pop();
}, {} ],
SSZBaiPaiCard: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b0cb5RYo3tGA7APNqQUETqH", "SSZBaiPaiCard");
cc.Class({
extends: cc.Component,
properties: {
_taget: null,
_dao: -1,
_index: -1,
_select: 0,
_pai: -1,
_type: 0
},
onBaiPaiClieck: function() {
if (1 == this._type) {
cc.vv.audioMgr.click();
if (-1 == this._dao) {
this._select = 1 == this._select ? 0 : 1;
this.node.y = 0 == this._select ? 0 : 20;
} else this._taget.cardCallback(this.node);
}
},
setDao: function(e) {
this._dao = e;
-1 == e ? this.setEnabled(!1) : this.setEnabled(!0);
},
setGameType: function(e) {
this._type = e;
},
setIndex: function(e) {
this._index = e;
},
getDao: function() {
return this._dao;
},
getIndex: function() {
return this._index;
},
getPai: function() {
return this._pai;
},
isSelect: function() {
return this._select;
},
setSelect: function(e) {
this._select = e;
-1 == this._dao && (this.node.y = 0 == this._select ? 0 : 20);
},
setPai: function(e) {
this.node.getComponent(cc.Sprite).spriteFrame = 255 == e ? this._taget.sszGame.sszPokerAtlas.getSpriteFrame(255) : this._taget.sszGame.getsszPokerSpriteFrame(e);
this._pai = e;
},
setEnabled: function(e) {
if (e) {
this.node.addComponent(cc.Button).node.on("click", this.onBaiPaiClieck, this);
} else this.node.removeComponent(cc.Button);
},
setMaPai: function(e) {
this.node.getChildByName("horse").active = 255 != e && this._pai == e;
},
setTaget: function(e) {
this._taget = e;
}
});
cc._RF.pop();
}, {} ],
SSZBaiPai: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c24e8eKiaRFsrky9k6J9fIZ", "SSZBaiPai");
var a = [ cc.v2(-87, 425), cc.v2(-168, 312), cc.v2(-210, 190) ], n = [ 84, 84, 104 ], s = [ 3, 5, 5 ];
cc.Class({
extends: cc.Component,
properties: {
itemPrefab: cc.Prefab
},
onLoad: function() {
this.noMove = !1;
this.sszGame = this.node.getComponent("SSZ1100Game");
this.nodeBaiPai = this.node.getChildByName("ID_LAYOUT_BAIPAI");
this.nodeXuanPai = this.node.getChildByName("ID_LAYOUT_XUANPAI");
this.nodeHandList = this.nodeBaiPai.getChildByName("card_layout");
this.nodePaiBtn = this.nodeBaiPai.getChildByName("Pai_btn");
var e = this.nodeBaiPai.getComponent(cc.Button);
e.node.on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
e.node.on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
e.node.on(cc.Node.EventType.TOUCH_END, this.touchend, this);
this.vecCandSelect = [];
var i = this.nodeBaiPai.getChildByName("FdCardSelect"), t = this.nodeBaiPai.getChildByName("SdCardSelect"), a = this.nodeBaiPai.getChildByName("TdCardSelect");
this.vecCandSelect.push(i);
this.vecCandSelect.push(t);
this.vecCandSelect.push(a);
this.hideDaoCandSelect();
this.vecCardTypeTips = [];
var n = this.nodeBaiPai.getChildByName("FDCt"), s = this.nodeBaiPai.getChildByName("SDCt"), c = this.nodeBaiPai.getChildByName("TDCt");
this.vecCardTypeTips.push(n);
this.vecCardTypeTips.push(s);
this.vecCardTypeTips.push(c);
this.hideCardTypeTips(-1);
this.autoCheckOne = !0;
},
showDaoTypeTip: function(e, i) {
this.vecCardTypeTips[e].active = !0;
var t = this.sszGame.getCardTypeInfo(i);
0 == e ? t.FD : 1 == e ? t.SD : 2 == e && t.TD;
this.vecCardTypeTips[e].getChildByName("typeTitle").getComponent(cc.Sprite).spriteFrame = this.sszGame.getCardTypeSpriteFrame(i);
this.daoTypeVec[e][0] = i;
},
hideCardTypeTips: function(e) {
if (-1 == e) {
for (var i = 0; i < this.vecCardTypeTips.length; i++) this.vecCardTypeTips[i].active = !1;
this.daoTypeVec = [ [ -1, [] ], [ -1, [] ], [ -1, [] ] ];
} else {
this.vecCardTypeTips[e].active = !1;
this.daoTypeVec[e][0] = -1;
this.daoTypeVec[e][1] = [];
}
},
showDaoCandSelect: function(e) {
for (var i = 0; i < s.length; i++) s[i] == e && (this.vecCandSelect[i].active = !0);
},
hideDaoCandSelect: function() {
for (var e = 0; e < s.length; e++) this.vecCandSelect[e].active = !1;
},
selectCard: function(e, i) {
e.setSelect(i);
for (var t = this.getSelectPaiList(1), a = 0; a < s.length; a++) if (t.length == s[a]) {
0 == this.getDaoPaiList(a).length ? this.vecCandSelect[a].active = !0 : this.vecCandSelect[a].active = !1;
} else this.vecCandSelect[a].active = !1;
},
isInRect: function(e) {
for (var i = this.nodeHandList.childrenCount - 1; i > -1; --i) {
var t = this.nodeHandList.children[i];
if (t.getBoundingBox().contains(e)) {
t.color = new cc.Color(150, 150, 150);
t.isChiose = !0;
return t;
}
}
return null;
},
touchstart: function(e) {
if (this.noMove) return !1;
e.stopPropagation();
var i = this.nodeHandList.convertToNodeSpace(e.getLocation());
if (this.isInRect(i)) return !0;
this.setAllCardUnSelected();
return !1;
},
touchmove: function(e) {
if (!this.noMove) {
e.stopPropagation();
var i = this.nodeHandList.convertToNodeSpace(e.getLocation());
this.isInRect(i);
}
},
touchend: function(e) {
if (!this.noMove) {
for (var i = 0, t = 0; t < this.nodeHandList.childrenCount; ++t) {
var a = this.nodeHandList.children[t];
if (a.isChiose) {
i++;
a.color = new cc.Color(255, 255, 255);
var n = a.getComponent("SSZBaiPaiCard");
this.selectCard(n, n.isSelect() ? 0 : 1);
a.isChiose = !1;
}
}
i > 0 && cc.vv.audioMgr.click();
}
},
fisrtFaPai: function() {
this.noMove = !0;
var e = this.getDaoPaiList(-1);
this.showFunction(0 == e.length);
for (var i = this.nodePaiBtn.children, t = 0; t < i.length; ++t) i[t].getComponent(cc.Button).interactable = !1;
this.teshu = 0;
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("spcard").active = !1;
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("teshu").getComponent(cc.Button).interactable = !1;
for (t = 0; t < e.length; t++) this.fapaiOver();
this.setAllCardUnSelected();
},
fapaiOver: function() {
this.fapaiSum++;
if (13 == this.fapaiSum) {
this.noMove = !1;
for (var e = this.getDaoPaiList(-1), i = 0; i < e.length; i++) {
var t = e[i].getComponent("SSZBaiPaiCard");
t.setPai(this.baipaiHand[i]);
t.setMaPai(this.sszGame.mapai);
}
this.updatePaiBtn();
this.checkSpecialCard();
}
},
initBaiPaiList: function() {
this.nodeHandList.removeAllChildren();
this.selectHand = [ [ 0, 0, 0 ], [ 0, 0, 0, 0, 0 ], [ 0, 0, 0, 0, 0 ] ];
this.daoTypeVec = [ [ -1, [] ], [ -1, [] ], [ -1, [] ] ];
this.hideCardTypeTips(-1);
this.lastPaiList = [ -1, -1 ];
this.spGroup = [];
this.fapaiSum = 0;
for (var e = 0; e < this.baipaiHand.length; e++) {
var i = cc.instantiate(this.itemPrefab), t = i.getComponent("SSZBaiPaiCard");
t.setTaget(this);
t.setDao(-1);
t.setPai(255);
i.zIndex = e;
i.x = 78 * e - 470;
t.setMaPai(this.sszGame.mapai);
t.setGameType(1);
this.nodeHandList.addChild(i, 0, e);
}
this.fisrtFaPai();
},
setHandPai: function(e) {
this.baipaiHand = [];
for (var i = 0; i < 13; i++) this.baipaiHand.push(e[i]);
this.sszGame.SortSelectCardList(this.baipaiHand, 13);
},
initBaiPaiListX: function(e) {
this.noMove = !1;
this.updatePaiBtn();
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("spcard").active = 1 == this.teshu;
this.refreshHandCards();
e && this.checkDaoDaoShui();
},
refreshHandCards: function(e) {
var i = this.getDaoPaiList(-1);
this.showFunction(0 == i.length);
if (0 != i.length) {
var t = parseInt((i.length - 1) / 2);
i[t].x = 0;
i[t].zIndex = t;
for (var a = t + 1; a < i.length; a++) {
i[a].x = 78 * (a - t);
i[a].zIndex = a;
}
for (a = t - 1; a >= 0; a--) {
i[a].x = 78 * (a - t);
i[a].zIndex = a;
}
this.setAllCardUnSelected();
}
},
cardCallback: function(e) {
var i = e.getComponent("SSZBaiPaiCard"), t = i.getDao();
this.selectHand[i.getDao()][i.getIndex()] = 0;
this.selectCard(i, 0);
i.setDao(-1);
i.setIndex(-1);
this.runBaiPaiAction(.2, e, cc.v2(0, 0), !0, !1);
this.fillNullIndex(t);
this.toTeshu0();
},
checkOne: function() {
var e = this.getDaoPaiList(-1);
if (!this.autoCheckOne) return !1;
if (e.length > 5 || 0 == e.length) return !1;
for (var i = 0; i < e.length; i++) {
var t = e[i].getComponent("SSZBaiPaiCard");
this.selectCard(t, 1);
}
for (var a = 0; a < 3; a++) {
if (-1 != this.getDaoNullIndex(a)) {
this.onDaoClick(null, a);
return !0;
}
}
return !1;
},
showFunction: function(e) {
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("reput").active = e;
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("putok").active = e;
},
checkDaoDaoShui: function() {
var e = this, i = this.getDaoPaiList(-1), t = this.sszGame.sszCardList.CompareDaoCtCard(this.daoTypeVec, this.selectHand);
if (0 != t[0]) {
if (2 == t[0]) this.showFunction(0 == i.length); else if (1 == t[0]) {
this.checkDaoshui();
t[1] = "出牌顺序不符合规则，已帮您自动对调中道和尾道牌的顺序！";
this.scheduleOnce(function() {
var t = e.daoTypeVec[1];
e.daoTypeVec[1] = e.daoTypeVec[2];
e.daoTypeVec[2] = t;
e.showDaoTypeTip(1, e.daoTypeVec[1][0]);
e.showDaoTypeTip(2, e.daoTypeVec[2][0]);
e.showFunction(0 == i.length);
this.checkOne();
}, .5);
}
cc.vv.tip.show(t[1]);
} else {
this.showFunction(0 == i.length);
this.checkOne();
}
},
checkDaoshui: function() {
var e = this.getDaoPaiList(1), i = this.getDaoPaiList(2);
if (0 != e.length && 0 != i.length) {
for (var t = a[2], s = n[2], c = a[1], o = n[1], h = 0; h < e.length; h++) {
var r = e[h].getComponent("SSZBaiPaiCard"), l = i[h].getComponent("SSZBaiPaiCard");
r._dao = 2;
l._dao = 1;
var d = this.selectHand[r.getDao()][r.getIndex()];
this.selectHand[r.getDao()][r.getIndex()] = this.selectHand[l.getDao()][l.getIndex()];
this.selectHand[l.getDao()][l.getIndex()] = d;
this.runBaiPaiAction(.5, e[h], cc.v2(t.x + s * h, t.y), !1, !0);
this.runBaiPaiAction(.5, i[h], cc.v2(c.x + o * h, c.y), !1, !0);
}
this.refreshDaoCardIndex();
}
},
refreshDaoCardIndex: function() {
for (var e, i = 0; i < 3; i++) {
e = this.getDaoPaiList(i);
for (var t = 0; t < e.length; t++) {
var a = e[t].getComponent("SSZBaiPaiCard");
e[t].zIndex = 10 * i + a.getIndex();
}
}
},
onDaoReputCancel: function(e, i) {
cc.vv.audioMgr.click();
for (var t = 0, a = 0, n = 0; n < 3; n++) {
(s = this.getDaoPaiList(n)).length > 0 && (t += s.length);
}
for (n = 0; n < 3; n++) for (var s = this.getDaoPaiList(n), c = 0; c < s.length; c++) {
var o = s[c].getComponent("SSZBaiPaiCard");
this.selectHand[o.getDao()][o.getIndex()] = 0;
this.selectCard(o, 0);
o.setDao(-1);
o.setIndex(-1);
s[c].zIndex = c;
a++;
this.runBaiPaiAction(.2, s[c], cc.v2(0, 0), a == t, !1);
}
this.autoCheckOne = !0;
this.toTeshu0();
this.hideCardTypeTips(-1);
},
fillNullIndex: function(e) {
for (var i = this.getDaoPaiList(e), t = a[e], s = n[e], c = i.length, o = 0; o < c; o++) for (var h = 0; h < c - 1 - o; h++) if (i[h].getComponent("SSZBaiPaiCard").getIndex() > i[h + 1].getComponent("SSZBaiPaiCard").getIndex()) {
var r = i[h + 1];
i[h + 1] = i[h];
i[h] = r;
}
for (h = 0; h < i.length; h++) {
i[h].zIndex = 10 * e + h;
var l = i[h].getComponent("SSZBaiPaiCard");
if (l.getIndex() != h) {
this.selectHand[e][h] = l.getPai();
this.selectHand[l.getDao()][l.getIndex()] = 0;
l.setIndex(h);
this.selectCard(l, 0);
this.runBaiPaiAction(.2, i[h], cc.v2(t.x + s * h, t.y), !1, !0);
}
}
},
onDaoPutok: function(e, i) {
cc.vv.audioMgr.click();
var t = this, a = this.sszGame.sszCardList.CompareDaoCtCard(this.daoTypeVec, this.selectHand);
if (2 != a[0]) {
for (var n = [], s = 0; s < 3; s++) {
this.sszGame.vecReadyCard[s] = [].concat(this.selectHand[s]);
for (var c = 0; c < this.selectHand[s].length; c++) n.push(this.selectHand[s][c]);
}
this.sszGame.common("kaipai", {
tanpai: n,
teshu: this.teshu
});
} else {
this.scheduleOnce(function() {
t.onDaoReputCancel(null, null);
}, .3);
cc.vv.tip.show(a[1]);
}
},
onDaoCancel: function(e, i) {
cc.vv.audioMgr.click();
if (!this.noMove) {
var t = parseInt(i), a = this.getDaoPaiList(t);
if (0 != a.length) {
for (var n = 0; n < a.length; n++) {
var s = a[n].getComponent("SSZBaiPaiCard");
this.selectHand[s.getDao()][s.getIndex()] = 0;
this.selectCard(s, 0);
s.setDao(-1);
s.setIndex(-1);
a[n].zIndex = n;
this.runBaiPaiAction(.2, a[n], cc.v2(0, 100), a.length - 1 == n, !1);
}
this.autoCheckOne = !1;
this.toTeshu0();
this.hideCardTypeTips(t);
}
}
},
onBlankClick: function() {},
onTeshuPaiClick: function() {
cc.vv.audioMgr.click();
this.setAllCardUnSelected();
var e = this.getDaoPaiList(null), i = [];
i[0] = this.sszGame.sszCardList.spGroup[2][1];
i[1] = this.sszGame.sszCardList.spGroup[1][1];
i[2] = this.sszGame.sszCardList.spGroup[0][1];
for (var t = 0; t < this.nodeHandList.childrenCount; ++t) {
(o = cc.vv.utils.getChildByTag(this.nodeHandList, t).getComponent("SSZBaiPaiCard")).setDao(-1);
o.setIndex(-1);
}
for (t = 0; t < i.length; t++) for (var s = 0; s < i[t].length; s++) for (var c = 0; c < e.length; c++) {
var o = e[c].getComponent("SSZBaiPaiCard");
if (i[t][s] == o.getPai() && -1 == o.getDao()) {
var h = a[t], r = n[t];
this.selectCard(o, 0);
o.setDao(t);
o.setIndex(s);
this.selectHand[t][s] = o.getPai();
e[c].zIndex = 10 * t + s;
this.runBaiPaiAction(.3, e[c], cc.v2(h.x + r * s, h.y), 0 == s - 1 && t - 1 == 0, !0);
break;
}
}
this.teshu = 1;
this.hideCardTypeTips(-1);
},
onAutoBaiPai: function(e, i) {
cc.vv.audioMgr.click();
var t = parseInt(i);
this.sszGame._baipaiMode = t;
this.nodeBaiPai.active = 0 == t;
this.nodeXuanPai.active = 1 == t;
this.nodeXuanPai.active && this.sszGame._viewlist.getComponent(cc.ScrollView).scrollToLeft();
},
onDaoClick: function(e, i) {
cc.vv.audioMgr.click();
var t = parseInt(i), c = this.getDaoCount(t);
if (0 != c) {
var o = this.getSelectPaiList(1), h = a[t], r = n[t], l = c, d = this.getDaoNullIndex(t);
if (!(s[t] - d < o.length)) {
for (var g = 0; g < o.length; g++) {
if (l > 0) {
var u = o[g].getComponent("SSZBaiPaiCard"), _ = this.getDaoNullIndex(t);
this.selectCard(u, 0);
u.setDao(t);
u.setIndex(_);
this.selectHand[t][_] = u.getPai();
this.runBaiPaiAction(.2, o[g], cc.v2(h.x + r * _, h.y), 0 == l - 1 || o.length - 1 == g, !0);
}
l--;
}
var v = this.sszGame.sszCardList.getDaoCardType(this.selectHand[t]);
this.showDaoTypeTip(t, v);
this.autoCheckOne = !0;
this.refreshDaoCardIndex();
}
}
},
toTeshu0: function() {
if (1 == this.teshu) {
cc.vv.tip.show("特殊牌型已取消");
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("spcard").active = !1;
}
this.teshu = 0;
},
getDaoNullIndex: function(e) {
for (var i = 0 == e ? 3 : 5, t = 0; t < i; t++) if (0 == this.selectHand[e][t]) return t;
return -1;
},
getDaoCount: function(e) {
for (var i = 0 == e ? 3 : 5, t = 0, a = 0; a < i; a++) 0 == this.selectHand[e][a] && t++;
return t;
},
runBaiPaiAction: function(e, i, t, a, n) {
var s = 0, c = 0;
if (n) {
s = 1.1;
c = 1.1;
} else {
s = 1.1;
c = 1.1;
}
this.noMove = !0;
i.setScale(s, c);
i.setPosition(t);
i.runAction(cc.callFunc(function() {
a && this.initBaiPaiListX(n);
}, this));
},
getDaoPaiList: function(e) {
for (var i = [], t = 0; t < this.nodeHandList.childrenCount; ++t) {
var a = cc.vv.utils.getChildByTag(this.nodeHandList, t);
a.getComponent("SSZBaiPaiCard").getDao() != e && null != e || i.push(a);
}
return i;
},
getSelectPaiList: function(e) {
for (var i = [], t = 0; t < this.nodeHandList.childrenCount; ++t) {
var a = cc.vv.utils.getChildByTag(this.nodeHandList, t);
a.getComponent("SSZBaiPaiCard").isSelect() == e && i.push(a);
}
return i;
},
getMeiYouHandPai: function(e) {
for (var i = [], t = this.getDaoPaiList(e), a = 0; a < t.length; a++) {
var n = t[a].getComponent("SSZBaiPaiCard");
i.push(n.getPai());
}
return i;
},
setAllCardUnSelected: function() {
for (var e = this.getDaoPaiList(-1), i = 0; i < e.length; i++) {
var t = e[i].getComponent("SSZBaiPaiCard");
this.selectCard(t, 0);
}
},
updatePaiBtn: function() {
var e = this;
this.scheduleOnce(function() {
var i = e.getMeiYouHandPai(-1);
e.paiListType = [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
if (i.length > 1) {
e.sszGame.sszCardList.initData();
e.sszGame.sszCardList.getCardTypeAi(i, e.paiListType, 9999, i.length > 3 ? 1 : 3, 0, !0);
e.curGroupCardList = e.sszGame.sszCardList.curGroupCardList;
}
for (var t = e.nodePaiBtn.children, a = 0; a < t.length; ++a) t[a].getComponent(cc.Button).interactable = 1 == e.paiListType[e.paiListType.length - a - 1];
}, 0);
},
checkSpecialCard: function() {
for (var e = [], i = this.sszGame.Constants.length - 1; i >= 0; i--) this.sszGame.Constants[i].SP && e.push([ this.sszGame.Constants[i].CT_NO, !1, this.sszGame.Constants[i].FD ]);
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("teshu").getComponent(cc.Button).interactable = !1;
if (this.sszGame.paixin) {
var t = [];
for (i = 0; i < 13; i++) t.push(this.baipaiHand[i]);
this.sszGame.sszCardList.initSpData();
this.sszGame.sszCardList.getSpecialCardTypeAi(e, t);
if (0 != this.sszGame.sszCardList.spGroup.length) {
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("teshu").getComponent(cc.Button).interactable = !0;
this.onTeshuPaiClick();
cc.vv.tip.show("已为您自动摆出特殊牌型");
this.nodeBaiPai.getChildByName("Func_btn").getChildByName("spcard").getChildByName("name").getComponent(cc.Sprite).spriteFrame = this.sszGame.getSpCardTypeSpriteFrame(this.sszGame.sszCardList.spGroup[0][0]);
}
}
},
getTypePaiList: function(e) {
this.getMeiYouHandPai(-1);
for (var i = [], t = 0; t < this.curGroupCardList.length; t++) if (1 == this.paiListType[t]) {
if (this.curGroupCardList[t][0] == e) for (var a = this.curGroupCardList[t][1], n = 0; n < a.length; n++) i.push(a[n]);
}
var s = this.lastPaiList[1];
this.lastPaiList[0] != e && (s = 0);
s >= i.length && (s = 0);
var c = s;
this.lastPaiList[0] = e;
this.lastPaiList[1] = ++s;
return i[c];
},
onCardTypeClick: function(e, i) {
cc.vv.audioMgr.click();
this.setAllCardUnSelected();
var t = parseInt(i), a = this.getTypePaiList(t);
if (null == a || 0 == a.length) return null;
for (var n = this.getDaoPaiList(-1), s = 0; s < a.length; s++) for (var c = 0; c < n.length; c++) {
var o = n[c].getComponent("SSZBaiPaiCard");
if (a[s] == o.getPai() && !o.isSelect()) {
this.selectCard(o, 1);
break;
}
}
return a;
}
});
cc._RF.pop();
}, {} ],
SView_tips: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a8fd0pHf0pNLq7hE4nm+Hmt", "SView_tips");
cc.Class({
extends: cc.Component,
properties: {
sView_tis_item: cc.Prefab
},
onLoad: function() {
this.initEventHandlers();
},
start: function() {},
initEventHandlers: function() {
var e = this;
this.node.on("get_open", function(i) {
var t = i.callback, a = e.node.getChildByName("tips_ScrollView").getChildByName("list").getChildByName("content");
a.removeAllChildren();
for (var n = cc.vv.roomMgr.table.list, s = 0; s < n.length; s++) {
var c = n[s];
if (0 != c.userid) {
var o = c.seatid, h = (cc.vv.roomMgr.viewChairID(o), cc.instantiate(e.sView_tis_item)), r = h.getChildByName("tip_name"), l = h.getChildByName("tip_id");
r.getComponent(cc.Label).string = cc.vv.utils.cutString(c.nickname, 6);
l.getComponent(cc.Label).string = c.userid;
var d = h.getChildByName("select_btn"), g = new cc.Component.EventHandler();
g.target = e.node;
g.component = "SView_tips";
g.handler = "onBtnClick";
g.customEventData = {
seatid: o,
callbck: t
};
var u = d.getComponent(cc.Button);
u.clickEvents = [];
u.clickEvents.push(g);
a.addChild(h);
}
}
});
this.node.on("isActive", function(i) {
var t = i.isActive;
e.isActive(t);
i.callbck && callbck();
});
},
onBtnClick: function(e, i) {
var t = i.seatid, a = i.callbck;
cc.vv.roomMgr.seatid = t;
this.isActive({
isActive: !1
});
a && a(t);
},
isActive: function(e) {
var i = e.isActive;
this.node.active = i;
}
});
cc._RF.pop();
}, {} ],
ScrollViewMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "bb7b0X/yktM3okbI8H2kx1P", "ScrollViewMgr");
cc.Class({
extends: cc.Component,
onEnable: function() {
this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this);
this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchBegan, this);
this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchBegan, this);
this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchBegan, this);
this.node.on(cc.Node.EventType.MOUSE_DOWN, this.onTouchBegan, this);
this.node.on(cc.Node.EventType.MOUSE_UP, this.onTouchBegan, this);
this.node.on(cc.Node.EventType.MOUSE_WHEEL, this.onTouchBegan, this);
},
onDisable: function() {
this.node.off(cc.Node.EventType.TOUCH_START, this.onTouchBegan, this);
this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchBegan, this);
this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchBegan, this);
this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchBegan, this);
this.node.off(cc.Node.EventType.MOUSE_DOWN, this.onTouchBegan, this);
this.node.off(cc.Node.EventType.MOUSE_UP, this.onTouchBegan, this);
this.node.off(cc.Node.EventType.MOUSE_WHEEL, this.onTouchBegan, this);
},
onTouchBegan: function(e) {
e._propagationStopped = !1;
this.node._touchListener.swallowTouches = !1;
}
});
cc._RF.pop();
}, {} ],
Seat: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e13461yrZZJno5nHKHFo+oF", "Seat");
cc.Class({
extends: cc.Component,
properties: {
nodeBg: cc.Node,
nodeZhuang: cc.Node,
nodeQiang: cc.Node,
nodeHuangZhuang: cc.Node,
nodeFangzhu: cc.Node,
nodeLixian: cc.Node,
nodeReady: cc.Node,
nodeBet: cc.Node,
nodeChat: cc.Node,
nodeTiren: cc.Node,
nodeEmoji: cc.Node,
nodeInteract: cc.Node,
nodeKuang: cc.Node,
nodeWatchGame: cc.Node,
nodeVoice: cc.Node,
_uid: 0,
_headurl: "",
_data: null,
lblName: cc.Label,
lblWin: cc.Label,
lblLost: cc.Label,
lblChat: cc.Label,
lblScore: cc.Label,
sprHeadimg: cc.Sprite,
_emoji_curtime: null
},
onLoad: function() {
this.init();
this.initEventHandlers();
},
start: function() {},
initEventHandlers: function() {
var e = this;
this.node.on("begin", function(i) {
e.nodeReady.active = !1;
e.nodeTiren.active = !1;
e.nodeBet.removeAllChildren();
});
this.node.on("round", function(i) {
e.nodeReady.active = !1;
e.nodeTiren.active = !1;
e.nodeBet.removeAllChildren();
});
this.node.on("showmg", function(i) {
e.showmg(i);
});
this.node.on("out", function(i) {
e.init();
});
this.node.on("win", function(i) {
e.win(i);
});
this.node.on("lost", function(i) {
e.lost(i);
});
this.node.on("bet", function(i) {
e.nodeBet.addChild(i.node);
}), this.node.on("score", function(i) {
e.lblScore.string = i + "";
});
this.node.on("qiangzhuang", function(i) {
e.nodeZhuang.active = !1;
e.nodeQiang.active = !0;
});
this.node.on("dingzhuang", function(i) {
e.nodeQiang.active = !1;
e.node.myTag == i.seatid ? e.nodeZhuang.active = !0 : e.nodeZhuang.active = !1;
});
this.node.on("huangzhuang", function(i) {
e.node.myTag == i.seatid ? e.nodeHuangZhuang.active = !0 : e.nodeHuangZhuang.active = !1;
});
this.node.on("hideBet", function(i) {
e.nodeBet.removeAllChildren();
});
},
dingzhuang: function(e, i) {
this.nodeZhuang.active = i == e;
},
liangkuang: function(e) {
this.nodeKuang.active = 1 == e;
},
win: function(e) {
var i = this;
this.lblWin.node.active = !0;
this.lblWin.node.runAction(cc.sequence(cc.show(), cc.callFunc(function() {
i.lblWin.string = "+" + e;
}), cc.moveTo(.2, cc.v2(0, 82)), cc.delayTime(1.5), cc.hide()));
},
lost: function(e) {
var i = this;
this.lblLost.node.active = !0;
this.lblLost.node.runAction(cc.sequence(cc.show(), cc.callFunc(function() {
i.lblLost.string = e;
}), cc.moveTo(.2, cc.v2(0, 82)), cc.delayTime(1.5), cc.hide()));
},
init: function() {
var e = this;
this._uid = 0;
this.lblName.node.active = !1;
this.lblScore.node.active = !1;
this.nodeBg.active = !1;
this.zhuang(!1);
this.fangzhu(!1);
this.lixian(!1);
this.ready(!1);
this.tiren(!1);
cc.loader.loadRes("public/headimg", function(i, t) {
if (!i) {
var a = new cc.SpriteFrame(t, cc.Rect(0, 0, t.width, t.height));
a && e.sprHeadimg && (e.sprHeadimg.spriteFrame = a);
}
});
},
pos: function(e) {
this.node.x = e.x;
this.node.y = e.y;
this.node.scale = e.scale;
this.nodeReady.x = e.pos.ready.x;
this.nodeReady.y = e.pos.ready.y;
this.nodeBet.x = e.pos.bet.x;
this.nodeBet.y = e.pos.bet.y;
this.nodeChat.x = e.pos.chat.x;
this.nodeChat.y = e.pos.chat.y;
this.nodeVoice.scaleX = e.pos.voice.scalex;
this.nodeVoice.scaleY = e.pos.voice.scaley;
this.nodeVoice.x = e.pos.voice.x;
this.nodeVoice.y = e.pos.voice.y;
},
info: function(e) {
this._info = e;
var i = cc.find("Canvas").getChildByName("mgr"), t = !1;
if (null != i) {
var a = i.getChildByName("desktop");
if (null != a) {
var n = a.getChildByName("cur_chip");
if (null != n) {
if (null != cc.vv.utils.getChildByTag(n, e.seatid)) {
var s = cc.vv.utils.getChildByTag(n, this._info.seatid).getChildByName("user_chip_txt").getComponent(cc.Label).string;
t = !0;
}
}
}
}
1 == e.sitStatus ? this.nodeWatchGame.active = !0 : this.nodeWatchGame.active = !1;
this.lblScore.string = t ? cc.vv.utils.numFormat(e.score - s) : e.score;
cc.vv.roomMgr.is_replay && (this.lblScore.string = "-");
this.lblName.string = cc.vv.utils.cutString(e.nickname, 6);
if (e.userid != this._uid) {
this.lblName.node.active = !0;
this.lblScore.node.active = !0;
this.nodeBg.active = "zgz_3300" !== cc.vv.roomMgr.room_type;
this.lblScore.node.active = "zgz_3300" !== cc.vv.roomMgr.room_type;
this._uid = e.userid;
this._headurl = e.headimg;
this.lixian(0 == e.online);
this.ready(1 == e.status);
this._uid != cc.vv.userMgr.userid && 0 == cc.vv.roomMgr.started && null != cc.vv.roomMgr.param && cc.vv.roomMgr.param.creator == cc.vv.userMgr.userid ? this.tiren(!0) : this.tiren(!1);
cc.vv.roomMgr.room_type;
this.sprHeadimg.getComponent("ImageLoader").loadImg(this._headurl);
}
},
change_pwb: function(e) {
this.lblScore.node.active = !0;
this.lblScore.string = e;
},
getHeadimg: function() {
return this.sprHeadimg.spriteFrame;
},
zhuang: function(e) {
this.nodeZhuang.active = e;
},
fangzhu: function(e) {
this.nodeFangzhu.active = e;
},
showmg: function(e) {
this.nodeVoice.active = e;
},
lixian: function(e) {
this.nodeLixian.active = e;
},
ready: function(e) {
this.nodeReady.active = e;
var i = this.node.getChildByName("watch_game");
e && null != i && (i.active = !1);
},
tiren: function(e) {
this.nodeTiren.active = e;
},
chat: function(e) {
this.lblChat.string = e;
this.lblChat.getComponent(cc.Label)._forceUpdateRenderData();
this.nodeChat.active = !0;
this.nodeChat.height = this.lblChat.node.height + 30;
this.nodeChat.stopAllActions();
this.nodeChat.runAction(cc.sequence(cc.show(), cc.delayTime(4), cc.hide()));
},
emoji: function(e) {
this.nodeEmoji.active = !0;
this.nodeEmoji.getComponent(cc.Animation).play("index_" + e.index);
this._emoji_curtime = 3;
},
interact: function(e) {
this.nodeInteract.active = !0;
var i = this.nodeInteract.getComponent(cc.Animation), t = "interact/interact_" + e.phiz_id;
cc.vv.audioMgr.playSFX(t);
i.play("interact_" + e.phiz_id);
i.on("finished", function() {
this.nodeInteract.active = !1;
}, this);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "head_bg":
var t = this;
cc.vv.popMgr.open("table/UserInfo", function(e) {
cc.vv.utils.popPanel(e);
e.getComponent("UserInfo").show(t.node.myTag);
});
break;

case "btn_tiren":
cc.vv.net2.quick("out", {
roomid: cc.vv.roomMgr.roomid,
userid: this._uid
});
break;

default:
cc.vv.popMgr.alert("你点的啥？");
}
},
delemoji: function(e) {
if (this._emoji_curtime > 0) {
this._emoji_curtime -= e;
this._emoji_curtime <= 0 && (this.nodeEmoji.active = !1);
}
},
update: function(e) {
this.delemoji(e);
}
});
cc._RF.pop();
}, {} ],
Setting: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "812e8olWMVGLrRL2fyh67sw", "Setting");
cc.Class({
extends: cc.Component,
properties: {
btnYingxiao: cc.Toggle,
btnYingyue: cc.Toggle,
btnShake: cc.Toggle,
btnCuoPai: cc.Toggle,
btnSingleTouch: cc.Toggle,
pbYingyue: cc.Slider,
pbYingxiao: cc.Slider,
btnExit: cc.Node,
btnChange: cc.Node,
bgToggles: cc.Node,
setToggles: cc.Node,
panlens: cc.Node,
tip: cc.Node
},
onLoad: function() {
this.initdestbg();
this.canChangeBg();
for (var e = 0; e < this.bgToggles.childrenCount; ++e) {
var i = this.bgToggles.children[e];
i.myTag = e;
i.on("toggle", function(e) {
var i = e.target.name, t = cc.director.getScene();
"tablecloth_moren" != i ? cc.sys.localStorage.setItem(t.name + "usedbg", i) : cc.sys.localStorage.removeItem(t.name + "usedbg");
if ("hall" !== t.name) {
cc.director.getScene().getChildByName("Canvas").emit("changebg", {
bg: i
});
}
});
}
},
start: function() {
this.pbYingxiao.progress = cc.vv.audioMgr.sfxVolume;
this.pbYingyue.progress = cc.vv.audioMgr.bgmVolume;
cc.vv.utils.addSlideEvent(this.panlens.getChildByName("voice_Toggle").getChildByName("slider_yingxiao"), this.node, "Setting", "onSlided");
cc.vv.utils.addSlideEvent(this.panlens.getChildByName("voice_Toggle").getChildByName("slider_yingyue"), this.node, "Setting", "onSlided");
this.reflash();
var e = this.setToggles.children[0].name;
cc.vv.utils.setToggleChecked(this.setToggles, e);
this.onBtnleiXingXuanZe(null, e);
},
onBtnleiXingXuanZe: function(e, i) {
null != e && cc.vv.audioMgr.click();
null == i && (i = e.target.name);
for (var t = 0; t < this.panlens.children.length; ++t) {
var a = this.panlens.children[t].name;
this.panlens.children[t].active = i == a;
}
},
onSlided: function(e) {
"slider_yingxiao" == e.node.name ? cc.vv.audioMgr.setSFXVolume(e.progress) : "slider_yingyue" == e.node.name && cc.vv.audioMgr.setBGMVolume(e.progress);
this.reflash();
},
hideButton: function() {
this.btnChange.active = !1;
this.btnExit.active = !1;
},
reflash: function() {
this.btnYingyue.isChecked = cc.vv.audioMgr.bgmVolume > 0;
this.btnYingxiao.isChecked = cc.vv.audioMgr.sfxVolume > 0;
var e = 480 * cc.vv.audioMgr.sfxVolume;
this.pbYingxiao.node.getChildByName("progress").width = e;
var i = 480 * cc.vv.audioMgr.bgmVolume;
this.pbYingyue.node.getChildByName("progress").width = i;
"false" == cc.sys.localStorage.getItem("shakeset") ? this.btnShake.isChecked = !1 : this.btnShake.isChecked = !0;
"true" == cc.sys.localStorage.getItem("cuopaiset") ? this.btnCuoPai.isChecked = !0 : this.btnCuoPai.isChecked = !1;
"true" == cc.sys.localStorage.getItem("singletouchset") ? this.btnSingleTouch.isChecked = !0 : this.btnSingleTouch.isChecked = !1;
},
yingyueChange: function() {
if (this.btnYingyue.isChecked) {
var e = cc.sys.localStorage.getItem("bgmVolume"), i = parseFloat(e);
0 == i && (i = .5);
cc.vv.audioMgr.setBGMVolume(i);
} else {
cc.sys.localStorage.setItem("bgmVolume", cc.vv.audioMgr.bgmVolume);
cc.vv.audioMgr.setBGMVolume(0);
}
this.pbYingyue.progress = cc.vv.audioMgr.bgmVolume;
this.reflash();
},
yingxiaoChange: function() {
if (this.btnYingxiao.isChecked) {
var e = cc.sys.localStorage.getItem("sfxVolume"), i = parseFloat(e);
0 == i && (i = .5);
cc.vv.audioMgr.setSFXVolume(i);
} else {
cc.sys.localStorage.setItem("sfxVolume", cc.vv.audioMgr.sfxVolume);
cc.vv.audioMgr.setSFXVolume(0);
}
this.pbYingxiao.progress = cc.vv.audioMgr.sfxVolume;
this.reflash();
},
shakeChange: function() {
if (this.btnShake.isChecked) {
cc.sys.localStorage.setItem("shakeset", !0);
cc.vv.userMgr.is_shake = !0;
} else {
cc.sys.localStorage.setItem("shakeset", !1);
cc.vv.userMgr.is_shake = !1;
}
},
cuopaiChange: function() {
if (this.btnCuoPai.isChecked) {
cc.vv.userMgr.is_cuopai = !0;
cc.sys.localStorage.setItem("cuopaiset", !0);
} else {
cc.sys.localStorage.setItem("cuopaiset", !1);
cc.vv.userMgr.is_cuopai = !1;
}
},
singletouchChange: function() {
var e = this.btnSingleTouch.isChecked;
cc.vv.userMgr.is_singletouch = e;
cc.sys.localStorage.setItem("singletouchset", e);
},
onDestroy: function() {
cc.sys.localStorage.setItem("bgmVolume", cc.vv.audioMgr.bgmVolume);
cc.sys.localStorage.setItem("sfxVolume", cc.vv.audioMgr.sfxVolume);
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_change":
cc.vv.net1.close();
cc.vv.g3Plugin.logout();
cc.sys.localStorage.setItem("auto_login", !1);
cc.director.loadScene("login");
break;

case "btn_exit":
cc.game.end();
break;

case "btn_fix":
cc.vv.popMgr.alert("此功能将重置游戏为初始状态，是否继续？", function() {
var e = (jsb.fileUtils ? jsb.fileUtils.getWritablePath() : "/") + "remote-asset/";
jsb.fileUtils.removeDirectory(e) ? cc.vv.popMgr.alert("修复成功，请点击确定重新打开游戏", function() {
cc.vv.net1.close();
cc.vv.g3Plugin.logout();
cc.director.loadScene("splash");
}) : cc.vv.popMgr.alert("修复失败，请直接下载最新版本安装，谢谢~", function() {});
}, !0);
break;

case "btn_yingyue":
this.yingyueChange();
break;

case "btn_yingxiao":
this.yingxiaoChange();
break;

case "off_no":
this.shakeChange();
break;

case "is_cuopai":
this.cuopaiChange();
break;

case "is_singletouch":
this.singletouchChange();
}
},
initdestbg: function() {
this.node.getChildByName("lblVersion").getComponent(cc.Label).string = cc.VERSION;
var e = cc.director.getScene(), i = cc.sys.localStorage.getItem(e.name + "usedbg");
null == i ? cc.vv.utils.setToggleChecked(this.bgToggles, "tablecloth_moren") : cc.vv.utils.setToggleChecked(this.bgToggles, i);
},
canChangeBg: function() {
this.bgToggles.active = !1;
cc.vv.game && (this.bgToggles.active = cc.vv.game.config.set_bg);
}
});
cc._RF.pop();
}, {} ],
Share: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b8200hDPiNCGYeLUhvJiqPx", "Share");
cc.Class({
extends: cc.Component,
properties: {
_callback: null,
_obj: null,
_room_id: null
},
share: function(e, i, t) {
this._callback = e;
this._obj = i;
this._room_id = t;
},
onhideshare: function(e) {
this.node.getChildByName("btn").getChildByName("btn_" + e).active = !1;
},
onBtnCliecked: function(e, i) {
this.node.destroy();
this._callback && this._callback(i, this._obj, this._room_id);
}
});
cc._RF.pop();
}, {} ],
Shopping: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "2552aduHplOga1aFeC9lHeK", "Shopping");
cc.Class({
extends: cc.Component,
properties: {},
OnBtnClieck: function(e, i) {
cc.vv.audioMgr.click();
var t = this;
t.index = parseInt(i);
cc.vv.hall.addHandler("order", function(e) {
var i = e.data;
if (0 === e.errcode) cc.vv.g3Plugin.shopping(t.index, i.order_no); else {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert(e.errmsg);
}
});
cc.vv.popMgr.wait("购买中", function() {
cc.vv.net1.quick("order", {
store_id: t.index
});
});
},
onDestroy: function() {
cc.vv.hall.removeHandler("order");
}
});
cc._RF.pop();
}, {} ],
ShowPai: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f68c10ymDBOro885wWse2Kz", "ShowPai");
cc.Class({
extends: cc.Component,
properties: {
btn_close: {
default: null,
type: cc.Button
},
carditem: {
default: null,
type: cc.Node
},
scrollview: {
default: null,
type: cc.Node
}
},
onLoad: function() {},
start: function() {},
show_card: function(e) {
this.b_x = -513;
this.b_y = -48;
parseInt(e.length) > 48 && (this.scrollview.height = this.scrollview.height + 100 * (parseInt(e.length / 12) - 3));
for (var i = 1; i <= e.length; i++) {
var t = cc.instantiate(this.carditem), a = parseInt(i % 12);
i > 0 && 0 == a && (a = 12);
parseInt(i / 12);
var n = parseInt(i / 12);
0 == parseInt(i % 12) && i > 0 && (n -= 1);
t.setPosition(cc.v2(this.b_x + 80 * a, this.b_y - 100 * n));
t.setTag(e[i - 1]);
var s = cc.vv.game.majiangTable.selfhandAtlasThreeD, c = cc.vv.mahjongMgr.getMahjongPai(e[i - 1]);
t.getChildByName("card_img").getComponent(cc.Sprite).spriteFrame = s.getSpriteFrame("img_cardvalue" + c);
this.scrollview.addChild(t);
}
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
cc.vv.net2.quick("cheatNextPai", {
pai: e.target.myTag
});
this.node.removeFromParent();
}
});
cc._RF.pop();
}, {} ],
ShowUserInfo: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e3679VENMRJv4hJa3Yqg8t2", "ShowUserInfo");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.lblGems = this.node.getChildByName("btn_ticket").getChildByName("num").getComponent(cc.Label);
},
initLabels: function() {
this.node.getChildByName("username").getComponent(cc.Label).string = cc.vv.userMgr.userName;
this.node.getChildByName("userid").getComponent(cc.Label).string = "ID:" + cc.vv.userMgr.userid;
this.node.getChildByName("head").getChildByName("img").getComponent("ImageLoader").loadImg(cc.vv.userMgr.headimg);
this.refresh();
},
refresh: function() {
this.lblGems && (this.lblGems.string = cc.vv.userMgr.ticket);
},
start: function() {
this.initLabels();
}
});
cc._RF.pop();
}, {} ],
SplashLogic: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e9c19NXDfdH24/FonLcKJoi", "SplashLogic");
cc.Class({
extends: cc.Component,
properties: {
time: 2
},
start: function() {
this.init();
cc.director.preloadScene("login");
cc.vv.hallServerArr = [ "ws://h1.wanshun.vip:19088", "ws://h1.wanshun.vip:19088" ];
if (cc.sys.isNative) {
cc.log("重新获取去");
this.getReallyAdress();
} else this.login();
},
init: function() {
cc.vv = {};
cc.vv.tempDataMgr = e("TempDataMgr");
cc.vv.log3 = e("Log");
cc.vv.config = e("Config");
cc.vv.global = e("Global");
cc.vv.http = e("HTTP");
cc.vv.global.latitude = "";
cc.vv.global.longitude = "";
var i = e("AudioMgr");
cc.vv.audioMgr = new i();
cc.vv.audioMgr.init();
var t = e("UserMgr");
cc.vv.userMgr = new t();
var a = e("PopMgr");
cc.vv.popMgr = new a();
var n = e("Utils");
cc.vv.utils = new n();
cc.args = this.urlParse();
cc.vv.audioMgr.playSFX("loading");
cc.vv.isLoginScene = !0;
cc.vv.connceNum = 0;
cc.vv.sp = this;
},
getReallyAdress: function() {
var e = this;
(function e(i, t) {
var a = i + "?r=" + Date.now(), n = new XMLHttpRequest();
n.timeout = 5e3;
n.open("GET", a, !0);
cc.log("newPath = ", a);
n.onload = function() {
cc.log("xhrFile.response = ", n.response);
var e = n.response;
t(e);
};
n.send();
n.ontimeout = function() {
cc.log("连接超时了 ！！！");
e("http://conf.wanshun.vip/config.txt", function(e) {
var i = JSON.parse(e);
e && i.main || cc.vv.popMgr.alert("服务器连接错误，请点击确定重新打开游戏", function() {
cc.director.loadScene("splash");
});
cc.GAMEDEALER = i.dealer;
cc.GAMEMEMBER = i.mgr;
cc.HALL_SERVER = [ i.main, i.sub ];
cc.vv.hallServerArr = cc.vv.utils.deepCopy(cc.HALL_SERVER);
cc.log("cc.vv.hallServerArr = ", cc.vv.hallServerArr);
cc.vv.sp.login();
});
};
n.onerror = function() {
cc.log("连接错误了！！！");
e("http://conf.wanshun.vip/config.txt", function(e) {
var i = JSON.parse(e);
e && i.main || cc.vv.popMgr.alert("服务器连接错误，请点击确定重新打开游戏", function() {
cc.director.loadScene("splash");
});
cc.GAMEDEALER = i.dealer;
cc.GAMEMEMBER = i.mgr;
cc.HALL_SERVER = [ i.main, i.sub ];
cc.vv.hallServerArr = cc.vv.utils.deepCopy(cc.HALL_SERVER);
cc.log("cc.vv.hallServerArr = ", cc.vv.hallServerArr);
cc.vv.sp.login();
});
};
})(cc.GAMEDEFILEPATH, function(i) {
var t = JSON.parse(i);
i && t.main || cc.vv.popMgr.alert("服务器连接错误，请点击确定重新打开游戏", function() {
cc.director.loadScene("splash");
});
cc.GAMEDEALER = t.dealer;
cc.GAMEMEMBER = t.mgr;
cc.HALL_SERVER = [ t.main, t.sub ];
cc.vv.hallServerArr = cc.vv.utils.deepCopy(cc.HALL_SERVER);
cc.log("cc.vv.hallServerArr = ", cc.vv.hallServerArr);
e.login();
});
},
urlParse: function() {
var e, i, t = {};
if (null == window.location) return t;
for (var a = window.location.href, n = a.indexOf("?"), s = (a = a.substr(n + 1)).split("&"), c = 0; c < s.length; c++) if ((n = s[c].indexOf("=")) > 0) {
e = s[c].substring(0, n);
i = s[c].substr(n + 1);
t[e] = i;
}
return t;
},
ps: function() {
var e = function(e) {
var i = e.substr(e.indexOf("{"));
i = i.substr(0, i.length - 1);
var t = JSON.parse(i);
cc.vv.global.adcode = t.cid;
cc.vv.global.address = t.cname;
cc.vv.global.ip = t.cip;
};
if (cc.sys.isNative) {
var i = cc.loader.getXMLHttpRequest();
i.timeout = 5e3;
i.setRequestHeader("Accept-Encoding", "deflate", "text/html;charset=utf-8");
i.open("GET", "http://pv.sohu.com/cityjson?ie=utf-8", !0);
i.onreadystatechange = function() {
4 === i.readyState && i.status >= 200 && i.status < 300 && e(i.responseText);
};
i.send();
}
},
login: function() {
this.node.runAction(cc.sequence(cc.delayTime(this.time), cc.callFunc(function() {
cc.director.loadScene("login");
})));
}
});
cc._RF.pop();
}, {
AudioMgr: "AudioMgr",
Config: "Config",
Global: "Global",
HTTP: "HTTP",
Log: "Log",
PopMgr: "PopMgr",
TempDataMgr: "TempDataMgr",
UserMgr: "UserMgr",
Utils: "Utils"
} ],
TDH1600Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c3548FN7vFE8YkZAiMEqygR", "TDH1600Const");
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -343,
y: 330,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: -620,
y: 93,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
player3: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: 620,
y: 143,
scale: .8,
pos: {
ready: {
x: -150,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 239,
y: -72,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
},
shake: {
x: -46,
y: 67
}
}
}, {
x: -620,
y: 93,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -404,
y: -72,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
player2: [ {
x: -620,
y: -127,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -88,
y: -248,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
}, {
x: -343,
y: 330,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -403,
y: 201,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
},
shake: {
x: 46,
y: 67
}
}
} ],
threeD: {
card2: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -290,
y: -48,
scale: .6,
distance: [ 0, 74, 74, 75, 72, 72, 72, 72, 72, 72, 72, 74, 75, 74, -952, 75, 76, 76, 72, 72, 72, 72, 72, 72, 72, 74, 75, 75, -958, 77, 76, 76, 72, 72, 72, 72, 72, 72, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu2", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: 223,
y: 328,
scale: .6,
distance: [ 0, -59, -59, -59, -60, -60, -59, -60, -60, -60, -59, -59, -59, -91 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "Frame_shangjia_shupai_14", "Frame_shangjia_shupai_13", "Frame_shangjia_shupai_12", "Frame_shangjia_shupai_11", "Frame_shangjia_shupai_10", "Frame_shangjia_shupai_9", "Frame_shangjia_shupai_8", "Frame_shangjia_shupai_7", "Frame_shangjia_shupai_6", "Frame_shangjia_shupai_5", "Frame_shangjia_shupai_4", "Frame_shangjia_shupai_3", "Frame_shangjia_shupai_2", "Frame_shangjia_shupai_1" ],
size: [ {
width: 72,
height: 91
}, {
width: 69,
height: 91
}, {
width: 68,
height: 91
}, {
width: 67,
height: 91
}, {
width: 66,
height: 91
}, {
width: 65,
height: 91
}, {
width: 66,
height: 91
}, {
width: 67,
height: 91
}, {
width: 68,
height: 91
}, {
width: 70,
height: 91
}, {
width: 71,
height: 91
}, {
width: 73,
height: 91
}, {
width: 74,
height: 91
}, {
width: 75,
height: 91
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
} ]
},
paiIndex: [ 9, 9, 9, 9, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
xhide: 223,
yhide: 318,
scalehide: .6,
distancehide: [ 0, -58, -59, -59, -59, -58, -59, -59, -59, -59, -59, -59, -59, -91 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_shangjia_pingpai_fan_14", "Frame_shangjia_pingpai_fan_13", "Frame_shangjia_pingpai_fan_12", "Frame_shangjia_pingpai_fan_11", "Frame_shangjia_pingpai_fan_10", "Frame_shangjia_pingpai_fan_9", "Frame_shangjia_pingpai_fan_8", "Frame_shangjia_pingpai_fan_7", "Frame_shangjia_pingpai_fan_6", "Frame_shangjia_pingpai_fan_5", "Frame_shangjia_pingpai_fan_4", "Frame_shangjia_pingpai_fan_3", "Frame_shangjia_pingpai_fan_2", "Frame_shangjia_pingpai_fan_1" ],
imgshow: [ "Frame_shangjia_pingpai_zheng_14", "Frame_shangjia_pingpai_zheng_13", "Frame_shangjia_pingpai_zheng_12", "Frame_shangjia_pingpai_zheng_11", "Frame_shangjia_pingpai_zheng_10", "Frame_shangjia_pingpai_zheng_9", "Frame_shangjia_pingpai_zheng_8", "Frame_shangjia_pingpai_zheng_7", "Frame_shangjia_pingpai_zheng_6", "Frame_shangjia_pingpai_zheng_5", "Frame_shangjia_pingpai_zheng_4", "Frame_shangjia_pingpai_zheng_3", "Frame_shangjia_pingpai_zheng_2", "Frame_shangjia_pingpai_zheng_1" ],
sizehide: [ {
width: 71,
height: 93
}, {
width: 71,
height: 94
}, {
width: 72,
height: 93
}, {
width: 71,
height: 93
}, {
width: 74,
height: 93
}, {
width: 73,
height: 93
}, {
width: 76,
height: 93
}, {
width: 77,
height: 93
}, {
width: 77,
height: 93
}, {
width: 78,
height: 93
}, {
width: 81,
height: 93
}, {
width: 82,
height: 93
}, {
width: 83,
height: 93
}, {
width: 84,
height: 93
} ],
dianScalehideAll: 1.2,
dianhide: {
position: [ {
x: .5,
y: 20
}, {
x: .5,
y: 20
}, {
x: 0,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2.5,
y: 20
}, {
x: -3,
y: 20
}, {
x: -3,
y: 20
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
haoScale: 1.3,
hao: [ {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
} ],
skew: [ {
x: -1,
y: 0
}, {
x: 0,
y: 0
}, {
x: .5,
y: 0
}, {
x: 1,
y: 0
}, {
x: 2,
y: 0
}, {
x: 3,
y: 0
}, {
x: 3,
y: 0
}, {
x: 4,
y: 0
}, {
x: 4,
y: 0
}, {
x: 5,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 8,
y: 0
} ],
dianScale: [ {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
} ]
},
paiIndexhide: [ 1, 2, 3, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -4,
y: 222,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 299,
y: 179,
scale: .6,
distance: [ 0, -74, -77, -78, -72, -72, -72, -72, -72, -72, -72, -75, -77, -74, 958, -74, -75, -76, -72, -72, -72, -72, -72, -72, -72, -75, -75, -74, 952, -72, -74, -75, -72, -72, -72, -72, -72, -72, -72, -75, -74, -72 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 85, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
img: [ "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue" ],
dianScale: [ {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
} ]
},
paiIndex: [ 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 15, 14, 13, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 11, 10, 9, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 7, 6, 5 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: -450,
spacingY: 0,
destination: [ {
x: 243,
y: 328
}, {
x: 123,
y: 328
}, {
x: 3,
y: 298
}, {
x: -117,
y: 328
} ],
fourPai: {
x: 2,
y: 30
}
},
ting: {
scale: .9,
x: 0,
y: -60
}
} ],
card3: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -290,
y: -58,
scale: .6,
distance: [ 0, 74, 74, 75, 72, 72, 72, 72, 72, 72, 72, 74, 75, 74, -952, 75, 76, 76, 72, 72, 72, 72, 72, 72, 72, 74, 75, 75, -958, 77, 76, 76, 72, 72, 72, 72, 72, 72, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu2", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -313,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 139,
y: 10,
scale: .6,
distance: [ 0, -4, -4, -2, -4, -2, -2, 110, -4, -4, -4, -4, -4, -4, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6, 118, -6, -4, -6, -4, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50, -318, 56, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
imghide: [ "you1_1", "you1_2", "you1_3", "you1_4", "you1_5", "you1_6", "you1_7", "you2_1", "you2_2", "you2_3", "you2_4", "you2_5", "you2_6", "you2_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_5", "you3_6", "you3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -515,
y: -185
}, {
x: -495,
y: -75
}, {
x: -475,
y: 35
}, {
x: -455,
y: 145
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: -464,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -136,
y: 206,
scale: .6,
distance: [ 0, -3, -4, -4, -3, -4, -4, -66, -4, -5, -5, -4, -4, -6, -61, -5, -6, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6, -55, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -55, -55, -58, 325, -52, -52, -54, -54, -56, -57, 326, -52, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55, 326, -53, -52, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
imghide: [ "zuo1_7", "zuo2_6", "zuo1_5", "zuo1_4", "zuo1_3", "zuo1_2", "zuo1_1", "zuo2_7", "zuo2_6", "zuo2_5", "zuo2_4", "zuo2_3", "zuo2_2", "zuo2_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -434,
y: 300
}, {
x: -454,
y: 190
}, {
x: -474,
y: 80
}, {
x: -494,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ],
card4: [ {
holds: {
x: -596,
y: -298,
scale: .62,
distance: [ 0, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 141, 247 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card", "img_normal_card" ],
size: [ {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
}, {
width: 144,
height: 204
} ],
dianScaleAll: .94,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
}, {
x: -45,
y: 48,
rotation: 0
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
xhide: -596,
yhide: -298,
scalehide: .96,
distancehide: [ 0, 88, 88, 89, 89, 88, 88, 89, 89, 89, 89, 91, 90, 135 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_ziji_pingpaibei_1", "Frame_ziji_pingpaibei_2", "Frame_ziji_pingpaibei_3", "Frame_ziji_pingpaibei_4", "Frame_ziji_pingpaibei_5", "Frame_ziji_pingpaibei_6", "Frame_ziji_pingpaibei_7", "Frame_ziji_pingpaibei_8", "Frame_ziji_pingpaibei_9", "Frame_ziji_pingpaibei_10", "Frame_ziji_pingpaibei_11", "Frame_ziji_pingpaibei_12", "Frame_ziji_pingpaibei_13", "Frame_ziji_pingpaibei_14" ],
imgshow: [ "Frame_ziji_pingpaizheng_1", "Frame_ziji_pingpaizheng_2", "Frame_ziji_pingpaizheng_3", "Frame_ziji_pingpaizheng_4", "Frame_ziji_pingpaizheng_5", "Frame_ziji_pingpaizheng_6", "Frame_ziji_pingpaizheng_7", "Frame_ziji_pingpaizheng_8", "Frame_ziji_pingpaizheng_9", "Frame_ziji_pingpaizheng_10", "Frame_ziji_pingpaizheng_11", "Frame_ziji_pingpaizheng_12", "Frame_ziji_pingpaizheng_13", "Frame_ziji_pingpaizheng_14" ],
sizehide: [ {
width: 130,
height: 143
}, {
width: 127,
height: 143
}, {
width: 124,
height: 143
}, {
width: 121,
height: 143
}, {
width: 118,
height: 143
}, {
width: 115,
height: 143
}, {
width: 112,
height: 143
}, {
width: 109,
height: 143
}, {
width: 106,
height: 143
}, {
width: 103,
height: 143
}, {
width: 102,
height: 143
}, {
width: 101,
height: 143
}, {
width: 103,
height: 143
}, {
width: 104,
height: 143
} ],
dianScalehideAll: .6,
dianhide: {
position: [ {
x: -5.2,
y: 17
}, {
x: -5.2,
y: 18.7
}, {
x: -4.5,
y: 17.2
}, {
x: -4.7,
y: 18.2
}, {
x: -3.3,
y: 19.2
}, {
x: -1.9,
y: 19.7
}, {
x: -1.2,
y: 19
}, {
x: -.4,
y: 18.2
}, {
x: 1.2,
y: 19.4
}, {
x: .6,
y: 19.6
}, {
x: .7,
y: 20.6
}, {
x: .3,
y: 21.2
}, {
x: .8,
y: 21.2
}, {
x: 1.1,
y: 17.8
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
}, {
x: -18,
y: 50,
rotation: 0,
skewX: 15,
skewY: 4
} ],
skew: [ {
x: 8,
y: 4
}, {
x: 8,
y: 4
}, {
x: 7,
y: 3
}, {
x: 8,
y: 4
}, {
x: 6.4,
y: 2
}, {
x: 7,
y: 1
}, {
x: 6,
y: 0
}, {
x: 6,
y: 0
}, {
x: 5,
y: 0
}, {
x: 4,
y: 0
}, {
x: 2,
y: 0
}, {
x: -.3,
y: 0
}, {
x: -1,
y: 0
}, {
x: -2.7,
y: 0
} ],
dianrota: [ 3.5, 4, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0 ]
},
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chupaiShow: {
x: 0,
y: -70,
scaleFrom: 0,
scaleTo: .8,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -67.5,
y: -50,
scale: .55,
distance: [ 0, 74, 74, 75, 72, 72, 74, 75, 74, -592, 75, 76, 76, 72, 72, 74, 75, 75, -597, 77, 76, 76, 73, 75, 75, 75, 76 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, -83, 0, 0, 0, 0, 0, 0, 0, 0, -87, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1.01,
scaleY: 1.01
}, {
scaleX: 1.03,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: -1.04,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1.01
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: 1.04,
scaleY: 1
}, {
scaleX: -1.03,
scaleY: 1
}, {
scaleX: -1.05,
scaleY: 1
}, {
scaleX: -1.07,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu3", "shu3", "shu4", "shu4", "shu4", "shu3", "shu3", "shu1", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 89,
height: 119
}, {
width: 87,
height: 119
}, {
width: 89,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
dianScale: [ {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: .5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
}, {
scaleX: -.5,
scaleY: .45
} ]
},
paiIndex: [ 0, 0, 0, 0, 0, 0, 3, 2, 1, 10, 10, 10, 10, 10, 10, 13, 12, 11, 20, 20, 20, 20, 20, 20, 23, 22, 21 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .7,
spacingX: 450,
spacingY: 0,
destination: [ {
x: -509,
y: -320
}, {
x: -309,
y: -320
}, {
x: -109,
y: -320
}, {
x: 109,
y: -320
} ],
fourPai: {
x: -10,
y: 31
},
arrowbg: {
x: -9.5,
y: 20
}
},
ting: {
scale: .7,
x: 10,
y: 170
}
}, {
holds: {
x: -570,
y: -133,
scale: .6,
distance: [ 0, 13, 12, 12, 12, 12, 11, 10.5, 10.5, 10.5, 10, 10, 9, 18 ],
distanceH: [ 0, 63, 61, 59, 59, 54, 54, 55, 53, 51, 51, 49, 48, 92 ],
img: [ "Frame_zuojia_shupai_14", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_1" ],
size: [ {
width: 98,
height: 131
}, {
width: 96,
height: 129
}, {
width: 95,
height: 129
}, {
width: 93,
height: 128
}, {
width: 92,
height: 127
}, {
width: 90,
height: 126
}, {
width: 88,
height: 125
}, {
width: 88,
height: 123
}, {
width: 86,
height: 123
}, {
width: 85,
height: 122
}, {
width: 84,
height: 120
}, {
width: 83,
height: 121
}, {
width: 82,
height: 120
}, {
width: 81,
height: 119
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
distancehide: [ 0, 11, 11, 12, 10, 12, 11, 12, 12, 12, 11, 12, 12, 18 ],
distanceHhide: [ 0, 62, 59, 60, 59, 61, 61, 62, 63, 62, 61, 60, 61, 111 ],
xhide: -570,
yhide: -133,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_14", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_1" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_14", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_1" ],
sizehide: [ {
width: 113,
height: 90
}, {
width: 113,
height: 91
}, {
width: 114,
height: 90
}, {
width: 116,
height: 92
}, {
width: 117,
height: 94
}, {
width: 118,
height: 95
}, {
width: 123,
height: 95
}, {
width: 124,
height: 97
}, {
width: 125,
height: 98
}, {
width: 127,
height: 99
}, {
width: 129,
height: 100
}, {
width: 130,
height: 101
}, {
width: 132,
height: 103
}, {
width: 135,
height: 105
} ],
scaleItemhide: [ 1.27, 1.25, 1.23, 1.21, 1.19, 1.17, 1.15, 1.13, 1.11, 1.09, 1.07, 1.05, 1.03, 1 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_" ],
haoScale: .6,
hao: [ {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
}, {
x: 15,
y: 8,
rotation: 90,
skewX: 0,
skewY: 9
} ],
skew: [ {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -8,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
}, {
x: -7,
y: 0
} ],
dianScale: [ {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
} ]
},
paiIndexhide: [ 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -313,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: -.9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 115,
y: 0,
scale: .55,
distance: [ 0, -4, -4, -2, -3.5, -3.5, -3, -2, -2, 115, -4, -4, -4, -4, -4, -4, -4, -4, 120, -6, -4, -6, -6, -6, -6, -6, -6 ],
distanceH: [ 0, 56, 54, 54, 54, 54, 52, 52, 50, -426, 56, 54, 54, 54, 54, 52, 52, 50, -426, 56, 54, 54, 54, 54, 52, 52, 50 ],
img: [ "Frame_youjia_1_1", "Frame_youjia_1_2", "Frame_youjia_1_3", "Frame_youjia_1_4", "Frame_youjia_1_4", "Frame_youjia_1_4", "Frame_youjia_1_5", "Frame_youjia_1_6", "Frame_youjia_1_7", "Frame_youjia_2_1", "Frame_youjia_2_2", "Frame_youjia_2_3", "Frame_youjia_2_4", "Frame_youjia_2_4", "Frame_youjia_2_4", "Frame_youjia_2_5", "Frame_youjia_2_6", "Frame_youjia_2_7", "Frame_youjia_3_1", "Frame_youjia_3_2", "Frame_youjia_3_3", "Frame_youjia_3_4", "Frame_youjia_3_4", "Frame_youjia_3_4", "Frame_youjia_3_5", "Frame_youjia_3_6", "Frame_youjia_3_7" ],
imghide: [ "you1_1", "you1_2", "you1_3", "you1_4", "you1_4", "you1_4", "you1_5", "you1_6", "you1_7", "you2_1", "you2_2", "you2_3", "you2_4", "you2_4", "you2_4", "you2_5", "you2_6", "you2_7", "you3_1", "you3_2", "you3_3", "you3_4", "you3_4", "you3_4", "you3_5", "you3_6", "you3_7" ],
size: [ {
width: 108,
height: 93
}, {
width: 107,
height: 92
}, {
width: 106,
height: 91
}, {
width: 105,
height: 89
}, {
width: 105,
height: 89
}, {
width: 105,
height: 89
}, {
width: 104,
height: 88
}, {
width: 102,
height: 88
}, {
width: 101,
height: 87
}, {
width: 110,
height: 93
}, {
width: 109,
height: 92
}, {
width: 108,
height: 91
}, {
width: 106,
height: 89
}, {
width: 106,
height: 89
}, {
width: 105,
height: 89
}, {
width: 105,
height: 88
}, {
width: 104,
height: 88
}, {
width: 103,
height: 86
}, {
width: 113,
height: 93
}, {
width: 111,
height: 92
}, {
width: 110,
height: 91
}, {
width: 108,
height: 89
}, {
width: 108,
height: 89
}, {
width: 105,
height: 89
}, {
width: 107,
height: 89
}, {
width: 106,
height: 88
}, {
width: 103,
height: 86
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_1_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_2_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_", "ing_youjia_3_" ],
size: [ {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 92,
height: 48
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 90,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .94,
scaleY: .94
} ]
},
paiIndex: [ 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: 200,
destination: [ {
x: -535,
y: -120
}, {
x: -515,
y: -20
}, {
x: -495,
y: 80
}, {
x: -475,
y: 180
} ],
paiIndex: [ 3, 2, 1, 0 ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 80,
y: 20
}
}, {
holds: {
x: 223,
y: 328,
scale: .6,
distance: [ 0, -59, -59, -59, -60, -60, -59, -60, -60, -60, -59, -59, -59, -91 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
img: [ "Frame_shangjia_shupai_14", "Frame_shangjia_shupai_13", "Frame_shangjia_shupai_12", "Frame_shangjia_shupai_11", "Frame_shangjia_shupai_10", "Frame_shangjia_shupai_9", "Frame_shangjia_shupai_8", "Frame_shangjia_shupai_7", "Frame_shangjia_shupai_6", "Frame_shangjia_shupai_5", "Frame_shangjia_shupai_4", "Frame_shangjia_shupai_3", "Frame_shangjia_shupai_2", "Frame_shangjia_shupai_1" ],
size: [ {
width: 72,
height: 91
}, {
width: 69,
height: 91
}, {
width: 68,
height: 91
}, {
width: 67,
height: 91
}, {
width: 66,
height: 91
}, {
width: 65,
height: 91
}, {
width: 66,
height: 91
}, {
width: 67,
height: 91
}, {
width: 68,
height: 91
}, {
width: 70,
height: 91
}, {
width: 71,
height: 91
}, {
width: 73,
height: 91
}, {
width: 74,
height: 91
}, {
width: 75,
height: 91
} ],
dianScaleAll: 1.05,
dian: {
position: [ {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
}, {
x: 0,
y: -11
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
hao: [ {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
}, {
x: -50.5,
y: 53,
rotation: 0
} ]
},
paiIndex: [ 9, 9, 9, 9, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ],
xhide: 223,
yhide: 318,
scalehide: .6,
distancehide: [ 0, -58, -59, -59, -59, -58, -59, -59, -59, -59, -59, -59, -59, -91 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
imghide: [ "Frame_shangjia_pingpai_fan_14", "Frame_shangjia_pingpai_fan_13", "Frame_shangjia_pingpai_fan_12", "Frame_shangjia_pingpai_fan_11", "Frame_shangjia_pingpai_fan_10", "Frame_shangjia_pingpai_fan_9", "Frame_shangjia_pingpai_fan_8", "Frame_shangjia_pingpai_fan_7", "Frame_shangjia_pingpai_fan_6", "Frame_shangjia_pingpai_fan_5", "Frame_shangjia_pingpai_fan_4", "Frame_shangjia_pingpai_fan_3", "Frame_shangjia_pingpai_fan_2", "Frame_shangjia_pingpai_fan_1" ],
imgshow: [ "Frame_shangjia_pingpai_zheng_14", "Frame_shangjia_pingpai_zheng_13", "Frame_shangjia_pingpai_zheng_12", "Frame_shangjia_pingpai_zheng_11", "Frame_shangjia_pingpai_zheng_10", "Frame_shangjia_pingpai_zheng_9", "Frame_shangjia_pingpai_zheng_8", "Frame_shangjia_pingpai_zheng_7", "Frame_shangjia_pingpai_zheng_6", "Frame_shangjia_pingpai_zheng_5", "Frame_shangjia_pingpai_zheng_4", "Frame_shangjia_pingpai_zheng_3", "Frame_shangjia_pingpai_zheng_2", "Frame_shangjia_pingpai_zheng_1" ],
sizehide: [ {
width: 71,
height: 93
}, {
width: 71,
height: 94
}, {
width: 72,
height: 93
}, {
width: 71,
height: 93
}, {
width: 74,
height: 93
}, {
width: 73,
height: 93
}, {
width: 76,
height: 93
}, {
width: 77,
height: 93
}, {
width: 77,
height: 93
}, {
width: 78,
height: 93
}, {
width: 81,
height: 93
}, {
width: 82,
height: 93
}, {
width: 83,
height: 93
}, {
width: 84,
height: 93
} ],
dianScalehideAll: 1.2,
dianhide: {
position: [ {
x: .5,
y: 20
}, {
x: .5,
y: 20
}, {
x: 0,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -1.5,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2,
y: 20
}, {
x: -2.5,
y: 20
}, {
x: -3,
y: 20
}, {
x: -3,
y: 20
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
haoScale: 1.3,
hao: [ {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
}, {
x: 15,
y: 3,
rotation: 0,
skewX: 0,
skewY: 0
} ],
skew: [ {
x: -1,
y: 0
}, {
x: 0,
y: 0
}, {
x: .5,
y: 0
}, {
x: 1,
y: 0
}, {
x: 2,
y: 0
}, {
x: 3,
y: 0
}, {
x: 3,
y: 0
}, {
x: 4,
y: 0
}, {
x: 4,
y: 0
}, {
x: 5,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 8,
y: 0
} ],
dianScale: [ {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
}, {
scaleX: -.4,
scaleY: -.3
} ]
},
paiIndexhide: [ 1, 2, 3, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ]
},
chupaiShow: {
x: -4,
y: 222,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: 69,
y: 179,
scale: .55,
distance: [ 0, -74, -77, -78, -78, -78, -75, -77, -74, 605, -74, -75, -76, -76, -76, -75, -75, -74, 598, -72, -74, -75, -75, -75, -75, -74, -72 ],
distanceH: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 87, 0, 0, 0, 0, 0, 0, 0, 0, 85, 0, 0, 0, 0, 0, 0, 0, 0 ],
bgScale: [ {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: -1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: 1.05,
scaleY: 1.05
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: -1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: 1.03,
scaleY: 1.03
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: -1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
} ],
img: [ "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_1", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_4", "Frame_ziji_dachupai_3", "Frame_ziji_dachupai_2", "Frame_ziji_dachupai_1" ],
imghide: [ "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1", "shu1", "shu2", "shu3", "shu4", "shu4", "shu4", "shu3", "shu2", "shu1" ],
size: [ {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
}, {
width: 89,
height: 119
}, {
width: 88,
height: 119
}, {
width: 85,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 86,
height: 119
}, {
width: 85,
height: 119
}, {
width: 88,
height: 119
}, {
width: 89,
height: 119
} ],
dian: {
position: [ {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.8,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
}, {
x: -.4,
y: 18.3
} ],
size: [ {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
}, {
width: 122,
height: 154
} ],
dianRotation: [ .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2, .2 ],
img: [ "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue", "img_cardvalue" ],
dianScale: [ {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: .5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
}, {
scaleX: -.5,
scaleY: -.45
} ]
},
paiIndex: [ 12, 12, 12, 12, 12, 12, 15, 14, 13, 8, 8, 8, 8, 8, 8, 11, 10, 9, 4, 4, 4, 4, 4, 4, 7, 6, 5 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: -450,
spacingY: 0,
destination: [ {
x: 243,
y: 328
}, {
x: 123,
y: 328
}, {
x: 3,
y: 328
}, {
x: -117,
y: 328
} ],
fourPai: {
x: 2,
y: 30
}
},
ting: {
scale: .9,
x: 0,
y: -60
}
}, {
holds: {
x: -454,
y: 277,
scale: .6,
distance: [ 0, -9, -9, -10, -10, -10.5, -10.5, -10.5, -11, -12, -12, -12, -12, -22 ],
distanceH: [ 0, -46, -46, -48, -49, -51, -51, -53, -55, -54, -59, -59, -61, -105 ],
img: [ "Frame_zuojia_shupai_1", "Frame_zuojia_shupai_2", "Frame_zuojia_shupai_3", "Frame_zuojia_shupai_4", "Frame_zuojia_shupai_5", "Frame_zuojia_shupai_6", "Frame_zuojia_shupai_7", "Frame_zuojia_shupai_8", "Frame_zuojia_shupai_9", "Frame_zuojia_shupai_10", "Frame_zuojia_shupai_11", "Frame_zuojia_shupai_12", "Frame_zuojia_shupai_13", "Frame_zuojia_shupai_14" ],
size: [ {
width: 81,
height: 119
}, {
width: 82,
height: 120
}, {
width: 83,
height: 121
}, {
width: 84,
height: 120
}, {
width: 85,
height: 122
}, {
width: 86,
height: 123
}, {
width: 88,
height: 123
}, {
width: 88,
height: 125
}, {
width: 90,
height: 126
}, {
width: 92,
height: 127
}, {
width: 93,
height: 128
}, {
width: 95,
height: 129
}, {
width: 96,
height: 129
}, {
width: 98,
height: 131
} ],
scaleItem: [ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
paiIndex: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distancehide: [ 0, -12, -12, -12, -11, -12, -12, -12, -11, -12, -10, -12, -11, -18 ],
distanceHhide: [ 0, -62, -61, -60, -61, -62, -63, -62, -61, -61, -59, -60, -59, -111 ],
xhide: -464,
yhide: 277,
scalehide: .55,
imghide: [ "Frame_zuojia_pingpai_fan_1", "Frame_zuojia_pingpai_fan_2", "Frame_zuojia_pingpai_fan_3", "Frame_zuojia_pingpai_fan_4", "Frame_zuojia_pingpai_fan_5", "Frame_zuojia_pingpai_fan_6", "Frame_zuojia_pingpai_fan_7", "Frame_zuojia_pingpai_fan_8", "Frame_zuojia_pingpai_fan_9", "Frame_zuojia_pingpai_fan_10", "Frame_zuojia_pingpai_fan_11", "Frame_zuojia_pingpai_fan_12", "Frame_zuojia_pingpai_fan_13", "Frame_zuojia_pingpai_fan_14" ],
imgshow: [ "Frame_zuojia_pingpai_zheng_1", "Frame_zuojia_pingpai_zheng_2", "Frame_zuojia_pingpai_zheng_3", "Frame_zuojia_pingpai_zheng_4", "Frame_zuojia_pingpai_zheng_5", "Frame_zuojia_pingpai_zheng_6", "Frame_zuojia_pingpai_zheng_7", "Frame_zuojia_pingpai_zheng_8", "Frame_zuojia_pingpai_zheng_9", "Frame_zuojia_pingpai_zheng_10", "Frame_zuojia_pingpai_zheng_11", "Frame_zuojia_pingpai_zheng_12", "Frame_zuojia_pingpai_zheng_13", "Frame_zuojia_pingpai_zheng_14" ],
sizehide: [ {
width: 135,
height: 105
}, {
width: 132,
height: 103
}, {
width: 130,
height: 101
}, {
width: 127,
height: 100
}, {
width: 127,
height: 99
}, {
width: 125,
height: 98
}, {
width: 121,
height: 97
}, {
width: 123,
height: 95
}, {
width: 118,
height: 95
}, {
width: 117,
height: 94
}, {
width: 116,
height: 92
}, {
width: 114,
height: 90
}, {
width: 113,
height: 91
}, {
width: 113,
height: 90
} ],
scaleItemhide: [ 1, 1.03, 1.05, 1.07, 1.09, 1.11, 1.13, 1.15, 1.17, 1.19, 1.21, 1.23, 1.25, 1.27 ],
paiIndexhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
dianScalehideAll: 1,
dianhide: {
position: [ {
x: -8.5,
y: 21
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 22.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 20.4
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
}, {
x: -8.5,
y: 19.5
} ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_" ],
haoScale: .6,
hao: [ {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
}, {
x: 20,
y: 33,
rotation: 90,
skewX: 0,
skewY: -9
} ],
skew: [ {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 8,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
}, {
x: 7,
y: 0
} ],
dianScale: [ {
scaleX: 1,
scaleY: 1
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
}, {
scaleX: .9,
scaleY: .9
} ],
dianrota: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
}
},
chupaiShow: {
x: -272,
y: 54,
scaleFrom: 0,
scaleTo: .6,
dianScaleAll: .9,
size: {
width: 144,
height: 204
},
dian: {
position: {
x: -2,
y: 27
},
size: {
width: 130,
height: 143
},
img: "Frame_ziji_dachupai_4",
skew: {
skewX: 0,
skewY: 0
}
}
},
folds: {
x: -124,
y: 102,
scale: .55,
distance: [ 0, -3, -4, -4, -4, -4, -3, -4, -4, -58, -4, -5, -5, -5, -5, -4, -4, -6, -53, -5, -6, -5, -5, -5, -5, -6, -6 ],
distanceH: [ 0, -51, -51, -54, -54, -54, -55, -55, -58, 433, -52, -52, -54, -54, -54, -54, -56, -57, 434, -52, -52, -54, -54, -54, -54, -56, -55 ],
img: [ "Frame_zuojia_1_7", "Frame_zuojia_2_6", "Frame_zuojia_1_5", "Frame_zuojia_1_4", "Frame_zuojia_1_4", "Frame_zuojia_1_4", "Frame_zuojia_1_3", "Frame_zuojia_1_2", "Frame_zuojia_1_1", "Frame_zuojia_2_7", "Frame_zuojia_2_6", "Frame_zuojia_2_5", "Frame_zuojia_2_4", "Frame_zuojia_2_4", "Frame_zuojia_2_4", "Frame_zuojia_2_3", "Frame_zuojia_2_2", "Frame_zuojia_2_1", "Frame_zuojia_3_7", "Frame_zuojia_3_6", "Frame_zuojia_3_5", "Frame_zuojia_3_4", "Frame_zuojia_3_4", "Frame_zuojia_3_4", "Frame_zuojia_3_3", "Frame_zuojia_3_2", "Frame_zuojia_3_1" ],
imghide: [ "zuo1_7", "zuo2_6", "zuo1_5", "zuo1_4", "zuo1_4", "zuo1_4", "zuo1_3", "zuo1_2", "zuo1_1", "zuo2_7", "zuo2_6", "zuo2_5", "zuo2_4", "zuo2_4", "zuo2_4", "zuo2_3", "zuo2_2", "zuo2_1", "zuo3_7", "zuo3_6", "zuo3_5", "zuo3_4", "zuo3_4", "zuo3_4", "zuo3_3", "zuo3_2", "zuo3_1" ],
size: [ {
width: 103,
height: 89
}, {
width: 105,
height: 89
}, {
width: 106,
height: 91
}, {
width: 108,
height: 92
}, {
width: 108,
height: 92
}, {
width: 108,
height: 92
}, {
width: 109,
height: 93
}, {
width: 110,
height: 94
}, {
width: 112,
height: 95
}, {
width: 105,
height: 89
}, {
width: 106,
height: 89
}, {
width: 108,
height: 91
}, {
width: 109,
height: 92
}, {
width: 109,
height: 92
}, {
width: 109,
height: 92
}, {
width: 111,
height: 93
}, {
width: 112,
height: 94
}, {
width: 113,
height: 95
}, {
width: 106,
height: 89
}, {
width: 109,
height: 89
}, {
width: 109,
height: 91
}, {
width: 111,
height: 92
}, {
width: 111,
height: 92
}, {
width: 111,
height: 92
}, {
width: 112,
height: 93
}, {
width: 114,
height: 94
}, {
width: 116,
height: 95
} ],
dian: {
position: [ {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
}, {
x: .4,
y: 18.3
} ],
img: [ "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_1_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_2_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_", "ing_zuojia_3_" ],
size: [ {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 90,
height: 48
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
}, {
width: 88,
height: 50
} ],
dianScale: [ {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
}, {
scaleX: .94,
scaleY: .94
}, {
scaleX: .95,
scaleY: .95
}, {
scaleX: .96,
scaleY: .96
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .97,
scaleY: .97
}, {
scaleX: .99,
scaleY: .99
}, {
scaleX: 1,
scaleY: 1
} ]
},
paiIndex: [ 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2 ],
distancehide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
distanceHhide: [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ]
},
chiPeng: {
scale: .9,
spacingX: 0,
spacingY: -200,
destination: [ {
x: -414,
y: 300
}, {
x: -434,
y: 190
}, {
x: -454,
y: 80
}, {
x: -474,
y: -20
} ],
fourPai: {
x: -12,
y: 25
}
},
ting: {
scale: .9,
x: 50,
y: 13
}
} ]
},
chat_path: "mj",
quick_chat: [ {
id: 0,
info: "你太牛啦"
}, {
id: 1,
info: "哈哈，手气真好"
}, {
id: 2,
info: "快点出牌啊"
}, {
id: 3,
info: "今天真高兴"
}, {
id: 4,
info: "这个吃的好"
}, {
id: 5,
info: "你放炮，我不胡"
}, {
id: 6,
info: "你家里是开银行的吗"
}, {
id: 7,
info: "不好意思，我有事要先走一步了"
}, {
id: 8,
info: "你的牌打的太好了"
}, {
id: 9,
info: "大家好，很高心见到各位"
}, {
id: 10,
info: "怎么又断线了，网络怎么这么差啊"
} ],
TIME_ITEM: 100,
TIME_THREE: 100,
TIME_SAIZI: 1e3,
TIME_HOLDS: 1e3,
TIME_HIDE_SAIZI: 3e3,
TIME_DING_ZHUANG: 2e3,
TIME_FRIST_TURE_CHANGE: 4e3,
TIME_FRIST_ACTION: 3e3,
TIME_START: 10
}
});
cc._RF.pop();
}, {} ],
TDH1600Folds: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c0e02IbTh5AfqN8FCt8HUCY", "TDH1600Folds");
cc.Class({
extends: cc.Component,
properties: {
_pointers: null,
_folds: null,
_huas: null
},
onLoad: function() {
cc.vv;
},
start: function() {
this.initView();
this.initEventHandler();
},
initView: function() {
this._folds = {};
this._pointers = {};
this._huas = {};
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
var t = e[i];
this._folds[t] = [];
this._pointers[t] = [];
this._huas[t] = [];
}
},
initEventHandler: function() {
this.node.on("game_begin", function(e) {});
this.node.on("login_finished", function(e) {});
this.node.on("game_sync", function(e) {});
this.node.on("game_chupai_notify", function(e) {});
this.node.on("buhua_notify", function(e) {});
this.node.on("guo_notify", function(e) {});
},
change_color_outcrad: function(e) {
this._chupai_pai = e;
var i = cc.vv.mahjongMgr._seats;
for (var t in i) {
var a = i[t].folds;
if (null == a) return;
for (var n = cc.vv.roomMgr.viewChairID(i[t].seatIndex), s = 0; s < a.length; ++s) {
var c = n + "_folds_" + (r = s);
a.length;
if (a[s] == e) {
var o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_item_emit("folds", n, "setOutcrad", o, c);
}
}
var h = i[t].chipenggang;
if (null == h) return;
for (s = 0; s < h.length; ++s) {
var r = s, l = (h.length, cc.vv.game.majiangTable.getHoldParent(n, "penggangs")), d = (c = n + "_nodeChipenggang_" + r, 
cc.vv.utils.getChildByTag(l, c));
c = n + "_chipenggang_" + r + "_0";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_1";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_2";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
c = n + "_chipenggang_" + r + "_3";
if (h[s][1][1] == e) {
o = {
isColor: !0
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
} else {
o = {
isColor: !1
};
cc.vv.game.majiangTable.send_card_emit(d, "setOutcrad", o, c);
}
}
}
},
hideAllFolds: function() {
for (var e = cc.find("Canvas/mgr/game"), i = cc.vv.mahjongMgr._sides, t = 0; t < i.length; ++t) {
var a = i[t];
e.getChildByName(a).getChildByName("folds").getChildByName("list").removeAllChildren();
}
},
hideChupai: function() {
if (-1 != cc.vv.mahjongMgr._turn) if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
var e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn), i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length;
cc.vv.game.majiangTable.hideFolds(e, i);
} else {
e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._turn);
if (0 == cc.vv.mahjongMgr._seats.length) return;
var t = e + "_chupai_" + (i = cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.length), a = cc.vv.game.majiangTable.getHoldParent(e, "holdschupai");
cc.vv.game.majiangTable.send_card_emit(a, "nodeDestroy", {}, t);
var n = cc.vv.game.majiangTable._chupaiArr, s = n.indexOf(t);
-1 != s && n.splice(s, 1);
}
},
initAllFolds: function() {
var e = cc.vv.mahjongMgr._seats;
for (var i in e) this.initFolds(e[i]);
this.initPointer();
},
initPointer: function() {
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) for (var t = e[i], a = cc.vv.mahjongMgr.getViewidBySide(e[i]), n = this._pointers[t], s = 0; s < n.length; s++) {
var c = n[s];
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", {
isShow: !1
}, c);
}
},
initFolds: function(e) {
e.folds;
},
setSpritePointer: function(e, i, t) {
var a = cc.vv.roomMgr.viewChairID(e);
this.initPointer();
var n = a + "_folds_" + i, s = {
isShow: t
};
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setPointer", s, n);
this.setPointers(t, a, n);
cc.vv.game.majiangTable.send_card_item_emit("folds", a, "setShandian", {}, n);
},
setPointers: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._pointers[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setFolds: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._folds[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
},
setHua: function(e, i, t) {
var a = cc.vv.mahjongMgr._sides[i], n = this._huas[a];
if (e) {
n[n.length] = t;
} else n.splice(t, 1);
}
});
cc._RF.pop();
}, {} ],
TDH1600Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a49057tb0VKHKYb0pJr3CmY", "TDH1600Game");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
cc.vv.log3.debug("TDH1600Game:onLoad");
cc.vv.audioMgr.playBGM("mj_bg_01");
if (!cc.sys.isNative && cc.sys.isMobile) {
var i = this.node.getComponent(cc.Canvas);
i.fitHeight = !0;
i.fitWidth = !0;
}
if (cc.vv) {
cc.vv.game = this;
var t = e("TDH1600Const");
cc.vv.game.config = {
type: "3dmj",
name: "tdh1600",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: t.chat_path,
quick_chat: t.quick_chat,
player_4: t.player4,
player_3: t.player3,
player_2: t.player2,
card_4: t.threeD.card4,
card_3: t.threeD.card3,
card_2: t.threeD.card2,
TIME_ITEM: t.TIME_ITEM,
TIME_THREE: t.TIME_THREE,
TIME_SAIZI: t.TIME_SAIZI,
TIME_HOLDS: t.TIME_HOLDS,
TIME_HIDE_SAIZI: t.TIME_HIDE_SAIZI,
TIME_DING_ZHUANG: t.TIME_DING_ZHUANG,
TIME_FRIST_TURE_CHANGE: t.TIME_FRIST_TURE_CHANGE,
TIME_FRIST_ACTION: t.TIME_FRIST_ACTION,
TIME_START: t.TIME_START,
set_bg: !1,
isTinghougang: !0,
isLianzhuang: !1,
isBaoting: !1,
isGangfen: !1,
location: !0,
isSelectSit: !0,
show_watch_btn: !1
};
} else cc.director.loadScene("loading");
},
start: function() {
var i = this;
cc.vv.log3.debug("TDH1600Game:start");
this.majiangTable = this.node.getComponent("majiangTable");
this.table = this.node.getComponent("Table");
cc.vv.mahjongMgr = this.node.getComponent("TDH1600Mgr");
cc.vv.folds = this.node.getComponent("TDH1600Folds");
this._winPlayer = cc.find("Canvas/mgr/players");
this.majiangTable.initView();
this.majiangTable.new_round();
this.initEventHandlers();
cc.vv.roomMgr.is_replay && (cc.vv.mahjongMgr._magicPai = cc.vv.roomMgr.action.init.magicPai);
var t = e("TDH1600ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.mahjongMgr.prepareReplay(cc.vv.roomMgr.action.init, cc.vv.roomMgr.seatid);
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
for (var t = cc.vv.roomMgr.table.list, a = cc.vv.roomMgr.action.init.score, n = 0; n < t.length; ++n) {
e = cc.vv.roomMgr.getSeatIndexByID(a[n].user_id);
var s = cc.vv.roomMgr.viewChairID(e);
i.table.seat_emit(s, "score", a[n].score);
cc.vv.utils.getChildByTag(i._winPlayer, e).getComponent("Seat").ready(!1);
}
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
i.majiangTable.onGameBeign();
}
};
a.emit("get_open", n);
}
},
initEventHandlers: function() {
var e = this;
this.node.on("game_saizi", function(i) {
e.dispatchEvent("game_kaiju_table");
setTimeout(function() {
e.dispatchEvent("game_saizi_table", i);
}, cc.vv.game.config.TIME_SAIZI);
});
this.node.on("game_magic", function(i) {
e.dispatchEvent("game_magic_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("showAction", i);
});
this.node.on("game_holds", function() {
setTimeout(function() {
e.dispatchEvent("game_holds_table");
}, cc.vv.game.config.TIME_HOLDS);
});
this.node.on("mj_count", function() {
var i = {
data: {
count: cc.vv.mahjongMgr._numOfMJ
}
};
e.dispatchEvent("mj_count_table", i);
});
this.node.on("login_finished", function(i) {
e.dispatchEvent("game_begin_table");
});
this.node.on("game_begin", function() {
e.dispatchEvent("game_begin_table");
setTimeout(function() {
e.dispatchEvent("game_hideSaizi_table");
}, cc.vv.game.config.TIME_HIDE_SAIZI);
setTimeout(function() {
var i = {
data: {
seatid: cc.vv.mahjongMgr._zhuang
}
};
e.dispatchEvent("game_dingzhuang_table", i);
}, cc.vv.game.config.TIME_DING_ZHUANG);
setTimeout(function() {
e.dispatchEvent("game_fristTurnChange_table");
}, cc.vv.game.config.TIME_FRIST_TURE_CHANGE);
setTimeout(function() {
e.dispatchEvent("game_fristShowAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION);
setTimeout(function() {
e.dispatchEvent("game_fristShowTingAction_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 100);
setTimeout(function() {
e.dispatchEvent("game_fristShowTing1Action_table");
}, cc.vv.game.config.TIME_FRIST_ACTION + 200);
});
this.node.on("game_playing", function(i) {
e.dispatchEvent("game_playing_table", i);
});
this.node.on("game_chupai", function(i) {
e.dispatchEvent("game_chupai_table", i);
});
this.node.on("cheat_show", function(i) {
cc.vv.popMgr.open("ShowPai", function(t) {
e.ViewShowPai = t;
e.ViewShowPai.getComponent("ShowPai").show_card(i.list.pai);
});
});
this.node.on("game_chupai_notify", function(i) {
e.dispatchEvent("game_chupai_notify_table", i);
});
this.node.on("game_mopai", function(i) {
e.dispatchEvent("game_mopai_table", i);
});
this.node.on("game_action", function(i) {
e.dispatchEvent("game_showaction_table", i);
});
this.node.on("jiesuan", function(i) {
i = i.data;
e.dispatchEvent("game_jiesuan_table", i);
});
this.node.on("report", function(i) {
i = i.data;
e.dispatchEvent("game_report_table", i);
});
this.node.on("guo_notify", function(i) {
e.dispatchEvent("guo_notify_table", i);
});
this.node.on("peng_notify", function(i) {
e.dispatchEvent("peng_notify_table", i);
});
this.node.on("chi_notify", function(i) {
e.dispatchEvent("chi_notify_table", i);
});
this.node.on("gang_notify", function(i) {
e.dispatchEvent("gang_notify_table", i);
});
this.node.on("hupai", function(i) {
e.dispatchEvent("hupai_table", i);
});
this.node.on("chupai_limit_notify", function(i) {
e.dispatchEvent("chupai_limit_notify_table", i);
});
this.node.on("bao_ting_push", function(i) {
e.dispatchEvent("bao_ting_push_table", i);
});
this.node.on("buhua_notify", function(i) {
e.dispatchEvent("buhua_notify_table", i);
});
this.node.on("hangang_notify", function(i) {
var t = cc.vv.roomMgr.viewChairID(i);
e.majiangTable.playEfx(t, "play_gang");
e.majiangTable.playSFX(i, "gang");
e.majiangTable.hideOptions();
e.majiangTable.hideGangPaiOpts();
e.majiangTable.hideChipaiOpts();
});
this.node.on("game_sync", function(i) {
e.dispatchEvent("game_sync_table", i);
});
this.node.on("game_action_ting", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting_table", i);
});
this.node.on("game_action_ting1", function(i) {
i = i.data;
e.dispatchEvent("game_action_ting1_table", i);
});
this.node.on("guo_result", function() {
e.dispatchEvent("guo_result_table");
});
this.node.on("view_ting", function(i) {
e.dispatchEvent("view_ting_table", i);
});
this.node.on("guohu_game", function(i) {
e.dispatchEvent("guohu_table", i);
});
this.node.on("hujiaozhuanyi_game", function(i) {
e.dispatchEvent("hujiaozhuanyi_table", i);
});
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "jiesuan":
this.onButtonQieGuo("game_sync_push", {
errcode: 0,
data: {
liupaiCnt: 0,
button: 0,
numofmj: 104,
round: 1,
chuPai: -1,
state: 3,
turn: 1,
zhuang: 0,
seats: [ {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35 ],
baoting: !1,
wangangs: [],
guohu: !1,
userid: 3015,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
holds: [ 16, 3, 4, 5, 6, 7, 16, 17, 19, 25, 27, 32, 35 ],
pengs: [],
hued: !1
}, {
que: 0,
chis: [],
huinfo: [],
iszimo: !1,
folds: [ 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35 ],
baoting: !1,
wangangs: [],
userid: 3028,
huas: [],
piaonum: 0,
huanpais: [],
diangangs: [],
m_bBaoTing_index: -1,
angangs: [],
pengs: [],
hued: !1
} ],
magicPai: 15,
saizi_2: 3,
saizi_1: 4
},
errmsg: "ok",
model: "game",
event: "game_sync_push"
});
}
},
onGangChecked: function(e) {
cc.vv.audioMgr.click();
cc.vv.net2.quick("gang", {
pai: e.target.pai,
wik: e.target.paiWik
});
},
onOptionClicked: function(e) {
cc.vv.log3.info("点击了");
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btnPeng":
cc.vv.net2.quick("peng");
cc.vv.folds.initPointer();
break;

case "btnTing":
cc.vv.net2.quick("baoting");
this.majiangTable.initbnaoting();
break;

case "btnHu":
cc.vv.net2.quick("hu");
break;

case "btnGuo":
this.ops_bgclick_guo();
break;

case "cancelbtnGuo":
1 == this.majiangTable._baoting && this.majiangTable.cencelbaoting();
cc.vv.net2.quick("guo");
break;

case "btnGang":
this.majiangTable.showGang(e.target.pai, e.target.paiWik, e.target.actpai);
cc.vv.folds.initPointer();
break;

case "btnChi":
this.majiangTable.showChipai(e.target.pai, e.target.paiWik);
cc.vv.folds.initPointer();

case "btnshowall":
cc.vv.net2.quick("cheat");
}
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_button_01");
},
ops_bgclick_guo: function() {
cc.vv.net2.quick("guo");
this.majiangTable.hideOptions();
1 == this.majiangTable._baoting && 1 == this.majiangTable._tinghuhoupai && 1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
},
shoot: function(e, i) {
this.majiangTable.baotingopsUi(!1);
if (null != e) {
1 == this.majiangTable._baoting && (this.majiangTable._autoOutCrad = !0);
if (cc.vv.mahjongMgr._canChui) {
var t = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid];
cc.vv.mahjongMgr._canChui = !1;
cc.vv.folds.change_color_outcrad(-4);
if (1 == this.majiangTable._yiting) {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 1,
index: i
});
this.majiangTable._yiting = !1;
var a = t.folds.length, n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: a,
pai: e,
baoting: 1,
index: i
});
} else {
cc.vv.net2.quick("chupai", {
pai: e,
baoting: 0,
index: i
});
if (!cc.vv.game.majiangTable._baotingchupai) {
n = cc.vv.game.getStartIndex(t.holds);
t.holds.splice(i - n, 1);
this.majiangTable.game_chupai_advance({
seatData: t,
baoTing_index: -1,
pai: e,
baoting: 0,
index: i
});
}
}
cc.vv.folds.initAllFolds();
1 == this.majiangTable._baoting && this.majiangTable.onclick_see_ting();
cc.vv.roomMgr.param.too_hu_must_zimo || this.majiangTable.hideGuohu();
this.majiangTable.hideting();
this.majiangTable.hideOptions();
this.majiangTable.hideChipaiOpts();
this.majiangTable.hideGangPaiOpts();
this.majiangTable.hideTingOpts();
cc.find("Canvas/open/tingPaiList").active = !1;
}
}
},
sortHolds: function(e) {
var i = e.holds;
if (null == i) return null;
var t = null, a = i.length;
2 != a && 5 != a && 8 != a && 11 != a && 14 != a || (t = i.pop());
var n = cc.vv.mahjongMgr._magicPai, s = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(i, n, s);
null != t && i.push(t);
return i;
},
sortHoldsByPai: function(e) {
if (null == e) return null;
var i = null, t = e.length;
2 != t && 5 != t && 8 != t && 11 != t && 14 != t || (i = e.pop());
var a = cc.vv.mahjongMgr._magicPai, n = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(e, a, n);
null != i && e.push(i);
return e;
},
getMJIndex: function(e, i) {
return i;
},
getStartIndex: function(e) {
if (null == e) return null;
var i = e.length;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getStartIndexByNum: function(e) {
var i = e;
if (2 == i || 5 == i || 8 == i || 11 == i || 14 == i) {
return 14 - i;
}
return 13 - i;
},
getFourteenTo: function(e, i) {
for (var t = cc.vv.game.sortHoldsByPai(cc.vv.mahjongMgr._oldholds), a = cc.vv.game.getStartIndex(t), n = t.length, s = t[13 - a], c = a; c < a + n; c++) {
if (s == e) return a - 1;
if (s == i && s == t[c - a] || s == i && t[c - a] != e) return c - 1;
if (t[c - a] != e && t[c - a] != i && s < t[c - a]) return c - 1;
}
return 13;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
testData: function(e, i) {
cc.vv.mahjongMgr.node.emit(e, i);
},
onButtonQieGuo: function(e, i) {
this.testData(e, i);
}
});
cc._RF.pop();
}, {
TDH1600Const: "TDH1600Const",
TDH1600ReplayMgr: "TDH1600ReplayMgr"
} ],
TDH1600Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "22ad4GxrcVF97gxypugBSbb", "TDH1600Mgr");
cc.Class({
extends: cc.Component,
properties: {
pengPrefabSelf: {
default: null,
type: cc.Prefab
},
_sides: null,
_pres: null,
_foldPres: null,
_fangxiang: null,
_mahjongSprites: [],
_turn: -1,
_last: -1,
_zhuang: -1,
_saizi_1: 0,
_saizi_2: 0,
_magicPai: -1,
_magicPai2: -1,
_seats: [],
_numOfMJ: 0,
_liupaiCnt: 0,
_maxNumOfGames: 0,
_numOfGames: 0,
_isOver: !0,
_button: -1,
_gamestate: -1,
_canChui: !1,
_curaction: null,
_baoting_index: -1,
_oldholds: []
},
onLoad: function() {
if (null != cc.vv) {
switch (cc.vv.roomMgr.ren) {
case 4:
this._sides = [ "myself", "right", "up", "left" ];
this._pres = [ "M_", "R_", "B_", "L_" ];
this._foldPres = [ "B_", "R_", "B_", "L_" ];
this._fangxiang = [ "nan", "dong", "bei", "xi" ];
break;

case 3:
this._sides = [ "myself", "right", "left" ];
this._pres = [ "M_", "R_", "L_" ];
this._foldPres = [ "B_", "R_", "L_" ];
this._fangxiang = [ "nan", "dong", "xi" ];
break;

case 2:
this._sides = [ "myself", "up" ];
this._pres = [ "M_", "B_" ];
this._foldPres = [ "B_", "B_" ];
this._fangxiang = [ "nan", "bei" ];
}
for (var e = 1; e < 10; ++e) this._mahjongSprites.push("B" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("T" + e);
for (e = 1; e < 10; ++e) this._mahjongSprites.push("W" + e);
this._mahjongSprites.push("F2");
this._mahjongSprites.push("F3");
this._mahjongSprites.push("F4");
this._mahjongSprites.push("F5");
this._mahjongSprites.push("F1");
this._mahjongSprites.push("F6");
this._mahjongSprites.push("F7");
this._mahjongSprites.push("J1");
this._mahjongSprites.push("J2");
this._mahjongSprites.push("J3");
this._mahjongSprites.push("J4");
this._mahjongSprites.push("H3");
this._mahjongSprites.push("H2");
this._mahjongSprites.push("H1");
this._mahjongSprites.push("H4");
this.initEventHandlers();
}
},
prepareReplay: function(e, i) {
this._seats = [];
if (null != e.zhuang) {
this._zhuang = e.zhuang;
this._turn = e.zhuang;
}
for (var t = 0; t < cc.vv.roomMgr.table.list.length; ++t) {
var a = {};
a.seatIndex = t;
a.score = null;
a.holds = e.game_seats[t];
a.pengs = [];
a.chis = [];
a.huas = [];
a.piaonum = 0;
a.angangs = [];
a.diangangs = [];
a.wangangs = [];
a.folds = [];
a.chipenggang = [];
i == cc.vv.roomMgr.table.list[t].userid && (cc.vv.roomMgr.seatid = t);
this._seats[t] = a;
}
if (e.numofmj) {
this._numOfMJ = e.numofmj;
this._liupaiCnt = e.liupaiCnt;
}
this._gamestate = 3;
},
initEventHandlers: function() {
var e = this;
this.node.on("login_result", function(i) {
if (0 === i.errcode) {
i = i.data;
e._seats = i.seats;
e._isOver = !1;
e.reset();
}
});
this.node.on("sit", function(i) {
i = i.data;
if (null != e._seats[i.seatid]) {
e._seats[i.seatid].seatIndex = i.seatid;
e._seats[i.seatid].userid = i.userid;
e._seats[i.seatid].headimg = i.headimg;
}
});
this.node.on("game_saizi_push", function(i) {
i = i.data;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e.dispatchEvent("game_saizi", i);
});
this.node.on("cheat", function(i) {
cc.vv.log3.info("收到了返回来的剩余牌数量 ");
i = i.data;
e.dispatchEvent("cheat_show", i);
});
this.node.on("game_magic_push", function(i) {
i = i.data;
e._magicPai = i.magic;
e.dispatchEvent("game_magic", i);
});
this.node.on("game_action_push", function(i) {
i = i.data;
e._curaction = i;
e.dispatchEvent("game_action", i);
});
this.node.on("game_holds_push", function(i) {
i = i.data;
e._seats[cc.vv.roomMgr.seatid].holds = i.holds;
for (var t = 0; t < e._seats.length; ++t) {
var a = e._seats[t];
null == a.folds && (a.folds = []);
null == a.pengs && (a.pengs = []);
null == a.chis && (a.chis = []);
null == a.huas && (a.huas = []);
a.piaonum = 0;
null == a.angangs && (a.angangs = []);
null == a.diangangs && (a.diangangs = []);
null == a.wangangs && (a.wangangs = []);
null == a.chipenggang && (a.chipenggang = []);
a.ready = !1;
}
e.dispatchEvent("game_holds");
});
this.node.on("mj_count_push", function(i) {
i = i.data;
e.doMjCount(i.numOfMJ, i.liupaiCnt);
});
this.node.on("game_begin_push", function(i) {
i = i.data;
e._button = i.button;
e._turn = i.button;
e._zhuang = i.zhuang;
e._gamestate = 2;
e.dispatchEvent("game_begin");
});
this.node.on("game_playing_push", function(i) {
i = i.data;
e._gamestate = 3;
e.dispatchEvent("game_playing");
});
this.node.on("game_chupai_push", function(i) {
i = i.data;
if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
null != i.game_action_push && (e._curaction = i.game_action_push);
null != i.game_action_ting && null != i.game_action_ting.data && (cc.vv.game.majiangTable._datating = i.game_action_ting.data);
}
var t = cc.vv.roomMgr.getSeatIndexByID(i.userId);
e.doTurnChange(t, i);
});
this.node.on("game_chupai_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
-1 != n && (cc.vv.game.majiangTable._baotingchupai || n != cc.vv.roomMgr.seatid) && e.doChupai(n, a, i.baoTing_index, i.baoting, i.index);
});
this.node.on("game_mopai_push", function(i) {
i = i.data;
e.doMopai(cc.vv.roomMgr.seatid, i.pai, i.is_auto);
});
this.node.on("guo_notify_push", function(i) {
var t = (i = i.data).userId, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGuo(n, a);
});
this.node.on("peng_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = cc.vv.roomMgr.getSeatIndexByID(t);
e.doPeng(n, a);
});
this.node.on("chi_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.chiPai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doChi(s, a, n);
});
this.node.on("gang_notify_push", function(i) {
var t = (i = i.data).userid, a = i.pai, n = i.gangpai, s = cc.vv.roomMgr.getSeatIndexByID(t);
e.doGang(s, a, n, i.gangtype);
});
this.node.on("chupai_limit_notify_push", function(i) {
e.dispatchEvent("chupai_limit_notify");
});
this.node.on("baoting_notify_push", function(i) {
i = i.data;
e.doTing(i);
});
this.node.on("hu_push", function(i) {
i = i.data;
e.doHu(i);
});
this.node.on("guohu", function(i) {
i = i.data;
e.doGuoHu(i);
});
this.node.on("game_sync_push", function(i) {
i = i.data;
e.reset();
e._liupaiCnt = i.liupaiCnt;
e._magicPai = i.magicPai;
e._saizi_1 = i.saizi_1;
e._saizi_2 = i.saizi_2;
e._gamestate = i.state;
e._turn = i.turn;
e._zhuang = i.zhuang;
e._button = i.button;
e._chupai = i.chuPai;
e._numOfMJ = i.numofmj;
for (var t = 0; t < cc.vv.roomMgr.ren; ++t) {
e._seats[t].baoTing_index = i.seats[t].m_bBaoTing_index;
e._seats[t].status = i.seats[t].status;
var a = e._seats[t], n = i.seats[t];
a.baoting = n.baoting;
a.holds = n.holds;
a.folds = n.folds;
a.angangs = n.angangs;
a.diangangs = n.diangangs;
a.wangangs = n.wangangs;
a.pengs = n.pengs;
a.chis = n.chis;
a.huas = n.huas;
a.hued = n.hued;
a.iszimo = n.iszimo;
a.huinfo = n.huinfo;
a.huanpais = n.huanpais;
a.m_bBaoTing_index = n.m_bBaoTing_index;
a.chipenggang = [];
for (var s = 0; s < a.angangs.length; s++) {
var c = a.angangs[s];
a.chipenggang.push([ 2, c ]);
}
for (var o = 0; o < a.diangangs.length; o++) {
var h = a.diangangs[o];
a.chipenggang.push([ 3, h ]);
}
for (var r = 0; r < a.wangangs.length; r++) {
var l = a.wangangs[r];
a.chipenggang.push([ 4, l ]);
}
for (var d = a.pengs.length, g = 0; g < d; g++) {
var u = a.pengs[g];
-1 != e.arrayReturn(a.wangangs, u) ? a.pengs.splice(g, 1) : a.chipenggang.push([ 1, u ]);
}
for (var _ = 0; _ < a.chis.length; _++) {
var v = a.chis[_];
a.chipenggang.push([ 0, v ]);
}
t == e.seatIndex && (e.dingque = n.que);
}
e.dispatchEvent("game_sync", i);
});
},
doMopai: function(e, i, t) {
var a = this._seats[e];
if (a && a.holds) {
a.holds.push(i);
this.dispatchEvent("game_mopai", {
seatIndex: e,
pai: i,
is_auto: t
});
}
},
doChupai: function(e, i, t, a, n) {
this._chupai = i;
var s = this._seats[e];
if (s) {
s.seatIndex = e;
this._seats[s.seatIndex].baoTing_index = t;
if (s.holds) {
var c = s.holds.indexOf(i), o = cc.vv.game.getStartIndex(s.holds);
cc.vv.roomMgr.is_replay && (n = o + c);
e == cc.vv.roomMgr.seatid && (this._oldholds = cc.vv.utils.deepCopy(s.holds));
s.holds.splice(c, 1);
}
this.dispatchEvent("game_chupai_notify", {
seatData: s,
pai: i,
baoTing_index: t,
baoting: a,
index: n
});
}
},
doMjCount: function(e, i) {
this._numOfMJ = e;
this._liupaiCnt = i;
this.dispatchEvent("mj_count", null);
},
doTurnChange: function(e, i) {
i = {
last: this._turn,
turn: e,
data: i
};
this._last = this._turn;
this._turn = e;
this.dispatchEvent("game_chupai", i);
},
doGuo: function(e, i) {
var t = this._seats[e];
this.dispatchEvent("guo_notify", t);
},
doPeng: function(e, i) {
var t = this._seats[e];
t.pengs.push(i);
t.chipenggang.push([ 1, i ]);
if (t.holds) for (var a = 0; a < 2; ++a) {
var n = t.holds.indexOf(i[1]);
t.holds.splice(n, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("peng_notify", {
seatData: t,
pengpai: i
});
},
doChi: function(e, i, t) {
var a = this._seats[e];
a.chis.push(t);
a.chipenggang.push([ 0, i ]);
if (a.holds) for (var n = 1; n < t.length; ++n) if (t[n] != i) {
var s = a.holds.indexOf(t[n]);
-1 != s && a.holds.splice(s, 1);
}
this.removeChupai(i[0]);
this.dispatchEvent("chi_notify", {
seatData: a,
chipai: i
});
},
doGang: function(e, i, t, a) {
var n = this._seats[e];
if (11 == a) for (var s = 0; s < n.pengs.length; ++s) if (n.pengs[s][1] == i) {
n.pengs.splice(s, 1);
break;
}
if (9 == a || 12 == a) {
n.angangs.push(t);
n.chipenggang.push([ 2, t ]);
} else if (10 == a || 13 == a) {
n.diangangs.push(t);
n.chipenggang.push([ 3, t ]);
this.removeChupai(t[0]);
} else if (14 == a || 11 == a) {
n.wangangs.push(t);
for (var c = n.chipenggang, o = 0; o < c.length; o++) 1 == c[o][0] && c[o][1][1] == i && (c[o][0] = 4);
}
if (n.holds) {
if (9 == a || 12 == a || 10 == a || 11 == a) for (var h = 1; h <= t.length; ++h) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
if (13 == a) for (h = 1; h <= t.length; ++h) if (t[h] != i) {
-1 != (s = n.holds.indexOf(t[h])) && n.holds.splice(s, 1);
}
}
this.dispatchEvent("gang_notify", {
seatData: n,
gangtype: a,
gangpai: t
});
},
doTing: function(e) {
this.dispatchEvent("bao_ting_push", e);
},
doHu: function(e) {
e.turn = this._turn;
e.foldslength = -1;
if (-1 != e.turn) {
var i = cc.vv.mahjongMgr._seats[e.turn].folds.length;
e.foldslength = i;
}
this.dispatchEvent("hupai", e);
},
doGuoHu: function(e) {
this.dispatchEvent("guohu_game", e);
},
doHujiaozhuanyi: function(e) {
var i = e.seatid;
cc.vv.mahjongMgr._seats[i].holds.pop();
this.dispatchEvent("hujiaozhuanyi_game", e);
},
doBuhua: function(e, i, t) {
var a = this._seats[e];
if (a.holds) {
var n = a.holds.indexOf(i);
-1 != n && a.holds.splice(n, 1);
}
a.huas && a.huas.push(i);
a.piaonum = t;
this.dispatchEvent("buhua_notify", a);
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "mj/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
switchHuMp3: function(e, i) {
switch (i) {
case "平胡":
this.playSFX(e, "hu");
break;

case "自摸":
this.playSFX(e, "zimo");
break;

case "七小对":
case "七对":
this.playSFX(e, "qidui");
break;

case "清一色七小对":
case "清一色七对":
case "豪华七对":
case "豪华七小对":
this.playSFX(e, "haohuaqidui");
break;

case "清一色":
this.playSFX(e, "qinyise");
break;

case "十三幺":
this.playSFX(e, "shisanyao");
break;

case "清一色一条龙":
case "一条龙":
this.playSFX(e, "yitaolong");
break;

default:
this.playSFX(e, "hu");
}
},
reset: function() {
this._turn = -1;
this._last = -1;
this._zhuang = -1;
this._chupai = -1, this._button = -1;
this._magicPai = -1;
this._saizi_1 = -1, this._saizi_2 = -1, this._gamestate = -1;
this._curaction = null;
for (var e = 0; e < this._seats.length; ++e) {
this._seats[e].holds = [];
this._seats[e].folds = [];
this._seats[e].pengs = [];
this._seats[e].chipenggang = [];
this._seats[e].chis = [];
this._seats[e].huas = [];
this._seats[e].piaonum = 0;
this._seats[e].angangs = [];
this._seats[e].diangangs = [];
this._seats[e].wangangs = [];
this._seats[e].dingque = -1;
this._seats[e].ready = !1;
this._seats[e].hued = !1;
this._seats[e].huanpais = null;
this._seats[e].baoting = !0;
}
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
clear: function() {
this.dataEventHandler = null;
null == this.isOver && (this._seats = null);
},
getGangType: function(e, i) {
if (-1 != e.pengs.indexOf(i)) return "wangang";
for (var t = 0, a = 0; a < e.holds.length; ++a) e.holds[a] == i && t++;
return 3 == t ? "diangang" : "angang";
},
getMahjongPai: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 10 : 1 == parseInt(e / 10) ? e += 10 : 2 == parseInt(e / 10) && (e -= 20);
return e;
},
getMahjongPaiReturn: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e += 20 : 1 == parseInt(e / 10) ? e -= 10 : 2 == parseInt(e / 10) && (e -= 10);
return e;
},
getMahjongPaiThree: function(e) {
if (-3 == e || -2 == e || -1 == e) return e;
0 == parseInt(e / 10) ? e -= 1 : 1 == parseInt(e / 10) ? e -= 2 : 2 == parseInt(e / 10) ? e -= 3 : 3 == parseInt(e / 10) && (e -= 4);
return e;
},
getMahjongType: function(e) {
return e >= 0 && e < 9 ? 0 : e >= 9 && e < 18 ? 1 : e >= 18 && e < 27 ? 2 : void 0;
},
getAudioURLByMJID: function(e) {
var i = 0;
e >= 0 && e < 9 ? i = e + 21 : e >= 9 && e < 18 ? i = e - 8 : e >= 18 && e < 27 ? i = e - 7 : e >= 27 && e < 34 && (i = e + 4);
return i;
},
getTargetSide: function(e, i) {
var t = (e.seatIndex + 1) % cc.vv.roomMgr.ren, a = (e.seatIndex + 2) % cc.vv.roomMgr.ren, n = (e.seatIndex + 3) % cc.vv.roomMgr.ren;
return i == t ? 2 : i == a ? 1 : i == n ? 0 : -1;
},
sortMJ: function(e, i, t) {
t <= 0 ? e.sort(function(e, t) {
if (i >= 0) {
if (i == e) return -1;
if (i == t) return 1;
}
return e - t;
}) : e.sort(function(e, a) {
if (i >= 0 || t >= 0) {
if (i == e && t == a || i == a && t == e) return e - a;
if (i == e || t == e) return -1;
if (i == a || t == a) return 1;
}
return e - a;
});
},
getSide: function(e) {
return this._sides[e];
},
getFangxiang: function(e) {
return this._fangxiang[e];
},
getPre: function(e) {
return this._pres[e];
},
getFoldPre: function(e) {
return this._foldPres[e];
},
getSeatidByFangxiang: function(e) {
for (var i = 0, t = 0; t < this._fangxiang.length; t++) {
e == this._fangxiang[t] && (i = t);
}
return i;
},
getViewidBySide: function(e) {
for (var i = this._sides, t = 0; t < i.length; t++) if (i[t] == e) return t;
},
getNumberPai: function(e) {
var i = this._seats[e], t = 0;
null != i.pengs && (t += i.pengs.length);
null != i.angangs && (t += i.angangs.length);
null != i.diangangs && (t += i.diangangs.length);
null != i.wangangs && (t += i.wangangs.length);
null != i.chis && (t += i.chis.length);
return t *= 3;
},
removeChupai: function(e) {
if (i = e) var i = cc.vv.mahjongMgr._turn;
var t = this._seats[i];
t && t.folds && t.folds.pop();
},
getWangIndex: function(e, i) {
for (var t = e.chipenggang, a = 0; a < t.length; a++) if (4 == t[a][0] && t[a][1][1] == i) return a;
},
getBgSpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("Frame_ziji_dachupai_4");
}
},
getSpriteFrameByMJID: function(e, i) {
var t = cc.vv.game.majiangTable.selfhandAtlasThreeD, a = cc.vv.mahjongMgr.getMahjongPai(i);
return t.getSpriteFrame("img_cardvalue" + a);
},
getEmptySpriteFrame: function(e) {
if ("up" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("myself" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("left" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
if ("right" == e) {
return cc.vv.game.majiangTable.selfhandAtlasThreeD.getSpriteFrame("zhengmian");
}
},
arrayReturn: function(e, i) {
for (var t = -1, a = 0; a < e.length; a++) i[1] == e[a][1] && (t = a);
return t;
}
});
cc._RF.pop();
}, {} ],
TDH1600ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "3d207zN3VBEgYU5GGyfiWkd", "TDH1600ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.majiangTable.game_magicshow();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex, cc.vv.mahjongMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
si: e.si,
type: e.type,
pai: e.pai,
actPai: e.act
};
},
takeAction: function() {
var e = this.getNextAction();
null == this._lastAction || 1 != this._lastAction.type && 8 != this._lastAction.type || null != e && 3 != e.type && 4 != e.type && 5 != e.type && 7 != e.type && cc.vv.mahjongMgr.doGuo(this._lastAction.si, this._lastAction.pai);
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.type) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.nnMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return 0;
}
if (1 == e.type) {
3 == e.actPai.length ? cc.vv.mahjongMgr.doChupai(e.si, e.pai, e.actPai[1], e.actPai[2]) : cc.vv.mahjongMgr.doChupai(e.si, e.pai);
return .5;
}
if (2 == e.type) {
3 == e.actPai.length && cc.vv.mahjongMgr.doMjCount(e.actPai[1], e.actPai[2]);
cc.vv.mahjongMgr.doTurnChange(e.si);
cc.vv.mahjongMgr.doMopai(e.si, e.pai);
return .5;
}
if (3 == e.type) {
cc.vv.mahjongMgr.doPeng(e.si, e.actPai);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (9 == e.type || 10 == e.type || 11 == e.type || 12 == e.type || 13 == e.type || 14 == e.type) {
cc.vv.mahjongMgr.dispatchEvent("hangang_notify", e.si);
cc.vv.mahjongMgr.doGang(e.si, e.pai, e.actPai, e.type);
cc.vv.mahjongMgr.doTurnChange(e.si);
return 1;
}
if (5 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !1
});
return 1.5;
}
if (6 == e.type) {
cc.vv.mahjongMgr.doHu({
seatIndex: e.si,
hupai: e.pai,
iszimo: !0
});
return 1.5;
}
if (7 == e.type) {
cc.vv.mahjongMgr.doChi(e.si, e.pai, e.actPai);
return 1;
}
if (8 == e.type) {
cc.vv.mahjongMgr.doBuhua(e.si, e.pai, 0);
return 1;
}
if (15 == e.type) {
cc.vv.mahjongMgr.doTing({
userid: e.pai
});
return 1;
}
if (16 == e.type) {
cc.vv.mahjongMgr.doGuoHu({
seatid: e.si
});
return .5;
}
if (17 == e.type) {
cc.vv.mahjongMgr.doHujiaozhuanyi({
seatid: e.si
});
return .5;
}
}
});
cc._RF.pop();
}, {} ],
TJD1300Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e0e7bQE5uRFYbsV8q3lOo+3", "TJD1300Const");
var a, n, s, c, o;
function h(e, i, t) {
i in e ? Object.defineProperty(e, i, {
value: t,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[i] = t;
return e;
}
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -448,
y: -255,
distance: 119,
distanceH: 36,
xiazhuX: 140,
xiazhuH: -20,
dianshuX: 64,
dianshuH: 280,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -45,
y: -495,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 512,
y: -68,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 30,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: -100
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -314,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 512,
y: 165,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 30,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: 131
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -84,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -556,
y: 165,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 25,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: -556,
y: 131
},
ready: {
x: 94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -430,
y: -84,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
player6: [ {
x: -448,
y: -255,
distance: 119,
distanceH: 36,
xiazhuX: -107,
xiazhuH: -20,
dianshuX: 244,
dianshuH: 190,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -234,
y: -475,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, (a = {
x: -580,
y: -18,
distance: 30
}, h(a, "distance", 47), h(a, "distanceH", 18), h(a, "xiazhuX", 114), h(a, "xiazhuH", 50), 
h(a, "dianshuX", 130), h(a, "dianshuH", 155), h(a, "scale", .8), h(a, "pos", {
xiazhu: {
x: -580,
y: -44
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -445,
y: -285,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}), a), (n = {
x: -580,
y: 200,
distance: 30
}, h(n, "distance", 47), h(n, "distanceH", 18), h(n, "xiazhuX", 114), h(n, "xiazhuH", 50), 
h(n, "dianshuX", 130), h(n, "dianshuH", 154), h(n, "scale", .8), h(n, "pos", {
xiazhu: {
x: -580,
y: 172
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -445,
y: -74,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}), n), (s = {
x: 580,
y: 200,
distance: 30
}, h(s, "distance", 47), h(s, "distanceH", 18), h(s, "xiazhuX", -137), h(s, "xiazhuH", -102), 
h(s, "dianshuX", -90), h(s, "dianshuH", 152), h(s, "scale", .8), h(s, "pos", {
xiazhu: {
x: 580,
y: 172
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -74,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), s), (c = {
x: 580,
y: -18,
distance: 30
}, h(c, "distance", 47), h(c, "distanceH", 18), h(c, "xiazhuX", -137), h(c, "xiazhuH", -94), 
h(c, "dianshuX", -90), h(c, "dianshuH", 155), h(c, "scale", .8), h(c, "pos", {
xiazhu: {
x: 580,
y: -40
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -285,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), c), (o = {
x: 427,
y: -255,
distance: 30
}, h(o, "distance", 47), h(o, "distanceH", 18), h(o, "xiazhuX", -170), h(o, "xiazhuH", 48), 
h(o, "dianshuX", 25), h(o, "dianshuH", 225), h(o, "scale", .8), h(o, "pos", {
xiazhu: {
x: 427,
y: -280
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 304,
y: -525,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), o) ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
xipai_pos: [ {
x: -150,
y: 45,
distance: 47,
scale: 1
}, {
x: -150,
y: 145,
distance: 47,
scale: 1
}, {
x: -150,
y: -155,
distance: 47,
scale: 1
}, {
x: -150,
y: -55,
distance: 47,
scale: 1
} ],
not_xipai_pos: [ {
x: -150,
y: -27,
distance: 47,
scale: 1
}, {
x: -150,
y: -11,
distance: 47,
scale: 1
}, {
x: -150,
y: -83,
distance: 47,
scale: 1
}, {
x: -150,
y: -67,
distance: 47,
scale: 1
} ],
default_bg: "public/table/ysz_bg"
}
});
cc._RF.pop();
}, {} ],
TJD1300Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "11a2dnVX2xFvoMQnpSfGtdG", "TJD1300Game");
cc.Class({
extends: cc.Component,
properties: {
dianshuAtlas: {
default: null,
type: cc.SpriteAtlas
},
xiazhuAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeSeZi: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
bishiAtlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
nodeZhuang: cc.Node,
nodeCard: cc.Node,
nodeSezi: cc.Node,
nodeXiazhu: cc.Node,
nodeLabelscore: cc.Node,
nodeCuopai: cc.Node,
nodeKaipai: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeMsg: cc.Node,
nodeMingpai: cc.Node,
nodeAllPai: cc.Node,
nodeIsQiangZhuang: cc.Node,
spriteFrameQiangzhuang: cc.SpriteFrame,
spriteFrameBuqiangzhuang: cc.SpriteFrame,
sprTip: cc.Sprite,
sprTipe: cc.Sprite,
labelRoomwanfa: cc.Label,
prefabYaosezi: cc.Prefab,
preTJDkaipai: cc.Prefab,
reportItemPrefab: cc.Prefab,
prefabTJDMingPai: cc.Prefab,
PrefabMajiang: cc.Prefab,
PrefabDianshu: cc.Prefab,
tuoguanNode: cc.Node,
btn_tuoguan: cc.Node,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0
},
editor: {
executionOrder: -1
},
onLoad: function() {
var i = e("TJD1300Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "jtd",
hide_nothing_seat: !1,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_4: i.player4,
player_6: i.player6,
xipai_pos: i.xipai_pos,
not_xipai_pos: i.not_xipai_pos,
set_bg: !0,
location: !1,
show_watch_btn: !0,
default_bg: i.default_bg
};
cc.log("TJD1300Game:onLoad");
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.node_watchgame = this.node.getChildByName("watchgame");
this.isPlay = !1;
this.mingpaiValue = 0;
this.dianshu = 0;
this.paiNumber = 2;
this.isAutoYao = !1;
this.nodeLabelscoreArr = this.nodeLabelscore.children;
this.soundSaizi = -1;
this.initEventHandlers();
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.TJDMgr = this.node.getComponent("TJD1300Mgr");
var t = e("TJD1300ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.TJDMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
new_real: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0, t = 0, a = 0; a < e.length; a++) {
0 != e[a].userid && t++;
var n = cc.vv.roomMgr.getSeatIndexByID(e[a].userid);
0 != e[a].sitStatus ? i++ : 0 == n && (this._my_isin_game = !1);
}
return t - i;
},
user_status_change: function(e) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) if (0 != i[t].userid) {
if (1 == e.change_item[t]) {
0 == cc.vv.roomMgr.viewChairID(t) && (this._my_isin_game = !0);
}
i[t].sitStatus = e.change_item[t];
}
},
watch_game_list: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0; i < e.length; i++) if (0 != e[i].userid) {
var t = cc.vv.roomMgr.viewChairID(e[i].seatid), a = cc.vv.utils.getChildByTag(this._winPlayer, t);
0 != e[i].sitStatus ? a.getChildByName("watch_game").active = !0 : a.getChildByName("watch_game").active = !1;
}
if (this.watch_game()) {
this.new_round();
this.node_watchgame.active = !0;
this.nodeJiesuan.active = !1;
}
},
watch_game: function() {
var e = !1, i = cc.vv.roomMgr.table.list;
if (!cc.vv.roomMgr.is_replay) for (var t = cc.vv.roomMgr.guanzhan_table.list, a = 0; a < t.length; a++) 0 != t[a].userid && t[a].userid == cc.vv.userMgr.userid && (e = !0);
for (a = 0; a < i.length; a++) if (0 != i[a].userid && 0 != i[a].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(i[a].seatid) && (e = !0);
}
return e;
},
watch: function(e) {
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (i[t].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("watchgame").active = !0;
var a = this.node.getChildByName("sit");
0 == e.canSit.length ? a.active = !1 : a.active = !0;
}
var n = cc.vv.roomMgr.viewChairID(e.seatid);
cc.vv.utils.getChildByTag(this._winPlayer, n).getChildByName("Recharge").active = !1;
if (e.userid == cc.vv.userMgr.userid) {
this.tip("zhunbei");
this.new_round();
a.active = !0;
}
},
canSit: function(e) {
var i = this.node.getChildByName("sit");
if (0 == e.canSit.length) i.active = !1; else {
cc.vv.popMgr.alert("有空位置了是否坐入", function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
this.node.getChildByName("sit") && (this.node.getChildByName("sit").active = !1);
}, !0);
i.active = !0;
}
},
error: function(e) {
-99 == e.errcode ? cc.vv.popMgr.alert("" + e.errmsg, function() {
cc.director.loadScene("hall");
}) : cc.vv.popMgr.tip("" + e.errmsg);
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd()) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
cc.vv.popMgr.wait("正在恢复桌面", function() {
setTimeout(function() {
cc.vv.net2.quick("stage");
}, 1e3);
});
}
});
this.node.on("error", function(i) {
e.error(i);
}), this.node.on("canSit", function(i) {
e.canSit(i.data);
});
this.node.on("watch", function(i) {
e.watch(i.data);
});
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("user_status_change", function(i) {
e.user_status_change(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(i) {
if (-1 != i.errcode) {
e.btn_tuoguan.active = !1;
e.watch_game_list();
}
}), this.node.on("kaiqiang", function(i) {
e.begin(i.data);
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("buqiangzhuang", function(i) {
e.buqiangzhuang(i.data);
}), this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
}), this.node.on("fapai", function(i) {
e.fapai1Data = i.data;
e.saizi_animation(e.fapai1Data);
}), this.node.on("getEnd", function() {
if (1 == e.isAutoYao || cc.vv.roomMgr.is_replay || e.isTuoguan) e.fapai_1(); else {
e.watch_game() ? e.fapai_1() : cc.vv.roomMgr.seatid != e._zhuang && e.fapai_1();
}
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("xiazhuok", function(i) {
e.Received_xiazhuok = !0;
e.fapaiok && e.xiazhuok(i.data);
}), this.node.on("cuopai", function(i) {
e.cuopai(i.data);
});
this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
this.node.on("showAllXiazhu", function(i) {
e.showAllXiazhu(i.data);
});
this.node.on("tuoguan", function(i) {
e.tuoguan(i.data);
});
this.node.on("cancleTuoguan", function(i) {
e.cancleTuoguan(i.data);
});
this.node.on("beginXiazhu", function(i) {
e.beginXiazhu(i.data);
});
},
beginXiazhu: function(e) {
this.auto_tips(e.time, "下注最小注");
cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu() : this.tip("tjd_xiazhu");
},
tuoguan: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.isTuoguan = !0;
this.tuoguanNode.active = !0;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
cancleTuoguan: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.isTuoguan = !1;
this.tuoguanNode.active = !1;
}
},
initEventSeZi: function() {
var e = this;
this.yao.on("touchstart", function(i) {
1 != e.isAutoYao && cc.vv.roomMgr.seatid == e._zhuang && cc.vv.audioMgr.playSFXRepeat("sezi", function(i) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
e.soundSaizi = i;
});
}, this);
this.yao.on("touchmove", function(e) {
if (0 == this.isPlay) {
this.isPlay = !0;
this.TJDSaiZiAnim.play("yaosezimove");
}
var i = e.touch.getDelta(), t = i.x, a = i.y;
this._nodeyaosezi.setPosition(this._nodeyaosezi.x + t, this._nodeyaosezi.y + a);
}, this);
this.yao.on("touchend", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
this.yao.on("touchcancel", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang", {
power: -1
});
break;

case "btn_qiangzhuang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
var t = parseInt(i);
this.nextxiazhu(t);
break;

case "cuopai":
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
cc.vv.net2.quick("cuoPai");
break;

case "kaipai":
cc.vv.net2.quick("kaipai");
break;

case "btn_tuoguan":
cc.vv.net2.quick("tuoguan");
break;

case "btn_quxiaotuoguan":
cc.vv.net2.quick("cancleTuoguan");
}
cc.vv.audioMgr.click();
},
param: function(e) {
this._desc = e.desc;
this._roomid = e.roomid;
this._zhuang_mode = e.zhuang;
this._zhuang = e.zhuangSeateid;
this._ren = e.ren;
this.isAutoYao = e.auto;
this._dao = e.dao;
if (this.real < 4) {
this._yaruan = -1;
this.__duhong = -1;
} else {
this._yaruan = e.yaruan;
this._duhong = e.duhong;
}
this.num = e.touZi;
this.round = e.round;
},
begin: function(e) {
this.kaiqiang(e);
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
},
kaiqiang: function(e) {
if (e) {
null != e && this.auto_tips(e.time, "不抢庄");
if (this.isStage) {
var i = cc.vv.roomMgr.stage.ifqiang;
if (0 != i && void 0 != i) return;
}
this.nodeZhuang.active = !0;
this.nodeZhuang.children[0].scale = 1;
this.nodeZhuang.children[1].scale = 1;
var t = !1;
if (e.canSitId) for (var a = 0; a < e.canSitId.length; a++) {
0 == cc.vv.roomMgr.viewChairID(e.canSitId[a]) && (t = !0);
}
this.nodeZhuang.getChildByName("btn_qiangzhuang").active = t;
this.watch_game() && (this.nodeZhuang.active = !1);
}
},
qiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.showOrHideQiangzhuang(i, !0);
},
buqiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatId);
this.showOrHideQiangzhuang(i, !1);
},
dingzhuang: function(e) {
var i = this;
this.tip(null);
this.nodeIsQiangZhuang.removeAllChildren();
this._zhuang = e.seatid;
this.nodeZhuang.active = !1;
this.table.dingzhuang(e, function() {
var t = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: t
});
});
},
saizi_animation: function(e) {
var i = this;
this.fapai1Data = e;
this.sprTip.node.active = !1;
cc.vv.roomMgr.is_replay && this.showMingPai(e);
this.num = e.num;
var t = this._nodeyaosezi.getChildByName("sezi1"), a = this._nodeyaosezi.getChildByName("sezi2"), n = "ttz_sezi_" + e.num[0] + "_0", s = "ttz_sezi_" + e.num[1] + "_0";
t.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(n);
a.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(s);
function c() {
if (1 == i.isAutoYao || cc.vv.roomMgr.is_replay) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else {
var e = i.watch_game();
if (cc.vv.roomMgr.seatid != i._zhuang || e) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else i.shaizitip("plasesaizi");
}
i.nodeSezi.active = !0;
}
if (1 == e.xiPai) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeAllPai.removeAllChildren();
this.mingpaiValue = 0;
this.xipaiAnimation(function() {
c();
});
} else c();
},
fapai_1: function() {
var e = this;
cc.vv.audioMgr.stopSFX(this.soundSaizi);
this.soundSaizi = -1;
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this._nodeyaosezi.angle = -0;
this.TJDSaiZiAnim.stop();
this.TJDSaiZiAnim.play("kaisezi");
cc.vv.audioMgr.playSFX("maiding");
this.isPlay = !1;
function i() {
e.yao.active = !1;
e.yao1.active = !1;
var i = e.fapai1Data;
e.dianshu = i.num[0] + i.num[1];
var t = e.dianshu, a = cc.vv.roomMgr.viewChairID(t % cc.vv.roomMgr.ren), n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
e._nodeyaosezi.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, n[a].x, n[a].y + 10), cc.scaleTo(.5, .5, .5)), cc.callFunc(function() {
e.shaizitip(null);
e.fapaiAnimation();
setTimeout(function() {
e._nodeyaosezi.active = !1;
}, 1e3);
})));
}
setTimeout(function() {
i();
}, 1e3);
},
showSaizi: function(e) {
this.dianshu = e.num[0] + e.num[1];
var i = this.dianshu, t = cc.vv.roomMgr.viewChairID(i % cc.vv.roomMgr.ren), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this._nodeyaosezi.x = a[t].x;
this._nodeyaosezi.y = a[t].y + 10;
this._nodeyaosezi.scale = .5;
var n = this._nodeyaosezi.getChildByName("sezi1"), s = this._nodeyaosezi.getChildByName("sezi2"), c = "ttz_sezi_" + e.num[0] + "_0", o = "ttz_sezi_" + e.num[1] + "_0";
n.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(c);
s.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(o);
this.yao.active = !1;
this.yao1.active = !1;
this.nodeSezi.active = !0;
},
show_xiazhu: function() {
if (1 != cc.vv.roomMgr.is_replay && !this.watch_game()) {
var e = null;
-1 == this._currdao ? e = null : 4 == this._currdao ? e = -1 == this._yaruan ? null : "fen_yaruan" : 5 == this._currdao ? e = -1 == this.__duhong ? null : "fen_duhong" : 1 == this._currdao ? e = "text_bet1" : 2 == this._currdao ? e = "text_bet2" : 3 == this._currdao && (e = "text_bet3");
this.xiazhutip(e);
var i = this.nodeXiazhu.children;
1 == this._currdao ? i[0].active = !1 : i[0].active = !0;
if (4 == this._currdao && -1 == this._yaruan || 5 == this._currdao && -1 == this.__duhong || -1 == this._currdao) this.nodeXiazhu.active = !1; else {
this.nodeXiazhu.active = !0;
for (var t = 0; t < this.nodeXiazhu.childrenCount; t++) this.nodeXiazhu.children[t].scale = 1;
}
}
},
xiazhu: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.nodeLabelscoreArr[i].setPosition(t[i].pos.xiazhu.x, t[i].pos.xiazhu.y);
this.nodeLabelscoreArr[i].active = !0;
var a = this.nodeLabelscoreArr[i].getComponent(cc.Label), n = a.node.getChildByName("yd").getComponent(cc.Label);
this.nodeLabelscore.active = !0;
var s = e.nowDao, c = (e.nextDao, e.power);
if (s <= 3 && 0 != s) a.string += 0 != c ? c + " " : "0 "; else if (4 == s) {
n.string = "押软" + c + " ";
this._isfour[i] = 1;
} else 5 == s && (n.string += "独红" + c);
if (0 == i) {
this._currdao = e.nextDao;
this.show_xiazhu();
}
},
xiazhu_stage: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.nodeLabelscoreArr[i].setPosition(t[i].pos.xiazhu.x, t[i].pos.xiazhu.y);
this.nodeLabelscoreArr[i].active = !0;
var a = this.nodeLabelscoreArr[i].getComponent(cc.Label), n = a.node.getChildByName("yd").getComponent(cc.Label);
this.nodeLabelscore.active = !0;
var s = e.nowDao, c = (e.nextDao, e.power);
if (-1 != c && -2 != c) if (s <= 3 && 0 != s) a.string += 0 != c ? c + " " : "0 "; else if (4 == s) {
this._isfour[i] = 1;
n.string = "押软" + c + " ";
} else 5 == s && (n.string += "独红" + c);
},
xiazhuok: function(e) {
this.tip(null);
null != e && this.auto_tips(e.time, "开牌");
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeCuopai.scale = 1;
this.nodeKaipai.scale = 1;
if (this.watch_game()) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
auto_ready: function() {
this.autoready--;
this.nodeJiesuan.getChildByName("btn_ready").getChildByName("lbl").getComponent(cc.Label).string = this.autoready;
if (this.autoready <= 0) {
this.autoready = 0;
this.unschedule(this.auto_ready);
}
},
jiesuan: function(e) {
var i = this;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
this.autoready = 10;
this._zhuang = e.zhuang;
this.schedule(this.auto_ready, 1);
this.tip(null);
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
var t = this;
this._itemkaipai && (this._itemkaipai.active = !1);
for (var a = 0, n = 0; n < e.list.length; n++) 0 != e.list[n].userid && a++;
if (!this.isStage) for (n = 0; n < cc.vv.roomMgr.ren; ++n) 1 != this._kaipai[e.list[n].seatid] && this.kaipai({
seatid: e.list[n].seatid,
userid: e.list[n].userid,
hand: e.list[n].hand,
type: e.list[n].type
});
setTimeout(function() {
i.mingpaiValue = e.mingpai.length;
}, 3e3);
for (n = 0; n < a; ++n) {
var s = cc.vv.roomMgr.viewChairID(n);
0 == e.list[n].userSitStatus && t.table.seat_emit(s, "score", e.list[n].user_score);
e.list[n].round_score > 0 ? t.table.seat_emit(s, "win", e.list[n].round_score) : t.table.seat_emit(s, "lost", e.list[n].round_score);
}
var c = this.nodeJiesuan.getChildByName("viewlist").getChildByName("view").getChildByName("list");
this.nodeJiesuan.getChildByName("roomID").getComponent(cc.Label).string = "房间号：" + cc.vv.roomMgr.enter.room_id;
this.nodeJiesuan.getChildByName("date").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = "第" + e.nowRound + "局 " + cc.vv.roomMgr.enter.desc;
for (n = 0; n < c.children.length; ++n) c.children[n].active = !1;
this.nodeJiesuan.getChildByName("roomID").active = !0;
this.nodeJiesuan.getChildByName("wanfa").active = !0;
this.nodeJiesuan.getChildByName("date").active = !0;
a = e.list.length;
for (n = 0; n < a; ++n) if (0 != e.list[n].userid) {
s = cc.vv.roomMgr.viewChairID(n);
var o = e.list[n].nickname, h = this.table.seat_img(s), r = c.getChildByName("item" + s);
r.x = c.children[n].x;
r.y = c.children[n].y;
r.active = !0;
r.getChildByName("img").getComponent(cc.Sprite).spriteFrame = h;
r.getChildByName("name").getComponent(cc.Label).string = o;
n == this._zhuang ? r.getChildByName("zhuang").active = !0 : r.getChildByName("zhuang").active = !1;
var l = r.getChildByName("score").getComponent(cc.Label), d = r.getChildByName("pai1").getChildByName("New Sprite").getComponent(cc.Sprite), g = r.getChildByName("pai2").getChildByName("New Sprite").getComponent(cc.Sprite);
d.spriteFrame = t.typeAtlas.getSpriteFrame("B" + e.list[n].hand[0]);
g.spriteFrame = t.typeAtlas.getSpriteFrame("B" + e.list[n].hand[1]);
var u = r.getChildByName("score1").getComponent(cc.Label), _ = n;
2 == cc.vv.roomMgr.param.dao ? u.string = "两道(" + e.list[_].dao[0] + " " + e.list[_].dao[1] + ")\n押软" + e.list[_].dao[3] + "  独红" + e.list[_].dao[4] : 3 == cc.vv.roomMgr.param.dao && (u.string = "三道(" + e.list[_].dao[0] + " " + e.list[_].dao[1] + " " + e.list[_].dao[2] + ")\n押软" + e.list[_].dao[3] + "  独红" + e.list[_].dao[4]);
u.node.height >= 72 && (u.fontSize = 22);
var v = r.getChildByName("dianshu").getComponent(cc.Sprite);
if (0 == e.list[_].type) v.spriteFrame = t.bishiAtlas.getSpriteFrame("tjd_bi10"); else if (e.list[_].hand[0] == e.list[_].hand[1]) v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dui" + e.list[n].hand[1]); else {
var p = (e.list[_].hand[0] + e.list[_].hand[1]) % 10;
v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dian" + p);
}
var m = t.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), f = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text").getComponent(cc.Sprite), y = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text").getComponent(cc.Sprite);
if (e.list[_].round_score > 0) {
l.string = "+" + cc.vv.utils.numInt(e.list[_].round_score);
if (cc.vv.userMgr.userid == e.list[_].userid) {
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shengli");
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
} else if (e.list[_].round_score < 0) {
l.string = cc.vv.utils.numInt(e.list[_].round_score);
if (cc.vv.userMgr.userid == e.list[_].userid) {
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shibai");
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("hui_wanjia");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
} else {
l.string = cc.vv.utils.numInt(e.list[_].round_score);
if (cc.vv.userMgr.userid == e.list[_].userid) {
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shengli");
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
}
if (1 == e.list[n].userSitStatus) {
r.getChildByName("watch").active = !0;
l.string = "-";
u.string = "-";
} else r.getChildByName("watch").active = !1;
if (1 == this.watch_game()) {
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("guanzhan");
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
}
cc.vv.audioMgr.playSFX("nn/chips");
for (n = 0; n < a; n++) {
0 == (s = cc.vv.roomMgr.viewChairID(e.list[n].seatid)) && (e.list[n].round_score < 0 ? setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3) : setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3));
}
function C() {
t.nodeJiesuan.active = !0;
t.nodeJiesuan.getChildByName("btn_ready").scale = 1;
cc.vv.utils.popPanel(t.nodeJiesuan);
}
var b = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
setTimeout(function() {
C();
}, 2e3);
for (n = 0; n < a; n++) {
var w = cc.callFunc(function() {});
if (e.list[n].seatid != this._zhuang) if (e.list[n].round_score < 0) {
var x = cc.vv.roomMgr.viewChairID(e.list[n].seatid);
if (!b[z = cc.vv.roomMgr.viewChairID(this._zhuang)]) continue;
this.playBetByXY(this._winPlayer, b[x].x, b[x].y, b[z].x, b[z].y, 10, w);
} else if (e.list[n].round_score > 0) {
x = cc.vv.roomMgr.viewChairID(this._zhuang);
var z = cc.vv.roomMgr.viewChairID(e.list[n].seatid);
if (!b[x]) continue;
this.playBetByXY(this._winPlayer, b[x].x, b[x].y, b[z].x, b[z].y, 10, w);
}
}
setTimeout(function() {
t.nodeJiesuan.active = !0;
cc.vv.roomMgr.is_replay || i.mingpai(e);
}, 2500);
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
auto_tips: function(e, i) {
var t = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (e <= 0 || null == e) t.active = !1; else {
this.text = i;
this.auto_time = e;
this.unschedule(this.upd_auto_time);
this.schedule(this.upd_auto_time, 1);
t.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !0;
}
},
upd_auto_time: function() {
var e = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (this.auto_time <= 0) {
this.unschedule(this.upd_auto_time);
e.active = !1;
}
this.auto_time--;
e.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
},
report: function(e) {
this.node.getChildByName("pop").removeAllChildren();
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.nodeReport.getChildByName("otherScore").getComponent(cc.Label).string = "其他:" + e.otherScore;
this.table.hide_dismiss_room();
var i = this.nodeReport.getChildByName("list1");
i.removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.enter.room_id;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomwanfa").getComponent(cc.Label).string = "玩法:" + cc.vv.roomMgr.enter.desc;
for (var t = 0, a = 0; a < e.list.length; ++a) if (e.list[a].result_score < t) {
t = e.list[a].result_score;
a;
}
var n = 0;
for (a = 0; a < e.list.length; ++a) e.list[a].userid > 0 && n++;
n = cc.vv.roomMgr.ren;
for (a = 0; a < n; ++a) if (0 != e.list[a].userid && 1 == e.list[a].hasJoinedBattle) {
var s = cc.vv.roomMgr.viewChairID(a), c = {
name: e.list[a].name,
userid: e.list[a].userid,
headimg: e.list[a].headimg,
winNum: e.list[a].winNum,
Kill: e.list[a].Kill,
die: e.list[a].die,
EightAndNine: e.list[a].EightAndNine,
score: e.list[a].result_score,
dayingjia: e.list[a].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[a].result_score == t && 0 != e.list[a].result_score
}, o = cc.instantiate(this.reportItemPrefab);
i.addChild(o);
o.emit("info", c);
0 == s && (this.nodeReport.getChildByName("score").getComponentInChildren(cc.Label).string = "+" + e.list[a].coins);
}
},
stage: function(e) {
this.node.getChildByName("pop").removeAllChildren();
if (null != e.ready) {
if (null != e.xiazhu) for (var i = 0; i < e.xiazhu.length; i++) {
0 == cc.vv.roomMgr.viewChairID(i) && (0 == e.xiazhu[i] ? this.Received_xiazhuok = !0 : -2 == e.xiazhu[i] && (this.Received_xiazhuok = !1));
}
this.new_round();
this.watch_game_list();
this.nodeAllPai && this.nodeAllPai.removeAllChildren();
cc.vv.roomMgr.stage = e;
this.isStage = !0;
cc.vv.roomMgr.real = e.real;
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
null == e.round && (cc.vv.roomMgr.now = e.now);
this.node.getChildByName("mgr").getChildByName("hud").emit("round");
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
e.mingpai && this.showMingPai(e);
if (e.tuoguan) if (1 == e.tuoguan[cc.vv.roomMgr.seatid]) {
this.isTuoguan = !0;
this.tuoguanNode.active = !0;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
} else if (0 == e.tuoguan[cc.vv.roomMgr.seatid]) {
this.isTuoguan = !1;
this.tuoguanNode.active = !1;
}
switch (e.stage) {
case 1:
case 2:
this.auto_tips(e.deal_time, "不抢庄");
this.kaiqiang();
for (i = 0; i < cc.vv.roomMgr.real; ++i) {
var t = cc.vv.roomMgr.viewChairID(i);
0 != e.qiangZhuang[i] && this.showOrHideQiangzhuang(t, 1 == e.qiangZhuang[i]);
}
break;

case 6:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.yaoShaiziZhuang = !0;
this.saizi_animation(e);
break;

case 3:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
break;

case 4:
this.auto_tips(e.deal_time, "下注最小注");
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
for (var a = e.xiazhu, n = 0; n < cc.vv.roomMgr.ren; n++) {
var s = a[n];
if (n != this._zhuang) {
this._currdao = e.nextDao;
for (var c = 0; c < s.length; c++) this.xiazhu_stage({
seatid: n,
nowDao: c + 1,
nextDao: c + 2,
power: s[c]
});
}
n == cc.vv.roomMgr.seatid && (e.zhuang != cc.vv.roomMgr.seatid && 0 != this.isXiaZhu(s) ? this.show_xiazhu() : this.tip("tjd_xiazhu"));
}
break;

case 5:
this.auto_tips(e.deal_time, "开牌");
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
this.showAllXiazhu(e);
this.kaipaiAll(e);
this.fapaiok && this.xiazhuok();
this.nodeCuopai.active = !1;
for (i = 0; i < e.kaipai.length; i++) if (1 == e.kaipai[i]) {
0 == (t = cc.vv.roomMgr.viewChairID(i)) && (this.nodeKaipai.active = !1);
}
break;

case 97:
1 == e.ready && (this.node.getChildByName("watchgame").active = !1);
null != e.zhuang && (this._zhuang = e.zhuang);
t = cc.vv.roomMgr.viewChairID(this._zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
}
this.isStage = !1;
}
},
cuopai: function(e) {
this._itemkaipai.active = !0;
this._itemkaipai.emit("cuopai", e);
},
kaipaiAll: function(e) {
this._kaipai = e.kaipai;
for (var i = 0; i < this._kaipai.length; i++) if (1 == this._kaipai[i]) {
this._kaipai[i] = 0;
var t = {
seatid: i,
type: e.type[i],
hand: e.hand[i]
};
this.kaipai(t);
}
},
kaipai: function(e) {
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tjd_kaipai");
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.fanpaiAnimation(i, e, e.seatid);
}
},
new_round: function() {
this.tip(null);
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeSezi.active = !1;
this.Received_xiazhuok = !1;
this.nodeCard.removeAllChildren();
this.nodeSezi.removeAllChildren();
this.nodeIsQiangZhuang.removeAllChildren();
this.fapaiok = !1;
this._nodeyaosezi = cc.instantiate(this.prefabYaosezi);
this.nodeSezi.addChild(this._nodeyaosezi);
this.TJDSaiZiAnim = this._nodeyaosezi.getComponent(cc.Animation);
this.yao = this._nodeyaosezi.getChildByName("yao");
this.yao1 = this._nodeyaosezi.getChildByName("yao1");
this.initEventSeZi();
null != this._itemkaipai && this._itemkaipai.destroy();
this._itemkaipai = cc.instantiate(this.preTJDkaipai);
this.nodeMsg.addChild(this._itemkaipai);
this._itemkaipai.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
this.node_watchgame.active = !1;
for (var e = 0; e < 6; e++) {
this.nodeLabelscoreArr[e].active = !1;
this.nodeLabelscoreArr[e].getComponent(cc.Label).string = "";
this.nodeLabelscoreArr[e].getComponentInChildren(cc.Label).string = "";
}
1 != this._zhuang_mode && this.table.seat_emit(null, "dingzhuang", {
seatid: null
});
this.hidePai();
cc.vv.roomMgr.is_replay && (this.nodeMingpai.getChildByName("list1").active = !1);
this._currdao = 1;
this._kaipai = [ 0, 0, 0, 0, 0 ];
this._isfour = [ 0, 0, 0, 0, 0 ];
this.hangNumber = [ 2, 3, 0, 1 ];
this.lieNumber = [ 8, 7, 6, 5, 4, 3, 2, 1, 0 ];
if (4 == cc.vv.roomMgr.ren) {
this.nodeCuopai.y = -250;
this.nodeKaipai.y = -250;
} else if (6 == cc.vv.roomMgr.ren) {
this.nodeCuopai.y = -320;
this.nodeKaipai.y = -320;
}
cc.vv.audioMgr.stopSFX(this.soundSaizi);
},
nextxiazhu: function(e) {
4 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: 4,
power: e
}) : 5 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: 5,
power: e
}) : 1 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
}) : 2 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
}) : 3 == this._currdao && cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
});
},
tip: function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.dianshuAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
mingpai: function(e) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeMingpai.getChildByName("list1").children;
for (var i = 0; i < e.mingpai.length; i++) {
var t = cc.instantiate(this.prefabTJDMingPai);
t.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("B" + e.mingpai[i]);
this.nodeMingpai.getChildByName("list1").addChild(t);
}
},
xiazhutip: function(e) {
if (null != e) {
var i = e;
this.sprTipe.spriteFrame = this.xiazhuAtlas.getSpriteFrame(i);
this.sprTipe.node.active = !0;
} else this.sprTipe.node.active = !1;
},
shaizitip: function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
isXiaZhu: function(e) {
for (var i = 0, t = 0; t < e.length; t++) -2 == e[t] && i++;
return i;
},
dealXipai: function(e, i, t, a) {
for (var n = 0; n < 4; n++) for (var s = i; s < t; s++) {
var c = cc.instantiate(this.PrefabMajiang), o = c.getComponent("TJDMajiang"), h = e[n].x + s * e[n].distance, r = e[n].y;
o.node.setPosition(h, r);
o.node.scale = e[n].scale;
this.nodeAllPai.addChild(c);
c.myTag = n + "_" + s;
3 == n && s == t - 1 && null != a && a();
}
},
xipaiAnimation: function(e) {
var i = this, t = cc.vv.game.config.xipai_pos;
this.dealXipai(t, 0, 9, function() {
var t = {
indexY: 4,
indexX: 9,
callback: e
};
i.nodeAllPai.emit("xipai", t);
});
},
showAllPaiAnimation: function() {
var e = cc.vv.game.config.not_xipai_pos;
this.dealXipai(e, 0, 9, function() {});
},
play_tjd_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "tjd/" + t + "/type_" + i;
cc.vv.audioMgr.playSFX(a);
},
fapaiAnimation: function() {
for (var e = this.mingpaiValue, i = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = cc.vv.roomMgr.viewChairID((t + this.dianshu) % cc.vv.roomMgr.ren), n = 2 * parseInt((e / 2 + t) / 9), s = (e / 2 + t) % 9, c = n + 1, o = s, h = {
viewid: a,
index: 0
};
this.send_card_emit(this.hangNumber[n], this.lieNumber[s], "setTag", h);
var r = {
viewid: a,
index: 1
};
this.send_card_emit(this.hangNumber[c], this.lieNumber[o], "setTag", r);
for (var l = 0; l < this.paiNumber; l++) {
var d = null;
1 == l && (d = function() {
cc.vv.audioMgr.playSFX("tjd/ttz_card_send");
});
var g = {
viewid: a,
index: l,
x: i[a].pos.card.x,
y: i[a].pos.card.y + i[a].distanceH * l,
scale: i[a].pos.card.scale,
delayTime: (100 + 200 * t) / 1e3,
callback: d
};
this.send_card_tag_emit(g.viewid, g.index, "fapai", g);
if (0 == a) {
this.fapaiok = !0;
if (this.Received_xiazhuok) this.xiazhuok(); else {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
}
}
var u = {
viewid: a,
index: 1,
distance: i[a].distance,
distanceH: i[a].distanceH,
delayTime: (400 + 200 * t) / 1e3
};
this.send_card_tag_emit(u.viewid, u.index, "fapaianimation", u);
}
},
showAllPai: function() {
var e = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], i = this.mingpaiValue;
this.fapaiok = !0;
for (var t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = cc.vv.roomMgr.viewChairID((t + this.dianshu) % cc.vv.roomMgr.ren), n = 2 * parseInt((i / 2 + t) / 9), s = (i / 2 + t) % 9, c = n + 1, o = s, h = {
viewid: a,
index: 0
};
this.send_card_emit(this.hangNumber[n], this.lieNumber[s], "setTag", h);
var r = {
viewid: a,
index: 1
};
this.send_card_emit(this.hangNumber[c], this.lieNumber[o], "setTag", r);
for (var l = 0; l < this.paiNumber; l++) {
var d = {
viewid: a,
index: l,
x: e[a].pos.card.x + e[a].distance * l,
y: e[a].pos.card.y,
scale: e[a].pos.card.scale
};
this.send_card_tag_emit(d.viewid, d.index, "showPai", d);
}
}
},
fanpaiAnimation: function(e, i, t) {
var a = this, n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], s = function(e, t, s) {
if (t == a.paiNumber - 1) {
var c = 0;
if (0 == i.type) {
(o = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.bishiAtlas.getSpriteFrame("tjd_bi10");
o.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(o);
c = 0;
} else if (i.hand[0] == i.hand[1]) {
(o = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_dui" + i.hand[1]);
o.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(o);
c = i.hand[0] + 10;
} else {
var o, h = (i.hand[0] + i.hand[1]) % 10;
(o = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_dian" + h);
o.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(o);
c = h;
}
0 != cc.vv.roomMgr.table.list[s].userid && a.play_tjd_mp3(e, c);
}
};
0 != cc.vv.roomMgr.table.list[t].userid && cc.vv.audioMgr.playSFX("tjd/shuffle");
function c() {
for (var n = 0; n < a.paiNumber; n++) {
var c = {
seatid: t,
viewid: e,
index: n,
spriteFrame: a.typeAtlas,
value: i.hand[n],
callback: s
};
a.send_card_tag_emit(e, n, "trun", c);
}
}
setTimeout(function() {
c();
}, 300);
},
showfanpai: function(e, i) {
for (var t = this, a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = function(e, n) {
if (n == t.paiNumber - 1) if (i[0] + i[1] == 10) {
(s = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.bishiAtlas.getSpriteFrame("tjd_bi10");
s.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(s);
t.play_tjd_mp3(e, 0);
} else if (i[0] == i[1]) {
(s = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dui" + i[1]);
s.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(s);
t.play_tjd_mp3(e, i[0] + 10);
} else {
var s, c = (i[0] + i[1]) % 10;
(s = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dian" + c);
s.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(s);
t.play_tjd_mp3(e, c);
}
}, s = 0; s < this.paiNumber; s++) {
var c = {
viewid: e,
index: s,
spriteFrame: this.typeAtlas,
value: i[s],
callback: n
};
t.send_card_tag_emit(e, s, "show", c);
}
},
hidePai: function() {
for (var e = 0; e < cc.vv.roomMgr.ren; e++) {
var i = cc.vv.roomMgr.viewChairID(e);
this.send_card_tag_emit(i, 0, "hide");
this.send_card_tag_emit(i, 1, "hide");
}
},
showMingPai: function(e) {
this.mingpaiValue = e.mingpai.length;
this.showAllPaiAnimation();
this.nodeAllPai.children.length;
for (var i = e.mingpai.length, t = 0; t < i / 2; t++) {
var a = 2 * parseInt(t / 9), n = t % 9, s = a + 1, c = n, o = this.hangNumber[a] + "_" + this.lieNumber[n];
cc.vv.utils.getChildByTag(this.nodeAllPai, o).destroy();
var h = this.hangNumber[s] + "_" + this.lieNumber[c];
cc.vv.utils.getChildByTag(this.nodeAllPai, h).destroy();
}
this.nodeMingpai.getChildByName("list1").removeAllChildren();
for (t = 0; t < e.mingpai.length; t++) {
var r = cc.instantiate(this.prefabTJDMingPai);
r.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("B" + e.mingpai[t]);
this.nodeMingpai.getChildByName("list1").addChild(r);
}
},
showAllXiazhu: function(e) {
for (var i = e.xiazhu, t = 0; t < cc.vv.roomMgr.real; t++) {
var a = i[t];
if (t != this._zhuang) {
this._currdao = e.nextDao;
for (var n = 0; n < a.length; n++) this.xiazhu_stage({
seatid: t,
nowDao: n + 1,
nextDao: n + 2,
power: a[n]
});
}
}
},
showOrHideQiangzhuang: function(e, i) {
var t = new cc.Node("isQiangzhuang"), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = t.addComponent(cc.Sprite);
n.spriteFrame = 1 == i ? this.spriteFrameQiangzhuang : this.spriteFrameBuqiangzhuang;
this.nodeIsQiangZhuang.addChild(t);
t.x = a[e].x + a[e].pos.ready.x;
t.y = a[e].y;
t.active = !0;
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
},
send_card_tag_emit: function(e, i, t, a) {
var n = e + "_tag_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
},
onDestroy: function() {
cc.loader.setAutoRelease(this, !0);
cc.vv.audioMgr.stopSFX(this.soundSaizi);
},
testData: function(e, i) {
this.node.emit(e, i);
},
onButtonQieGuo: function() {
cc.vv.roomMgr.real = 5;
this.testData("cuopai", {
errcode: 0,
data: {
seatid: 1,
type: 90,
userid: 3099,
hand: [ 6, 3 ]
},
errmsg: "ok",
model: "game",
event: "cuopai"
});
}
});
cc._RF.pop();
}, {
TJD1300Const: "TJD1300Const",
TJD1300ReplayMgr: "TJD1300ReplayMgr"
} ],
TJD1300KiaPai: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "9f4daWCFRtPrZ0x7E3UXyR4", "TJD1300KiaPai");
cc.Class({
extends: cc.Component,
properties: {
pai1: cc.Node,
pai2: cc.Node,
type: cc.Sprite,
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
dianshuAtlas: {
default: null,
type: cc.SpriteAtlas
},
bishiAtlas: {
default: null,
type: cc.SpriteAtlas
},
title1: cc.SpriteFrame,
_dianshu: 0,
_falg: 0
},
onLoad: function() {
this.initEventHandlers();
},
start: function() {},
initEventHandlers: function() {
var e = this;
this.pai2.on(cc.Node.EventType.TOUCH_START, function(i) {
0 == e._falg && (e._falg = 1);
});
this.pai2.on(cc.Node.EventType.TOUCH_MOVE, function(i) {
var t = i.touch.getDelta();
e.pai2.x += t.x;
e.pai2.y += t.y;
});
this.pai2.on(cc.Node.EventType.TOUCH_CANCEL, function(i) {
e.pai2.opacity = 255;
});
function i() {
e.pai1.on(cc.Node.EventType.TOUCH_MOVE, function(i) {
var t = i.touch.getDelta();
e.pai1.x += t.x;
e.pai1.y += t.y;
});
e.pai1.on(cc.Node.EventType.TOUCH_CANCEL, function(i) {
e.pai1.opacity = 255;
});
e.pai1.on(cc.Node.EventType.TOUCH_END, function(i) {
e.pai1.opacity = 255;
e.pai1.setPosition(0, 0);
e.pai1.zIndex = 0;
e.pai1.setPosition(50, 0);
e.pai2.setPosition(-50, 0);
e.pai1.getChildByName("pai").active = !0;
e.showType();
e.pai1.off(cc.Node.EventType.TOUCH_START);
e.pai1.off(cc.Node.EventType.TOUCH_MOVE);
e.pai1.off(cc.Node.EventType.TOUCH_CANCEL);
e.pai1.off(cc.Node.EventType.TOUCH_END);
});
}
this.pai2.on(cc.Node.EventType.TOUCH_END, function(t) {
e.pai2.opacity = 255;
e.pai1.setPosition(0, 0);
e.pai1.zIndex = 1;
var a = cc.callFunc(function() {
e.pai2.getChildByName("pai").active = !0;
e.pai2.getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("title1");
});
e.pai2.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, 27.4)), a));
e.pai2.off(cc.Node.EventType.TOUCH_START);
e.pai2.off(cc.Node.EventType.TOUCH_MOVE);
e.pai2.off(cc.Node.EventType.TOUCH_CANCEL);
e.pai2.off(cc.Node.EventType.TOUCH_END);
i();
});
this.node.on("cuopai", function(i) {
e.type.node.active = !1;
e.pai2.getChildByName("pai").active = !1;
e.pai2.getChildByName("pai").getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("B" + i.hand[0]);
e.pai1.getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("title1");
e.pai1.getChildByName("pai").active = !0;
e.pai1.getChildByName("pai").getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("B" + i.hand[1]);
e._data = i;
});
},
showType: function() {
this.type.node.active = !0;
if (0 == this._data.type) this.type.spriteFrame = this.bishiAtlas.getSpriteFrame("tjd_bi10"); else if (this._data.hand[0] == this._data.hand[1]) this.type.spriteFrame = this.dianshuAtlas.getSpriteFrame("tjd_dui" + this._data.hand[1]); else {
var e = (this._data.hand[0] + this._data.hand[1]) % 10;
this.type.spriteFrame = this.dianshuAtlas.getSpriteFrame("tjd_dian" + e);
}
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_kaipai":
cc.vv.net2.quick("kaipai");
this.node.destroy();
}
}
});
cc._RF.pop();
}, {} ],
TJD1300Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "06718sBcJ5PZKZyedPrBFiN", "TJD1300Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
prepareReplay: function() {
this.dispatchEvent("parma", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doQiang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doDingZhuang: function(e) {
this.dispatchEvent("fapai", {
data: {
num: [ e.touzi[0], e.touzi[1] ],
xiPai: 0,
mingpai: e.mingpai
}
});
},
doGetEnd: function(e) {
this.dispatchEvent("getEnd");
},
doXiaZhu: function(e) {
e.length;
this.dispatchEvent("showAllXiazhu", {
data: {
xiazhu: e,
nextDao: 1
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
cc.vv.roomMgr.viewChairID(t);
this.dispatchEvent("kaipai", {
data: {
seatid: t,
hand: e[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
TJD1300ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "3f137gHBxxCQY4Q0hMBbFtc", "TJD1300ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.TJDMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.action) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.TJDMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return .5;
}
if ("dingZhuang" == e.action) {
cc.vv.TJDMgr.doQiang(e.data);
return 2;
}
if ("touZi" == e.action) {
cc.vv.TJDMgr.doDingZhuang(e.data);
return 1;
}
if ("getEnd" == e.action) {
cc.vv.TJDMgr.doGetEnd(e.data);
return 3;
}
if ("xiaZhu" == e.action) {
cc.vv.TJDMgr.doXiaZhu(e.data);
return 1;
}
if ("hand" == e.action) {
cc.vv.TJDMgr.doKaipai(e.data);
return 1;
}
}
});
cc._RF.pop();
}, {} ],
TJD1301Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "081d8q5qWdIub/Rxu3m65Z/", "TJD1301Const");
var a, n, s, c, o;
function h(e, i, t) {
i in e ? Object.defineProperty(e, i, {
value: t,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[i] = t;
return e;
}
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -448,
y: -255,
distance: 119,
distanceH: 36,
xiazhuX: 140,
xiazhuH: -20,
dianshuX: 64,
dianshuH: 280,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -45,
y: -495,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 512,
y: -68,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 30,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: -100
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -314,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 512,
y: 165,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 30,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: 131
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -84,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -556,
y: 165,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 25,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: -556,
y: 131
},
ready: {
x: 94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -430,
y: -84,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
player6: [ {
x: -448,
y: -255,
distance: 119,
distanceH: 36,
xiazhuX: -107,
xiazhuH: -20,
dianshuX: 244,
dianshuH: 190,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -234,
y: -475,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, (a = {
x: -580,
y: -18,
distance: 30
}, h(a, "distance", 47), h(a, "distanceH", 18), h(a, "xiazhuX", 114), h(a, "xiazhuH", 50), 
h(a, "dianshuX", 130), h(a, "dianshuH", 155), h(a, "scale", .8), h(a, "pos", {
xiazhu: {
x: -580,
y: -44
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -445,
y: -285,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}), a), (n = {
x: -580,
y: 200,
distance: 30
}, h(n, "distance", 47), h(n, "distanceH", 18), h(n, "xiazhuX", 114), h(n, "xiazhuH", 50), 
h(n, "dianshuX", 130), h(n, "dianshuH", 154), h(n, "scale", .8), h(n, "pos", {
xiazhu: {
x: -580,
y: 172
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -445,
y: -74,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}), n), (s = {
x: 580,
y: 200,
distance: 30
}, h(s, "distance", 47), h(s, "distanceH", 18), h(s, "xiazhuX", -137), h(s, "xiazhuH", -102), 
h(s, "dianshuX", -90), h(s, "dianshuH", 152), h(s, "scale", .8), h(s, "pos", {
xiazhu: {
x: 580,
y: 172
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -74,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), s), (c = {
x: 580,
y: -18,
distance: 30
}, h(c, "distance", 47), h(c, "distanceH", 18), h(c, "xiazhuX", -137), h(c, "xiazhuH", -94), 
h(c, "dianshuX", -90), h(c, "dianshuH", 155), h(c, "scale", .8), h(c, "pos", {
xiazhu: {
x: 580,
y: -40
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -285,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), c), (o = {
x: 427,
y: -255,
distance: 30
}, h(o, "distance", 47), h(o, "distanceH", 18), h(o, "xiazhuX", -170), h(o, "xiazhuH", 48), 
h(o, "dianshuX", 25), h(o, "dianshuH", 225), h(o, "scale", .8), h(o, "pos", {
xiazhu: {
x: 427,
y: -280
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 304,
y: -525,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), o) ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
xipai_pos: [ {
x: -150,
y: 45,
distance: 47,
scale: 1
}, {
x: -150,
y: 145,
distance: 47,
scale: 1
}, {
x: -150,
y: -155,
distance: 47,
scale: 1
}, {
x: -150,
y: -55,
distance: 47,
scale: 1
} ],
not_xipai_pos: [ {
x: -150,
y: -27,
distance: 47,
scale: 1
}, {
x: -150,
y: -11,
distance: 47,
scale: 1
}, {
x: -150,
y: -83,
distance: 47,
scale: 1
}, {
x: -150,
y: -67,
distance: 47,
scale: 1
} ],
default_bg: "public/table/ysz_bg"
}
});
cc._RF.pop();
}, {} ],
TJD1301Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "87c0dYv8u9FGIqVNFrFbC+Q", "TJD1301Game");
cc.Class({
extends: cc.Component,
properties: {
dianshuAtlas: {
default: null,
type: cc.SpriteAtlas
},
xiazhuAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeSeZi: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
bishiAtlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
nodeZhuang: cc.Node,
nodeCard: cc.Node,
nodeSezi: cc.Node,
nodeXiazhu: cc.Node,
nodeLabelscore: cc.Node,
nodeCuopai: cc.Node,
nodeKaipai: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeMsg: cc.Node,
nodeMingpai: cc.Node,
nodeAllPai: cc.Node,
nodeIsQiangZhuang: cc.Node,
spriteFrameQiangzhuang: cc.SpriteFrame,
spriteFrameBuqiangzhuang: cc.SpriteFrame,
sprTip: cc.Sprite,
sprTipe: cc.Sprite,
labelRoomwanfa: cc.Label,
labelMax: cc.Label,
labelSmall: cc.Label,
labelFen: cc.Label,
labelGuofen: cc.Label,
nodeQie: cc.Node,
nodeGuo: cc.Node,
xiazhuSlider: cc.Slider,
prefabYaosezi: cc.Prefab,
preTJDkaipai: cc.Prefab,
reportItemPrefab: cc.Prefab,
prefabTJDMingPai: cc.Prefab,
PrefabMajiang: cc.Prefab,
PrefabDianshu: cc.Prefab,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0
},
editor: {
executionOrder: -1
},
onLoad: function() {
var i = e("TJD1301Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "jtd",
hide_nothing_seat: !1,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_4: i.player4,
player_6: i.player6,
xipai_pos: i.xipai_pos,
not_xipai_pos: i.not_xipai_pos,
set_bg: !0,
location: !1,
show_watch_btn: !1,
default_bg: i.default_bg
};
cc.log("TJD1300Game:onLoad");
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.isPlay = !1;
this.mingpaiValue = 0;
this.dianshu = 0;
this.paiNumber = 2;
this.isAutoYao = !1;
this.nodeLabelscoreArr = this.nodeLabelscore.children;
this.soundSaizi = -1;
this.initEventHandlers();
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.TJDMgr = this.node.getComponent("TJD1301Mgr");
var t = e("TJD1301ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.TJDMgr.prepareReplay();
var a = i.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd() && 1 == cc.vv.roomMgr.started) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
cc.vv.popMgr.wait("正在恢复桌面", function() {
setTimeout(function() {
cc.vv.net2.quick("stage");
}, 1e3);
});
}
});
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("init_data", function(i) {
e.init_data(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(e) {}), this.node.on("kaiqiang", function(i) {
e.begin(i.data);
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("buqiangzhuang", function(i) {
e.buqiangzhuang(i.data);
}), this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
}), this.node.on("fapai", function(i) {
e.fapai1Data = i.data;
e.saizi_animation(e.fapai1Data);
}), this.node.on("getEnd", function() {
1 == e.isAutoYao || cc.vv.roomMgr.is_replay ? e.fapai_1() : cc.vv.roomMgr.seatid != e._zhuang && e.fapai_1();
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("xiazhuok", function() {
e.Received_xiazhuok = !0;
e.fapaiok && e.xiazhuok();
}), this.node.on("cuopai", function(i) {
e.cuopai(i.data);
});
this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
cc.vv.roomMgr.jiesuan = i.data;
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
this.node.on("showAllXiazhu", function(i) {
e.showAllXiazhu(i.data);
});
this.node.on("beginXiazhu", function(i) {
e.beginXiazhu(i.data);
});
this.node.on("waitXiazhu", function(i) {
e.tip("tjd_xiazhu");
});
},
beginXiazhu: function(e) {
cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu() : this.tip("tjd_xiazhu");
this.labelSmall.string = e.minXiazhu;
this.labelMax.string = e.maxXiazhu;
this.labelFen.string = e.minXiazhu;
},
initEventSeZi: function() {
var e = this;
this.yao.on("touchstart", function(i) {
1 != e.isAutoYao && cc.vv.roomMgr.seatid == e._zhuang && cc.vv.audioMgr.playSFXRepeat("sezi", function(i) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
e.soundSaizi = i;
});
}, this);
this.yao.on("touchmove", function(e) {
if (0 == this.isPlay) {
this.isPlay = !0;
this.TJDSaiZiAnim.play("yaosezimove");
}
var i = e.touch.getDelta(), t = i.x, a = i.y;
this._nodeyaosezi.setPosition(this._nodeyaosezi.x + t, this._nodeyaosezi.y + a);
}, this);
this.yao.on("touchend", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
this.yao.on("touchcancel", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang", {
power: -1
});
break;

case "btn_qiangzhuang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
i = this.labelFen.string;
var t = parseInt(i);
t = parseInt(i);
this.nextxiazhu(t);
break;

case "cuopai":
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
cc.vv.net2.quick("cuoPai");
break;

case "kaipai":
cc.vv.audioMgr.playSFX("tjd/shuffle");
cc.vv.net2.quick("kaipai");
break;

case "btn_qie":
cc.vv.net2.quick("qieguo");
break;

case "btn_ready":
if (1 == cc.vv.roomMgr.jiesuan.isEnd) cc.vv.net2.quick("report"); else if (0 != this.isQieGuo && cc.vv.roomMgr.seatid == this._zhuang) {
this.nodeJiesuan.active = !1;
this.nodeQie.active = !0;
this.nodeQie.children[0].scale = 1;
this.nodeQie.children[1].scale = 1;
} else this.table.node.emit("jgnnready");
}
cc.vv.audioMgr.click();
},
onChangeClick: function(e) {
var i = parseInt(this.labelSmall.string), t = parseInt(this.labelMax.string), a = t - i, n = 10 * Math.floor((e.progress * a + i) / 10);
t <= 10 && (n = Math.floor(e.progress * a + i));
10 == t && 0 == i && (n = e.progress > 0 ? t : i);
this.labelFen.string = n;
},
param: function(e) {
this._desc = e.desc;
this._roomid = e.roomid;
this._zhuang_mode = e.zhuang;
this._zhuang = e.zhuangSeateid;
this._ren = e.ren;
this.isAutoYao = e.auto;
this._dao = e.dao;
if (this.real < 4) {
this._yaruan = -1;
this.__duhong = -1;
} else {
this._yaruan = e.yaruan;
this._duhong = e.duhong;
}
this.num = e.touZi;
this.round = e.round;
this.labelGuofen.string = e.guo;
},
init_data: function(e) {
this.labelGuofen.string = e.init_data.guo;
},
begin: function(e) {
this.kaiqiang();
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
},
kaiqiang: function() {
if (this.isStage) {
var e = cc.vv.roomMgr.stage.ifqiang;
if (0 != e && void 0 != e) return;
}
this.nodeZhuang.active = !0;
this.nodeZhuang.children[0].scale = 1;
this.nodeZhuang.children[1].scale = 1;
},
qiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.showOrHideQiangzhuang(i, !0);
},
buqiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatId);
this.showOrHideQiangzhuang(i, !1);
},
dingzhuang: function(e) {
var i = this;
this.tip(null);
this.nodeIsQiangZhuang.removeAllChildren();
this._zhuang = e.seatid;
this.nodeZhuang.active = !1;
this.table.dingzhuang(e, function() {
var t = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: t
});
});
},
saizi_animation: function(e) {
var i = this;
this.fapai1Data = e;
this.sprTip.node.active = !1;
cc.vv.roomMgr.is_replay && this.showMingPai(e);
this.num = e.num;
var t = this._nodeyaosezi.getChildByName("sezi1"), a = this._nodeyaosezi.getChildByName("sezi2"), n = "ttz_sezi_" + e.num[0] + "_0", s = "ttz_sezi_" + e.num[1] + "_0";
t.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(n);
a.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(s);
function c() {
if (1 == i.isAutoYao || cc.vv.roomMgr.is_replay) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else if (cc.vv.roomMgr.seatid != i._zhuang) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else i.shaizitip("plasesaizi");
i.nodeSezi.active = !0;
}
if (1 == e.xiPai) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeAllPai.removeAllChildren();
this.mingpaiValue = 0;
this.xipaiAnimation(function() {
c();
});
} else c();
},
fapai_1: function() {
var e = this;
cc.vv.audioMgr.stopSFX(this.soundSaizi);
this.soundSaizi = -1;
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this._nodeyaosezi.angle = -0;
this.TJDSaiZiAnim.stop();
this.TJDSaiZiAnim.play("kaisezi");
cc.vv.audioMgr.playSFX("maiding");
this.isPlay = !1;
function i() {
e.yao.active = !1;
e.yao1.active = !1;
var i = e.fapai1Data;
e.dianshu = i.num[0] + i.num[1];
var t = e.dianshu, a = cc.vv.roomMgr.viewChairID(t % cc.vv.roomMgr.ren), n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
e._nodeyaosezi.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, n[a].x, n[a].y + 10), cc.scaleTo(.5, .5, .5)), cc.callFunc(function() {
e.shaizitip(null);
e.fapaiAnimation();
setTimeout(function() {
e._nodeyaosezi.active = !1;
}, 1e3);
})));
}
setTimeout(function() {
i();
}, 1e3);
},
showSaizi: function(e) {
this.dianshu = e.num[0] + e.num[1];
var i = this.dianshu, t = cc.vv.roomMgr.viewChairID(i % cc.vv.roomMgr.ren), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this._nodeyaosezi.x = a[t].x;
this._nodeyaosezi.y = a[t].y + 10;
this._nodeyaosezi.scale = .5;
var n = this._nodeyaosezi.getChildByName("sezi1"), s = this._nodeyaosezi.getChildByName("sezi2"), c = "ttz_sezi_" + e.num[0] + "_0", o = "ttz_sezi_" + e.num[1] + "_0";
n.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(c);
s.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(o);
this.yao.active = !1;
this.yao1.active = !1;
this.nodeSezi.active = !0;
},
watch_game: function() {
for (var e = !1, i = 0; i < cc.vv.roomMgr.table.list.length; i++) if (0 != cc.vv.roomMgr.table.list[i].userid && 1 == cc.vv.roomMgr.table.list[i].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(cc.vv.roomMgr.table.list[i].seatid) && (e = !0);
}
return e;
},
show_xiazhu: function() {
if (1 != cc.vv.roomMgr.is_replay && !this.watch_game()) {
var e = null;
-1 == this._currdao ? e = null : 4 == this._currdao ? e = -1 == this._yaruan ? null : "fen_yaruan" : 5 == this._currdao ? e = -1 == this.__duhong ? null : "fen_duhong" : 1 == this._currdao ? e = "text_bet1" : 2 == this._currdao ? e = "text_bet2" : 3 == this._currdao && (e = "text_bet3");
this.xiazhutip(e);
if (4 == this._currdao && -1 == this._yaruan || 5 == this._currdao && -1 == this.__duhong || -1 == this._currdao) this.nodeXiazhu.active = !1; else {
this.nodeXiazhu.active = !0;
for (var i = 0; i < this.nodeXiazhu.childrenCount; i++) this.nodeXiazhu.children[i].scale = 1;
}
}
},
xiazhu: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.nodeLabelscoreArr[i].setPosition(t[i].pos.xiazhu.x, t[i].pos.xiazhu.y);
this.nodeLabelscoreArr[i].active = !0;
var a = this.nodeLabelscoreArr[i].getComponent(cc.Label);
this.nodeLabelscore.active = !0;
var n = e.nowDao, s = (e.nextDao, e.power);
if (n <= 3 && 0 != n) a.string += 0 != s ? s + " " : "0 "; else if (4 == n) {
a.string += 0 != s ? "\n" + s + " " : "\n0 ";
this._isfour[i] = 1;
} else 5 == n && (1 == this._isfour[i] ? a.string += 0 != s ? s + " " : "0 " : a.string += 0 != s ? "\n" + s + " " : "\n0 ");
if (0 == i) {
this._currdao = e.nextDao;
this.labelSmall.string = e.minXiazhu;
this.labelMax.string = e.maxXiazhu;
this.labelFen.string = e.minXiazhu;
this.xiazhuSlider.progress = 0;
this.show_xiazhu();
}
},
xiazhu_stage: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.nodeLabelscoreArr[i].setPosition(t[i].pos.xiazhu.x, t[i].pos.xiazhu.y);
this.nodeLabelscoreArr[i].active = !0;
var a = this.nodeLabelscoreArr[i].getComponent(cc.Label);
this.nodeLabelscore.active = !0;
var n = e.nowDao, s = (e.nextDao, e.power);
if (-1 != s && -2 != s) if (n <= 3 && 0 != n) a.string += 0 != s ? s + " " : "0 "; else if (4 == n) {
this._isfour[i] = 1;
a.string += 0 != s ? "\n" + s + " " : "\n0 ";
} else 5 == n && (1 == this._isfour[i] ? a.string += 0 != s ? s + " " : "0 " : a.string += 0 != s ? "\n" + s + " " : "\n0 ");
},
xiazhuok: function() {
this.tip(null);
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeCuopai.scale = 1;
this.nodeKaipai.scale = 1;
},
jiesuan: function(e) {
var i = this;
this.tip(null);
this._zhuang = e.zhuang;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
var t = this;
this._itemkaipai && (this._itemkaipai.active = !1);
if (!this.isStage) for (var a = 0; a < cc.vv.roomMgr.ren; ++a) 1 != this._kaipai[e.list[a].seatid] && this.kaipai({
seatid: e.list[a].seatid,
userid: e.list[a].userid,
hand: e.list[a].hand,
type: e.list[a].type
});
setTimeout(function() {
i.mingpaiValue = e.mingpai.length;
}, 3e3);
this.labelGuofen.string = e.guoFen;
this.isQieGuo = e.isQieGuo;
for (a = 0; a < cc.vv.roomMgr.real; ++a) {
var n = cc.vv.roomMgr.viewChairID(a);
t.table.seat_emit(n, "score", e.list[a].user_score);
e.list[a].round_score > 0 ? t.table.seat_emit(n, "win", e.list[a].round_score) : t.table.seat_emit(n, "lost", e.list[a].round_score);
}
var s = this.nodeJiesuan.getChildByName("viewlist").getChildByName("view").getChildByName("list");
this.nodeJiesuan.getChildByName("roomID").getComponent(cc.Label).string = "房间号：" + cc.vv.roomMgr.enter.room_id;
this.nodeJiesuan.getChildByName("date").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = "第" + e.nowRound + "局 " + cc.vv.roomMgr.enter.desc;
for (a = 0; a < s.children.length; ++a) s.children[a].active = !1;
this.nodeJiesuan.getChildByName("roomID").active = !0;
this.nodeJiesuan.getChildByName("wanfa").active = !0;
this.nodeJiesuan.getChildByName("date").active = !0;
for (a = 0; a < cc.vv.roomMgr.real; ++a) {
n = cc.vv.roomMgr.viewChairID(a);
var c = cc.vv.roomMgr.table.list[a].nickname, o = this.table.seat_img(n), h = s.getChildByName("item" + n);
h.x = s.children[a].x;
h.y = s.children[a].y;
h.active = !0;
h.getChildByName("img").getComponent(cc.Sprite).spriteFrame = o;
h.getChildByName("name").getComponent(cc.Label).string = c;
cc.vv.roomMgr.table.list[a].seatid == this._zhuang ? h.getChildByName("zhuang").active = !0 : h.getChildByName("zhuang").active = !1;
var r = h.getChildByName("score").getComponent(cc.Label), l = h.getChildByName("pai1").getChildByName("New Sprite").getComponent(cc.Sprite), d = h.getChildByName("pai2").getChildByName("New Sprite").getComponent(cc.Sprite);
l.spriteFrame = t.typeAtlas.getSpriteFrame("B" + e.list[a].hand[0]);
d.spriteFrame = t.typeAtlas.getSpriteFrame("B" + e.list[a].hand[1]);
var g = h.getChildByName("score1").getComponent(cc.Label);
2 == cc.vv.roomMgr.param.dao ? g.string = "两道(" + e.list[a].dao[0] + " " + e.list[a].dao[1] + ")" : 3 == cc.vv.roomMgr.param.dao && (g.string = "三道(" + e.list[a].dao[0] + " " + e.list[a].dao[1] + " " + e.list[a].dao[2] + ")");
var u = h.getChildByName("dianshu").getComponent(cc.Sprite);
if (0 == e.list[a].type) u.spriteFrame = t.bishiAtlas.getSpriteFrame("tjd_bi10"); else if (e.list[a].hand[0] == e.list[a].hand[1]) u.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dui" + e.list[a].hand[1]); else {
var _ = (e.list[a].hand[0] + e.list[a].hand[1]) % 10;
u.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dian" + _);
}
var v = t.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), p = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text").getComponent(cc.Sprite), m = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text").getComponent(cc.Sprite);
if (e.list[a].round_score > 0) {
r.string = "+" + cc.vv.utils.numInt(e.list[a].round_score);
if (cc.vv.userMgr.userid == e.list[a].userid) {
v.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_bj1");
p.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_wanjia1");
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_jifen1");
}
} else if (e.list[a].round_score < 0) {
r.string = cc.vv.utils.numInt(e.list[a].round_score);
if (cc.vv.userMgr.userid == e.list[a].userid) {
v.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_bj2");
p.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_wanjia2");
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_jifen2");
}
} else {
r.string = cc.vv.utils.numInt(e.list[a].round_score);
if (cc.vv.userMgr.userid == e.list[a].userid) {
v.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_bj1");
p.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_wanjia2");
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_jifen1");
}
}
}
cc.vv.audioMgr.playSFX("nn/chips");
for (a = 0; a < cc.vv.roomMgr.real; a++) {
0 == (n = cc.vv.roomMgr.viewChairID(e.list[a].seatid)) && (e.list[a].round_score < 0 ? setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3) : setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3));
}
function f() {
t.nodeJiesuan.active = !0;
t.nodeJiesuan.getChildByName("btn_ready").scale = 1;
cc.vv.utils.popPanel(t.nodeJiesuan);
}
var y = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
setTimeout(function() {
f();
}, 2e3);
for (a = 0; a < cc.vv.roomMgr.real; a++) {
var C = cc.callFunc(function() {});
if (e.list[a].seatid != this._zhuang) if (e.list[a].round_score < 0) {
var b = cc.vv.roomMgr.viewChairID(e.list[a].seatid);
if (!y[w = cc.vv.roomMgr.viewChairID(this._zhuang)]) continue;
this.playBetByXY(this._winPlayer, y[b].x, y[b].y, y[w].x, y[w].y, 10, C);
} else if (e.list[a].round_score > 0) {
b = cc.vv.roomMgr.viewChairID(this._zhuang);
var w = cc.vv.roomMgr.viewChairID(e.list[a].seatid);
if (!y[b]) continue;
this.playBetByXY(this._winPlayer, y[b].x, y[b].y, y[w].x, y[w].y, 10, C);
}
}
setTimeout(function() {
t.nodeJiesuan.active = !0;
cc.vv.roomMgr.is_replay || i.mingpai(e);
}, 2500);
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
report: function(e) {
this.node.getChildByName("pop").removeAllChildren();
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.table.hide_dismiss_room();
var i = this.nodeReport.getChildByName("list1");
i.removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.enter.room_id;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomwanfa").getComponent(cc.Label).string = "玩法:" + cc.vv.roomMgr.enter.desc;
for (var t = 0, a = 0; a < e.list.length; ++a) if (e.list[a].result_score >= t) {
t = e.list[a].result_score;
a;
}
var n = 0;
for (a = 0; a < e.list.length; ++a) if (e.list[a].result_score < n) {
n = e.list[a].result_score;
a;
}
var s = 0;
for (a = 0; a < e.list.length; ++a) e.list[a].userid > 0 && s++;
for (a = 0; a < s; ++a) {
var c = cc.vv.roomMgr.viewChairID(a), o = {
zhuang: e.zhuang,
seatid: e.list[a].seatid,
name: e.list[a].name,
userid: e.list[a].userid,
headimg: e.list[a].headimg,
winNum: e.list[a].winNum,
Kill: e.list[a].Kill,
die: e.list[a].die,
EightAndNine: e.list[a].EightAndNine,
score: e.list[a].result_score,
dayingjia: e.list[a].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[a].result_score == n && 0 != e.list[a].result_score
}, h = cc.instantiate(this.reportItemPrefab);
i.addChild(h);
h.emit("info", o);
0 == c && (this.nodeReport.getChildByName("score").getComponentInChildren(cc.Label).string = "+" + e.list[a].coins);
}
},
stage: function(e) {
this.new_round();
this.nodeAllPai && this.nodeAllPai.removeAllChildren();
if (null != e.xiazhu) for (var i = 0; i < e.xiazhu.length; i++) {
0 == cc.vv.roomMgr.viewChairID(i) && (0 == e.xiazhu[i] ? this.Received_xiazhuok = !0 : -2 == e.xiazhu[i] && (this.Received_xiazhuok = !1));
}
this.node.getChildByName("pop").removeAllChildren();
cc.vv.roomMgr.stage = e;
this.isStage = !0;
cc.vv.roomMgr.real = e.real;
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
null == e.round && (cc.vv.roomMgr.now = e.now);
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
e.mingpai && this.showMingPai(e);
switch (e.stage) {
case 1:
case 2:
this.kaiqiang();
for (i = 0; i < cc.vv.roomMgr.real; ++i) {
var t = cc.vv.roomMgr.viewChairID(i);
0 != e.qiangzhuang[i] && this.showOrHideQiangzhuang(t, 1 == e.qiangzhuang[i]);
}
break;

case 6:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.yaoShaiziZhuang = !0;
this.saizi_animation(e);
break;

case 3:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
break;

case 4:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
this.labelMax.string = e.maxXiazhu;
this.labelSmall.string = e.minXiazhu;
this.labelFen.string = e.minXiazhu;
this.xiazhuSlider.progress = 0;
for (var a = e.xiazhu, n = 0; n < cc.vv.roomMgr.real; n++) {
var s = a[n];
if (n != this._zhuang) {
this._currdao = e.nextDao;
for (var c = 0; c < s.length; c++) this.xiazhu_stage({
seatid: n,
nowDao: c + 1,
nextDao: c + 2,
power: s[c]
});
}
n == cc.vv.roomMgr.seatid && (e.zhuang != cc.vv.roomMgr.seatid && 0 != this.isXiaZhu(s) ? this.show_xiazhu() : this.tip("tjd_xiazhu"));
}
break;

case 5:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
this.showAllXiazhu(e);
this.kaipaiAll(e);
this.fapaiok && this.xiazhuok();
for (i = 0; i < e.kaipai.length; i++) if (1 == e.kaipai[i]) {
0 == (t = cc.vv.roomMgr.viewChairID(i)) && (this.nodeKaipai.active = !1);
}
this.nodeCuopai.active = !1;
break;

case 97:
null != e.zhuang && (this._zhuang = e.zhuang);
t = cc.vv.roomMgr.viewChairID(this._zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
}
this.isStage = !1;
},
cuopai: function(e) {
this._itemkaipai.active = !0;
this._itemkaipai.emit("cuopai", e);
},
kaipaiAll: function(e) {
this._kaipai = e.kaipai;
for (var i = 0; i < this._kaipai.length; i++) if (1 == this._kaipai[i]) {
this._kaipai[i] = 0;
var t = {
seatid: i,
type: e.type[i],
hand: e.hand[i]
};
this.kaipai(t);
}
},
kaipai: function(e) {
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tjd_kaipai");
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.fanpaiAnimation(i, e, e.seatid);
}
},
new_round: function() {
this.tip(null);
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeSezi.active = !1;
this.nodeQie.active = !1;
this.Received_xiazhuok = !1;
this.nodeCard.removeAllChildren();
this.nodeSezi.removeAllChildren();
this.nodeIsQiangZhuang.removeAllChildren();
this.fapaiok = !1;
this._nodeyaosezi = cc.instantiate(this.prefabYaosezi);
this.nodeSezi.addChild(this._nodeyaosezi);
this.TJDSaiZiAnim = this._nodeyaosezi.getComponent(cc.Animation);
this.yao = this._nodeyaosezi.getChildByName("yao");
this.yao1 = this._nodeyaosezi.getChildByName("yao1");
this.initEventSeZi();
null != this._itemkaipai && this._itemkaipai.destroy();
this._itemkaipai = cc.instantiate(this.preTJDkaipai);
this.nodeMsg.addChild(this._itemkaipai);
this._itemkaipai.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
for (var e = 0; e < 6; e++) {
this.nodeLabelscoreArr[e].active = !1;
this.nodeLabelscoreArr[e].getComponent(cc.Label).string = "";
}
this.hidePai();
cc.vv.roomMgr.is_replay && (this.nodeMingpai.getChildByName("list1").active = !1);
this._currdao = 1;
this._kaipai = [ 0, 0, 0, 0, 0 ];
this._isfour = [ 0, 0, 0, 0, 0 ];
this.hangNumber = [ 2, 3, 0, 1 ];
this.lieNumber = [ 8, 7, 6, 5, 4, 3, 2, 1, 0 ];
this.xiazhuSlider.progress = 0;
if (4 == cc.vv.roomMgr.ren) {
this.nodeCuopai.y = -250;
this.nodeKaipai.y = -250;
} else if (6 == cc.vv.roomMgr.ren) {
this.nodeCuopai.y = -320;
this.nodeKaipai.y = -320;
}
},
nextxiazhu: function(e) {
4 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: 4,
power: e
}) : 5 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: 5,
power: e
}) : 1 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
}) : 2 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
}) : 3 == this._currdao && cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
});
},
tip: function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.dianshuAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
mingpai: function(e) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeMingpai.getChildByName("list1").children;
for (var i = 0; i < e.mingpai.length; i++) {
var t = cc.instantiate(this.prefabTJDMingPai);
t.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("B" + e.mingpai[i]);
this.nodeMingpai.getChildByName("list1").addChild(t);
}
},
xiazhutip: function(e) {
if (null != e) {
var i = e;
this.sprTipe.spriteFrame = this.xiazhuAtlas.getSpriteFrame(i);
this.sprTipe.node.active = !0;
} else this.sprTipe.node.active = !1;
},
shaizitip: function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
isXiaZhu: function(e) {
for (var i = 0, t = 0; t < e.length; t++) -2 == e[t] && i++;
return i;
},
dealXipai: function(e, i, t, a) {
for (var n = 0; n < 4; n++) for (var s = i; s < t; s++) {
var c = cc.instantiate(this.PrefabMajiang), o = c.getComponent("TJDMajiang"), h = e[n].x + s * e[n].distance, r = e[n].y;
o.node.setPosition(h, r);
o.node.scale = e[n].scale;
this.nodeAllPai.addChild(c);
c.myTag = n + "_" + s;
3 == n && s == t - 1 && null != a && a();
}
},
xipaiAnimation: function(e) {
var i = this, t = cc.vv.game.config.xipai_pos;
this.dealXipai(t, 0, 9, function() {
var t = {
indexY: 4,
indexX: 9,
callback: e
};
i.nodeAllPai.emit("xipai", t);
});
},
showAllPaiAnimation: function() {
var e = cc.vv.game.config.not_xipai_pos;
this.dealXipai(e, 0, 9, function() {});
},
play_tjd_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "tjd/" + t + "/type_" + i;
cc.vv.audioMgr.playSFX(a);
},
fapaiAnimation: function() {
for (var e = this.mingpaiValue, i = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = cc.vv.roomMgr.viewChairID((t + this.dianshu) % cc.vv.roomMgr.ren), n = 2 * parseInt((e / 2 + t) / 9), s = (e / 2 + t) % 9, c = n + 1, o = s, h = {
viewid: a,
index: 0
};
this.send_card_emit(this.hangNumber[n], this.lieNumber[s], "setTag", h);
var r = {
viewid: a,
index: 1
};
this.send_card_emit(this.hangNumber[c], this.lieNumber[o], "setTag", r);
for (var l = 0; l < this.paiNumber; l++) {
var d = null;
1 == l && (d = function() {
cc.vv.audioMgr.playSFX("tjd/ttz_card_send");
});
var g = {
viewid: a,
index: l,
x: i[a].pos.card.x,
y: i[a].pos.card.y + i[a].distanceH * l,
scale: i[a].pos.card.scale,
delayTime: (100 + 500 * t) / 1e3,
callback: d
};
this.send_card_tag_emit(g.viewid, g.index, "fapai", g);
if (0 == a) {
this.fapaiok = !0;
if (this.Received_xiazhuok) this.xiazhuok(); else {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
}
}
var u = {
viewid: a,
index: 1,
distance: i[a].distance,
distanceH: i[a].distanceH,
delayTime: (400 + 500 * t) / 1e3
};
this.send_card_tag_emit(u.viewid, u.index, "fapaianimation", u);
}
},
showAllPai: function() {
var e = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], i = this.mingpaiValue;
this.fapaiok = !0;
for (var t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = cc.vv.roomMgr.viewChairID((t + this.dianshu) % cc.vv.roomMgr.ren), n = 2 * parseInt((i / 2 + t) / 9), s = (i / 2 + t) % 9, c = n + 1, o = s, h = {
viewid: a,
index: 0
};
this.send_card_emit(this.hangNumber[n], this.lieNumber[s], "setTag", h);
var r = {
viewid: a,
index: 1
};
this.send_card_emit(this.hangNumber[c], this.lieNumber[o], "setTag", r);
for (var l = 0; l < this.paiNumber; l++) {
var d = {
viewid: a,
index: l,
x: e[a].pos.card.x + e[a].distance * l,
y: e[a].pos.card.y,
scale: e[a].pos.card.scale
};
this.send_card_tag_emit(d.viewid, d.index, "showPai", d);
}
}
},
fanpaiAnimation: function(e, i, t) {
var a = this, n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], s = function(e, t, s) {
if (t == a.paiNumber - 1) {
var c = 0;
if (0 == i.type) {
(o = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.bishiAtlas.getSpriteFrame("tjd_bi10");
o.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(o);
c = 0;
} else if (i.hand[0] == i.hand[1]) {
(o = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_dui" + i.hand[1]);
o.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(o);
c = i.hand[0] + 10;
} else {
var o, h = (i.hand[0] + i.hand[1]) % 10;
(o = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_dian" + h);
o.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(o);
c = h;
}
0 != cc.vv.roomMgr.table.list[s].userid && a.play_tjd_mp3(e, c);
}
};
0 != cc.vv.roomMgr.table.list[t].userid && cc.vv.audioMgr.playSFX("tjd/shuffle");
function c() {
for (var n = 0; n < a.paiNumber; n++) {
var c = {
seatid: t,
viewid: e,
index: n,
spriteFrame: a.typeAtlas,
value: i.hand[n],
callback: s
};
a.send_card_tag_emit(e, n, "trun", c);
}
}
setTimeout(function() {
c();
}, 300);
},
showfanpai: function(e, i) {
for (var t = this, a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = function(e, n) {
if (n == t.paiNumber - 1) if (i[0] + i[1] == 10) {
(s = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.bishiAtlas.getSpriteFrame("tjd_bi10");
s.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(s);
t.play_tjd_mp3(e, 0);
} else if (i[0] == i[1]) {
(s = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dui" + i[1]);
s.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(s);
t.play_tjd_mp3(e, i[0] + 10);
} else {
var s, c = (i[0] + i[1]) % 10;
(s = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dian" + c);
s.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(s);
t.play_tjd_mp3(e, c);
}
}, s = 0; s < this.paiNumber; s++) {
var c = {
viewid: e,
index: s,
spriteFrame: this.typeAtlas,
value: i[s],
callback: n
};
t.send_card_tag_emit(e, s, "show", c);
}
},
hidePai: function() {
for (var e = 0; e < cc.vv.roomMgr.ren; e++) {
var i = cc.vv.roomMgr.viewChairID(e);
this.send_card_tag_emit(i, 0, "hide");
this.send_card_tag_emit(i, 1, "hide");
}
},
showMingPai: function(e) {
this.mingpaiValue = e.mingpai.length;
this.showAllPaiAnimation();
this.nodeAllPai.children.length;
for (var i = e.mingpai.length, t = 0; t < i / 2; t++) {
var a = 2 * parseInt(t / 9), n = t % 9, s = a + 1, c = n, o = this.hangNumber[a] + "_" + this.lieNumber[n];
cc.vv.utils.getChildByTag(this.nodeAllPai, o).destroy();
var h = this.hangNumber[s] + "_" + this.lieNumber[c];
cc.vv.utils.getChildByTag(this.nodeAllPai, h).destroy();
}
this.nodeMingpai.getChildByName("list1").removeAllChildren();
for (t = 0; t < e.mingpai.length; t++) {
var r = cc.instantiate(this.prefabTJDMingPai);
r.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("B" + e.mingpai[t]);
this.nodeMingpai.getChildByName("list1").addChild(r);
}
},
showAllXiazhu: function(e) {
for (var i = e.xiazhu, t = 0; t < cc.vv.roomMgr.real; t++) {
var a = i[t];
if (t != this._zhuang) {
this._currdao = e.nextDao;
for (var n = 0; n < a.length; n++) this.xiazhu_stage({
seatid: t,
nowDao: n + 1,
nextDao: n + 2,
power: a[n]
});
}
}
},
showOrHideQiangzhuang: function(e, i) {
var t = new cc.Node("isQiangzhuang"), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = t.addComponent(cc.Sprite);
n.spriteFrame = 1 == i ? this.spriteFrameQiangzhuang : this.spriteFrameBuqiangzhuang;
this.nodeIsQiangZhuang.addChild(t);
t.x = a[e].x + a[e].pos.ready.x;
t.y = a[e].y;
t.active = !0;
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
},
send_card_tag_emit: function(e, i, t, a) {
var n = e + "_tag_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
},
onDestroy: function() {
cc.loader.setAutoRelease(this, !0);
cc.vv.audioMgr.stopSFX(this.soundSaizi);
},
testData: function(e, i) {
this.node.emit(e, i);
},
onButtonQieGuo: function() {
cc.vv.roomMgr.real = 5;
this.testData("cuopai", {
errcode: 0,
data: {
seatid: 1,
type: 90,
userid: 3099,
hand: [ 6, 3 ]
},
errmsg: "ok",
model: "game",
event: "cuopai"
});
}
});
cc._RF.pop();
}, {
TJD1301Const: "TJD1301Const",
TJD1301ReplayMgr: "TJD1301ReplayMgr"
} ],
TJD1301Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "41fffLPpVNI34nJ+S3TlNaW", "TJD1301Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
prepareReplay: function() {
this.dispatchEvent("parma", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doInit: function(e) {
this.dispatchEvent("init_data", {
data: {
init_data: {
guo: e.beginGuo
}
}
});
},
doQiang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doDingZhuang: function(e) {
this.dispatchEvent("fapai", {
data: {
num: [ e.touzi[0], e.touzi[1] ],
xiPai: 0,
mingpai: e.mingpai
}
});
},
doGetEnd: function(e) {
this.dispatchEvent("getEnd");
},
doXiaZhu: function(e) {
e.length;
this.dispatchEvent("showAllXiazhu", {
data: {
xiazhu: e,
nextDao: 1
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
cc.vv.roomMgr.viewChairID(t);
this.dispatchEvent("kaipai", {
data: {
seatid: t,
hand: e[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
TJD1301ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "2b3de/lIlJPh7ZNIMbqXYnC", "TJD1301ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.TJDMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.action) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.TJDMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return .2;
}
if ("init" == e.action) {
cc.vv.TJDMgr.doInit(e.data);
return .5;
}
if ("dingZhuang" == e.action) {
cc.vv.TJDMgr.doQiang(e.data);
return 2;
}
if ("touZi" == e.action) {
cc.vv.TJDMgr.doDingZhuang(e.data);
return 1;
}
if ("getEnd" == e.action) {
cc.vv.TJDMgr.doGetEnd(e.data);
return 3;
}
if ("xiaZhu" == e.action) {
cc.vv.TJDMgr.doXiaZhu(e.data);
return 1;
}
if ("hand" == e.action) {
cc.vv.TJDMgr.doKaipai(e.data);
return 1;
}
}
});
cc._RF.pop();
}, {} ],
TJDMajiang: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8af74bjun1BOYfFy9zs1pNA", "TJDMajiang");
cc.Class({
extends: cc.Component,
properties: {
bg: cc.Sprite,
dian: cc.Sprite,
_value: 255,
_select: 0
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("fapai", function(i) {
e.fapai(i);
});
this.node.on("showPai", function(i) {
e.showPai(i);
});
this.node.on("fapaianimation", function(i) {
e.fapaianimation(i);
});
this.node.on("trun", function(i) {
e.trun(i);
});
this.node.on("show", function(i) {
e.show(i);
});
this.node.on("hide", function(i) {
e.hide(i);
});
this.node.on("setTag", function(i) {
e.setTag(i);
});
},
fapai: function(e) {
var i = .1;
null != i && (i = e.delayTime);
this.node.runAction(cc.sequence(cc.delayTime(i), cc.spawn(cc.scaleTo(.25, e.scale, e.scale), cc.moveTo(.25, cc.v2(e.x, e.y))), cc.callFunc(function() {
null != e.callback && e.callback(e.viewid, e.index);
})));
},
showPai: function(e) {
this.node.scale = e.scale;
this.node.setPosition(cc.v2(e.x, e.y));
null != e.callback && e.callback(e.viewid, e.index);
},
fapaianimation: function(e) {
var i = .1;
null != i && (i = e.delayTime);
this.node.runAction(cc.sequence(cc.delayTime(i), cc.moveBy(.25, cc.v2(e.distance, 0)), cc.delayTime(.1), cc.moveBy(.25, cc.v2(0, -e.distanceH)), cc.callFunc(function() {
null != e.callback && e.callback(e.viewid, e.index);
})));
},
show: function(e) {
if (255 == this._value) {
this.bg.spriteFrame = e.spriteFrame.getSpriteFrame("tilebg_2_0");
this.dian.spriteFrame = e.spriteFrame.getSpriteFrame("B" + e.value);
this.dian.node.active = !0;
this._value = e.value;
null != e.callback && e.callback(e.viewid, e.index);
}
},
hide: function() {
this.node.destroy();
},
trun: function(e) {
var i = this;
255 == i._value && i.node.runAction(cc.sequence(cc.callFunc(function() {
i.node.getComponent(cc.Animation).play("tjd_cardAnim");
}), cc.delayTime(.2), cc.callFunc(function() {
i.dian.spriteFrame = e.spriteFrame.getSpriteFrame("B" + e.value);
33 == e.value && (i.dian.spriteFrame = e.spriteFrame.getSpriteFrame("F7"));
i.dian.node.active = !0;
i._value = e.value;
null != e.callback && e.callback(e.viewid, e.index, e.seatid);
})));
},
setTag: function(e) {
var i = e.viewid + "_tag_" + e.index;
this.node.myTag = i;
},
onPaiClicked: function() {
cc.vv.audioMgr.click();
this._select = 1 == this._select ? 0 : 1;
this.node.y = 0 == this._select ? 0 : 20;
},
isSelect: function() {
return this._select;
},
setEnabled: function(e) {
var i = this.node.getComponent(cc.Button);
i || (i = this.node.addComponent(cc.Button));
e ? i.node.on("click", this.onPaiClicked, this) : this.node.removeComponent(cc.Button);
},
setSelect: function(e) {
this._select = e;
this.node.y = 0 == this._select ? 0 : 20;
},
setValue: function(e) {
this._value = e;
},
getValue: function() {
return this._value;
}
});
cc._RF.pop();
}, {} ],
TJDPai: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "f2c35i6DKRG+qqemIYV7Lci", "TJDPai");
cc.Class({
extends: cc.Component,
properties: {
card: cc.Sprite,
_value: 255
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("fapai", function(i) {
e.fapai(i);
});
this.node.on("trun", function(i) {
e.trun(i);
});
this.node.on("kaipai", function(i) {
e._value = i.value;
e.trun(i);
});
},
fapai: function(e) {
var i = this;
i.node.runAction(cc.sequence(cc.hide(), cc.delayTime(.05), cc.show(), cc.callFunc(function() {
if (0 != e.value) {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}
cc.vv.audioMgr.playSFX("nn/flop");
}), cc.spawn(cc.moveTo(.05, cc.v2(1, 1)), cc.scaleTo(.05, 1.1)), cc.scaleTo(.05, 1), cc.delayTime(.1), cc.callFunc(function() {
null != e.callback && e.callback(e.viewid, e.index);
}, this)));
},
trun: function(e) {
var i = this;
if (255 == this._value) {
var t = i.node.scale;
i.node.runAction(cc.sequence(cc.scaleTo(.15, 0, t), cc.callFunc(function() {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}, i), cc.scaleTo(.15, t, t), cc.callFunc(function() {
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type);
})));
}
}
});
cc._RF.pop();
}, {} ],
TJDReportItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "3f80c/opC1MEpYUncM5SRit", "TJDReportItem");
cc.Class({
extends: cc.Component,
properties: {
nodeDayingjia: cc.Node,
nodeDatuhao: cc.Node,
lblName: cc.Label,
lblId: cc.Label,
spriteFlg: cc.Sprite,
spriteHeadimg: cc.Sprite,
lblScore: cc.Label,
checkmark: cc.Node,
EightAndNine: cc.Label,
winNum: cc.Label,
Kill: cc.Label,
die: cc.Label,
zhuang: cc.Node,
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
reportAtlas: {
default: null,
type: cc.SpriteAtlas
}
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("info", function(i) {
e.nodeDayingjia.active = i.dayingjia;
e.checkmark.active = i.userid == cc.vv.userMgr.userid;
e.lblName.string = i.name;
e.lblId.string = "ID:" + i.userid;
e.winNum.string = i.winNum;
e.Kill.string = i.Kill;
e.die.string = i.die;
e.EightAndNine.string = i.EightAndNine;
void 0 != i.zhuang && void 0 != i.seatid ? e.zhuang.active = i.zhuang == i.seatid : e.zhuang.active = !1;
e.spriteHeadimg.getComponent("ImageLoader").loadImg(i.headimg);
if (i.score > 0) {
e.lblScore.font = e.winFont;
e.lblScore.string = "+" + i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
} else if (i.score < 0) {
e.lblScore.font = e.lostFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_lose");
} else {
e.lblScore.font = e.winFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
}
});
}
});
cc._RF.pop();
}, {} ],
TJDXipai: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "0d449Ac44RK1IPZwq0aEs3p", "TJDXipai");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
start: function() {},
initEventHandlers: function() {
var e = this;
this.node.on("xipai", function(i) {
e.xipaiAnimation(i);
});
},
xipaiAnimation: function(e) {
for (var i = this, t = (this.node.children, function(t) {
for (var a = function(a) {
n = t + "_" + a;
s = cc.vv.utils.getChildByTag(i.node, n);
1 != t && 3 != t || s.runAction(cc.moveBy(.2, 0, -84));
if (0 == t || 1 == t) {
s.runAction(cc.sequence(cc.delayTime(.2), cc.moveBy(.2, 0, -72), cc.callFunc(function() {
null != e.callback && e.callback(t, a);
})));
} else {
s.runAction(cc.sequence(cc.delayTime(.2), cc.moveBy(.2, 0, 72), cc.callFunc(function() {
null != e.callback && e.callback(t, a);
})));
}
}, c = 0; c < e.indexX; c++) a(c);
}), a = 0; a < e.indexY; a++) {
var n, s;
t(a);
}
}
});
cc._RF.pop();
}, {} ],
TTZ1400Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "85840TjcnNHCoxgpJeZfNN7", "TTZ1400Const");
var a, n, s, c;
function o(e, i, t) {
i in e ? Object.defineProperty(e, i, {
value: t,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[i] = t;
return e;
}
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -448,
y: -255,
distance: 119,
distanceH: 36,
xiazhuX: 140,
xiazhuH: -20,
dianshuX: 64,
dianshuH: 280,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -45,
y: -495,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 512,
y: -68,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 30,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: -100
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -314,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 512,
y: 165,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 30,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: 131
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -84,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -556,
y: 165,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 25,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: -556,
y: 131
},
ready: {
x: 94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -430,
y: -84,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
player5: [ {
x: -448,
y: -255,
distance: 119,
distanceH: 36,
xiazhuX: -107,
xiazhuH: -20,
dianshuX: 244,
dianshuH: 190,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -234,
y: -475,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, (a = {
x: -580,
y: -18,
distance: 30
}, o(a, "distance", 47), o(a, "distanceH", 18), o(a, "xiazhuX", 114), o(a, "xiazhuH", 50), 
o(a, "dianshuX", 130), o(a, "dianshuH", 155), o(a, "scale", .8), o(a, "pos", {
xiazhu: {
x: -580,
y: -44
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -445,
y: -285,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}), a), (n = {
x: -580,
y: 200,
distance: 30
}, o(n, "distance", 47), o(n, "distanceH", 18), o(n, "xiazhuX", 114), o(n, "xiazhuH", 50), 
o(n, "dianshuX", 130), o(n, "dianshuH", 154), o(n, "scale", .8), o(n, "pos", {
xiazhu: {
x: -580,
y: 172
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -445,
y: -74,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}), n), (s = {
x: 580,
y: 200,
distance: 30
}, o(s, "distance", 47), o(s, "distanceH", 18), o(s, "xiazhuX", -137), o(s, "xiazhuH", -102), 
o(s, "dianshuX", -90), o(s, "dianshuH", 152), o(s, "scale", .8), o(s, "pos", {
xiazhu: {
x: 580,
y: 172
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -74,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), s), (c = {
x: 580,
y: -18,
distance: 30
}, o(c, "distance", 47), o(c, "distanceH", 18), o(c, "xiazhuX", -137), o(c, "xiazhuH", -94), 
o(c, "dianshuX", -90), o(c, "dianshuH", 155), o(c, "scale", .8), o(c, "pos", {
xiazhu: {
x: 580,
y: -40
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -285,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), c) ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
xipai_pos: [ {
x: -150,
y: 45,
distance: 47,
scale: 1
}, {
x: -150,
y: 145,
distance: 47,
scale: 1
}, {
x: -150,
y: -155,
distance: 47,
scale: 1
}, {
x: -150,
y: -55,
distance: 47,
scale: 1
} ],
not_xipai_pos: [ {
x: -150,
y: -27,
distance: 47,
scale: 1
}, {
x: -150,
y: -11,
distance: 47,
scale: 1
}, {
x: -150,
y: -83,
distance: 47,
scale: 1
}, {
x: -150,
y: -67,
distance: 47,
scale: 1
} ],
default_bg: "public/table/ysz_bg"
}
});
cc._RF.pop();
}, {} ],
TTZ1400Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "3bbbcw3XQpLjIvNlH8s4U76", "TTZ1400Game");
cc.Class({
extends: cc.Component,
properties: {
dianshuAtlas: {
default: null,
type: cc.SpriteAtlas
},
xiazhuAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeSeZi: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
btnAtlas: {
default: null,
type: cc.Font
},
bishiAtlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
nodeZhuang: cc.Node,
nodeCard: cc.Node,
nodeSezi: cc.Node,
nodeXiazhu: cc.Node,
nodeLabelscore: cc.Node,
nodeCuopai: cc.Node,
nodeKaipai: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeMsg: cc.Node,
nodeMingpai: cc.Node,
nodeAllPai: cc.Node,
nodeIsQiangZhuang: cc.Node,
spriteFrameQiangzhuang: cc.SpriteFrame,
spriteFrameBuqiangzhuang: cc.SpriteFrame,
sprTip: cc.Sprite,
sprTipe: cc.Sprite,
labelRoomwanfa: cc.Label,
prefabYaosezi: cc.Prefab,
preTJDkaipai: cc.Prefab,
reportItemPrefab: cc.Prefab,
prefabTJDMingPai: cc.Prefab,
PrefabMajiang: cc.Prefab,
PrefabDianshu: cc.Prefab,
tuoguanNode: cc.Node,
btn_tuoguan: cc.Node,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0,
_senceDestroy: !1
},
editor: {
executionOrder: -1
},
onLoad: function() {
var i = e("TTZ1400Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "ttz",
hide_nothing_seat: !1,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_4: i.player4,
player_5: i.player5,
xipai_pos: i.xipai_pos,
not_xipai_pos: i.not_xipai_pos,
set_bg: !0,
location: !1,
show_watch_btn: !0,
default_bg: i.default_bg
};
cc.log("TTZ1400Game:onLoad");
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.node_watchgame = this.node.getChildByName("watchgame");
this.auto_tips_node = this.node.getChildByName("mgr").getChildByName("auto_tips");
this.isPlay = !1;
this.mingpaiValue = 0;
this.dianshu = 0;
this.paiNumber = 2;
this.isAutoYao = !1;
this.nodeLabelscoreArr = this.nodeLabelscore.children;
this.soundSaizi = -1;
this.initEventHandlers();
this.nodeXiazhu.children[0].myTag = 3;
this.nodeXiazhu.children[1].myTag = 5;
this.nodeXiazhu.children[2].myTag = 7;
this.nodeXiazhu.children[3].myTag = 10;
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.TTZMgr = this.node.getComponent("TTZ1400Mgr");
var t = e("TTZ1400ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.TTZMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
new_real: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0, t = 0, a = 0; a < e.length; a++) {
0 != e[a].userid && t++;
var n = cc.vv.roomMgr.getSeatIndexByID(e[a].userid);
0 != e[a].sitStatus ? i++ : 0 == n && (this._my_isin_game = !1);
}
return t - i;
},
user_status_change: function(e) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) if (0 != i[t].userid) {
if (1 == e.change_item[t]) {
0 == cc.vv.roomMgr.viewChairID(t) && (this._my_isin_game = !0);
}
i[t].sitStatus = e.change_item[t];
}
},
watch_game_list: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0; i < e.length; i++) if (0 != e[i].userid) {
var t = cc.vv.roomMgr.viewChairID(e[i].seatid), a = cc.vv.utils.getChildByTag(this._winPlayer, t);
0 != e[i].sitStatus ? a.getChildByName("watch_game").active = !0 : a.getChildByName("watch_game").active = !1;
}
if (this.watch_game()) {
this.new_round();
this.node_watchgame.active = !0;
this.nodeJiesuan.active = !1;
}
},
watch_game: function() {
var e = !1, i = cc.vv.roomMgr.table.list;
if (!cc.vv.roomMgr.is_replay) for (var t = cc.vv.roomMgr.guanzhan_table.list, a = 0; a < t.length; a++) 0 != t[a].userid && t[a].userid == cc.vv.userMgr.userid && (e = !0);
for (a = 0; a < i.length; a++) if (0 != i[a].userid && 0 != i[a].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(i[a].seatid) && (e = !0);
}
return e;
},
watch: function(e) {
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (i[t].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("watchgame").active = !0;
var a = this.node.getChildByName("sit");
0 == e.canSit.length ? a.active = !1 : a.active = !0;
}
var n = cc.vv.roomMgr.viewChairID(e.seatid);
cc.vv.utils.getChildByTag(this._winPlayer, n).getChildByName("Recharge").active = !1;
if (e.userid == cc.vv.userMgr.userid) {
this.tip("zhunbei");
this.new_round();
a.active = !0;
}
},
canSit: function(e) {
var i = this.node.getChildByName("sit");
if (0 == e.canSit.length) i.active = !1; else {
cc.vv.popMgr.alert("有空位置了是否坐入", function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
this.node.getChildByName("sit") && (this.node.getChildByName("sit").active = !1);
}, !0);
i.active = !0;
}
},
error: function(e) {
-99 == e.errcode ? cc.vv.popMgr.alert("" + e.errmsg, function() {
cc.director.loadScene("hall");
}) : cc.vv.popMgr.tip("" + e.errmsg);
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {
e._itemkaipai.active = !1;
});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd()) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
cc.vv.popMgr.wait("正在恢复桌面", function() {
setTimeout(function() {
cc.vv.net2.quick("stage");
}, 1e3);
});
}
});
this.node.on("error", function(i) {
e.error(i);
}), this.node.on("canSit", function(i) {
e.canSit(i.data);
});
this.node.on("watch", function(i) {
e.watch(i.data);
});
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("user_status_change", function(i) {
e.user_status_change(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(i) {
if (-1 != i.errcode) {
e.watch_game();
e.watch_game_list();
}
}), this.node.on("kaiqiang", function(i) {
e.begin(i.data);
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("buqiangzhuang", function(i) {
e.buqiangzhuang(i.data);
}), this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
}), this.node.on("fapai", function(i) {
e.fapai1Data = i.data;
e.saizi_animation(e.fapai1Data);
}), this.node.on("getEnd", function() {
if (1 == e.isAutoYao || cc.vv.roomMgr.is_replay || e.isTuoguan) e.fapai_1(); else {
e.watch_game() ? e.fapai_1() : cc.vv.roomMgr.seatid != e._zhuang && e.fapai_1();
}
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("xiazhuok", function(i) {
e.Received_xiazhuok = !0;
e.fapaiok && e.xiazhuok(i.data);
}), this.node.on("cuopai", function(i) {
e.cuopai(i.data);
});
this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
this.node.on("showAllXiazhu", function(i) {
e.showAllXiazhu(i.data);
});
this.node.on("tuoguan", function(i) {
e.tuoguan(i.data);
});
this.node.on("cancleTuoguan", function(i) {
e.cancleTuoguan(i.data);
});
this.node.on("beginXiazhu", function(i) {
e.beginXiazhu(i.data);
});
},
beginXiazhu: function(e) {
this.auto_tips(e.time, "下注最小注");
cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu() : this.tip("tjd_xiazhu");
},
tuoguan: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.isTuoguan = !0;
this.tuoguanNode.active = !0;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
cancleTuoguan: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.isTuoguan = !1;
this.tuoguanNode.active = !1;
}
},
initEventSeZi: function() {
var e = this;
this.yao.on("touchstart", function(i) {
1 != e.isAutoYao && cc.vv.roomMgr.seatid == e._zhuang && cc.vv.audioMgr.playSFXRepeat("sezi", function(i) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
e.soundSaizi = i;
});
}, this);
this.yao.on("touchmove", function(e) {
if (0 == this.isPlay) {
this.isPlay = !0;
this.TJDSaiZiAnim.play("yaosezimove");
}
var i = e.touch.getDelta(), t = i.x, a = i.y;
this._nodeyaosezi.setPosition(this._nodeyaosezi.x + t, this._nodeyaosezi.y + a);
}, this);
this.yao.on("touchend", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
this.yao.on("touchcancel", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang", {
power: -1
});
break;

case "btn_qiangzhuang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
var t = parseInt(i);
cc.vv.net2.quick("xiazhu", {
power: t
});
break;

case "cuopai":
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
cc.vv.net2.quick("cuoPai");
break;

case "kaipai":
cc.vv.net2.quick("kaipai");
break;

case "btn_tuoguan":
cc.vv.net2.quick("tuoguan");
break;

case "btn_quxiaotuoguan":
cc.vv.net2.quick("cancleTuoguan");
}
cc.vv.audioMgr.click();
},
param: function(e) {
this._desc = e.desc;
this._roomid = e.roomid;
this._zhuang_mode = e.zhuang;
this._zhuang = e.zhuangSeateid;
this._ren = e.ren;
this.isAutoYao = e.auto;
this._dao = e.dao;
if (this.real < 4) {
this._yaruan = -1;
this.__duhong = -1;
} else {
this._yaruan = e.yaruan;
this._duhong = e.duhong;
}
this.num = e.touZi;
this.round = e.round;
},
begin: function(e) {
this.kaiqiang(e);
this.is_kaipai = !1;
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
},
kaiqiang: function(e) {
null != e && this.auto_tips(e.time, "不抢庄");
if (this.isStage) {
var i = cc.vv.roomMgr.stage.ifqiang;
if (0 != i && void 0 != i) return;
}
this.nodeZhuang.active = !0;
this.nodeZhuang.children[0].scale = 1;
this.nodeZhuang.children[1].scale = 1;
for (var t = !1, a = 0; a < e.canSitId.length; a++) {
0 == cc.vv.roomMgr.viewChairID(e.canSitId[a]) && (t = !0);
}
this.nodeZhuang.getChildByName("btn_qiangzhuang").active = t;
this.watch_game() && (this.nodeZhuang.active = !1);
},
qiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.showOrHideQiangzhuang(i, !0);
},
buqiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatId);
this.showOrHideQiangzhuang(i, !1);
},
dingzhuang: function(e) {
var i = this;
this.tip(null);
this.nodeIsQiangZhuang.removeAllChildren();
this._zhuang = e.seatid;
this._xiaZhuRange = e.xiaZhuRange;
this.nodeZhuang.active = !1;
this.table.dingzhuang(e, function() {
var t = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: t
});
});
},
saizi_animation: function(e) {
var i = this;
this.fapai1Data = e;
this.sprTip.node.active = !1;
cc.vv.roomMgr.is_replay && this.showMingPai(e);
this.num = e.num;
var t = this._nodeyaosezi.getChildByName("sezi1"), a = this._nodeyaosezi.getChildByName("sezi2"), n = "ttz_sezi_" + e.num[0] + "_0", s = "ttz_sezi_" + e.num[1] + "_0";
t.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(n);
a.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(s);
function c() {
if (1 == i.isAutoYao || cc.vv.roomMgr.is_replay) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else {
var e = i.watch_game();
if (cc.vv.roomMgr.seatid != i._zhuang || e) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else i.shaizitip("plasesaizi");
}
i.nodeSezi.active = !0;
}
if (1 == e.xiPai) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeAllPai.removeAllChildren();
this.mingpaiValue = 0;
this.xipaiAnimation(function() {
c();
});
} else c();
},
fapai_1: function() {
var e = this;
cc.vv.audioMgr.stopSFX(this.soundSaizi);
this.soundSaizi = -1;
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this._nodeyaosezi.angle = -0;
this.TJDSaiZiAnim.stop();
this.TJDSaiZiAnim.play("kaisezi");
cc.vv.audioMgr.playSFX("maiding");
this.isPlay = !1;
function i() {
e.yao.active = !1;
e.yao1.active = !1;
var i = e.fapai1Data;
e.dianshu = i.num[0] + i.num[1];
var t = e.dianshu, a = cc.vv.roomMgr.viewChairID(t % cc.vv.roomMgr.ren), n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
e._nodeyaosezi.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, n[a].x, n[a].y + 10), cc.scaleTo(.5, .5, .5)), cc.callFunc(function() {
e.shaizitip(null);
e.fapaiAnimation();
setTimeout(function() {
e._nodeyaosezi.active = !1;
}, 1e3);
})));
}
setTimeout(function() {
i();
}, 1e3);
},
showSaizi: function(e) {
this.dianshu = e.num[0] + e.num[1];
var i = this.dianshu, t = cc.vv.roomMgr.viewChairID(i % cc.vv.roomMgr.ren), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this._nodeyaosezi.x = a[t].x;
this._nodeyaosezi.y = a[t].y + 10;
this._nodeyaosezi.scale = .5;
var n = this._nodeyaosezi.getChildByName("sezi1"), s = this._nodeyaosezi.getChildByName("sezi2"), c = "ttz_sezi_" + e.num[0] + "_0", o = "ttz_sezi_" + e.num[1] + "_0";
n.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(c);
s.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(o);
this.yao.active = !1;
this.yao1.active = !1;
this.nodeSezi.active = !0;
},
xiazhu: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = new cc.Node("BetNode"), a = t.addComponent(cc.Label);
a.font = this.btnAtlas;
a.string = e.power;
t.y = 6;
this.table.seat_emit(i, "bet", {
node: t
});
0 == i && (this.nodeXiazhu.active = !1);
},
auto_tips: function(e, i) {
if (e <= 0 || null == e) this.auto_tips_node.active = !1; else {
this.text = i;
this.auto_time = e;
this.unschedule(this.upd_auto_time);
this.schedule(this.upd_auto_time, 1);
this.auto_tips_node.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
this.auto_tips_node.active = !0;
}
},
upd_auto_time: function() {
if (this.auto_time <= 0) {
this.unschedule(this.upd_auto_time);
this.auto_tips_node.active = !1;
}
this.auto_time--;
this.auto_tips_node.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
},
xiazhu_stage: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.nodeLabelscoreArr[i].setPosition(t[i].pos.xiazhu.x, t[i].pos.xiazhu.y);
this.nodeLabelscoreArr[i].active = !0;
var a = this.nodeLabelscoreArr[i].getComponent(cc.Label);
this.nodeLabelscore.active = !0;
var n = e.power;
a.string += n;
},
xiazhuok: function(e) {
this.tip(null);
null != e && this.auto_tips(e.time, "开牌");
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeCuopai.scale = 1;
this.nodeKaipai.scale = 1;
if (this.watch_game()) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
auto_ready: function() {
this.autoready--;
this.nodeJiesuan.getChildByName("btn_ready").getChildByName("lbl").getComponent(cc.Label).string = this.autoready;
if (this.autoready <= 0) {
this.autoready = 0;
this.unschedule(this.auto_ready);
}
},
jiesuan: function(e) {
var i = this;
this.auto_tips_node.active = !1;
this.autoready = 10;
this._zhuang = e.zhuang;
this.schedule(this.auto_ready, 1);
this.tip(null);
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
var t = this;
this._itemkaipai && (this._itemkaipai.active = !1);
for (var a = 0, n = 0; n < e.list.length; n++) 0 != e.list[n].userid && a++;
if (!this.isStage) for (n = 0; n < cc.vv.roomMgr.ren; ++n) 1 != this._kaipai[e.list[n].seatid] && this.kaipai({
seatid: e.list[n].seatid,
userid: e.list[n].userid,
hand: e.list[n].hand,
type: e.list[n].type
});
setTimeout(function() {
i.mingpaiValue = e.mingpai.length;
}, 3e3);
for (n = 0; n < a; ++n) {
var s = cc.vv.roomMgr.viewChairID(n);
0 == e.list[n].userSitStatus && t.table.seat_emit(s, "score", e.list[n].user_score);
e.list[n].round_score > 0 ? t.table.seat_emit(s, "win", e.list[n].round_score) : t.table.seat_emit(s, "lost", e.list[n].round_score);
}
var c = this.nodeJiesuan.getChildByName("viewlist").getChildByName("view").getChildByName("list");
this.nodeJiesuan.getChildByName("roomID").getComponent(cc.Label).string = "房间号：" + cc.vv.roomMgr.enter.room_id;
this.nodeJiesuan.getChildByName("date").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = "第" + e.nowRound + "局 " + cc.vv.roomMgr.enter.desc;
for (n = 0; n < c.children.length; ++n) c.children[n].active = !1;
this.nodeJiesuan.getChildByName("roomID").active = !0;
this.nodeJiesuan.getChildByName("wanfa").active = !0;
this.nodeJiesuan.getChildByName("date").active = !0;
a = e.list.length;
for (n = 0; n < a; ++n) if (0 != e.list[n].userid) {
s = cc.vv.roomMgr.viewChairID(n);
var o = e.list[n].nickname, h = this.table.seat_img(s), r = c.getChildByName("item" + s);
r.x = c.children[n].x;
r.y = c.children[n].y;
r.active = !0;
r.getChildByName("img").getComponent(cc.Sprite).spriteFrame = h;
r.getChildByName("name").getComponent(cc.Label).string = o;
n == this._zhuang ? r.getChildByName("zhuang").active = !0 : r.getChildByName("zhuang").active = !1;
var l = r.getChildByName("score").getComponent(cc.Label), d = r.getChildByName("pai1").getChildByName("New Sprite").getComponent(cc.Sprite), g = r.getChildByName("pai2").getChildByName("New Sprite").getComponent(cc.Sprite);
d.spriteFrame = t.typeAtlas.getSpriteFrame("B" + e.list[n].hand[0]);
g.spriteFrame = t.typeAtlas.getSpriteFrame("B" + e.list[n].hand[1]);
33 == e.list[n].hand[0] && (d.spriteFrame = t.typeAtlas.getSpriteFrame("F7"));
33 == e.list[n].hand[1] && (g.spriteFrame = t.typeAtlas.getSpriteFrame("F7"));
var u = r.getChildByName("score1").getComponent(cc.Label), _ = n;
2 == cc.vv.roomMgr.param.dao ? u.string = "两道(" + e.list[_].dao[0] + " " + e.list[_].dao[1] + ")\n押软" + e.list[_].dao[3] + "  独红" + e.list[_].dao[4] : 3 == cc.vv.roomMgr.param.dao && (u.string = "三道(" + e.list[_].dao[0] + " " + e.list[_].dao[1] + " " + e.list[_].dao[2] + ")\n押软" + e.list[_].dao[3] + "  独红" + e.list[_].dao[4]);
u.node.height >= 72 && (u.fontSize = 22);
var v = r.getChildByName("dianshu").getComponent(cc.Sprite);
r.getChildByName("dianshu").x = 200;
r.getChildByName("dianshu").y = 0;
if (0 == e.list[_].type) v.spriteFrame = t.bishiAtlas.getSpriteFrame("tjd_bi10"); else if (200 == e.list[_].type) v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_10dianban"); else if (e.list[_].hand[0] == e.list[_].hand[1]) v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dui" + e.list[n].hand[1]); else if (e.list[_].type % 10 == 5) {
var p = parseInt((e.list[_].type - 5) / 10);
195 == e.list[_].type ? v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_28gang") : v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_" + p + "dianban");
} else {
var m = (e.list[_].hand[0] + e.list[_].hand[1]) % 10;
v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dian" + m);
}
var f = t.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), y = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text").getComponent(cc.Sprite), C = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text").getComponent(cc.Sprite);
if (e.list[_].round_score > 0) {
l.string = "+" + cc.vv.utils.numInt(e.list[_].round_score);
if (cc.vv.userMgr.userid == e.list[_].userid) {
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shengli");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
} else if (e.list[_].round_score < 0) {
l.string = cc.vv.utils.numInt(e.list[_].round_score);
if (cc.vv.userMgr.userid == e.list[_].userid) {
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shibai");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("hui_wanjia");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
} else {
l.string = cc.vv.utils.numInt(e.list[_].round_score);
if (cc.vv.userMgr.userid == e.list[_].userid) {
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shengli");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
}
if (1 == e.list[n].userSitStatus) {
r.getChildByName("watch").active = !0;
l.string = "-";
u.string = "-";
} else r.getChildByName("watch").active = !1;
if (1 == this.watch_game()) {
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("guanzhan");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
}
cc.vv.audioMgr.playSFX("nn/chips");
for (n = 0; n < a; n++) {
0 == (s = cc.vv.roomMgr.viewChairID(e.list[n].seatid)) && (e.list[n].round_score < 0 ? setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3) : setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3));
}
function b() {
t.nodeJiesuan.active = !0;
t.nodeJiesuan.getChildByName("btn_ready").scale = 1;
cc.vv.utils.popPanel(t.nodeJiesuan);
}
var w = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
setTimeout(function() {
t._senceDestroy || b();
}, 2e3);
for (n = 0; n < a; n++) {
var x = cc.callFunc(function() {});
if (e.list[n].seatid != this._zhuang) if (e.list[n].round_score < 0) {
var z = cc.vv.roomMgr.viewChairID(e.list[n].seatid);
if (!w[k = cc.vv.roomMgr.viewChairID(this._zhuang)]) continue;
this.playBetByXY(this._winPlayer, w[z].x, w[z].y, w[k].x, w[k].y, 10, x);
} else if (e.list[n].round_score > 0) {
z = cc.vv.roomMgr.viewChairID(this._zhuang);
var k = cc.vv.roomMgr.viewChairID(e.list[n].seatid);
if (!w[z]) continue;
this.playBetByXY(this._winPlayer, w[z].x, w[z].y, w[k].x, w[k].y, 10, x);
}
}
setTimeout(function() {
t.nodeJiesuan.active = !0;
cc.vv.roomMgr.is_replay || i.mingpai(e);
}, 2500);
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
report: function(e) {
this.node.getChildByName("pop").removeAllChildren();
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.nodeReport.getChildByName("otherScore").getComponent(cc.Label).string = "其他:" + e.otherScore;
this.table.hide_dismiss_room();
var i = this.nodeReport.getChildByName("list1");
i.removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.enter.room_id;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomwanfa").getComponent(cc.Label).string = "玩法:" + cc.vv.roomMgr.enter.desc;
for (var t = 0, a = 0; a < e.list.length; ++a) if (e.list[a].result_score < t) {
t = e.list[a].result_score;
a;
}
var n = 0;
for (a = 0; a < e.list.length; ++a) e.list[a].userid > 0 && n++;
n = cc.vv.roomMgr.ren;
for (a = 0; a < n; ++a) if (0 != e.list[a].userid && 1 == e.list[a].hasJoinedBattle) {
var s = cc.vv.roomMgr.viewChairID(a), c = {
name: e.list[a].name,
userid: e.list[a].userid,
headimg: e.list[a].headimg,
winNum: e.list[a].winNum,
Kill: e.list[a].Kill,
die: e.list[a].die,
EightAndNine: e.list[a].EightAndNine,
score: e.list[a].result_score,
dayingjia: e.list[a].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[a].result_score == t && 0 != e.list[a].result_score
}, o = cc.instantiate(this.reportItemPrefab);
i.addChild(o);
o.emit("info", c);
0 == s && (this.nodeReport.getChildByName("score").getComponentInChildren(cc.Label).string = "+" + e.list[a].coins);
}
},
show_xiazhu: function() {
if (1 != cc.vv.roomMgr.is_replay && !this.watch_game()) {
this.nodeXiazhu.active = !0;
for (var e = 0; e < this.nodeXiazhu.childrenCount; e++) {
this.nodeXiazhu.children[e].scale = 1;
var i = this.nodeXiazhu.children[e], t = i.getComponent(cc.Button);
t.interactable = !0;
i.myTag > this._xiaZhuRange && (t.interactable = !1);
}
}
},
stage: function(e) {
this.node.getChildByName("pop").removeAllChildren();
if (null != e.ready) {
this.new_round();
this.watch_game_list();
this.is_operation = !0;
if (null != e.xiazhu) for (var i = 0; i < e.xiazhu.length; i++) {
0 == cc.vv.roomMgr.viewChairID(i) && (0 == e.xiazhu[i] ? this.Received_xiazhuok = !0 : -2 == e.xiazhu[i] && (this.Received_xiazhuok = !1));
}
this.nodeAllPai && this.nodeAllPai.removeAllChildren();
cc.vv.roomMgr.stage = e;
this.isStage = !0;
cc.vv.roomMgr.real = e.real;
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
null == e.round && (cc.vv.roomMgr.now = e.now);
this.node.getChildByName("mgr").getChildByName("hud").emit("round");
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
e.mingpai && this.showMingPai(e);
if (e.tuoguan) if (1 == e.tuoguan[cc.vv.roomMgr.seatid]) {
this.isTuoguan = !0;
this.tuoguanNode.active = !0;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
} else if (0 == e.tuoguan[cc.vv.roomMgr.seatid]) {
this.isTuoguan = !1;
this.tuoguanNode.active = !1;
}
switch (e.stage) {
case 1:
case 2:
this.auto_tips(e.deal_time, "不抢庄");
this.kaiqiang();
for (i = 0; i < cc.vv.roomMgr.real; ++i) {
var t = cc.vv.roomMgr.viewChairID(i);
0 != e.qiangZhuang[i] && this.showOrHideQiangzhuang(t, 1 == e.qiangZhuang[i]);
}
break;

case 6:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.yaoShaiziZhuang = !0;
this.saizi_animation(e);
break;

case 3:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
break;

case 4:
this._xiaZhuRange = e.xiaZhuRange;
this.auto_tips(e.deal_time, "下注最小注");
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
this.showAllXiazhu(e);
break;

case 5:
this.auto_tips(e.deal_time, "开牌");
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
this.showAllXiazhu(e);
this.kaipaiAll(e);
break;

case 97:
1 == e.ready && (this.node.getChildByName("watchgame").active = !1);
null != e.zhuang && (this._zhuang = e.zhuang);
t = cc.vv.roomMgr.viewChairID(this._zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
this.isStage = !1;
}
},
cuopai: function(e) {
this._itemkaipai.active = !0;
this._itemkaipai.emit("cuopai", e);
},
kaipaiAll: function(e) {
this._kaipai = e.kaipai;
for (var i = 0; i < this._kaipai.length; i++) {
var t = cc.vv.roomMgr.viewChairID(i);
if (1 == this._kaipai[i]) {
if (0 == t) {
this.is_kaipai = !0;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
this._kaipai[i] = 0;
var a = {
seatid: i,
type: e.type[i],
hand: e.hand[i]
};
this.kaipai(a);
} else if (2 == this._kaipai[i]) {
if (0 == t) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !0;
this.nodeKaipai.scale = 1;
}
} else if (0 == t) {
this.is_kaipai = !1;
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeCuopai.scale = 1;
this.nodeKaipai.scale = 1;
}
}
if (this.watch_game()) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
kaipai: function(e) {
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
this.Received_xiazhuok = !1;
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tjd_kaipai");
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.fanpaiAnimation(i, e, e.seatid);
}
},
new_round: function() {
this.tip(null);
this.is_kaipai = !1;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeSezi.active = !1;
this.is_operation = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
this.Received_xiazhuok = !1;
this.nodeCard.removeAllChildren();
this.nodeSezi.removeAllChildren();
this.fapaiok = !1;
this._nodeyaosezi = cc.instantiate(this.prefabYaosezi);
this.nodeSezi.addChild(this._nodeyaosezi);
this.TJDSaiZiAnim = this._nodeyaosezi.getComponent(cc.Animation);
this.yao = this._nodeyaosezi.getChildByName("yao");
this.yao1 = this._nodeyaosezi.getChildByName("yao1");
this.initEventSeZi();
null != this._itemkaipai && this._itemkaipai.destroy();
this._itemkaipai = cc.instantiate(this.preTJDkaipai);
this.nodeMsg.addChild(this._itemkaipai);
this._itemkaipai.active = !1;
this.node_watchgame.active = !1;
for (var e = 0; e < 6; e++) {
this.nodeLabelscoreArr[e].active = !1;
this.nodeLabelscoreArr[e].getComponent(cc.Label).string = "";
this.nodeLabelscoreArr[e].getComponentInChildren(cc.Label).string = "";
}
1 != this._zhuang_mode && this.table.seat_emit(null, "dingzhuang", {
seatid: null
});
this.hidePai();
cc.vv.roomMgr.is_replay && (this.nodeMingpai.getChildByName("list1").active = !1);
this._currdao = 1;
this._kaipai = [ 0, 0, 0, 0, 0 ];
this._isfour = [ 0, 0, 0, 0, 0 ];
this.hangNumber = [ 0, 1 ];
this.lieNumber = [ 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ];
if (4 == cc.vv.roomMgr.ren) {
this.nodeCuopai.y = -250;
this.nodeKaipai.y = -250;
} else if (5 == cc.vv.roomMgr.ren) {
this.nodeCuopai.y = -320;
this.nodeKaipai.y = -320;
}
},
tip: function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.dianshuAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
mingpai: function(e) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeMingpai.getChildByName("list1").children;
for (var i = 0; i < e.mingpai.length; i++) {
var t = cc.instantiate(this.prefabTJDMingPai);
t.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("B" + e.mingpai[i]);
33 == e.mingpai[i] && (t.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("F7"));
this.nodeMingpai.getChildByName("list1").addChild(t);
}
},
xiazhutip: function(e) {
if (null != e) {
var i = e;
this.sprTipe.spriteFrame = this.xiazhuAtlas.getSpriteFrame(i);
this.sprTipe.node.active = !0;
} else this.sprTipe.node.active = !1;
},
shaizitip: function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
isXiaZhu: function(e) {
for (var i = 0, t = 0; t < e.length; t++) -2 == e[t] && i++;
return i;
},
dealXipai: function(e, i, t, a) {
for (var n = 0; n < 2; n++) for (var s = i; s < t; s++) {
var c = cc.instantiate(this.PrefabMajiang), o = c.getComponent("TJDMajiang"), h = e[n].x + s * e[n].distance - 25, r = e[n].y;
o.node.setPosition(h, r);
o.node.scale = e[n].scale;
this.nodeAllPai.addChild(c);
c.myTag = n + "_" + s;
1 == n && s == t - 1 && null != a && a();
}
},
xipaiAnimation: function(e) {
var i = this, t = cc.vv.game.config.xipai_pos;
this.dealXipai(t, 0, 10, function() {
var t = {
indexY: 2,
indexX: 10,
callback: e
};
i.nodeAllPai.emit("xipai", t);
});
},
showAllPaiAnimation: function() {
var e = cc.vv.game.config.not_xipai_pos;
this.dealXipai(e, 0, 10, function() {});
},
play_tjd_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "ttz/" + t + "/type_" + i;
cc.vv.audioMgr.playSFX(a);
},
fapaiAnimation: function() {
var e = this;
setTimeout(function() {
e.is_operation = !0;
}, 3e3);
for (var i = this.mingpaiValue, t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], a = 0; a < cc.vv.roomMgr.ren; a++) {
var n = cc.vv.roomMgr.viewChairID((a + this.dianshu) % cc.vv.roomMgr.ren), s = 2 * parseInt((i / 2 + a) / 10), c = (i / 2 + a) % 10, o = s + 1, h = c, r = {
viewid: n,
index: 0
};
e.send_card_emit(e.hangNumber[s], e.lieNumber[c], "setTag", r);
var l = {
viewid: n,
index: 1
};
e.send_card_emit(e.hangNumber[o], e.lieNumber[h], "setTag", l);
for (var d = 0; d < this.paiNumber; d++) {
var g = null;
1 == d && (g = function() {
cc.vv.audioMgr.playSFX("tjd/ttz_card_send");
});
var u = {
viewid: n,
index: d,
x: t[n].pos.card.x,
y: t[n].pos.card.y + t[n].distanceH * d,
scale: t[n].pos.card.scale,
delayTime: (100 + 200 * a) / 1e3,
callback: g
};
e.send_card_tag_emit(u.viewid, u.index, "fapai", u);
if (0 == n) {
e.fapaiok = !0;
if (e.Received_xiazhuok) e.xiazhuok(); else {
e.nodeCuopai.active = !1;
e.nodeKaipai.active = !1;
}
}
}
var _ = {
viewid: n,
index: 1,
distance: t[n].distance,
distanceH: t[n].distanceH,
delayTime: (400 + 200 * a) / 1e3
};
e.send_card_tag_emit(_.viewid, _.index, "fapaianimation", _);
}
},
showAllPai: function() {
var e = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], i = this.mingpaiValue;
this.fapaiok = !0;
for (var t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = cc.vv.roomMgr.viewChairID((t + this.dianshu) % cc.vv.roomMgr.ren), n = 2 * parseInt((i / 2 + t) / 10), s = (i / 2 + t) % 10, c = n + 1, o = s, h = {
viewid: a,
index: 0
};
this.send_card_emit(this.hangNumber[n], this.lieNumber[s], "setTag", h);
var r = {
viewid: a,
index: 1
};
this.send_card_emit(this.hangNumber[c], this.lieNumber[o], "setTag", r);
for (var l = 0; l < this.paiNumber; l++) {
var d = {
viewid: a,
index: l,
x: e[a].pos.card.x + e[a].distance * l,
y: e[a].pos.card.y,
scale: e[a].pos.card.scale
};
this.send_card_tag_emit(d.viewid, d.index, "showPai", d);
}
}
},
fanpaiAnimation: function(e, i, t) {
var a = this, n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], s = function(e, t, s) {
if (t == a.paiNumber - 1) {
var c = 0;
if (0 == i.type) {
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.bishiAtlas.getSpriteFrame("tjd_bi10");
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
c = 0;
} else if (200 == i.type) {
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_10dianban");
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
if (cc.vv.roomMgr.ren >= 5) {
if (1 == e || 2 == e || 0 == e) h.setPosition(n[e].pos.card.x + n[e].dianshuX + 45, n[e].pos.card.y + n[e].dianshuH); else {
h.setPosition(n[e].pos.card.x + n[e].dianshuX - 40, n[e].pos.card.y + n[e].dianshuH);
5 == e && (h.x += 25);
}
0 != e && (h.scale = .55);
}
a.nodeCard.addChild(h);
c = i.type;
} else if (i.hand[0] == i.hand[1]) {
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_dui" + i.hand[1]);
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
c = i.hand[0] + "0";
} else if (i.type % 10 == 5) {
var o = parseInt((i.type - 5) / 10), h = cc.instantiate(a.PrefabDianshu);
195 == i.type ? h.getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_28gang") : h.getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_" + o + "dianban");
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
cc.vv.roomMgr.ren >= 5 ? 1 == e || 2 == e || 0 == e ? h.setPosition(n[e].pos.card.x + n[e].dianshuX + 40, n[e].pos.card.y + n[e].dianshuH) : 5 == e ? h.setPosition(n[e].pos.card.x + n[e].dianshuX + 5, n[e].pos.card.y + n[e].dianshuH) : h.setPosition(n[e].pos.card.x + n[e].dianshuX - 20, n[e].pos.card.y + n[e].dianshuH) : 1 == e || 0 == e ? h.setPosition(n[e].pos.card.x + n[e].dianshuX + 40, n[e].pos.card.y + n[e].dianshuH) : h.setPosition(n[e].pos.card.x + n[e].dianshuX - 20, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
195 != i.type && (c = i.type + "");
} else {
var r = (i.hand[0] + i.hand[1]) % 10;
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_dian" + r);
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
c = r;
1 == i.hand[0] && 8 == i.hand[1] || 8 == i.hand[0] && 1 == i.hand[1] ? c = "1_8" : 2 == i.hand[0] && 5 == i.hand[1] || 5 == i.hand[0] && 2 == i.hand[1] ? c = "2_5" : 3 == i.hand[0] && 5 == i.hand[1] || 5 == i.hand[0] && 3 == i.hand[1] ? c = "3_5" : 5 == i.hand[0] && 4 == i.hand[1] || 4 == i.hand[0] && 5 == i.hand[1] ? c = "5_4" : (5 == i.hand[0] && 8 == i.hand[1] || 8 == i.hand[0] && 5 == i.hand[1]) && (c = "5_8");
}
0 != cc.vv.roomMgr.table.list[s].userid && 195 != i.type && a.play_tjd_mp3(e, c);
}
};
0 != cc.vv.roomMgr.table.list[t].userid && cc.vv.audioMgr.playSFX("tjd/shuffle");
function c() {
for (var n = 0; n < a.paiNumber; n++) {
var c = {
seatid: t,
viewid: e,
index: n,
value: i.hand[n],
spriteFrame: a.typeAtlas,
callback: s
};
a.send_card_tag_emit(e, n, "trun", c);
}
}
setTimeout(function() {
c();
}, 300);
},
showfanpai: function(e, i) {
for (var t = this, a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = function(e, n) {
if (n == t.paiNumber - 1) if (i[0] + i[1] == 10) {
(c = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.bishiAtlas.getSpriteFrame("tjd_bi10");
c.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(c);
t.play_tjd_mp3(e, 0);
} else if (i[0] == i[1]) {
(c = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dui" + i[1]);
c.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(c);
t.play_tjd_mp3(e, i[0] + 10);
} else if (i.list[ls_jiesuan_idx].type % 10 == 5) {
var s = parseInt((i.list[ls_jiesuan_idx].type - 5) / 10);
dianshu.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_" + s + "dianban");
} else {
var c, o = (i[0] + i[1]) % 10;
(c = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dian" + o);
c.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(c);
t.play_tjd_mp3(e, o);
}
}, s = 0; s < this.paiNumber; s++) {
var c = {
viewid: e,
index: s,
spriteFrame: this.typeAtlas,
value: i[s],
callback: n
};
t.send_card_tag_emit(e, s, "show", c);
}
},
hidePai: function() {
for (var e = 0; e < cc.vv.roomMgr.ren; e++) {
var i = cc.vv.roomMgr.viewChairID(e);
this.send_card_tag_emit(i, 0, "hide");
this.send_card_tag_emit(i, 1, "hide");
}
},
showMingPai: function(e) {
this.mingpaiValue = e.mingpai.length;
this.showAllPaiAnimation();
if (this.nodeAllPai.childrenCount > 0) for (var i = e.mingpai.length, t = 0; t < i / 2; t++) {
var a = 2 * parseInt(t / 10), n = t % 10, s = a + 1, c = n, o = this.hangNumber[a] + "_" + this.lieNumber[n];
cc.vv.utils.getChildByTag(this.nodeAllPai, o).destroy();
var h = this.hangNumber[s] + "_" + this.lieNumber[c];
cc.vv.utils.getChildByTag(this.nodeAllPai, h).destroy();
}
this.nodeMingpai.getChildByName("list1").removeAllChildren();
for (t = 0; t < e.mingpai.length; t++) {
var r = cc.instantiate(this.prefabTJDMingPai);
r.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("B" + e.mingpai[t]);
33 == e.mingpai[t] && (r.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("F7"));
this.nodeMingpai.getChildByName("list1").addChild(r);
}
},
showAllXiazhu: function(e) {
var i = this.new_real_count(), t = e.xiazhu;
i = cc.vv.roomMgr.ren;
for (var a = 0; a < i; a++) {
var n = cc.vv.roomMgr.viewChairID(a), s = t[a];
if (-2 != s) {
0 == n && (this.nodeXiazhu.active = !1);
a != this._zhuang && this.xiazhu_stage({
seatid: a,
power: s
});
} else 0 == n && this._zhuang != a && this.show_xiazhu();
}
},
new_real_count: function() {
for (var e = 0, i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) 0 != i[t].userid && e++;
return e;
},
showOrHideQiangzhuang: function(e, i) {
var t = new cc.Node("isQiangzhuang"), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = t.addComponent(cc.Sprite);
n.spriteFrame = 1 == i ? this.spriteFrameQiangzhuang : this.spriteFrameBuqiangzhuang;
this.nodeIsQiangZhuang.addChild(t);
t.x = a[e].x + a[e].pos.ready.x;
t.y = a[e].y;
t.active = !0;
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
},
send_card_tag_emit: function(e, i, t, a) {
var n = e + "_tag_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
},
onDestroy: function() {
this._senceDestroy = !0;
cc.loader.setAutoRelease(this, !0);
cc.vv.audioMgr.stopSFX(this.soundSaizi);
},
testData: function(e, i) {
this.node.emit(e, i);
},
onButtonQieGuo: function() {
cc.vv.roomMgr.real = 5;
this.testData("cuopai", {
errcode: 0,
data: {
seatid: 1,
type: 90,
userid: 3099,
hand: [ 6, 3 ]
},
errmsg: "ok",
model: "game",
event: "cuopai"
});
}
});
cc._RF.pop();
}, {
TTZ1400Const: "TTZ1400Const",
TTZ1400ReplayMgr: "TTZ1400ReplayMgr"
} ],
TTZ1400KiaPai: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "96654ymrc9KRKmtiUHZBXwe", "TTZ1400KiaPai");
cc.Class({
extends: cc.Component,
properties: {
pai1: cc.Node,
pai2: cc.Node,
type: cc.Sprite,
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
dianshuAtlas: {
default: null,
type: cc.SpriteAtlas
},
bishiAtlas: {
default: null,
type: cc.SpriteAtlas
},
title1: cc.SpriteFrame,
_dianshu: 0,
_falg: 0
},
onLoad: function() {
this.initEventHandlers();
},
start: function() {},
initEventHandlers: function() {
var e = this;
this.pai2.on(cc.Node.EventType.TOUCH_START, function(i) {
0 == e._falg && (e._falg = 1);
});
this.pai2.on(cc.Node.EventType.TOUCH_MOVE, function(i) {
var t = i.touch.getDelta();
e.pai2.x += t.x;
e.pai2.y += t.y;
});
this.pai2.on(cc.Node.EventType.TOUCH_CANCEL, function(i) {
e.pai2.opacity = 255;
});
function i() {
e.pai1.on(cc.Node.EventType.TOUCH_MOVE, function(i) {
var t = i.touch.getDelta();
e.pai1.x += t.x;
e.pai1.y += t.y;
});
e.pai1.on(cc.Node.EventType.TOUCH_CANCEL, function(i) {
e.pai1.opacity = 255;
e.pai1.setPosition(0, 0);
e.pai1.zIndex = 0;
e.pai1.setPosition(133, -82);
e.pai2.setPosition(-116, -82);
e.pai1.getChildByName("pai").active = !0;
e.showType();
e.pai1.off(cc.Node.EventType.TOUCH_START);
e.pai1.off(cc.Node.EventType.TOUCH_MOVE);
e.pai1.off(cc.Node.EventType.TOUCH_CANCEL);
e.pai1.off(cc.Node.EventType.TOUCH_END);
});
e.pai1.on(cc.Node.EventType.TOUCH_END, function(i) {
e.pai1.opacity = 255;
e.pai1.setPosition(0, 0);
e.pai1.zIndex = 0;
e.pai1.setPosition(133, -82);
e.pai2.setPosition(-116, -82);
e.pai1.getChildByName("pai").active = !0;
e.showType();
e.pai1.off(cc.Node.EventType.TOUCH_START);
e.pai1.off(cc.Node.EventType.TOUCH_MOVE);
e.pai1.off(cc.Node.EventType.TOUCH_CANCEL);
e.pai1.off(cc.Node.EventType.TOUCH_END);
});
}
this.pai2.on(cc.Node.EventType.TOUCH_END, function(t) {
e.pai2.opacity = 255;
e.pai1.setPosition(0, 0);
e.pai1.zIndex = 1;
var a = cc.callFunc(function() {
e.pai2.getChildByName("pai").active = !0;
e.pai2.getComponent(cc.Sprite).spriteFrame = e.title1;
});
e.pai2.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, -82)), a));
e.pai2.off(cc.Node.EventType.TOUCH_START);
e.pai2.off(cc.Node.EventType.TOUCH_MOVE);
e.pai2.off(cc.Node.EventType.TOUCH_CANCEL);
e.pai2.off(cc.Node.EventType.TOUCH_END);
i();
});
this.pai2.on(cc.Node.EventType.TOUCH_CANCEL, function(t) {
e.pai2.opacity = 255;
e.pai1.setPosition(0, 0);
e.pai1.zIndex = 1;
var a = cc.callFunc(function() {
e.pai2.getChildByName("pai").active = !0;
e.pai2.getComponent(cc.Sprite).spriteFrame = e.title1;
});
e.pai2.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, -82)), a));
e.pai2.off(cc.Node.EventType.TOUCH_START);
e.pai2.off(cc.Node.EventType.TOUCH_MOVE);
e.pai2.off(cc.Node.EventType.TOUCH_CANCEL);
e.pai2.off(cc.Node.EventType.TOUCH_END);
i();
});
this.node.on("cuopai", function(i) {
e.type.node.active = !1;
e.pai2.getChildByName("pai").active = !1;
e.pai2.getChildByName("pai").getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("B" + i.hand[0]);
33 == i.hand[0] && (e.pai2.getChildByName("pai").getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("F7"));
e.pai1.getComponent(cc.Sprite).spriteFrame = e.title1;
e.pai1.getChildByName("pai").active = !0;
e.pai1.getChildByName("pai").getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("B" + i.hand[1]);
33 == i.hand[1] && (e.pai1.getChildByName("pai").getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("F7"));
e._data = i;
});
},
showType: function() {
this.type.node.active = !0;
if (0 == this._data.type) this.type.spriteFrame = this.bishiAtlas.getSpriteFrame("tjd_bi10"); else if (200 == this._data.type) this.type.spriteFrame = this.dianshuAtlas.getSpriteFrame("tjd_10dianban"); else if (this._data.hand[0] == this._data.hand[1]) this.type.spriteFrame = this.dianshuAtlas.getSpriteFrame("tjd_dui" + this._data.hand[1]); else if (this._data.type % 10 == 5) {
var e = parseInt((this._data.type - 5) / 10);
this.type.spriteFrame = this.dianshuAtlas.getSpriteFrame("tjd_" + e + "dianban");
} else {
var i = (this._data.hand[0] + this._data.hand[1]) % 10;
this.type.spriteFrame = this.dianshuAtlas.getSpriteFrame("tjd_dian" + i);
}
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_kaipai":
cc.vv.net2.quick("kaipai");
this.node.destroy();
}
}
});
cc._RF.pop();
}, {} ],
TTZ1400Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "554ecRGNY9D84bTX2AQ2dS/", "TTZ1400Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
prepareReplay: function() {
this.dispatchEvent("parma", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doQiang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doDingZhuang: function(e) {
this.dispatchEvent("fapai", {
data: {
num: [ e.touzi[0], e.touzi[1] ],
xiPai: 0,
mingpai: e.mingpai
}
});
},
doGetEnd: function(e) {
this.dispatchEvent("getEnd");
},
doXiaZhu: function(e) {
e.length;
this.dispatchEvent("showAllXiazhu", {
data: {
xiazhu: e,
nextDao: 1
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
cc.vv.roomMgr.viewChairID(t);
this.dispatchEvent("kaipai", {
data: {
seatid: t,
hand: e.data[t],
type: e.type[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
TTZ1400ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a12e6nHNgZJ741JbVBj04Q7", "TTZ1400ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.TTZMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action,
type: e.type
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.action) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.TTZMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return .5;
}
if ("dingZhuang" == e.action) {
cc.vv.TTZMgr.doQiang(e.data);
return 2;
}
if ("touZi" == e.action) {
cc.vv.TTZMgr.doDingZhuang(e.data);
return 1;
}
if ("getEnd" == e.action) {
cc.vv.TTZMgr.doGetEnd(e.data);
return 3;
}
if ("xiaZhu" == e.action) {
cc.vv.TTZMgr.doXiaZhu(e.data);
return 1;
}
if ("hand" == e.action) {
cc.vv.TTZMgr.doKaipai(e);
return 1;
}
}
});
cc._RF.pop();
}, {} ],
TTZ1401Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e7f22vlBg5L8qRGV8g05WdJ", "TTZ1401Const");
var a, n, s, c;
function o(e, i, t) {
i in e ? Object.defineProperty(e, i, {
value: t,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[i] = t;
return e;
}
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -448,
y: -255,
distance: 119,
distanceH: 36,
xiazhuX: 140,
xiazhuH: -20,
dianshuX: 64,
dianshuH: 280,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -45,
y: -495,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 512,
y: -68,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 30,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: -100
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -314,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 512,
y: 165,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 30,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: 131
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -84,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -556,
y: 165,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 25,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: -556,
y: 131
},
ready: {
x: 94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -430,
y: -84,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
player5: [ {
x: -448,
y: -255,
distance: 119,
distanceH: 36,
xiazhuX: -107,
xiazhuH: -20,
dianshuX: 244,
dianshuH: 190,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -234,
y: -475,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, (a = {
x: -580,
y: -18,
distance: 30
}, o(a, "distance", 47), o(a, "distanceH", 18), o(a, "xiazhuX", 114), o(a, "xiazhuH", 50), 
o(a, "dianshuX", 130), o(a, "dianshuH", 155), o(a, "scale", .8), o(a, "pos", {
xiazhu: {
x: -580,
y: -44
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -445,
y: -285,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}), a), (n = {
x: -580,
y: 200,
distance: 30
}, o(n, "distance", 47), o(n, "distanceH", 18), o(n, "xiazhuX", 114), o(n, "xiazhuH", 50), 
o(n, "dianshuX", 130), o(n, "dianshuH", 154), o(n, "scale", .8), o(n, "pos", {
xiazhu: {
x: -580,
y: 172
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -445,
y: -74,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}), n), (s = {
x: 580,
y: 200,
distance: 30
}, o(s, "distance", 47), o(s, "distanceH", 18), o(s, "xiazhuX", -137), o(s, "xiazhuH", -102), 
o(s, "dianshuX", -90), o(s, "dianshuH", 152), o(s, "scale", .8), o(s, "pos", {
xiazhu: {
x: 580,
y: 172
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -74,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), s), (c = {
x: 580,
y: -18,
distance: 30
}, o(c, "distance", 47), o(c, "distanceH", 18), o(c, "xiazhuX", -137), o(c, "xiazhuH", -94), 
o(c, "dianshuX", -90), o(c, "dianshuH", 155), o(c, "scale", .8), o(c, "pos", {
xiazhu: {
x: 580,
y: -40
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -285,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), c) ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
xipai_pos: [ {
x: -150,
y: 45,
distance: 47,
scale: 1
}, {
x: -150,
y: 145,
distance: 47,
scale: 1
}, {
x: -150,
y: -155,
distance: 47,
scale: 1
}, {
x: -150,
y: -55,
distance: 47,
scale: 1
} ],
not_xipai_pos: [ {
x: -150,
y: -27,
distance: 47,
scale: 1
}, {
x: -150,
y: -11,
distance: 47,
scale: 1
}, {
x: -150,
y: -83,
distance: 47,
scale: 1
}, {
x: -150,
y: -67,
distance: 47,
scale: 1
} ],
default_bg: "public/table/ysz_bg"
}
});
cc._RF.pop();
}, {} ],
TTZ1401Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "989819mybhMKYFkNmOi0lXp", "TTZ1401Game");
cc.Class({
extends: cc.Component,
properties: {
dianshuAtlas: {
default: null,
type: cc.SpriteAtlas
},
xiazhuAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeSeZi: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
bishiAtlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
nodeZhuang: cc.Node,
nodeCard: cc.Node,
nodeSezi: cc.Node,
nodeXiazhu: cc.Node,
nodeLabelscore: cc.Node,
nodeCuopai: cc.Node,
nodeKaipai: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeMsg: cc.Node,
nodeMingpai: cc.Node,
nodeAllPai: cc.Node,
nodeIsQiangZhuang: cc.Node,
spriteFrameQiangzhuang: cc.SpriteFrame,
spriteFrameBuqiangzhuang: cc.SpriteFrame,
sprTip: cc.Sprite,
sprTipe: cc.Sprite,
labelRoomwanfa: cc.Label,
labelMax: cc.Label,
labelSmall: cc.Label,
labelFen: cc.Label,
labelGuofen: cc.Label,
nodeQie: cc.Node,
nodeGuo: cc.Node,
xiazhuSlider: cc.Slider,
prefabYaosezi: cc.Prefab,
preTJDkaipai: cc.Prefab,
reportItemPrefab: cc.Prefab,
prefabTJDMingPai: cc.Prefab,
PrefabMajiang: cc.Prefab,
PrefabDianshu: cc.Prefab,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0,
_senceDestroy: !1
},
editor: {
executionOrder: -1
},
onLoad: function() {
var i = e("TTZ1401Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "ttz",
hide_nothing_seat: !1,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_4: i.player4,
player_5: i.player5,
xipai_pos: i.xipai_pos,
not_xipai_pos: i.not_xipai_pos,
set_bg: !0,
location: !1,
show_watch_btn: !1,
default_bg: i.default_bg
};
cc.log("TTZ1401Game:onLoad");
this._winPlayer = cc.find("Canvas/mgr/players");
this.auto_tips_node = this.node.getChildByName("mgr").getChildByName("auto_tips");
this.table = this.node.getComponent("Table");
this.node_watchgame = this.node.getChildByName("watchgame");
this.isPlay = !1;
this.mingpaiValue = 0;
this.dianshu = 0;
this.paiNumber = 2;
this.isAutoYao = !1;
this.nodeLabelscoreArr = this.nodeLabelscore.children;
this.soundSaizi = -1;
this.initEventHandlers();
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.TTZMgr = this.node.getComponent("TTZ1401Mgr");
var t = e("TTZ1401ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.TTZMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
new_real: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0, t = 0, a = 0; a < e.length; a++) {
0 != e[a].userid && t++;
var n = cc.vv.roomMgr.getSeatIndexByID(e[a].userid);
0 != e[a].sitStatus ? i++ : 0 == n && (this._my_isin_game = !1);
}
return t - i;
},
user_status_change: function(e) {
if (cc.vv.roomMgr.table && cc.vv.roomMgr.table.list) for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) if (0 != i[t].userid) {
if (1 == e.change_item[t]) {
0 == cc.vv.roomMgr.viewChairID(t) && (this._my_isin_game = !0);
}
i[t].sitStatus = e.change_item[t];
}
},
watch_game_list: function() {
if (cc.vv.roomMgr.table && cc.vv.roomMgr.table.list) {
for (var e = cc.vv.roomMgr.table.list, i = 0; i < e.length; i++) if (0 != e[i].userid) {
var t = cc.vv.roomMgr.viewChairID(e[i].seatid), a = cc.vv.utils.getChildByTag(this._winPlayer, t);
0 != e[i].sitStatus ? a.getChildByName("watch_game").active = !0 : a.getChildByName("watch_game").active = !1;
}
if (this.watch_game()) {
this.new_round();
this.node_watchgame.active = !0;
this.nodeJiesuan.active = !1;
}
}
},
watch_game: function() {
var e = !1;
if (!cc.vv.roomMgr.is_replay && cc.vv.roomMgr.guanzhan_table && cc.vv.roomMgr.guanzhan_table.list) for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) 0 != i[t].userid && i[t].userid == cc.vv.userMgr.userid && (e = !0);
if (cc.vv.roomMgr.table && cc.vv.roomMgr.table.list) {
var a = cc.vv.roomMgr.table.list;
for (t = 0; t < a.length; t++) if (0 != a[t].userid && 0 != a[t].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(a[t].seatid) && (e = !0);
}
}
return e;
},
watch: function(e) {
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (i[t].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("watchgame").active = !0;
var a = this.node.getChildByName("sit");
0 == e.canSit.length ? a.active = !1 : a.active = !0;
}
if (e.userid == cc.vv.userMgr.userid) {
this.tip("zhunbei");
this.new_round();
a.active = !0;
}
},
canSit: function(e) {
var i = this.node.getChildByName("sit");
if (0 == e.canSit.length) i.active = !1; else {
cc.vv.popMgr.alert("有空位置了是否坐入", function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
this.node.getChildByName("sit") && (this.node.getChildByName("sit").active = !1);
}, !0);
i.active = !0;
}
},
error: function(e) {
-99 == e.errcode ? cc.vv.popMgr.alert("" + e.errmsg, function() {
cc.director.loadScene("hall");
}) : cc.vv.popMgr.tip("" + e.errmsg);
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {
e._itemkaipai && (e._itemkaipai.active = !1);
});
this.node.on("error", function(i) {
e.error(i);
}), cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd() && 1 == cc.vv.roomMgr.started) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
cc.vv.popMgr.wait("正在恢复桌面", function() {
setTimeout(function() {
cc.vv.net2.quick("stage");
}, 1e3);
});
}
});
this.node.on("canSit", function(i) {
e.canSit(i.data);
});
this.node.on("watch", function(i) {
e.watch(i.data);
});
this.node.on("user_status_change", function(i) {
e.user_status_change(i.data);
}), this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("init_data", function(i) {
e.init_data(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(i) {
-1 != i.errcode && e.watch_game_list();
}), this.node.on("kaiqiang", function(i) {
e.begin(i.data);
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("buqiangzhuang", function(i) {
e.buqiangzhuang(i.data);
}), this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
}), this.node.on("fapai", function(i) {
e.fapai1Data = i.data;
e.saizi_animation(e.fapai1Data);
}), this.node.on("getEnd", function() {
if (1 == e.isAutoYao || cc.vv.roomMgr.is_replay) e.fapai_1(); else {
e.watch_game() ? e.fapai_1() : cc.vv.roomMgr.seatid != e._zhuang && e.fapai_1();
}
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("xiazhuok", function(i) {
e.Received_xiazhuok = !0;
e.fapaiok && e.xiazhuok(i.data);
}), this.node.on("cuopai", function(i) {
e.cuopai(i.data);
});
this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
cc.vv.roomMgr.jiesuan = i.data;
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
this.node.on("showAllXiazhu", function(i) {
e.showAllXiazhu(i.data);
});
this.node.on("beginXiazhu", function(i) {
e.beginXiazhu(i.data);
});
this.node.on("waitXiazhu", function(i) {
e.tip("tjd_xiazhu");
});
},
beginXiazhu: function(e) {
this.auto_tips(e.time, "下注最小注");
cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu() : this.tip("tjd_xiazhu");
this.labelSmall.string = e.minXiazhu;
this.labelMax.string = e.maxXiazhu;
this.labelFen.string = e.minXiazhu;
},
initEventSeZi: function() {
var e = this;
this.yao.on("touchstart", function(i) {
1 != e.isAutoYao && cc.vv.roomMgr.seatid == e._zhuang && cc.vv.audioMgr.playSFXRepeat("sezi", function(i) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
e.soundSaizi = i;
});
}, this);
this.yao.on("touchmove", function(e) {
if (0 == this.isPlay) {
this.isPlay = !0;
this.TJDSaiZiAnim.play("yaosezimove");
}
var i = e.touch.getDelta(), t = i.x, a = i.y;
this._nodeyaosezi.setPosition(this._nodeyaosezi.x + t, this._nodeyaosezi.y + a);
}, this);
this.yao.on("touchend", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
this.yao.on("touchcancel", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang", {
power: -1
});
break;

case "btn_qiangzhuang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
i = this.labelFen.string;
var t = parseInt(i);
t = parseInt(i);
this.nextxiazhu(t);
break;

case "cuopai":
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
cc.vv.net2.quick("cuoPai");
break;

case "kaipai":
cc.vv.audioMgr.playSFX("tjd/shuffle");
cc.vv.net2.quick("kaipai");
break;

case "btn_qie":
cc.vv.net2.quick("qieguo");
break;

case "btn_ready":
if (1 == cc.vv.roomMgr.jiesuan.isEnd) cc.vv.net2.quick("report"); else if (0 != this.isQieGuo && cc.vv.roomMgr.seatid == this._zhuang) {
this.nodeJiesuan.active = !1;
this.nodeQie.active = !0;
this.nodeQie.children[0].scale = 1;
this.nodeQie.children[1].scale = 1;
} else this.table.node.emit("jgnnready");
}
cc.vv.audioMgr.click();
},
onChangeClick: function(e) {
var i = parseInt(this.labelSmall.string), t = parseInt(this.labelMax.string), a = t - i, n = 10 * Math.floor((e.progress * a + i) / 10);
t <= 10 && (n = Math.floor(e.progress * a + i));
10 == t && 0 == i && (n = e.progress > 0 ? t : i);
this.labelFen.string = n;
},
param: function(e) {
this._desc = e.desc;
this._roomid = e.roomid;
this._zhuang_mode = e.zhuang;
this._zhuang = e.zhuangSeateid;
this._ren = e.ren;
this.isAutoYao = e.auto;
this._dao = e.dao;
if (this.real < 4) {
this._yaruan = -1;
this.__duhong = -1;
} else {
this._yaruan = e.yaruan;
this._duhong = e.duhong;
}
this.num = e.touZi;
this.round = e.round;
this.labelGuofen.string = e.guo;
},
init_data: function(e) {
this.labelGuofen.string = e.init_data.guo;
},
begin: function(e) {
this.kaiqiang(e);
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
},
kaiqiang: function(e) {
if (e) {
this.auto_tips(e.time, "不抢庄");
if (this.isStage) {
var i = cc.vv.roomMgr.stage.ifqiang;
if (0 != i && void 0 != i) return;
}
this.nodeZhuang.active = !0;
this.nodeZhuang.children[0].scale = 1;
this.nodeZhuang.children[1].scale = 1;
if (this.watch_game() || e.now > 1) this.nodeZhuang.active = !1; else if (e.hasOwnProperty("canSitId")) {
for (var t = !1, a = 0; a < e.canSitId.length; a++) {
0 == cc.vv.roomMgr.viewChairID(e.canSitId[a]) && (t = !0);
}
this.nodeZhuang.getChildByName("btn_qiangzhuang").active = t;
}
}
},
qiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.showOrHideQiangzhuang(i, !0);
},
buqiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatId);
this.showOrHideQiangzhuang(i, !1);
},
dingzhuang: function(e) {
var i = this;
this.tip(null);
this.nodeIsQiangZhuang.removeAllChildren();
this._zhuang = e.seatid;
this.nodeZhuang.active = !1;
this.table.dingzhuang(e, function() {
if (!i._senceDestroy) {
var t = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: t
});
}
});
},
saizi_animation: function(e) {
var i = this;
this.fapai1Data = e;
this.sprTip.node.active = !1;
cc.vv.roomMgr.is_replay && this.showMingPai(e);
this.num = e.num;
var t = this._nodeyaosezi.getChildByName("sezi1"), a = this._nodeyaosezi.getChildByName("sezi2"), n = "ttz_sezi_" + e.num[0] + "_0", s = "ttz_sezi_" + e.num[1] + "_0";
t.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(n);
a.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(s);
function c() {
if (1 == i.isAutoYao || cc.vv.roomMgr.is_replay) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else {
var e = i.watch_game();
if (cc.vv.roomMgr.seatid != i._zhuang || e) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else i.shaizitip("plasesaizi");
}
i.nodeSezi.active = !0;
}
if (1 == e.xiPai) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeAllPai.removeAllChildren();
this.mingpaiValue = 0;
this.xipaiAnimation(function() {
c();
});
} else c();
},
fapai_1: function() {
var e = this;
cc.vv.audioMgr.stopSFX(this.soundSaizi);
this.soundSaizi = -1;
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this._nodeyaosezi.angle = -0;
this.TJDSaiZiAnim.stop();
this.TJDSaiZiAnim.play("kaisezi");
cc.vv.audioMgr.playSFX("maiding");
this.isPlay = !1;
function i() {
e.yao.active = !1;
e.yao1.active = !1;
var i = e.fapai1Data;
e.dianshu = i.num[0] + i.num[1];
var t = e.dianshu, a = cc.vv.roomMgr.viewChairID(t % cc.vv.roomMgr.ren), n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
e._nodeyaosezi.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, n[a].x, n[a].y + 10), cc.scaleTo(.5, .5, .5)), cc.callFunc(function() {
e.shaizitip(null);
e.fapaiAnimation();
setTimeout(function() {
null != e._nodeyaosezi && (e._nodeyaosezi.active = !1);
}, 1e3);
})));
}
setTimeout(function() {
e._senceDestroy || i();
}, 1e3);
},
showSaizi: function(e) {
this.dianshu = e.num[0] + e.num[1];
var i = this.dianshu, t = cc.vv.roomMgr.viewChairID(i % cc.vv.roomMgr.ren), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this._nodeyaosezi.x = a[t].x;
this._nodeyaosezi.y = a[t].y + 10;
this._nodeyaosezi.scale = .5;
var n = this._nodeyaosezi.getChildByName("sezi1"), s = this._nodeyaosezi.getChildByName("sezi2"), c = "ttz_sezi_" + e.num[0] + "_0", o = "ttz_sezi_" + e.num[1] + "_0";
n.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(c);
s.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(o);
this.yao.active = !1;
this.yao1.active = !1;
this.nodeSezi.active = !0;
},
show_xiazhu: function() {
if (1 != cc.vv.roomMgr.is_replay && !this.watch_game()) {
this.nodeXiazhu.active = !0;
for (var e = 0; e < this.nodeXiazhu.childrenCount; e++) this.nodeXiazhu.children[e].scale = 1;
}
},
xiazhu: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.nodeLabelscoreArr[i].setPosition(t[i].pos.xiazhu.x, t[i].pos.xiazhu.y);
this.nodeLabelscoreArr[i].active = !0;
var a = this.nodeLabelscoreArr[i].getComponent(cc.Label);
this.nodeLabelscore.active = !0;
a.string += e.power;
0 == i && (this.nodeXiazhu.active = !1);
},
auto_tips: function(e, i) {
if (e <= 0 || null == e) this.auto_tips_node.active = !1; else {
this.text = i;
this.auto_time = e;
this.unschedule(this.upd_auto_time);
this.schedule(this.upd_auto_time, 1);
this.auto_tips_node.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
this.auto_tips_node.active = !0;
}
},
upd_auto_time: function() {
if (this.auto_time <= 0) {
this.unschedule(this.upd_auto_time);
this.auto_tips_node.active = !1;
}
this.auto_time--;
this.auto_tips_node.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
},
xiazhu_stage: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.nodeLabelscoreArr[i].setPosition(t[i].pos.xiazhu.x, t[i].pos.xiazhu.y);
this.nodeLabelscoreArr[i].active = !0;
var a = this.nodeLabelscoreArr[i].getComponent(cc.Label);
this.nodeLabelscore.active = !0;
var n = e.power;
a.string += n;
},
xiazhuok: function(e) {
this.tip(null);
null != e && this.auto_tips(e.time, "开牌");
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeCuopai.scale = 1;
this.nodeKaipai.scale = 1;
if (this.watch_game()) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
auto_ready: function() {
this.autoready--;
this.nodeJiesuan.getChildByName("btn_ready").getChildByName("lbl").getComponent(cc.Label).string = this.autoready;
if (this.autoready <= 0) {
this.autoready = 0;
this.unschedule(this.auto_ready);
}
},
jiesuan: function(e) {
var i = this;
this.auto_tips_node.active = !1;
this.autoready = 10;
this.schedule(this.auto_ready, 1);
this.tip(null);
this._zhuang = e.zhuang;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
var t = this;
if (!t._senceDestroy) {
this._itemkaipai && (this._itemkaipai.active = !1);
if (!this.isStage) for (var a = 0; a < cc.vv.roomMgr.ren; ++a) 1 != this._kaipai[e.list[a].seatid] && this.kaipai({
seatid: e.list[a].seatid,
userid: e.list[a].userid,
hand: e.list[a].hand,
type: e.list[a].type
});
setTimeout(function() {
t.mingpaiValue = e.mingpai.length;
}, 3e3);
this.labelGuofen.string = e.guoFen;
this.isQieGuo = e.isQieGuo;
for (a = 0; a < e.list.length; ++a) if (e.list[a].userid) {
var n = cc.vv.roomMgr.viewChairID(a);
t.table.seat_emit(n, "score", e.list[a].user_score);
e.list[a].round_score > 0 ? t.table.seat_emit(n, "win", e.list[a].round_score) : t.table.seat_emit(n, "lost", e.list[a].round_score);
}
var s = this.nodeJiesuan.getChildByName("viewlist").getChildByName("view").getChildByName("list");
this.nodeJiesuan.getChildByName("roomID").getComponent(cc.Label).string = "房间号：" + cc.vv.roomMgr.enter.room_id;
this.nodeJiesuan.getChildByName("date").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = "第" + e.nowRound + "局 " + cc.vv.roomMgr.enter.desc;
for (a = 0; a < s.children.length; ++a) s.children[a].active = !1;
this.nodeJiesuan.getChildByName("roomID").active = !0;
this.nodeJiesuan.getChildByName("wanfa").active = !0;
this.nodeJiesuan.getChildByName("date").active = !0;
for (a = 0; a < e.list.length; ++a) if (e.list[a].userid) {
n = cc.vv.roomMgr.viewChairID(a);
var c = cc.vv.roomMgr.table.list[a].nickname, o = this.table.seat_img(n), h = s.getChildByName("item" + n);
h.x = s.children[a].x;
h.y = s.children[a].y;
h.active = !0;
h.getChildByName("img").getComponent(cc.Sprite).spriteFrame = o;
h.getChildByName("name").getComponent(cc.Label).string = c;
cc.vv.roomMgr.table.list[a].seatid == this._zhuang ? h.getChildByName("zhuang").active = !0 : h.getChildByName("zhuang").active = !1;
var r = h.getChildByName("score").getComponent(cc.Label), l = h.getChildByName("pai1").getChildByName("New Sprite").getComponent(cc.Sprite), d = h.getChildByName("pai2").getChildByName("New Sprite").getComponent(cc.Sprite);
l.spriteFrame = t.typeAtlas.getSpriteFrame("B" + e.list[a].hand[0]);
d.spriteFrame = t.typeAtlas.getSpriteFrame("B" + e.list[a].hand[1]);
33 == e.list[a].hand[0] && (l.spriteFrame = t.typeAtlas.getSpriteFrame("F7"));
33 == e.list[a].hand[1] && (d.spriteFrame = t.typeAtlas.getSpriteFrame("F7"));
var g = h.getChildByName("score1").getComponent(cc.Label);
2 == cc.vv.roomMgr.param.dao ? g.string = "两道(" + e.list[a].dao[0] + " " + e.list[a].dao[1] + ")" : 3 == cc.vv.roomMgr.param.dao && (g.string = "三道(" + e.list[a].dao[0] + " " + e.list[a].dao[1] + " " + e.list[a].dao[2] + ")");
var u = h.getChildByName("dianshu").getComponent(cc.Sprite);
if (0 == e.list[a].type) u.spriteFrame = t.bishiAtlas.getSpriteFrame("tjd_bi10"); else if (200 == e.list[a].type) u.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_10dianban"); else if (e.list[a].hand[0] == e.list[a].hand[1]) u.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dui" + e.list[a].hand[1]); else if (e.list[a].type % 10 == 5) {
var _ = parseInt((e.list[a].type - 5) / 10);
195 == e.list[a].type ? u.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_28gang") : u.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_" + _ + "dianban");
} else {
var v = (e.list[a].hand[0] + e.list[a].hand[1]) % 10;
u.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dian" + v);
}
var p = t.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), m = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text").getComponent(cc.Sprite), f = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text").getComponent(cc.Sprite);
if (e.list[a].round_score > 0) {
r.string = "+" + cc.vv.utils.numInt(e.list[a].round_score);
if (cc.vv.userMgr.userid == e.list[a].userid) {
p.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_bj1");
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_wanjia1");
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_jifen1");
}
} else if (e.list[a].round_score < 0) {
r.string = cc.vv.utils.numInt(e.list[a].round_score);
if (cc.vv.userMgr.userid == e.list[a].userid) {
p.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_bj2");
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_wanjia2");
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_jifen2");
}
} else {
r.string = cc.vv.utils.numInt(e.list[a].round_score);
if (cc.vv.userMgr.userid == e.list[a].userid) {
p.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_bj1");
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_wanjia2");
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("tjd_jifen1");
}
}
if (1 == e.list[a].userSitStatus) {
h.getChildByName("watch").active = !0;
r.string = "-";
g.string = "-";
} else h.getChildByName("watch").active = !1;
if (1 == this.watch_game()) {
p.spriteFrame = t.jiesuanAtlas.getSpriteFrame("guanzhan");
m.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
}
cc.vv.audioMgr.playSFX("nn/chips");
for (a = 0; a < e.list.length; a++) if (e.list[a].userid) {
0 == (n = cc.vv.roomMgr.viewChairID(e.list[a].seatid)) && (e.list[a].round_score < 0 ? setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3) : setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3));
}
var y = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
setTimeout(function() {
t._senceDestroy || x();
}, 2e3);
for (a = 0; a < e.list.length; a++) if (e.list[a].userid) {
var C = cc.callFunc(function() {});
if (e.list[a].seatid != this._zhuang) if (e.list[a].round_score < 0) {
var b = cc.vv.roomMgr.viewChairID(e.list[a].seatid);
if (!y[w = cc.vv.roomMgr.viewChairID(this._zhuang)]) continue;
this.playBetByXY(this._winPlayer, y[b].x, y[b].y, y[w].x, y[w].y, 10, C);
} else if (e.list[a].round_score > 0) {
b = cc.vv.roomMgr.viewChairID(this._zhuang);
var w = cc.vv.roomMgr.viewChairID(e.list[a].seatid);
if (!y[b]) continue;
this.playBetByXY(this._winPlayer, y[b].x, y[b].y, y[w].x, y[w].y, 10, C);
}
}
setTimeout(function() {
if (!t._senceDestroy) {
t.nodeJiesuan.active = !0;
cc.vv.roomMgr.is_replay || i.mingpai(e);
}
}, 2500);
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
}
function x() {
t.nodeJiesuan.active = !0;
t.nodeJiesuan.getChildByName("btn_ready").scale = 1;
cc.vv.utils.popPanel(t.nodeJiesuan);
}
},
report: function(e) {
this.node.getChildByName("pop").removeAllChildren();
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.table.hide_dismiss_room();
var i = this.nodeReport.getChildByName("list1");
i.removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.enter.room_id;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomwanfa").getComponent(cc.Label).string = "玩法:" + cc.vv.roomMgr.enter.desc;
for (var t = 0, a = 0; a < e.list.length; ++a) if (e.list[a].result_score >= t) {
t = e.list[a].result_score;
a;
}
var n = 0;
for (a = 0; a < e.list.length; ++a) if (e.list[a].result_score < n) {
n = e.list[a].result_score;
a;
}
var s = 0;
for (a = 0; a < e.list.length; ++a) e.list[a].userid > 0 && s++;
for (a = 0; a < s; ++a) {
var c = cc.vv.roomMgr.viewChairID(a), o = {
zhuang: e.zhuang,
seatid: e.list[a].seatid,
name: e.list[a].name,
userid: e.list[a].userid,
headimg: e.list[a].headimg,
winNum: e.list[a].winNum,
Kill: e.list[a].Kill,
die: e.list[a].die,
EightAndNine: e.list[a].EightAndNine,
score: e.list[a].result_score,
dayingjia: e.list[a].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[a].result_score == n && 0 != e.list[a].result_score
}, h = cc.instantiate(this.reportItemPrefab);
i.addChild(h);
h.emit("info", o);
0 == c && (this.nodeReport.getChildByName("score").getComponentInChildren(cc.Label).string = "+" + e.list[a].coins);
}
},
stage: function(e) {
this.new_round();
this.nodeAllPai && this.nodeAllPai.removeAllChildren();
this.watch_game_list();
if (null != e.xiazhu) for (var i = 0; i < e.xiazhu.length; i++) {
0 == cc.vv.roomMgr.viewChairID(i) && (0 == e.xiazhu[i] ? this.Received_xiazhuok = !0 : -2 == e.xiazhu[i] && (this.Received_xiazhuok = !1));
}
this.node.getChildByName("pop").removeAllChildren();
cc.vv.roomMgr.stage = e;
this.isStage = !0;
cc.vv.roomMgr.real = e.real;
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
null == e.round && (cc.vv.roomMgr.now = e.now);
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
e.mingpai && this.showMingPai(e);
switch (e.stage) {
case 1:
case 2:
this.auto_tips(e.deal_time, "不抢庄");
this.kaiqiang(e);
for (i = 0; i < cc.vv.roomMgr.real; ++i) {
var t = cc.vv.roomMgr.viewChairID(i);
0 != e.qiangzhuang[i] && this.showOrHideQiangzhuang(t, 1 == e.qiangzhuang[i]);
}
break;

case 6:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.yaoShaiziZhuang = !0;
this.saizi_animation(e);
break;

case 3:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
break;

case 4:
this.auto_tips(e.deal_time, "下注最小注");
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
this.labelMax.string = e.maxXiazhu;
this.labelSmall.string = e.minXiazhu;
this.labelFen.string = e.minXiazhu;
this.xiazhuSlider.progress = 0;
e.xiazhu;
this.showAllXiazhu(e);
break;

case 5:
this.auto_tips(e.deal_time, "开牌");
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
this.showAllXiazhu(e);
this.kaipaiAll(e);
break;

case 97:
null != e.zhuang && (this._zhuang = e.zhuang);
t = cc.vv.roomMgr.viewChairID(this._zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
this.isStage = !1;
},
cuopai: function(e) {
this._itemkaipai.active = !0;
this._itemkaipai.emit("cuopai", e);
},
kaipaiAll: function(e) {
this._kaipai = e.kaipai;
for (var i = 0; i < this._kaipai.length; i++) {
var t = cc.vv.roomMgr.viewChairID(i);
if (1 == this._kaipai[i]) {
if (0 == t) {
this.is_kaipai = !0;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
this._kaipai[i] = 0;
var a = {
seatid: i,
type: e.type[i],
hand: e.hand[i]
};
this.kaipai(a);
} else if (2 == this._kaipai[i]) {
if (0 == t) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !0;
this.nodeKaipai.scale = 1;
}
} else if (0 == t) {
this.is_kaipai = !1;
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeCuopai.scale = 1;
this.nodeKaipai.scale = 1;
}
}
if (this.watch_game()) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
kaipai: function(e) {
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tjd_kaipai");
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.fanpaiAnimation(i, e, e.seatid);
}
},
new_round: function() {
this.tip(null);
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeSezi.active = !1;
this.nodeQie.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
this.Received_xiazhuok = !1;
this.nodeCard.removeAllChildren();
this.nodeSezi.removeAllChildren();
this._nodeyaosezi = cc.instantiate(this.prefabYaosezi);
this.nodeSezi.addChild(this._nodeyaosezi);
this.TJDSaiZiAnim = this._nodeyaosezi.getComponent(cc.Animation);
this.yao = this._nodeyaosezi.getChildByName("yao");
this.yao1 = this._nodeyaosezi.getChildByName("yao1");
this.initEventSeZi();
this.fapaiok = !1;
null != this._itemkaipai && this._itemkaipai.destroy();
this._itemkaipai = cc.instantiate(this.preTJDkaipai);
this.nodeMsg.addChild(this._itemkaipai);
this._itemkaipai.active = !1;
this.node_watchgame.active = !1;
for (var e = 0; e < 6; e++) {
this.nodeLabelscoreArr[e].active = !1;
this.nodeLabelscoreArr[e].getComponent(cc.Label).string = "";
}
this.hidePai();
cc.vv.roomMgr.is_replay && (this.nodeMingpai.getChildByName("list1").active = !1);
this._currdao = 1;
this._kaipai = [ 0, 0, 0, 0, 0 ];
this._isfour = [ 0, 0, 0, 0, 0 ];
this.hangNumber = [ 0, 1 ];
this.lieNumber = [ 9, 8, 7, 6, 5, 4, 3, 2, 1, 0 ];
this.xiazhuSlider.progress = 0;
if (4 == cc.vv.roomMgr.ren) {
this.nodeCuopai.y = -250;
this.nodeKaipai.y = -250;
} else if (5 == cc.vv.roomMgr.ren) {
this.nodeCuopai.y = -320;
this.nodeKaipai.y = -320;
}
},
nextxiazhu: function(e) {
4 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: 4,
power: e
}) : 5 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: 5,
power: e
}) : 1 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
}) : 2 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
}) : 3 == this._currdao && cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
});
},
tip: function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.dianshuAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
mingpai: function(e) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeMingpai.getChildByName("list1").children;
for (var i = 0; i < e.mingpai.length; i++) {
var t = cc.instantiate(this.prefabTJDMingPai);
t.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("B" + e.mingpai[i]);
33 == e.mingpai[i] && (t.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("F7"));
this.nodeMingpai.getChildByName("list1").addChild(t);
}
},
xiazhutip: function(e) {
if (null != e) {
var i = e;
this.sprTipe.spriteFrame = this.xiazhuAtlas.getSpriteFrame(i);
this.sprTipe.node.active = !0;
} else this.sprTipe.node.active = !1;
},
shaizitip: function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
isXiaZhu: function(e) {
for (var i = 0, t = 0; t < e.length; t++) -2 == e[t] && i++;
return i;
},
dealXipai: function(e, i, t, a) {
for (var n = 0; n < 2; n++) for (var s = i; s < t; s++) {
var c = cc.instantiate(this.PrefabMajiang), o = c.getComponent("TJDMajiang"), h = e[n].x + s * e[n].distance - 25, r = e[n].y;
o.node.setPosition(h, r);
o.node.scale = e[n].scale;
this.nodeAllPai.addChild(c);
c.myTag = n + "_" + s;
1 == n && s == t - 1 && null != a && a();
}
},
xipaiAnimation: function(e) {
var i = this, t = cc.vv.game.config.xipai_pos;
this.dealXipai(t, 0, 10, function() {
var t = {
indexY: 2,
indexX: 10,
callback: e
};
i.nodeAllPai.emit("xipai", t);
});
},
showAllPaiAnimation: function() {
var e = cc.vv.game.config.not_xipai_pos;
this.dealXipai(e, 0, 10, function() {});
},
play_tjd_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "ttz/" + t + "/type_" + i;
cc.log("mp3File = ", a);
cc.log("type = ", i);
cc.vv.audioMgr.playSFX(a);
},
fapaiAnimation: function() {
for (var e = this.mingpaiValue, i = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = cc.vv.roomMgr.viewChairID((t + this.dianshu) % cc.vv.roomMgr.ren), n = 2 * parseInt((e / 2 + t) / 10), s = (e / 2 + t) % 10, c = n + 1, o = s, h = {
viewid: a,
index: 0
};
this.send_card_emit(this.hangNumber[n], this.lieNumber[s], "setTag", h);
var r = {
viewid: a,
index: 1
};
this.send_card_emit(this.hangNumber[c], this.lieNumber[o], "setTag", r);
for (var l = 0; l < this.paiNumber; l++) {
var d = null;
1 == l && (d = function() {
cc.vv.audioMgr.playSFX("tjd/ttz_card_send");
});
var g = {
viewid: a,
index: l,
x: i[a].pos.card.x,
y: i[a].pos.card.y + i[a].distanceH * l,
scale: i[a].pos.card.scale,
delayTime: (100 + 500 * t) / 1e3,
callback: d
};
this.send_card_tag_emit(g.viewid, g.index, "fapai", g);
if (0 == a) {
this.fapaiok = !0;
if (this.Received_xiazhuok) this.xiazhuok(); else {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
}
}
var u = {
viewid: a,
index: 1,
distance: i[a].distance,
distanceH: i[a].distanceH,
delayTime: (400 + 500 * t) / 1e3
};
this.send_card_tag_emit(u.viewid, u.index, "fapaianimation", u);
}
},
showAllPai: function() {
var e = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], i = this.mingpaiValue;
this.fapaiok = !0;
for (var t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = cc.vv.roomMgr.viewChairID((t + this.dianshu) % cc.vv.roomMgr.ren), n = 2 * parseInt((i / 2 + t) / 10), s = (i / 2 + t) % 10, c = n + 1, o = s, h = {
viewid: a,
index: 0
};
this.send_card_emit(this.hangNumber[n], this.lieNumber[s], "setTag", h);
var r = {
viewid: a,
index: 1
};
this.send_card_emit(this.hangNumber[c], this.lieNumber[o], "setTag", r);
for (var l = 0; l < this.paiNumber; l++) {
var d = {
viewid: a,
index: l,
x: e[a].pos.card.x + e[a].distance * l,
y: e[a].pos.card.y,
scale: e[a].pos.card.scale
};
this.send_card_tag_emit(d.viewid, d.index, "showPai", d);
}
}
},
fanpaiAnimation: function(e, i, t) {
var a = this, n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], s = function(e, t, s) {
if (t == a.paiNumber - 1) {
var c = 0;
if (0 == i.type) {
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.bishiAtlas.getSpriteFrame("tjd_bi10");
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
c = 0;
} else if (200 == i.type) {
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_10dianban");
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
if (cc.vv.roomMgr.ren >= 5) {
if (1 == e || 2 == e || 0 == e) h.setPosition(n[e].pos.card.x + n[e].dianshuX + 45, n[e].pos.card.y + n[e].dianshuH); else {
h.setPosition(n[e].pos.card.x + n[e].dianshuX - 40, n[e].pos.card.y + n[e].dianshuH);
5 == e && (h.x += 25);
}
0 != e && (h.scale = .55);
}
a.nodeCard.addChild(h);
c = i.type;
} else if (i.hand[0] == i.hand[1]) {
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_dui" + i.hand[1]);
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
c = i.hand[0] + "0";
} else if (i.type % 10 == 5) {
var o = parseInt((i.type - 5) / 10), h = cc.instantiate(a.PrefabDianshu);
195 == i.type ? h.getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_28gang") : h.getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_" + o + "dianban");
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
cc.vv.roomMgr.ren >= 5 ? 1 == e || 2 == e || 0 == e ? h.setPosition(n[e].pos.card.x + n[e].dianshuX + 40, n[e].pos.card.y + n[e].dianshuH) : 5 == e ? h.setPosition(n[e].pos.card.x + n[e].dianshuX + 5, n[e].pos.card.y + n[e].dianshuH) : h.setPosition(n[e].pos.card.x + n[e].dianshuX - 20, n[e].pos.card.y + n[e].dianshuH) : 1 == e || 0 == e ? h.setPosition(n[e].pos.card.x + n[e].dianshuX + 40, n[e].pos.card.y + n[e].dianshuH) : h.setPosition(n[e].pos.card.x + n[e].dianshuX - 20, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
c = i.type;
} else {
var r = (i.hand[0] + i.hand[1]) % 10;
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_dian" + r);
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
c = r;
1 == i.hand[0] && 8 == i.hand[1] || 8 == i.hand[0] && 1 == i.hand[1] ? c = "1_8" : 2 == i.hand[0] && 5 == i.hand[1] || 5 == i.hand[0] && 2 == i.hand[1] ? c = "2_5" : 3 == i.hand[0] && 5 == i.hand[1] || 5 == i.hand[0] && 3 == i.hand[1] ? c = "3_5" : 5 == i.hand[0] && 4 == i.hand[1] || 4 == i.hand[0] && 5 == i.hand[1] ? c = "5_4" : (5 == i.hand[0] && 8 == i.hand[1] || 8 == i.hand[0] && 5 == i.hand[1]) && (c = "5_8");
}
0 != cc.vv.roomMgr.table.list[s].userid && a.play_tjd_mp3(e, c);
}
};
cc.vv.roomMgr.table && cc.vv.roomMgr.table.list && 0 != cc.vv.roomMgr.table.list[t].userid && cc.vv.audioMgr.playSFX("tjd/shuffle");
function c() {
for (var n = 0; n < a.paiNumber; n++) {
var c = {
seatid: t,
viewid: e,
index: n,
spriteFrame: a.typeAtlas,
value: i.hand[n],
callback: s
};
a.send_card_tag_emit(e, n, "trun", c);
}
}
setTimeout(function() {
c();
}, 300);
},
showfanpai: function(e, i) {
for (var t = this, a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = function(e, n) {
if (n == t.paiNumber - 1) if (i[0] + i[1] == 10) {
(s = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.bishiAtlas.getSpriteFrame("tjd_bi10");
s.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(s);
t.play_tjd_mp3(e, 0);
} else if (i[0] == i[1]) {
(s = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dui" + i[1]);
s.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(s);
t.play_tjd_mp3(e, i[0] + 10);
} else {
var s, c = (i[0] + i[1]) % 10;
(s = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dian" + c);
s.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(s);
t.play_tjd_mp3(e, c);
}
}, s = 0; s < this.paiNumber; s++) {
var c = {
viewid: e,
index: s,
spriteFrame: this.typeAtlas,
value: i[s],
callback: n
};
t.send_card_tag_emit(e, s, "show", c);
}
},
hidePai: function() {
for (var e = 0; e < cc.vv.roomMgr.ren; e++) {
var i = cc.vv.roomMgr.viewChairID(e);
this.send_card_tag_emit(i, 0, "hide");
this.send_card_tag_emit(i, 1, "hide");
}
},
showMingPai: function(e) {
this.mingpaiValue = e.mingpai.length;
this.showAllPaiAnimation();
if (this.nodeAllPai.childrenCount > 0) for (var i = e.mingpai.length, t = 0; t < i / 2; t++) {
var a = 2 * parseInt(t / 10), n = t % 10, s = a + 1, c = n, o = this.hangNumber[a] + "_" + this.lieNumber[n], h = cc.vv.utils.getChildByTag(this.nodeAllPai, o);
h && h.destroy();
var r = this.hangNumber[s] + "_" + this.lieNumber[c], l = cc.vv.utils.getChildByTag(this.nodeAllPai, r);
l && l.destroy();
}
this.nodeMingpai.getChildByName("list1").removeAllChildren();
for (t = 0; t < e.mingpai.length; t++) {
var d = cc.instantiate(this.prefabTJDMingPai);
d.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("B" + e.mingpai[t]);
33 == e.mingpai[t] && (d.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("F7"));
this.nodeMingpai.getChildByName("list1").addChild(d);
}
},
showAllXiazhu: function(e) {
for (var i = this.new_real_count(), t = e.xiazhu, a = 0; a < i; a++) {
var n = cc.vv.roomMgr.viewChairID(a), s = t[a];
if (-2 != s) {
0 == n && (this.nodeXiazhu.active = !1);
a != this._zhuang && this.xiazhu_stage({
seatid: a,
power: s
});
} else 0 == n && this._zhuang != a && this.show_xiazhu();
}
},
new_real_count: function() {
for (var e = 0, i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) 0 != i[t].userid && e++;
return e;
},
showOrHideQiangzhuang: function(e, i) {
var t = new cc.Node("isQiangzhuang"), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = t.addComponent(cc.Sprite);
n.spriteFrame = 1 == i ? this.spriteFrameQiangzhuang : this.spriteFrameBuqiangzhuang;
this.nodeIsQiangZhuang.addChild(t);
t.x = a[e].x + a[e].pos.ready.x;
t.y = a[e].y;
t.active = !0;
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
},
send_card_tag_emit: function(e, i, t, a) {
var n = e + "_tag_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
},
onDestroy: function() {
this._senceDestroy = !0;
cc.loader.setAutoRelease(this, !0);
cc.vv.audioMgr.stopSFX(this.soundSaizi);
},
testData: function(e, i) {
this.node.emit(e, i);
},
onButtonQieGuo: function() {
cc.vv.roomMgr.real = 5;
this.testData("cuopai", {
errcode: 0,
data: {
seatid: 1,
type: 90,
userid: 3099,
hand: [ 6, 3 ]
},
errmsg: "ok",
model: "game",
event: "cuopai"
});
}
});
cc._RF.pop();
}, {
TTZ1401Const: "TTZ1401Const",
TTZ1401ReplayMgr: "TTZ1401ReplayMgr"
} ],
TTZ1401Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "cf390TDGs9EL4rxBcw18qsJ", "TTZ1401Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
prepareReplay: function() {
this.dispatchEvent("parma", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doInit: function(e) {
this.dispatchEvent("init_data", {
data: {
init_data: {
guo: e.beginGuo
}
}
});
},
doQiang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doDingZhuang: function(e) {
this.dispatchEvent("fapai", {
data: {
num: [ e.touzi[0], e.touzi[1] ],
xiPai: 0,
mingpai: e.mingpai
}
});
},
doGetEnd: function(e) {
this.dispatchEvent("getEnd");
},
doXiaZhu: function(e) {
e.length;
this.dispatchEvent("showAllXiazhu", {
data: {
xiazhu: e,
nextDao: 1
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
cc.vv.roomMgr.viewChairID(t);
this.dispatchEvent("kaipai", {
data: {
seatid: t,
hand: e.data[t],
type: e.type[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
TTZ1401ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "0059cKxTNBI/LSwY+W5oBrq", "TTZ1401ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.TTZMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action,
type: e.type
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.action) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.TTZMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return .2;
}
if ("init" == e.action) {
cc.vv.TTZMgr.doInit(e.data);
return .5;
}
if ("dingZhuang" == e.action) {
cc.vv.TTZMgr.doQiang(e.data);
return 2;
}
if ("touZi" == e.action) {
cc.vv.TTZMgr.doDingZhuang(e.data);
return 1;
}
if ("getEnd" == e.action) {
cc.vv.TTZMgr.doGetEnd(e.data);
return 3;
}
if ("xiaZhu" == e.action) {
cc.vv.TTZMgr.doXiaZhu(e.data);
return 1;
}
if ("hand" == e.action) {
cc.vv.TTZMgr.doKaipai(e);
return 1;
}
}
});
cc._RF.pop();
}, {} ],
TTZ1402Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "0da207QqiVCX6OF+OG4ZpXT", "TTZ1402Const");
var a, n, s, c;
function o(e, i, t) {
i in e ? Object.defineProperty(e, i, {
value: t,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[i] = t;
return e;
}
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -448,
y: -255,
distance: 119,
distanceH: 36,
xiazhuX: 140,
xiazhuH: -20,
dianshuX: 64,
dianshuH: 280,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -45,
y: -495,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 512,
y: -68,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 30,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: -100
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -314,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 512,
y: 165,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 30,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: 131
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -84,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -556,
y: 165,
distance: 47,
distanceH: 18,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 25,
dianshuH: 230,
scale: 1,
pos: {
xiazhu: {
x: -556,
y: 131
},
ready: {
x: 94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -430,
y: -84,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
player5: [ {
x: -448,
y: -255,
distance: 119,
distanceH: 36,
xiazhuX: -107,
xiazhuH: -20,
dianshuX: 244,
dianshuH: 190,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -234,
y: -475,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, (a = {
x: -580,
y: -18,
distance: 30
}, o(a, "distance", 47), o(a, "distanceH", 18), o(a, "xiazhuX", 114), o(a, "xiazhuH", 50), 
o(a, "dianshuX", 130), o(a, "dianshuH", 155), o(a, "scale", .8), o(a, "pos", {
xiazhu: {
x: -580,
y: -44
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -445,
y: -285,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}), a), (n = {
x: -580,
y: 200,
distance: 30
}, o(n, "distance", 47), o(n, "distanceH", 18), o(n, "xiazhuX", 114), o(n, "xiazhuH", 50), 
o(n, "dianshuX", 130), o(n, "dianshuH", 154), o(n, "scale", .8), o(n, "pos", {
xiazhu: {
x: -580,
y: 172
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -445,
y: -74,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}), n), (s = {
x: 580,
y: 200,
distance: 30
}, o(s, "distance", 47), o(s, "distanceH", 18), o(s, "xiazhuX", -137), o(s, "xiazhuH", -102), 
o(s, "dianshuX", -90), o(s, "dianshuH", 152), o(s, "scale", .8), o(s, "pos", {
xiazhu: {
x: 580,
y: 172
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -74,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), s), (c = {
x: 580,
y: -18,
distance: 30
}, o(c, "distance", 47), o(c, "distanceH", 18), o(c, "xiazhuX", -137), o(c, "xiazhuH", -94), 
o(c, "dianshuX", -90), o(c, "dianshuH", 155), o(c, "scale", .8), o(c, "pos", {
xiazhu: {
x: 580,
y: -40
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -285,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}), c) ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
xipai_pos: [ {
x: -150,
y: 45,
distance: 47,
scale: 1
}, {
x: -150,
y: 145,
distance: 47,
scale: 1
}, {
x: -150,
y: -155,
distance: 47,
scale: 1
}, {
x: -150,
y: -55,
distance: 47,
scale: 1
} ],
not_xipai_pos: [ {
x: -150,
y: -27,
distance: 47,
scale: 1
}, {
x: -150,
y: -11,
distance: 47,
scale: 1
}, {
x: -150,
y: -83,
distance: 47,
scale: 1
}, {
x: -150,
y: -67,
distance: 47,
scale: 1
} ]
}
});
cc._RF.pop();
}, {} ],
TTZ1402Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e8fd8neDeVFKZBjKKvOMRiO", "TTZ1402Game");
cc.Class({
extends: cc.Component,
properties: {
dianshuAtlas: {
default: null,
type: cc.SpriteAtlas
},
xiazhuAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeSeZi: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
btnAtlas: {
default: null,
type: cc.Font
},
bishiAtlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
nodeZhuang: cc.Node,
nodeCard: cc.Node,
nodeSezi: cc.Node,
nodeXiazhu: cc.Node,
nodeLabelscore: cc.Node,
nodeCuopai: cc.Node,
nodeKaipai: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
nodeMsg: cc.Node,
nodeMingpai: cc.Node,
nodeAllPai: cc.Node,
nodeIsQiangZhuang: cc.Node,
spriteFrameQiangzhuang: cc.SpriteFrame,
spriteFrameBuqiangzhuang: cc.SpriteFrame,
sprTip: cc.Sprite,
sprTipe: cc.Sprite,
labelRoomwanfa: cc.Label,
prefabYaosezi: cc.Prefab,
preTJDkaipai: cc.Prefab,
reportItemPrefab: cc.Prefab,
prefabTJDMingPai: cc.Prefab,
PrefabMajiang: cc.Prefab,
PrefabDianshu: cc.Prefab,
tuoguanNode: cc.Node,
btn_tuoguan: cc.Node,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0,
_senceDestroy: !1
},
editor: {
executionOrder: -1
},
onLoad: function() {
var i = e("TTZ1402Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "ttz",
hide_nothing_seat: !1,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_4: i.player4,
player_5: i.player5,
xipai_pos: i.xipai_pos,
not_xipai_pos: i.not_xipai_pos,
set_bg: !1,
location: !1,
show_watch_btn: !0
};
cc.log("TTZ1400Game:onLoad");
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.node_watchgame = this.node.getChildByName("watchgame");
this.isPlay = !1;
this.mingpaiValue = 0;
this.dianshu = 0;
this.paiNumber = 2;
this.isAutoYao = !1;
this.nodeLabelscoreArr = this.nodeLabelscore.children;
this.soundSaizi = -1;
this.initEventHandlers();
this.nodeXiazhu.children[0].myTag = 3;
this.nodeXiazhu.children[1].myTag = 5;
this.nodeXiazhu.children[2].myTag = 7;
this.nodeXiazhu.children[3].myTag = 10;
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.TTZMgr = this.node.getComponent("TTZ1402Mgr");
var t = e("TTZ1402ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.TTZMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
new_real: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0, t = 0, a = 0; a < e.length; a++) {
0 != e[a].userid && t++;
var n = cc.vv.roomMgr.getSeatIndexByID(e[a].userid);
0 != e[a].sitStatus ? i++ : 0 == n && (this._my_isin_game = !1);
}
return t - i;
},
user_status_change: function(e) {
if (cc.vv.roomMgr.table && cc.vv.roomMgr.table.list) for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) if (0 != i[t].userid) {
if (1 == e.change_item[t]) {
0 == cc.vv.roomMgr.viewChairID(t) && (this._my_isin_game = !0);
}
i[t].sitStatus = e.change_item[t];
}
},
watch_game_list: function() {
if (cc.vv.roomMgr.table && cc.vv.roomMgr.table.list) {
for (var e = cc.vv.roomMgr.table.list, i = 0; i < e.length; i++) if (0 != e[i].userid) {
var t = cc.vv.roomMgr.viewChairID(e[i].seatid), a = cc.vv.utils.getChildByTag(this._winPlayer, t);
0 != e[i].sitStatus ? a.getChildByName("watch_game").active = !0 : a.getChildByName("watch_game").active = !1;
}
if (this.watch_game()) {
this.new_round();
this.node_watchgame.active = !0;
this.nodeJiesuan.active = !1;
}
}
},
watch_game: function() {
var e = !1;
if (!cc.vv.roomMgr.is_replay && cc.vv.roomMgr.guanzhan_table && cc.vv.roomMgr.guanzhan_table.list) for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) 0 != i[t].userid && i[t].userid == cc.vv.userMgr.userid && (e = !0);
if (cc.vv.roomMgr.table && cc.vv.roomMgr.table.list) {
var a = cc.vv.roomMgr.table.list;
for (t = 0; t < a.length; t++) if (0 != a[t].userid && 0 != a[t].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(a[t].seatid) && (e = !0);
}
}
return e;
},
watch: function(e) {
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (i[t].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("watchgame").active = !0;
var a = this.node.getChildByName("sit");
0 == e.canSit.length ? a.active = !1 : a.active = !0;
}
if (e.userid == cc.vv.userMgr.userid) {
this.tip("zhunbei");
this.new_round();
a.active = !0;
}
},
canSit: function(e) {
var i = this.node.getChildByName("sit");
if (0 == e.canSit.length) i.active = !1; else {
cc.vv.popMgr.alert("有空位置了是否坐入", function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
this.node.getChildByName("sit") && (this.node.getChildByName("sit").active = !1);
}, !0);
i.active = !0;
}
},
error: function(e) {
-99 == e.errcode ? cc.vv.popMgr.alert("" + e.errmsg, function() {
cc.director.loadScene("hall");
}) : cc.vv.popMgr.tip("" + e.errmsg);
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {
e._itemkaipai.active = !1;
});
this.node.on("error", function(i) {
e.error(i);
}), cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd()) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
cc.vv.popMgr.wait("正在恢复桌面", function() {
setTimeout(function() {
cc.vv.net2.quick("stage");
}, 1e3);
});
}
});
this.node.on("canSit", function(i) {
e.canSit(i.data);
});
this.node.on("watch", function(i) {
e.watch(i.data);
});
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("user_status_change", function(i) {
e.user_status_change(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(i) {
-1 != i.errcode && e.watch_game_list();
}), this.node.on("kaiqiang", function(i) {
e.begin(i.data);
}), this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
}), this.node.on("buqiangzhuang", function(i) {
e.buqiangzhuang(i.data);
}), this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
}), this.node.on("fapai", function(i) {
e.fapai1Data = i.data;
e.saizi_animation(e.fapai1Data);
}), this.node.on("getEnd", function() {
if (1 == e.isAutoYao || cc.vv.roomMgr.is_replay || e.isTuoguan) e.fapai_1(); else {
e.watch_game() ? e.fapai_1() : cc.vv.roomMgr.seatid != e._zhuang && e.fapai_1();
}
}), this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
}), this.node.on("xiazhuok", function(i) {
e.Received_xiazhuok = !0;
e.fapaiok && e.xiazhuok(i.data);
}), this.node.on("cuopai", function(i) {
e.cuopai(i.data);
});
this.node.on("kaipai", function(i) {
e.kaipai(i.data);
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
this.node.on("showAllXiazhu", function(i) {
e.showAllXiazhu(i.data);
});
this.node.on("tuoguan", function(i) {
e.tuoguan(i.data);
});
this.node.on("cancleTuoguan", function(i) {
e.cancleTuoguan(i.data);
});
this.node.on("beginXiazhu", function(i) {
e.beginXiazhu(i.data);
});
},
beginXiazhu: function(e) {
this.auto_tips(e.time, "下注最小注");
cc.vv.roomMgr.seatid != this._zhuang ? this.show_xiazhu() : this.tip("tjd_xiazhu");
},
tuoguan: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.isTuoguan = !0;
this.tuoguanNode.active = !0;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
cancleTuoguan: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.isTuoguan = !1;
this.tuoguanNode.active = !1;
}
},
initEventSeZi: function() {
var e = this;
this.yao.on("touchstart", function(i) {
1 != e.isAutoYao && cc.vv.roomMgr.seatid == e._zhuang && cc.vv.audioMgr.playSFXRepeat("sezi", function(i) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
e.soundSaizi = i;
});
}, this);
this.yao.on("touchmove", function(e) {
if (0 == this.isPlay) {
this.isPlay = !0;
this.TJDSaiZiAnim.play("yaosezimove");
}
var i = e.touch.getDelta(), t = i.x, a = i.y;
this._nodeyaosezi.setPosition(this._nodeyaosezi.x + t, this._nodeyaosezi.y + a);
}, this);
this.yao.on("touchend", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
this.yao.on("touchcancel", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang", {
power: -1
});
break;

case "btn_qiangzhuang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
var t = parseInt(i);
cc.vv.net2.quick("xiazhu", {
power: t
});
break;

case "cuopai":
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
cc.vv.net2.quick("cuoPai");
break;

case "kaipai":
cc.vv.net2.quick("kaipai");
break;

case "btn_tuoguan":
cc.vv.net2.quick("tuoguan");
break;

case "btn_quxiaotuoguan":
cc.vv.net2.quick("cancleTuoguan");
}
cc.vv.audioMgr.click();
},
param: function(e) {
this._desc = e.desc;
this._roomid = e.roomid;
this._zhuang_mode = e.zhuang;
this._zhuang = e.zhuangSeateid;
this._ren = e.ren;
this.isAutoYao = e.auto;
this._dao = e.dao;
if (this.real < 4) {
this._yaruan = -1;
this.__duhong = -1;
} else {
this._yaruan = e.yaruan;
this._duhong = e.duhong;
}
this.num = e.touZi;
this.round = e.round;
},
begin: function(e) {
this.kaiqiang(e);
this.is_kaipai = !1;
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
},
kaiqiang: function(e) {
if (e) {
this.auto_tips(e.time, "不抢庄");
if (this.isStage) {
var i = cc.vv.roomMgr.stage.ifqiang;
if (0 != i && void 0 != i) return;
}
this.nodeZhuang.active = !0;
this.nodeZhuang.children[0].scale = 1;
this.nodeZhuang.children[1].scale = 1;
if (this.watch_game()) this.nodeZhuang.active = !1; else if (e.hasOwnProperty("canSitId")) {
for (var t = !1, a = 0; a < e.canSitId.length; a++) {
0 == cc.vv.roomMgr.viewChairID(e.canSitId[a]) && (t = !0);
}
this.nodeZhuang.getChildByName("btn_qiangzhuang").active = t;
}
}
},
qiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.showOrHideQiangzhuang(i, !0);
},
buqiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatId);
this.showOrHideQiangzhuang(i, !1);
},
dingzhuang: function(e) {
var i = this;
this.auto_tips();
this.tip(null);
this.nodeIsQiangZhuang.removeAllChildren();
this._zhuang = e.seatid;
this._xiaZhuRange = e.xiaZhuRange;
this.nodeZhuang.active = !1;
this.table.dingzhuang(e, function() {
if (!i._senceDestroy) {
var t = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: t
});
}
});
},
saizi_animation: function(e) {
var i = this;
this.fapai1Data = e;
this.sprTip.node.active = !1;
cc.vv.roomMgr.is_replay && this.showMingPai(e);
this.num = e.num;
var t = this._nodeyaosezi.getChildByName("sezi1"), a = this._nodeyaosezi.getChildByName("sezi2"), n = "ttz_sezi_" + e.num[0] + "_0", s = "ttz_sezi_" + e.num[1] + "_0";
t.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(n);
a.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(s);
function c() {
if (1 == i.isAutoYao || cc.vv.roomMgr.is_replay) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else {
var e = i.watch_game();
if (cc.vv.roomMgr.seatid != i._zhuang || e) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else i.shaizitip("plasesaizi");
}
i.nodeSezi.active = !0;
}
if (1 == e.xiPai) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeAllPai.removeAllChildren();
this.mingpaiValue = 0;
this.xipaiAnimation(function() {
c();
});
} else c();
},
fapai_1: function() {
var e = this;
cc.vv.audioMgr.stopSFX(this.soundSaizi);
this.soundSaizi = -1;
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this._nodeyaosezi.angle = -0;
this.TJDSaiZiAnim.stop();
this.TJDSaiZiAnim.play("kaisezi");
cc.vv.audioMgr.playSFX("maiding");
this.isPlay = !1;
function i() {
e.yao.active = !1;
e.yao1.active = !1;
var i = e.fapai1Data;
e.dianshu = i.num[0] + i.num[1];
var t = e.dianshu, a = cc.vv.roomMgr.viewChairID(t % cc.vv.roomMgr.ren), n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
e._nodeyaosezi.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, n[a].x, n[a].y + 10), cc.scaleTo(.5, .5, .5)), cc.callFunc(function() {
e.shaizitip(null);
e.fapaiAnimation();
setTimeout(function() {
e._nodeyaosezi.active = !1;
}, 1e3);
})));
}
setTimeout(function() {
e._senceDestroy || i();
}, 1e3);
},
showSaizi: function(e) {
this.dianshu = e.num[0] + e.num[1];
var i = this.dianshu, t = cc.vv.roomMgr.viewChairID(i % cc.vv.roomMgr.ren), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this._nodeyaosezi.x = a[t].x;
this._nodeyaosezi.y = a[t].y + 10;
this._nodeyaosezi.scale = .5;
var n = this._nodeyaosezi.getChildByName("sezi1"), s = this._nodeyaosezi.getChildByName("sezi2"), c = "ttz_sezi_" + e.num[0] + "_0", o = "ttz_sezi_" + e.num[1] + "_0";
n.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(c);
s.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(o);
this.yao.active = !1;
this.yao1.active = !1;
this.nodeSezi.active = !0;
},
xiazhu: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = new cc.Node("BetNode"), a = t.addComponent(cc.Label);
a.font = this.btnAtlas;
a.string = e.power;
t.y = 6;
this.table.seat_emit(i, "bet", {
node: t
});
0 == i && (this.nodeXiazhu.active = !1);
},
auto_tips: function(e, i) {
var t = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (e <= 0 || null == e) t.active = !1; else {
this.text = i;
this.auto_time = e;
this.unschedule(this.upd_auto_time);
this.schedule(this.upd_auto_time, 1);
t.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !0;
}
},
upd_auto_time: function() {
var e = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (this.auto_time <= 0) {
this.unschedule(this.upd_auto_time);
e.active = !1;
}
this.auto_time--;
e.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
},
xiazhu_stage: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.nodeLabelscoreArr[i].setPosition(t[i].pos.xiazhu.x, t[i].pos.xiazhu.y);
this.nodeLabelscoreArr[i].active = !0;
var a = this.nodeLabelscoreArr[i].getComponent(cc.Label);
this.nodeLabelscore.active = !0;
var n = e.power;
a.string += n;
},
xiazhuok: function(e) {
this.tip(null);
null != e && this.auto_tips(e.time, "开牌");
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeCuopai.scale = 1;
this.nodeKaipai.scale = 1;
if (this.watch_game()) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
auto_ready: function() {
this.autoready--;
this.nodeJiesuan.getChildByName("btn_ready").getChildByName("lbl").getComponent(cc.Label).string = this.autoready;
if (this.autoready <= 0) {
this.autoready = 0;
this.unschedule(this.auto_ready);
}
},
jiesuan: function(e) {
var i = this;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
this.autoready = 10;
this._zhuang = e.zhuang;
this.schedule(this.auto_ready, 1);
this.tip(null);
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
var t = this;
this._itemkaipai && (this._itemkaipai.active = !1);
for (var a = 0, n = 0; n < e.list.length; n++) 0 != e.list[n].userid && a++;
if (!this.isStage) for (n = 0; n < cc.vv.roomMgr.ren; ++n) 1 != this._kaipai[e.list[n].seatid] && this.kaipai({
seatid: e.list[n].seatid,
userid: e.list[n].userid,
hand: e.list[n].hand,
type: e.list[n].type
});
setTimeout(function() {
i.mingpaiValue = e.mingpai.length;
}, 3e3);
for (n = 0; n < a; ++n) if (e.list[n].userid) {
var s = cc.vv.roomMgr.viewChairID(n);
t.table.seat_emit(s, "score", e.list[n].user_score);
e.list[n].round_score > 0 ? t.table.seat_emit(s, "win", e.list[n].round_score) : t.table.seat_emit(s, "lost", e.list[n].round_score);
}
var c = this.nodeJiesuan.getChildByName("viewlist").getChildByName("view").getChildByName("list");
this.nodeJiesuan.getChildByName("roomID").getComponent(cc.Label).string = "房间号：" + cc.vv.roomMgr.enter.room_id;
this.nodeJiesuan.getChildByName("date").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = "第" + e.nowRound + "局 " + cc.vv.roomMgr.enter.desc;
for (n = 0; n < c.children.length; ++n) c.children[n].active = !1;
this.nodeJiesuan.getChildByName("roomID").active = !0;
this.nodeJiesuan.getChildByName("wanfa").active = !0;
this.nodeJiesuan.getChildByName("date").active = !0;
a = e.list.length;
for (n = 0; n < a; ++n) if (e.list[n].userid) {
s = cc.vv.roomMgr.viewChairID(n);
var o = e.list[n].nickname, h = this.table.seat_img(s), r = c.getChildByName("item" + s);
r.x = c.children[n].x;
r.y = c.children[n].y;
r.active = !0;
r.getChildByName("img").getComponent(cc.Sprite).spriteFrame = h;
r.getChildByName("name").getComponent(cc.Label).string = o;
n == this._zhuang ? r.getChildByName("zhuang").active = !0 : r.getChildByName("zhuang").active = !1;
var l = r.getChildByName("score").getComponent(cc.Label), d = r.getChildByName("pai1").getChildByName("New Sprite").getComponent(cc.Sprite), g = r.getChildByName("pai2").getChildByName("New Sprite").getComponent(cc.Sprite);
d.spriteFrame = t.typeAtlas.getSpriteFrame("B" + e.list[n].hand[0]);
g.spriteFrame = t.typeAtlas.getSpriteFrame("B" + e.list[n].hand[1]);
33 == e.list[n].hand[0] && (d.spriteFrame = t.typeAtlas.getSpriteFrame("F7"));
33 == e.list[n].hand[1] && (g.spriteFrame = t.typeAtlas.getSpriteFrame("F7"));
var u = r.getChildByName("score1").getComponent(cc.Label), _ = n;
2 == cc.vv.roomMgr.param.dao ? u.string = "两道(" + e.list[_].dao[0] + " " + e.list[_].dao[1] + ")\n押软" + e.list[_].dao[3] + "  独红" + e.list[_].dao[4] : 3 == cc.vv.roomMgr.param.dao && (u.string = "三道(" + e.list[_].dao[0] + " " + e.list[_].dao[1] + " " + e.list[_].dao[2] + ")\n押软" + e.list[_].dao[3] + "  独红" + e.list[_].dao[4]);
u.node.height >= 72 && (u.fontSize = 22);
var v = r.getChildByName("dianshu").getComponent(cc.Sprite);
r.getChildByName("dianshu").x = 200;
r.getChildByName("dianshu").y = 0;
if (0 == e.list[_].type) v.spriteFrame = t.bishiAtlas.getSpriteFrame("tjd_bi10"); else if (200 == e.list[_].type) v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_10dianban"); else if (e.list[_].hand[0] == e.list[_].hand[1]) v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dui" + e.list[n].hand[1]); else if (e.list[_].type % 10 == 5) {
var p = parseInt((e.list[_].type - 5) / 10);
195 == e.list[_].type ? v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_28gang") : v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_" + p + "dianban");
} else {
var m = (e.list[_].hand[0] + e.list[_].hand[1]) % 10;
v.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dian" + m);
}
var f = t.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), y = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text").getComponent(cc.Sprite), C = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text").getComponent(cc.Sprite);
if (e.list[_].round_score > 0) {
l.string = "+" + cc.vv.utils.numInt(e.list[_].round_score);
if (cc.vv.userMgr.userid == e.list[_].userid) {
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shengli");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
} else if (e.list[_].round_score < 0) {
l.string = cc.vv.utils.numInt(e.list[_].round_score);
if (cc.vv.userMgr.userid == e.list[_].userid) {
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shibai");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("hui_wanjia");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
} else {
l.string = cc.vv.utils.numInt(e.list[_].round_score);
if (cc.vv.userMgr.userid == e.list[_].userid) {
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shengli");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
}
if (1 == e.list[n].userSitStatus) {
r.getChildByName("watch").active = !0;
l.string = "-";
u.string = "-";
} else r.getChildByName("watch").active = !1;
if (1 == this.watch_game()) {
f.spriteFrame = t.jiesuanAtlas.getSpriteFrame("guanzhan");
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
}
cc.vv.audioMgr.playSFX("nn/chips");
for (n = 0; n < a; n++) if (e.list[n].userid) {
0 == (s = cc.vv.roomMgr.viewChairID(e.list[n].seatid)) && (e.list[n].round_score < 0 ? setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3) : setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3));
}
function b() {
t.nodeJiesuan.active = !0;
t.nodeJiesuan.getChildByName("btn_ready").scale = 1;
cc.vv.utils.popPanel(t.nodeJiesuan);
}
var w = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
setTimeout(function() {
b();
}, 2e3);
for (n = 0; n < a; n++) if (e.list[n].userid) {
var x = cc.callFunc(function() {});
if (e.list[n].seatid != this._zhuang) if (e.list[n].round_score < 0) {
var z = cc.vv.roomMgr.viewChairID(e.list[n].seatid);
if (!w[k = cc.vv.roomMgr.viewChairID(this._zhuang)]) continue;
this.playBetByXY(this._winPlayer, w[z].x, w[z].y, w[k].x, w[k].y, 10, x);
} else if (e.list[n].round_score > 0) {
z = cc.vv.roomMgr.viewChairID(this._zhuang);
var k = cc.vv.roomMgr.viewChairID(e.list[n].seatid);
if (!w[z]) continue;
this.playBetByXY(this._winPlayer, w[z].x, w[z].y, w[k].x, w[k].y, 10, x);
}
}
setTimeout(function() {
t.nodeJiesuan.active = !0;
cc.vv.roomMgr.is_replay || i.mingpai(e);
}, 2500);
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
report: function(e) {
this.node.getChildByName("pop").removeAllChildren();
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.nodeReport.getChildByName("otherScore").getComponent(cc.Label).string = "其他:" + e.otherScore;
this.table.hide_dismiss_room();
var i = this.nodeReport.getChildByName("list1");
i.removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.enter.room_id;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomwanfa").getComponent(cc.Label).string = "玩法:" + cc.vv.roomMgr.enter.desc;
for (var t = 0, a = 0; a < e.list.length; ++a) if (e.list[a].result_score < t) {
t = e.list[a].result_score;
a;
}
var n = 0;
for (a = 0; a < e.list.length; ++a) e.list[a].userid > 0 && n++;
n = cc.vv.roomMgr.ren;
for (a = 0; a < n; ++a) if (0 != e.list[a].userid && 1 == e.list[a].hasJoinedBattle) {
var s = cc.vv.roomMgr.viewChairID(a), c = {
name: e.list[a].name,
userid: e.list[a].userid,
headimg: e.list[a].headimg,
winNum: e.list[a].winNum,
Kill: e.list[a].Kill,
die: e.list[a].die,
EightAndNine: e.list[a].EightAndNine,
score: e.list[a].result_score,
dayingjia: e.list[a].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[a].result_score == t && 0 != e.list[a].result_score
}, o = cc.instantiate(this.reportItemPrefab);
i.addChild(o);
o.emit("info", c);
0 == s && (this.nodeReport.getChildByName("score").getComponentInChildren(cc.Label).string = "+" + e.list[a].coins);
}
},
show_xiazhu: function() {
if (1 != cc.vv.roomMgr.is_replay && !this.watch_game()) {
this.nodeXiazhu.active = !0;
for (var e = 0; e < this.nodeXiazhu.childrenCount; e++) {
this.nodeXiazhu.children[e].scale = 1;
var i = this.nodeXiazhu.children[e], t = i.getComponent(cc.Button);
t.interactable = !0;
i.myTag > this._xiaZhuRange && (t.interactable = !1);
}
}
},
stage: function(e) {
this.node.getChildByName("pop").removeAllChildren();
if (null != e.ready) {
this.new_round();
this.table.seat_emit(null, "hideBet");
this.watch_game_list();
this.is_operation = !0;
if (null != e.xiazhu) for (var i = 0; i < e.xiazhu.length; i++) {
0 == cc.vv.roomMgr.viewChairID(i) && (0 == e.xiazhu[i] ? this.Received_xiazhuok = !0 : -2 == e.xiazhu[i] && (this.Received_xiazhuok = !1));
}
this.nodeAllPai && this.nodeAllPai.removeAllChildren();
cc.vv.roomMgr.stage = e;
this.isStage = !0;
cc.vv.roomMgr.real = e.real;
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
null == e.round && (cc.vv.roomMgr.now = e.now);
this.node.getChildByName("mgr").getChildByName("hud").emit("round");
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
e.mingpai && this.showMingPai(e);
if (e.tuoguan) if (1 == e.tuoguan[cc.vv.roomMgr.seatid]) {
this.isTuoguan = !0;
this.tuoguanNode.active = !0;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
} else if (0 == e.tuoguan[cc.vv.roomMgr.seatid]) {
this.isTuoguan = !1;
this.tuoguanNode.active = !1;
}
switch (e.stage) {
case 1:
case 2:
this.auto_tips(e.deal_time, "不抢庄");
this.kaiqiang(e);
for (i = 0; i < cc.vv.roomMgr.real; ++i) {
var t = cc.vv.roomMgr.viewChairID(i);
0 != e.qiangZhuang[i] && this.showOrHideQiangzhuang(t, 1 == e.qiangZhuang[i]);
}
break;

case 6:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.yaoShaiziZhuang = !0;
this.saizi_animation(e);
break;

case 3:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
break;

case 4:
this._xiaZhuRange = e.xiaZhuRange;
this.auto_tips(e.deal_time, "下注最小注");
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
this.showAllXiazhu(e);
break;

case 5:
this.auto_tips(e.deal_time, "开牌");
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
this.showAllXiazhu(e);
this.kaipaiAll(e);
break;

case 97:
null != e.zhuang && (this._zhuang = e.zhuang);
t = cc.vv.roomMgr.viewChairID(this._zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
this.isStage = !1;
}
},
cuopai: function(e) {
this._itemkaipai.active = !0;
this._itemkaipai.emit("cuopai", e);
},
kaipaiAll: function(e) {
this._kaipai = e.kaipai;
for (var i = 0; i < this._kaipai.length; i++) {
var t = cc.vv.roomMgr.viewChairID(i);
if (1 == this._kaipai[i]) {
if (0 == t) {
this.is_kaipai = !0;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
this._kaipai[i] = 0;
var a = {
seatid: i,
type: e.type[i],
hand: e.hand[i]
};
this.kaipai(a);
} else if (2 == this._kaipai[i]) {
if (0 == t) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !0;
this.nodeKaipai.scale = 1;
}
} else if (0 == t) {
this.is_kaipai = !1;
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeCuopai.scale = 1;
this.nodeKaipai.scale = 1;
}
}
if (this.watch_game()) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
kaipai: function(e) {
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
this.Received_xiazhuok = !1;
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tjd_kaipai");
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.fanpaiAnimation(i, e, e.seatid);
}
},
new_round: function() {
this.tip(null);
this.is_kaipai = !1;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeSezi.active = !1;
this.is_operation = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
this.Received_xiazhuok = !1;
this.nodeCard.removeAllChildren();
this.nodeSezi.removeAllChildren();
this.fapaiok = !1;
this._nodeyaosezi = cc.instantiate(this.prefabYaosezi);
this.nodeSezi.addChild(this._nodeyaosezi);
this.TJDSaiZiAnim = this._nodeyaosezi.getComponent(cc.Animation);
this.yao = this._nodeyaosezi.getChildByName("yao");
this.yao1 = this._nodeyaosezi.getChildByName("yao1");
this.initEventSeZi();
null != this._itemkaipai && this._itemkaipai.destroy();
this._itemkaipai = cc.instantiate(this.preTJDkaipai);
this.nodeMsg.addChild(this._itemkaipai);
this._itemkaipai.active = !1;
this.node_watchgame.active = !1;
for (var e = 0; e < 6; e++) {
this.nodeLabelscoreArr[e].active = !1;
this.nodeLabelscoreArr[e].getComponent(cc.Label).string = "";
this.nodeLabelscoreArr[e].getComponentInChildren(cc.Label).string = "";
}
1 != this._zhuang_mode && this.table.seat_emit(null, "dingzhuang", {
seatid: null
});
this.hidePai();
cc.vv.roomMgr.is_replay && (this.nodeMingpai.getChildByName("list1").active = !1);
this._currdao = 1;
this._kaipai = [ 0, 0, 0, 0, 0 ];
this._isfour = [ 0, 0, 0, 0, 0 ];
this.hangNumber = [ 0, 1, 2, 3 ];
this.lieNumber = [ 8, 7, 6, 5, 4, 3, 2, 1, 0 ];
if (4 == cc.vv.roomMgr.ren) {
this.nodeCuopai.y = -250;
this.nodeKaipai.y = -250;
} else if (5 == cc.vv.roomMgr.ren) {
this.nodeCuopai.y = -320;
this.nodeKaipai.y = -320;
}
},
tip: function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.dianshuAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
mingpai: function(e) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeMingpai.getChildByName("list1").children;
for (var i = 0; i < e.mingpai.length; i++) {
var t = cc.instantiate(this.prefabTJDMingPai);
t.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("B" + e.mingpai[i]);
33 == e.mingpai[i] && (t.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("F7"));
this.nodeMingpai.getChildByName("list1").addChild(t);
}
},
xiazhutip: function(e) {
if (null != e) {
var i = e;
this.sprTipe.spriteFrame = this.xiazhuAtlas.getSpriteFrame(i);
this.sprTipe.node.active = !0;
} else this.sprTipe.node.active = !1;
},
shaizitip: function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
isXiaZhu: function(e) {
for (var i = 0, t = 0; t < e.length; t++) -2 == e[t] && i++;
return i;
},
dealXipai: function(e, i, t, a) {
for (var n = 0; n < 4; n++) for (var s = i; s < t; s++) {
var c = cc.instantiate(this.PrefabMajiang), o = c.getComponent("TJDMajiang"), h = e[n].x + s * e[n].distance - 25, r = e[n].y;
o.node.setPosition(h, r);
o.node.scale = e[n].scale;
this.nodeAllPai.addChild(c);
c.myTag = n + "_" + s;
3 == n && s == t - 1 && null != a && a();
}
},
xipaiAnimation: function(e) {
var i = this, t = cc.vv.game.config.xipai_pos;
this.dealXipai(t, 0, 9, function() {
var t = {
indexY: 4,
indexX: 9,
callback: e
};
i.nodeAllPai.emit("xipai", t);
});
},
showAllPaiAnimation: function() {
var e = cc.vv.game.config.not_xipai_pos;
this.dealXipai(e, 0, 9, function() {});
},
play_tjd_mp3: function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "ttz/" + t + "/type_" + i;
cc.vv.audioMgr.playSFX(a);
},
fapaiAnimation: function() {
var e = this;
setTimeout(function() {
e.is_operation = !0;
}, 3e3);
for (var i = this.mingpaiValue, t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], a = 0; a < cc.vv.roomMgr.ren; a++) {
var n = cc.vv.roomMgr.viewChairID((a + this.dianshu) % cc.vv.roomMgr.ren), s = 2 * parseInt((i / 2 + a) / 9), c = (i / 2 + a) % 9, o = s + 1, h = c, r = {
viewid: n,
index: 0
};
e.send_card_emit(e.hangNumber[s], e.lieNumber[c], "setTag", r);
var l = {
viewid: n,
index: 1
};
e.send_card_emit(e.hangNumber[o], e.lieNumber[h], "setTag", l);
for (var d = 0; d < this.paiNumber; d++) {
var g = null;
1 == d && (g = function() {
cc.vv.audioMgr.playSFX("tjd/ttz_card_send");
});
var u = {
viewid: n,
index: d,
x: t[n].pos.card.x,
y: t[n].pos.card.y + t[n].distanceH * d,
scale: t[n].pos.card.scale,
delayTime: (100 + 200 * a) / 1e3,
callback: g
};
e.send_card_tag_emit(u.viewid, u.index, "fapai", u);
if (0 == n) {
e.fapaiok = !0;
if (e.Received_xiazhuok) e.xiazhuok(); else {
e.nodeCuopai.active = !1;
e.nodeKaipai.active = !1;
}
}
}
var _ = {
viewid: n,
index: 1,
distance: t[n].distance,
distanceH: t[n].distanceH,
delayTime: (400 + 200 * a) / 1e3
};
e.send_card_tag_emit(_.viewid, _.index, "fapaianimation", _);
}
},
showAllPai: function() {
var e = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], i = this.mingpaiValue;
this.fapaiok = !0;
for (var t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = cc.vv.roomMgr.viewChairID((t + this.dianshu) % cc.vv.roomMgr.ren), n = 2 * parseInt((i / 2 + t) / 9), s = (i / 2 + t) % 9, c = n + 1, o = s, h = {
viewid: a,
index: 0
};
this.send_card_emit(this.hangNumber[n], this.lieNumber[s], "setTag", h);
var r = {
viewid: a,
index: 1
};
this.send_card_emit(this.hangNumber[c], this.lieNumber[o], "setTag", r);
for (var l = 0; l < this.paiNumber; l++) {
var d = {
viewid: a,
index: l,
x: e[a].pos.card.x + e[a].distance * l,
y: e[a].pos.card.y,
scale: e[a].pos.card.scale
};
this.send_card_tag_emit(d.viewid, d.index, "showPai", d);
}
}
},
fanpaiAnimation: function(e, i, t) {
var a = this, n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], s = function(e, t, s) {
if (t == a.paiNumber - 1) {
var c = 0;
if (0 == i.type) {
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.bishiAtlas.getSpriteFrame("tjd_bi10");
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
c = 0;
} else if (200 == i.type) {
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_10dianban");
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
if (cc.vv.roomMgr.ren >= 5) {
if (1 == e || 2 == e || 0 == e) h.setPosition(n[e].pos.card.x + n[e].dianshuX + 45, n[e].pos.card.y + n[e].dianshuH); else {
h.setPosition(n[e].pos.card.x + n[e].dianshuX - 40, n[e].pos.card.y + n[e].dianshuH);
5 == e && (h.x += 25);
}
0 != e && (h.scale = .55);
}
a.nodeCard.addChild(h);
c = i.type;
} else if (i.hand[0] == i.hand[1]) {
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_dui" + i.hand[1]);
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
c = i.hand[0] + "0";
} else if (i.type % 10 == 5) {
var o = parseInt((i.type - 5) / 10), h = cc.instantiate(a.PrefabDianshu);
195 == i.type ? h.getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_28gang") : h.getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_" + o + "dianban");
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
cc.vv.roomMgr.ren >= 5 ? 1 == e || 2 == e || 0 == e ? h.setPosition(n[e].pos.card.x + n[e].dianshuX + 40, n[e].pos.card.y + n[e].dianshuH) : 5 == e ? h.setPosition(n[e].pos.card.x + n[e].dianshuX + 5, n[e].pos.card.y + n[e].dianshuH) : h.setPosition(n[e].pos.card.x + n[e].dianshuX - 20, n[e].pos.card.y + n[e].dianshuH) : 1 == e || 0 == e ? h.setPosition(n[e].pos.card.x + n[e].dianshuX + 40, n[e].pos.card.y + n[e].dianshuH) : h.setPosition(n[e].pos.card.x + n[e].dianshuX - 20, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
195 != i.type && (c = i.type + "");
} else {
var r = (i.hand[0] + i.hand[1]) % 10;
(h = cc.instantiate(a.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = a.dianshuAtlas.getSpriteFrame("tjd_dian" + r);
h.setPosition(n[e].pos.card.x + n[e].dianshuX, n[e].pos.card.y + n[e].dianshuH);
a.nodeCard.addChild(h);
c = r;
1 == i.hand[0] && 8 == i.hand[1] || 8 == i.hand[0] && 1 == i.hand[1] ? c = "1_8" : 2 == i.hand[0] && 5 == i.hand[1] || 5 == i.hand[0] && 2 == i.hand[1] ? c = "2_5" : 3 == i.hand[0] && 5 == i.hand[1] || 5 == i.hand[0] && 3 == i.hand[1] ? c = "3_5" : 5 == i.hand[0] && 4 == i.hand[1] || 4 == i.hand[0] && 5 == i.hand[1] ? c = "5_4" : (5 == i.hand[0] && 8 == i.hand[1] || 8 == i.hand[0] && 5 == i.hand[1]) && (c = "5_8");
}
0 != cc.vv.roomMgr.table.list[s].userid && 195 != i.type && a.play_tjd_mp3(e, c);
}
};
cc.vv.roomMgr.table && cc.vv.roomMgr.table.list && 0 != cc.vv.roomMgr.table.list[t].userid && cc.vv.audioMgr.playSFX("tjd/shuffle");
function c() {
for (var n = 0; n < a.paiNumber; n++) {
var c = {
seatid: t,
viewid: e,
index: n,
value: i.hand[n],
spriteFrame: a.typeAtlas,
callback: s
};
a.send_card_tag_emit(e, n, "trun", c);
}
}
setTimeout(function() {
c();
}, 300);
},
showfanpai: function(e, i) {
for (var t = this, a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = function(e, n) {
if (n == t.paiNumber - 1) if (i[0] + i[1] == 10) {
(c = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.bishiAtlas.getSpriteFrame("tjd_bi10");
c.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(c);
t.play_tjd_mp3(e, 0);
} else if (i[0] == i[1]) {
(c = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dui" + i[1]);
c.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(c);
t.play_tjd_mp3(e, i[0] + 10);
} else if (i.list[ls_jiesuan_idx].type % 10 == 5) {
var s = parseInt((i.list[ls_jiesuan_idx].type - 5) / 10);
dianshu.spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_" + s + "dianban");
} else {
var c, o = (i[0] + i[1]) % 10;
(c = cc.instantiate(t.PrefabDianshu)).getComponent(cc.Sprite).spriteFrame = t.dianshuAtlas.getSpriteFrame("tjd_dian" + o);
c.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + a[e].dianshuH);
t.nodeCard.addChild(c);
t.play_tjd_mp3(e, o);
}
}, s = 0; s < this.paiNumber; s++) {
var c = {
viewid: e,
index: s,
spriteFrame: this.typeAtlas,
value: i[s],
callback: n
};
t.send_card_tag_emit(e, s, "show", c);
}
},
hidePai: function() {
for (var e = 0; e < cc.vv.roomMgr.ren; e++) {
var i = cc.vv.roomMgr.viewChairID(e);
this.send_card_tag_emit(i, 0, "hide");
this.send_card_tag_emit(i, 1, "hide");
}
},
showMingPai: function(e) {
this.mingpaiValue = e.mingpai.length;
this.showAllPaiAnimation();
this.nodeAllPai.children.length;
for (var i = e.mingpai.length, t = 0; t < i / 2; t++) {
var a = 2 * parseInt(t / 9), n = t % 9, s = a + 1, c = n, o = this.hangNumber[a] + "_" + this.lieNumber[n];
cc.vv.utils.getChildByTag(this.nodeAllPai, o).destroy();
var h = this.hangNumber[s] + "_" + this.lieNumber[c];
cc.vv.utils.getChildByTag(this.nodeAllPai, h).destroy();
}
this.nodeMingpai.getChildByName("list1").removeAllChildren();
for (t = 0; t < e.mingpai.length; t++) {
var r = cc.instantiate(this.prefabTJDMingPai);
r.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("B" + e.mingpai[t]);
33 == e.mingpai[t] && (r.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("F7"));
this.nodeMingpai.getChildByName("list1").addChild(r);
}
},
showAllXiazhu: function(e) {
var i = this.new_real_count();
i = cc.vv.roomMgr.ren;
for (var t = e.xiazhu, a = 0; a < i; a++) {
var n = cc.vv.roomMgr.viewChairID(a), s = t[a];
if (-2 != s) {
0 == n && (this.nodeXiazhu.active = !1);
a != this._zhuang && this.xiazhu_stage({
seatid: a,
power: s
});
} else 0 == n && this._zhuang != a && this.show_xiazhu();
}
},
new_real_count: function() {
for (var e = 0, i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) 0 != i[t].userid && e++;
return e;
},
showOrHideQiangzhuang: function(e, i) {
var t = new cc.Node("isQiangzhuang"), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = t.addComponent(cc.Sprite);
n.spriteFrame = 1 == i ? this.spriteFrameQiangzhuang : this.spriteFrameBuqiangzhuang;
this.nodeIsQiangZhuang.addChild(t);
t.x = a[e].x + a[e].pos.ready.x;
t.y = a[e].y;
t.active = !0;
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
},
send_card_tag_emit: function(e, i, t, a) {
var n = e + "_tag_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
},
onDestroy: function() {
this._senceDestroy = !0;
cc.loader.setAutoRelease(this, !0);
cc.vv.audioMgr.stopSFX(this.soundSaizi);
},
testData: function(e, i) {
this.node.emit(e, i);
},
onButtonQieGuo: function() {
cc.vv.roomMgr.real = 5;
this.testData("cuopai", {
errcode: 0,
data: {
seatid: 1,
type: 90,
userid: 3099,
hand: [ 6, 3 ]
},
errmsg: "ok",
model: "game",
event: "cuopai"
});
}
});
cc._RF.pop();
}, {
TTZ1402Const: "TTZ1402Const",
TTZ1402ReplayMgr: "TTZ1402ReplayMgr"
} ],
TTZ1402KiaPai: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "75ac1hNfbhMoq1+X4tq2HgQ", "TTZ1402KiaPai");
cc.Class({
extends: cc.Component,
properties: {
pai1: cc.Node,
pai2: cc.Node,
type: cc.Sprite,
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
dianshuAtlas: {
default: null,
type: cc.SpriteAtlas
},
bishiAtlas: {
default: null,
type: cc.SpriteAtlas
},
title1: cc.SpriteFrame,
_dianshu: 0,
_falg: 0
},
onLoad: function() {
this.initEventHandlers();
},
start: function() {},
initEventHandlers: function() {
var e = this;
this.pai2.on(cc.Node.EventType.TOUCH_START, function(i) {
0 == e._falg && (e._falg = 1);
});
this.pai2.on(cc.Node.EventType.TOUCH_MOVE, function(i) {
var t = i.touch.getDelta();
e.pai2.x += t.x;
e.pai2.y += t.y;
});
this.pai2.on(cc.Node.EventType.TOUCH_CANCEL, function(i) {
e.pai2.opacity = 255;
});
function i() {
e.pai1.on(cc.Node.EventType.TOUCH_MOVE, function(i) {
var t = i.touch.getDelta();
e.pai1.x += t.x;
e.pai1.y += t.y;
});
e.pai1.on(cc.Node.EventType.TOUCH_CANCEL, function(i) {
e.pai1.opacity = 255;
e.pai1.setPosition(0, 0);
e.pai1.zIndex = 0;
e.pai1.setPosition(133, -82);
e.pai2.setPosition(-116, -82);
e.pai1.getChildByName("pai").active = !0;
e.showType();
e.pai1.off(cc.Node.EventType.TOUCH_START);
e.pai1.off(cc.Node.EventType.TOUCH_MOVE);
e.pai1.off(cc.Node.EventType.TOUCH_CANCEL);
e.pai1.off(cc.Node.EventType.TOUCH_END);
});
e.pai1.on(cc.Node.EventType.TOUCH_END, function(i) {
e.pai1.opacity = 255;
e.pai1.setPosition(0, 0);
e.pai1.zIndex = 0;
e.pai1.setPosition(133, -82);
e.pai2.setPosition(-116, -82);
e.pai1.getChildByName("pai").active = !0;
e.showType();
e.pai1.off(cc.Node.EventType.TOUCH_START);
e.pai1.off(cc.Node.EventType.TOUCH_MOVE);
e.pai1.off(cc.Node.EventType.TOUCH_CANCEL);
e.pai1.off(cc.Node.EventType.TOUCH_END);
});
}
this.pai2.on(cc.Node.EventType.TOUCH_END, function(t) {
e.pai2.opacity = 255;
e.pai1.setPosition(0, 0);
e.pai1.zIndex = 1;
var a = cc.callFunc(function() {
e.pai2.getChildByName("pai").active = !0;
e.pai2.getComponent(cc.Sprite).spriteFrame = e.title1;
});
e.pai2.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, -82)), a));
e.pai2.off(cc.Node.EventType.TOUCH_START);
e.pai2.off(cc.Node.EventType.TOUCH_MOVE);
e.pai2.off(cc.Node.EventType.TOUCH_CANCEL);
e.pai2.off(cc.Node.EventType.TOUCH_END);
i();
});
this.pai2.on(cc.Node.EventType.TOUCH_CANCEL, function(t) {
e.pai2.opacity = 255;
e.pai1.setPosition(0, 0);
e.pai1.zIndex = 1;
var a = cc.callFunc(function() {
e.pai2.getChildByName("pai").active = !0;
e.pai2.getComponent(cc.Sprite).spriteFrame = e.title1;
});
e.pai2.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, -82)), a));
e.pai2.off(cc.Node.EventType.TOUCH_START);
e.pai2.off(cc.Node.EventType.TOUCH_MOVE);
e.pai2.off(cc.Node.EventType.TOUCH_CANCEL);
e.pai2.off(cc.Node.EventType.TOUCH_END);
i();
});
this.node.on("cuopai", function(i) {
e.type.node.active = !1;
e.pai2.getChildByName("pai").active = !1;
e.pai2.getChildByName("pai").getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("B" + i.hand[0]);
33 == i.hand[0] && (e.pai2.getChildByName("pai").getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("F7"));
e.pai1.getComponent(cc.Sprite).spriteFrame = e.title1;
e.pai1.getChildByName("pai").active = !0;
e.pai1.getChildByName("pai").getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("B" + i.hand[1]);
33 == i.hand[1] && (e.pai1.getChildByName("pai").getComponent(cc.Sprite).spriteFrame = e.typeAtlas.getSpriteFrame("F7"));
e._data = i;
});
},
showType: function() {
this.type.node.active = !0;
if (0 == this._data.type) this.type.spriteFrame = this.bishiAtlas.getSpriteFrame("tjd_bi10"); else if (200 == this._data.type) this.type.spriteFrame = this.dianshuAtlas.getSpriteFrame("tjd_10dianban"); else if (this._data.hand[0] == this._data.hand[1]) this.type.spriteFrame = this.dianshuAtlas.getSpriteFrame("tjd_dui" + this._data.hand[1]); else if (this._data.type % 10 == 5) {
var e = parseInt((this._data.type - 5) / 10);
this.type.spriteFrame = this.dianshuAtlas.getSpriteFrame("tjd_" + e + "dianban");
} else {
var i = (this._data.hand[0] + this._data.hand[1]) % 10;
this.type.spriteFrame = this.dianshuAtlas.getSpriteFrame("tjd_dian" + i);
}
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_kaipai":
cc.vv.net2.quick("kaipai");
this.node.destroy();
}
}
});
cc._RF.pop();
}, {} ],
TTZ1402Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "09ca0MmJrlHMb1lPLV4umeq", "TTZ1402Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
prepareReplay: function() {
this.dispatchEvent("parma", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doQiang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doDingZhuang: function(e) {
this.dispatchEvent("fapai", {
data: {
num: [ e.touzi[0], e.touzi[1] ],
xiPai: 0,
mingpai: e.mingpai
}
});
},
doGetEnd: function(e) {
this.dispatchEvent("getEnd");
},
doXiaZhu: function(e) {
e.length;
this.dispatchEvent("showAllXiazhu", {
data: {
xiazhu: e,
nextDao: 1
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
cc.vv.roomMgr.viewChairID(t);
this.dispatchEvent("kaipai", {
data: {
seatid: t,
hand: e.data[t],
type: e.type[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
TTZ1402ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "37066pfn8RIKbkMJYiRZY55", "TTZ1402ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.TTZMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action,
type: e.type
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.action) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.TTZMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return .5;
}
if ("dingZhuang" == e.action) {
cc.vv.TTZMgr.doQiang(e.data);
return 2;
}
if ("touZi" == e.action) {
cc.vv.TTZMgr.doDingZhuang(e.data);
return 1;
}
if ("getEnd" == e.action) {
cc.vv.TTZMgr.doGetEnd(e.data);
return 3;
}
if ("xiaZhu" == e.action) {
cc.vv.TTZMgr.doXiaZhu(e.data);
return 1;
}
if ("hand" == e.action) {
cc.vv.TTZMgr.doKaipai(e);
return 1;
}
}
});
cc._RF.pop();
}, {} ],
TableCardAttri: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d532dmOaclJq66SC42sfkRh", "TableCardAttri");
cc.Class({
extends: cc.Component,
properties: {},
setOldPosition: function(e) {
this._oldPos = this.node.getPosition();
},
getOldPosition: function(e) {
return this._oldPos;
}
});
cc._RF.pop();
}, {} ],
Table: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "12e38jf/qVMSJHZmm5PNs5p", "Table");
cc.Class(function(e, i, t) {
i in e ? Object.defineProperty(e, i, {
value: t,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[i] = t;
return e;
}({
extends: cc.Component,
editor: {
executionOrder: 99
},
properties: {
seatPrefab: cc.Prefab,
club_tip: cc.Prefab,
interactAtlas: {
default: null,
type: cc.SpriteAtlas
},
_lastTouchTime: null,
_voice: null,
_volume: null,
_voice_failed: null,
_lastCheckTime: -1,
_timeBar: null,
_MAX_TIME: 15e3,
_voiceMsgQueue: [],
_winHub: cc.Node,
_winReady: cc.Node,
_winPlayer: cc.Node,
_winDissroom: cc.Node,
_clubtipnode: cc.Node,
_dissroom_plase: !1,
_endTime: -1,
_surplus_time_lbl: cc.Label,
gamebg: cc.Sprite,
_senceTableDestroy: !1
},
onLoad: function() {
this.is_disssroom_show = !1;
if (!cc.sys.isNative && cc.sys.isMobile) {
var e = this.node.getComponent(cc.Canvas);
e.fitHeight = !0;
e.fitWidth = !0;
}
if (cc.vv) {
this.addComponent("IphoneX");
this._winHub = cc.find("Canvas/mgr/hud");
this._winReady = cc.find("Canvas/mgr/ready");
this._winPlayer = cc.find("Canvas/mgr/players");
this.onloadyuyin();
var i = cc.director.getScene(), t = cc.sys.localStorage.getItem(i.name + "usedbg"), a = this;
this.node.on("changebg", function(e) {
var i = e;
a.getBg(i.bg);
});
this.node.on("jgnnready", function() {
var e = {
target: {}
};
e.target.name = "btn_ready";
a.onBtnClicked(e);
});
if (null != cc.vv.game) {
cc.vv.game.config.set_bg && null != t && this.getBg(t);
cc.vv.game.config.location && (this._winHub._Location = cc.find("Canvas/open/Location"));
}
cc.director.preloadScene("hall");
} else cc.director.loadScene("splash");
},
getBg: function(e) {
var i = this, t = cc.vv.game.config.default_bg;
"tablecloth_moren" != e && (t = "public/table/" + e);
cc.loader.loadRes(t, function(e, t) {
var a = new cc.SpriteFrame(t, cc.Rect(0, 0, t.width, t.height));
i.gamebg.spriteFrame = a;
i.gamebg.node.width = i.node.width;
});
},
onloadyuyin: function() {
this._voice = cc.find("Canvas/mgr/hud/oper/Voice");
this._voice.active = !1;
this._voice_failed = cc.find("Canvas/mgr/hud/oper/Voice/voice_failed");
this._voice_failed.active = !1;
this._timeBar = cc.find("Canvas/mgr/hud/oper/Voice/time");
this._timeBar.scaleX = 0;
this._volume = cc.find("Canvas/mgr/hud/oper/Voice/volume");
for (var e = 1; e < this._volume.children.length; ++e) this._volume.children[e].active = !1;
var i = cc.find("Canvas/mgr/hud/oper/Voice/voice_failed/btn_ok");
i && cc.vv.utils.addClickEvent(i, this.node, "Table", "onBtnOKClicked");
var t = this, a = cc.find("Canvas/mgr/hud/oper/btn_yuyin");
if (a) {
a.on(cc.Node.EventType.TOUCH_START, function() {
cc.vv.voiceMgr.prepare("record.amr");
t._lastTouchTime = Date.now();
t._voice.active = !0;
t._voice_failed.active = !1;
});
a.on(cc.Node.EventType.TOUCH_MOVE, function() {});
a.on(cc.Node.EventType.TOUCH_END, function() {
if (Date.now() - t._lastTouchTime < 1e3) {
t._voice_failed.active = !0;
cc.vv.voiceMgr.cancel();
} else t.onVoiceOK();
t._lastTouchTime = null;
});
a.on(cc.Node.EventType.TOUCH_CANCEL, function() {
cc.vv.voiceMgr.cancel();
t._lastTouchTime = null;
t._voice.active = !1;
});
}
},
onVoiceOK: function() {
if (null != this._lastTouchTime) {
cc.vv.voiceMgr.release();
var e = Date.now() - this._lastTouchTime, i = cc.vv.voiceMgr.getVoiceData("record.amr");
cc.vv.net2.quick("voice", {
msg: i,
time: e
});
}
this._voice.active = !1;
},
onBtnOKClicked: function() {
this._voice.active = !1;
},
onVoiceTimeAction: function() {
if (1 == this._voice.active && 0 == this._voice_failed.active && Date.now() - this._lastCheckTime > 300) {
for (var e = 0; e < this._volume.children.length; ++e) this._volume.children[e].active = !1;
var i = cc.vv.voiceMgr.getVoiceLevel(7);
i >= 1 && i <= 7 && (this._volume.children[i - 1].active = !0);
this._lastCheckTime = Date.now();
}
if (this._lastTouchTime) {
var t = Date.now() - this._lastTouchTime;
if (t >= this._MAX_TIME) {
this.onVoiceOK();
this._lastTouchTime = null;
} else {
var a = t / this._MAX_TIME;
this._timeBar.scaleX = 1 - a;
}
}
},
update: function(e) {
this.onVoiceTimeAction();
this.onVoice();
},
auto_dismssroom: function() {
if (this._endTime > 0) {
var e = (this._endTime - Date.now()) / 1e3;
if (e <= 0) {
this._endTime = -1;
this._surplus_time_lbl.string = "0秒后自动解散房间";
}
var i = Math.floor(e / 60), t = Math.ceil(e - 60 * i), a = "";
i > 0 && (a += i + "分");
this._surplus_time_lbl.string = a + t + "秒后自动解散房间";
}
},
onVoice: function() {
var e = Math.floor(Date.now() / 1e3 / 60);
if (this._lastMinute != e) {
this._lastMinute = e;
var i = new Date(), t = i.getHours();
t = t < 10 ? "0" + t : t;
var a = i.getMinutes();
a = a < 10 ? "0" + a : a;
}
if (null != this._lastPlayTime) {
if (Date.now() > this._lastPlayTime + 200) {
this.onPlayerOver();
this._lastPlayTime = null;
}
} else this.playVoice();
},
start: function() {
this.initEventHandlers();
cc.vv.roomMgr.is_replay || this.seat();
this._winHub.emit("enter", cc.vv.roomMgr.enter);
cc.vv.roomMgr.is_replay && (this._winReady.active = !1);
cc.vv.roomMgr.is_replay || ("ysz_2300" == cc.vv.roomMgr.room_type || "nn_1000" == cc.vv.roomMgr.room_type || "tjd_1300" == cc.vv.roomMgr.room_type || "ttz_1400" == cc.vv.roomMgr.room_type || "ttz_1401" == cc.vv.roomMgr.room_type || "dsg_2100" == cc.vv.roomMgr.room_type || "zpj_2800" == cc.vv.roomMgr.room_type || "ttz_1402" == cc.vv.roomMgr.room_type || "nn_1002" == cc.vv.roomMgr.room_type || "nn_1003" == cc.vv.roomMgr.room_type ? cc.vv.net2.quick("joinRoom", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
}) : cc.vv.game.config.isSelectSit ? cc.vv.net2.quick("table") : cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
}));
},
needSit: function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
this.node.getChildByName("sit").active = !1;
},
join_rooom: function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
},
seat: function() {
for (var e = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], i = 0; i < cc.vv.roomMgr.ren; ++i) {
var t = cc.instantiate(this.seatPrefab);
this._winPlayer.addChild(t);
t.myTag = i;
t.getComponent("Seat").pos(e[i]);
cc.vv.game.config.hide_nothing_seat && (t.active = !1);
}
},
ip_check: function() {
if (cc.vv.roomMgr.table && 1 != cc.vv.roomMgr.started && !cc.vv.roomMgr.is_replay) {
for (var e = cc.vv.roomMgr.table.list, i = [], t = 0; t < e.length; t++) {
var a = e[t];
if (a.ip) {
for (var n = {
ip: a.ip,
names: [ a.nickname ]
}, s = t + 1; s < e.length; s++) {
var c = e[s];
if (0 != c.userid && a.ip == c.ip) {
n.names.push(c.nickname);
t = s;
}
}
n.names.length > 1 && i.push(n);
}
}
if (i.length > 0) {
for (var t in i) {
var o = i[t].ip;
-1 != o.indexOf("::ffff:") && (o = o.substr(7));
"[" + o + "] :\n";
for (var s in i[t].names) i[t].names[s] + "\n";
"ip相同";
}
0 == cc.vv.roomMgr.ip_repeat && cc.vv.popMgr.alertip_repeat(i);
}
}
},
location: function(e) {
cc.vv.roomMgr.table && 1 != cc.vv.roomMgr.started && (cc.vv.roomMgr.is_replay || cc.vv.game.config.location && this._winHub._Location.getComponent("Location").show(e));
},
sit: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.utils.getChildByTag(this._winPlayer, i);
t.getChildByName("Recharge").active = !1;
t.getChildByName("Recharge").getChildByName("tip").getComponent(cc.Animation).stop();
if (e.userid == cc.vv.userMgr.userid) {
cc.vv.roomMgr.seatid = e.seatid;
this._winReady.getComponent("Ready").show(e.status);
}
cc.vv.roomMgr.param && cc.vv.roomMgr.param.fangzhu == cc.vv.userMgr.userid && e.real == cc.vv.roomMgr.param.start_mode && this._winReady.getComponent("Ready").show(e.status, 1);
cc.vv.roomMgr.table && (cc.vv.roomMgr.table.list[e.seatid] = e);
if (null != t) {
0 == i && (t.zIndex = 1);
t.active = !0;
t.getComponent("Seat").info(e);
if (e.userid != cc.vv.userMgr.userid) {
this.ip_check();
this.location(!0);
}
}
},
seat_emit: function(e, i, t) {
if (null == e) for (var a = 0; a < cc.vv.roomMgr.ren; ++a) {
null != (n = cc.vv.utils.getChildByTag(this._winPlayer, a)) && n.emit(i, t);
} else {
var n;
if (null == (n = cc.vv.utils.getChildByTag(this._winPlayer, e))) return;
n.emit(i, t);
}
},
seat_img: function(e) {
return cc.vv.utils.getChildByTag(this._winPlayer, e).getComponent("Seat").getHeadimg();
},
param: function(e) {
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.param = e;
var i = cc.find("mgr/hud/oper/btn_chat", this.node);
i && (e.hasOwnProperty("is_mute") && 1 != e.is_mute || (i.active = !1));
},
table: function(e) {
cc.vv.roomMgr.table = e;
for (var i = 0; i < cc.vv.roomMgr.ren; ++i) {
var t = e.list[i], a = cc.vv.roomMgr.viewChairID(t.seatid), n = cc.vv.utils.getChildByTag(this._winPlayer, a);
if (null != n) {
n.active = !0;
n.getComponent("Seat").info(t);
0 == t.userid && (cc.vv.game.config.hide_nothing_seat ? n.active = !1 : n.emit("out", e));
}
}
if (0 == e.stage) {
this.ip_check();
this.location(!0);
}
},
ready: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.utils.getChildByTag(this._winPlayer, i);
if (null != t) {
t.getComponent("Seat").ready(!0);
if (e.userid == cc.vv.userMgr.userid) {
var a = e.userid == cc.vv.userMgr.userid ? 1 : 0;
this._winReady.getComponent("Ready").show(a);
}
}
},
begin: function(e) {
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
}
this._winReady.emit("begin");
this._winHub.emit("begin");
for (var i = 0; i < cc.vv.roomMgr.ren; ++i) {
cc.vv.utils.getChildByTag(this._winPlayer, i).emit("begin");
}
},
online: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seat), t = cc.vv.utils.getChildByTag(this._winPlayer, i);
if (t.active) {
t.getComponent("Seat").lixian(!1);
cc.vv.popMgr.tip(e.name + "回来了");
}
},
offline: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seat), t = cc.vv.utils.getChildByTag(this._winPlayer, i);
if (t.active) {
t.getComponent("Seat").lixian(!0);
cc.vv.popMgr.tip(e.name + "离线了");
}
},
hide_dismiss_room: function() {
if (null != this._winDissroom) {
this._winDissroom.removeFromParent();
this._winDissroom = null;
var e = this.node.getChildByName("open").getChildByName("DismissRoom");
null != e && e.removeFromParent();
}
this._dissroom_plase = !1;
},
dismissroom: function(e) {
null != this._winDissroom && this._winDissroom.removeFromParent();
},
try_dismiss_room: function(e) {
this.is_disssroom_show = !0;
var i = this;
cc.vv.popMgr.get_open("DismissRoom") ? this.setClubtipNodeVisible(!1) : null == i._winDissroom && cc.vv.popMgr.open("DismissRoom", function(t) {
i._dissroom_plase = !0;
i._winDissroom = t;
i._winDissroom.emit("try_dismiss_room", e);
});
},
setClubtipNodeVisible: function(e) {
var i = this.node.getChildByName("open").getChildByName("Pwb_tips");
i && (i.active = e);
},
refuse_dismiss_room: function(e) {
if (null != this._winDissroom) {
this._winDissroom.removeFromParent();
this._winDissroom = null;
var i = this.node.getChildByName("open").getChildByName("DismissRoom");
null != i && i.removeFromParent();
}
this._dissroom_plase = !1;
cc.vv.popMgr.alert("玩家 " + e.nickname + " 拒绝解散房间");
},
agree_dismiss_room: function(e) {
null != this._winDissroom && this._winDissroom.emit("agree_dismiss_room", e);
},
playVoice: function() {
var e = this, i = this;
if (null == this._playingSeat && this._voiceMsgQueue.length) {
cc.vv.audioMgr.pauseAll();
var t = this._voiceMsgQueue.shift(), a = cc.vv.roomMgr.viewChairID(t.seatid);
this._playingSeat = a;
this.seat_emit(a, "showmg", !0);
cc.vv.voiceMgr.writeVoice("voicemsg.amr", t.content);
cc.vv.voiceMgr.play("voicemsg.amr");
var n = t.time;
setTimeout(function() {
cc.vv.audioMgr.resumeAll();
e.seat_emit(a, "showmg", !1);
i.playVoice();
i._playingSeat = null;
}, n + 500);
}
},
voice: function(e) {
this._voiceMsgQueue.push(e);
this.playVoice();
},
chat: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid);
cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").chat(e.content);
},
onDestroy: function() {
cc.vv.voiceMgr.stop();
cc.game.off(cc.game.EVENT_HIDE);
cc.game.off(cc.game.EVENT_SHOW);
},
yuyin: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid);
cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").chat(e.content);
var t = cc.vv.roomMgr.userSex(e.seatid), a = cc.vv.game.config.chat_path + "/effect/" + t + "/chat_" + e.index;
cc.vv.audioMgr.playSFX(a);
},
biaoqing: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid);
cc.vv.utils.getChildByTag(this._winPlayer, i).getComponent("Seat").emoji(e);
},
interact: function(e) {
var i = this, t = e.seatid, a = e.receiver_seatid, n = new cc.Node("interactionNode");
n.addComponent(cc.Sprite).spriteFrame = this.interactAtlas.getSpriteFrame("interact_" + e.phiz_id);
this._winPlayer.addChild(n);
var s = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], c = cc.vv.roomMgr.viewChairID(t), o = cc.vv.roomMgr.viewChairID(a);
n.x = s[c].x;
n.y = s[c].y;
n.runAction(cc.sequence(cc.moveTo(.5, cc.v2(s[o].x, s[o].y)), cc.callFunc(function() {
n.removeFromParent();
cc.vv.utils.getChildByTag(i._winPlayer, o).getComponent("Seat").interact(e);
}, i)));
},
stage: function(e) {
if (!this.is_disssroom_show && null != this._winDissroom) {
this._winDissroom.removeFromParent();
this._winDissroom = null;
var i = this.node.getChildByName("open").getChildByName("DismissRoom");
null != i && i.removeFromParent();
}
},
game_sync_push: function(e) {},
share: function(e) {
var i = parseInt(e);
cc.vv.log3.info("----------------" + e);
switch (i) {
case 1:
case 3:
case 4:
cc.vv.g3Plugin.screenShare(i, function(e, i) {});
}
},
watch_game: function() {
var e = !1;
if (null == cc.vv.roomMgr.guanzhan_table) return !1;
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (0 != i[t].userid && i[t].userid == cc.vv.userMgr.userid) return e = !0;
return e;
},
look_watch: function(e) {
cc.vv.log3.info("观战");
if (this.node.getChildByName("open").getChildByName("watch_list_view")) {
cc.vv.log3.info("有观战！！！");
this.node.getChildByName("open").getChildByName("watch_list_view").active = e;
}
},
onBtnClicked: function(e, i) {
cc.vv.audioMgr.click();
var t = this;
switch (e.target.name) {
case "look_watch":
this.look_watch(!0);
break;

case "btn_watch":
cc.vv.net2.quick("watch");
break;

case "btn_ready":
if (cc.vv.roomMgr.is_end()) {
cc.vv.net2.quick("report");
cc.vv.roomMgr.isend = !0;
} else if (null != cc.vv.roomMgr.dissroom) if (1 == cc.vv.roomMgr.dissroom) {
cc.vv.net2.quick("report");
this.node.getChildByName("report").getChildByName("jiesuan").active = !1;
if (1 == cc.vv.roomMgr._minmoney) {
this.setClubtipNodeVisible(!0);
if (null == (a = t.node.getChildByName("open").getChildByName("Pwb_tips"))) {
cc.vv.net2.quick("ready");
return;
}
a.getChildByName("btn_list").getChildByName("btn_qipai").active = !1;
return;
}
} else {
if (this.watch_game()) {
this.node.getChildByName("report").getChildByName("jiesuan").active = !1;
return;
}
if (1 == cc.vv.roomMgr._minmoney) {
this.setClubtipNodeVisible(!0);
if (null == (a = t.node.getChildByName("open").getChildByName("Pwb_tips"))) {
cc.vv.net2.quick("ready");
return;
}
a.getChildByName("btn_list").getChildByName("btn_qipai").active = !1;
return;
}
cc.vv.net2.quick("ready");
1 == cc.vv.roomMgr.started && (this.node.getChildByName("report").getChildByName("jiesuan").active = !1);
} else {
if (this.watch_game()) {
this.node.getChildByName("report").getChildByName("jiesuan").active = !1;
return;
}
if (1 == cc.vv.roomMgr._minmoney) {
this.setClubtipNodeVisible(!0);
var a;
if (null == (a = t.node.getChildByName("open").getChildByName("Pwb_tips"))) {
cc.vv.net2.quick("ready");
return;
}
a.getChildByName("btn_list").getChildByName("btn_qipai").active = !1;
return;
}
cc.vv.net2.quick("ready");
1 == cc.vv.roomMgr.started && (this.node.getChildByName("report").getChildByName("jiesuan").active = !1);
}
break;

case "btn_exit":
cc.vv.net2.quick("leave", {
room_id: cc.vv.roomMgr.roomid
});
break;

case "btn_share":
cc.vv.popMgr.open("ShareReport", function(e) {
e.getComponent("Share").share(t.share);
});
break;

case "btn_rule":
var n = cc.vv.roomMgr.room_type.replace("_", "");
cc.vv.popMgr.open("table/gameWanfa", function(e) {
e.getComponent("gameWanfa").onLoadHelp(n);
});
break;

default:
cc.vv.popMgr.alert("你点的啥，我啥不知道呢");
}
},
guanZhanTable: function(e) {
cc.vv.roomMgr.guanzhan_table = e;
var i = cc.vv.roomMgr.guanzhan_table.list;
cc.vv.popMgr.del_open("watch_list_view");
cc.vv.popMgr.open("table_public/watch_list_view", function(e) {
e.getComponent("watch_list_view").show_list(i);
});
},
leave: function(e) {
if (e.userid != cc.vv.userMgr.userid) {
if (255 != e.seatid && cc.vv.roomMgr.table && -1 != e.seatid) {
cc.vv.roomMgr.table.list[e.seatid].userid = 0;
cc.vv.roomMgr.table.list[e.seatid].sitStatus = -1;
this.location(!1);
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.utils.getChildByTag(this._winPlayer, i);
t.emit("out", e);
cc.vv.game.config.hide_nothing_seat && (t.active = !1);
}
} else this.backhall();
},
out: function(e) {
cc.vv.popMgr.tip(e.name + " 被房主移出");
},
backhall: function() {
cc.vv.roomMgr.guanzhan_table && (cc.vv.roomMgr.guanzhan_table.list = []);
this.is_replay || cc.vv.net2.close();
cc.director.loadScene("hall");
},
joinRoom: function(e) {
if (e.userid == cc.vv.userMgr.userid) {
var i = this.node.getChildByName("sit");
0 == e.canSit.length ? i.active = !1 : i.active = !0;
}
},
Lack_pwb: function() {
cc.vv.popMgr.alert("胜点不足请联系圈主加胜点，是否申请加胜点？", function() {
cc.vv.net2.quick("club_invite_add_pwb", {
club_id: cc.vv.roomMgr.clubid
});
}, !0);
},
initEventHandlers: function() {
cc.vv.gameNetMgr.dataEventHandler = this.node;
var e = this;
this.node.on("joinRoom", function(i) {
e.joinRoom(i.data);
});
this.node.on("needSit", function(e) {});
cc.game.on(cc.game.EVENT_HIDE, function() {
e.is_disssroom_show = !1;
});
this.node.on("pwb_limit", function(i) {
for (var t = i.data, a = !1, n = 0, s = 0; s < t.users.length; s++) {
var c = cc.vv.roomMgr.getSeatIndexByID(t.users[s].userid), o = cc.vv.roomMgr.viewChairID(c), h = cc.vv.utils.getChildByTag(e._winPlayer, o).getChildByName("Recharge");
h.active = !0;
h.getChildByName("tip").getComponent(cc.Animation).play();
}
for (s = 0; s < t.users.length; s++) {
c = cc.vv.roomMgr.getSeatIndexByID(t.users[s].userid), o = cc.vv.roomMgr.viewChairID(c);
t.users[s].userid != cc.vv.userMgr.userid && n++;
if (0 == o) {
cc.vv.roomMgr._minmoney = !0;
a = !0;
}
}
if (n != t.users.length) {
cc.vv.roomMgr._minmoney = !0;
if (a) if (cc.vv.popMgr.get_open("Pwb_tips")) {
e._endTime = i.data.time;
var r = e.node.getChildByName("open").getChildByName("Pwb_tips");
e._surplus_time_lbl = r.getChildByName("time").getComponent(cc.Label);
r.active = !0;
r.getChildByName("btn_back").active = !0;
r.getChildByName("new_tis").active = !1;
r.getChildByName("btn_list").getChildByName("btn_qipai").active = !1;
r.getChildByName("tips_ScrollView").getChildByName("list").getChildByName("content").removeAllChildren();
var l = r.getChildByName("btn_list").getChildByName("btn_apply"), d = r.getChildByName("btn_list").getChildByName("btn_exit");
r.getChildByName("btn_list").getChildByName("btn_watch").active = cc.vv.game.config.show_watch_btn;
d.active = !1;
l.active = !0;
for (s = 0; s < i.data.users.length; s++) {
c = cc.vv.roomMgr.getSeatIndexByID(t.users[s].userid), o = cc.vv.roomMgr.viewChairID(c);
if (t.users[s].userid == cc.vv.userMgr.userid) {
var g = cc.instantiate(e.club_tip), u = g.getChildByName("tip_name"), _ = g.getChildByName("tip_lbl");
u.getComponent(cc.Label).string = i.data.users[s].name;
_.getComponent(cc.Label).string = i.data.users[s].pwb;
r.getChildByName("tips_ScrollView").getChildByName("list").getChildByName("content").addChild(g);
cc.vv.userMgr.userid == i.data.users[s].userid && (l.active = !0);
}
}
} else cc.vv.popMgr.open("Pwb_tips", function(i, a) {
e._endTime = a.data.time;
var n = e.node.getChildByName("open").getChildByName("Pwb_tips");
n.getChildByName("btn_list").getChildByName("btn_qipai").active = !1;
n.getChildByName("new_tis").active = !1;
e._surplus_time_lbl = n.getChildByName("time").getComponent(cc.Label);
0 == cc.vv.roomMgr.started ? n.active = !0 : n.active = !1;
n.getChildByName("btn_back").active = !0;
var s = n.getChildByName("btn_list").getChildByName("btn_apply"), c = n.getChildByName("btn_list").getChildByName("btn_exit");
c.active = !1;
s.active = !0;
var o = n.getChildByName("btn_list").getChildByName("btn_watch");
o.active = cc.vv.game.config.show_watch_btn;
s.on(cc.Node.EventType.TOUCH_START, function() {
cc.vv.net2.quick("club_invite_add_pwb", {
club_id: cc.vv.roomMgr.clubid
});
cc.vv.popMgr.tip("发送申请成功!");
s.active = !1;
});
o.on(cc.Node.EventType.TOUCH_START, function() {
cc.vv.net2.quick("watch");
n.active = !1;
});
c.on(cc.Node.EventType.TOUCH_START, function() {
cc.vv.popMgr.alert("房间已开局,是否确认要申请解散？", function() {
cc.vv.net2.quick("try_dismiss_room");
}, !0);
});
n.getChildByName("tips_ScrollView").getChildByName("list").getChildByName("content").removeAllChildren();
for (var h = 0; h < a.data.users.length; h++) {
var r = cc.vv.roomMgr.getSeatIndexByID(t.users[h].userid);
cc.vv.roomMgr.viewChairID(r);
if (t.users[h].userid == cc.vv.userMgr.userid) {
var l = cc.instantiate(e.club_tip), d = l.getChildByName("tip_name"), g = l.getChildByName("tip_lbl");
d.getComponent(cc.Label).string = a.data.users[h].name;
g.getComponent(cc.Label).string = a.data.users[h].pwb;
cc.vv.userMgr.userid == a.data.users[h].userid && (s.active = !0);
n.getChildByName("tips_ScrollView").getChildByName("list").getChildByName("content").addChild(l);
}
}
}, i);
} else cc.vv.roomMgr._minmoney = !1;
});
this.node.on("club_user_up_pwb", function(i) {
cc.vv.roomMgr._minmoney = !1;
e._endTime = -1;
null != e.node.getComponent("YSZ2300Game") && e.node.getComponent("YSZ2300Game").endTime();
e.setClubtipNodeVisible(!1);
});
this.node.on("Lack_pwb", function(i) {
e.Lack_pwb(i.data);
});
this.node.on("invite_notice_add_pwb", function(e) {
"hall" != e.model && cc.vv.popMgr.open("hall/GameAddPwb", function(e, i) {
e.getComponent("GameInAddPwb").info(i);
e.myTag = i.data.club_id + "-" + i.data.playerid;
}, e);
});
this.node.on("club_user_pwb", function(i) {
var t = e.node.getChildByName("open"), a = i.data;
cc.vv.popMgr.hide();
a.errcode < 0 && cc.vv.popMgr.tip(a.errmsg);
if (cc.vv.popMgr.get_open("GameAddPwb")) for (var n = t.children.length - 1; n > 0; --n) t.children[n].myTag == a.clubid + "-" + a.userid && t.children[n].removeFromParent();
});
this.node.on("room_pwb_change", function(i) {
var t = cc.vv.roomMgr.getSeatIndexByID(i.data.userid);
if (-1 != t) {
var a = cc.vv.roomMgr.viewChairID(t), n = cc.vv.utils.getChildByTag(e._winPlayer, a);
if (null != n) {
cc.vv.popMgr.get_open("Pwb_tips") && (e.node.getChildByName("open").getChildByName("Pwb_tips").active = !1);
cc.vv.roomMgr.table.list[t].score = cc.vv.utils.numFormat(parseFloat(i.data.pwb));
var s = n.getChildByName("Recharge");
if (null != s) {
s.active = !1;
s.getChildByName("tip").getComponent(cc.Animation).stop();
}
n.getComponent("Seat").change_pwb(cc.vv.utils.numFormat(parseFloat(i.data.pwb) - parseFloat(i.data.lock)));
}
}
});
cc.game.on(cc.game.EVENT_HIDE, function() {
cc.vv.net2.quick("enter_back", {
type: 1
});
});
this.node.on("noRoom", function(i) {
cc.vv.popMgr.hide();
cc.vv.popMgr.alert("房间已经不存在了", function() {
e.backhall();
});
}), cc.game.on(cc.game.EVENT_SHOW, function() {
cc.vv.net2.quick("enter_back", {
type: 0
});
var i = cc.vv.utils.getChildByTag(e._winPlayer, 0);
i && i.active && i.getComponent("Seat").lixian(!1);
});
this.node.on("sit", function(i) {
var t = i.data;
e.node.getChildByName("sit") && t.userid == cc.vv.userMgr.userid && (e.node.getChildByName("sit").active = !1);
cc.vv.roomMgr.real = t.real;
-99 != i.errcode ? 0 == i.errcode ? e.sit(t) : cc.vv.popMgr.alert(i.errmsg, function() {}) : cc.vv.popMgr.alert("" + i.errmsg, function() {
cc.director.loadScene("hall");
});
});
this.node.on("fangzhu", function(i) {
var t = i.data;
e._winReady.getComponent("Ready").fangzhu(t);
});
this.node.on("power", function(i) {
e._winHub.emit("power");
});
this.node.on("network", function(i) {
e._winHub.emit("network");
});
this.node.on("param", function(i) {
e.param(i.data);
});
this.node.on("table", function(i) {
e.table(i.data);
});
this.node.on("guanZhanTable", function(i) {
e.guanZhanTable(i.data);
});
this.node.on("stage", function(i) {
e.stage(i.data);
});
this.node.on("report", function(e) {
cc.vv.roomMgr.guanzhan_table && (cc.vv.roomMgr.guanzhan_table.list = []);
cc.vv.roomMgr.started = 0;
});
this.node.on("game_sync_push", function(i) {
e.game_sync_push(i.data);
});
this.node.on("ready", function(i) {
e.ready(i.data);
});
this.node.on("game_num_push", function(i) {
i = i.data;
cc.vv.roomMgr.now = i.numOfGames;
e._winHub.emit("round");
});
this.node.on("leave", function(i) {
var t = i.data;
cc.vv.roomMgr.real = t.real;
0 == i.errcode ? e.leave(t) : cc.vv.popMgr.alert(i.errmsg, function() {
e.backhall();
});
});
this.node.on("out", function(i) {
0 == i.errcode ? e.out(i.data) : cc.vv.popMgr.alert(i.errmsg);
});
this.node.on("begin", function(i) {
var t = i;
0 == t.errcode ? e.begin(i.data) : cc.vv.popMgr.alert(t.errmsg);
});
this.node.on("refuse_dismiss_room", function(i) {
e.refuse_dismiss_room(i.data);
});
this.node.on("agree_dismiss_room", function(i) {
e.agree_dismiss_room(i.data);
});
this.node.on("try_dismiss_room", function(i) {
e.try_dismiss_room(i.data);
});
this.node.on("dismissroom", function(i) {
e.dismissroom(i.data);
});
this.node.on("voice", function(i) {
e.voice(i.data);
});
this.node.on("chat", function(i) {
e.chat(i.data);
});
this.node.on("yuyin", function(i) {
e.yuyin(i.data);
});
this.node.on("biaoqing", function(i) {
e.biaoqing(i.data);
});
this.node.on("offline", function(i) {
e.offline(i.data);
});
this.node.on("online", function(i) {
e.online(i.data);
});
this.node.on("interact", function(i) {
e.interact(i.data);
});
},
dingzhuang: function(e, i) {
var t = [], a = e.list, n = e.seatid, s = 0;
for (var c in a) if (1 == a[c]) {
var o = cc.vv.roomMgr.viewChairID(parseInt(c)), h = cc.vv.utils.getChildByTag(this._winPlayer, o);
t.push(h);
}
var r = t.length;
if (0 != r) {
r = t.length;
for (var l = 0; l < r; l++) t[l] == n + "" && (s = l);
var d = 2 * r + s;
this.dingzhuangAnimation(t, d, i);
} else i();
},
dingzhuangAnimation: function(e, i, t) {
var a = this, n = 50;
function s(i, t) {
setTimeout(function() {
if (!a._senceTableDestroy) {
e[t].getComponent("Seat").liangkuang(!0);
a.soundDingzhuang();
}
}, n * i * 4);
setTimeout(function() {
a._senceTableDestroy || e[t].getComponent("Seat").liangkuang(!1);
}, n * (4 * i + 2));
}
for (var c = e.length, o = 0; o < i; o++) for (var h = o % c, r = 0; r < c; r++) {
h == r && s(o, r);
o == i - 1 && r == c - 1 && setTimeout(function() {
t();
}, n * (4 * o + 3));
}
},
soundDingzhuang: function() {
cc.vv.audioMgr.playSFX("nn/qiangzhuang");
}
}, "onDestroy", function() {
this._senceTableDestroy = !0;
}));
cc._RF.pop();
}, {} ],
TempDataMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8296ftGfp5GfbBAaXx4pEo0", "TempDataMgr");
i.exports = {
pokerNine: 0
};
cc._RF.pop();
}, {} ],
ThreeListenCard: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "28f98MR5pdFDanMePPWwvyi", "ThreeListenCard");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
start: function() {},
show: function(e, i) {
var t = this.node.getChildByName("MyMahJongPai"), a = this.node.getChildByName("fanshu");
t.getComponent(cc.Sprite).spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID("M_", e);
a.getComponent(cc.Label).string = i + "张";
if (e == cc.vv.mahjongMgr._magicPai || e == cc.vv.mahjongMgr._magicPai2) {
this.node.getChildByName("magic_mash").active = !0;
}
},
fan: function(e) {
var i = this.node.getChildByName("fanshunew");
i.active = !0;
this.node.getChildByName("Xfan").active = !0;
i.getComponent(cc.Label).string = e + "番";
}
});
cc._RF.pop();
}, {} ],
Tickct: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "738c86LiytCa6RH87KZx1xH", "Tickct");
cc.Class({
extends: cc.Component,
properties: {
idLabel: cc.Label,
imgNode: cc.Node
},
start: function() {
if (cc.vv.userMgr.shareConfig) {
this.idLabel.string = cc.vv.userMgr.shareConfig.kf_id ? cc.vv.userMgr.shareConfig.kf_id : "";
var e = this;
cc.loader.load(cc.vv.userMgr.shareConfig.kf_url, function(i, t) {
if (!i) {
var a = new cc.SpriteFrame(t);
e.imgNode.isValid && (e.imgNode.getComponent(cc.Sprite).spriteFrame = a);
}
});
}
},
btnCopyClicked: function() {
cc.vv.audioMgr.click();
if (cc.vv.userMgr.shareConfig.kf_id) {
cc.vv.g3Plugin.copyText(cc.vv.userMgr.shareConfig.kf_id);
cc.vv.popMgr.alert("复制内容(" + cc.vv.userMgr.shareConfig.kf_id + ")成功");
}
},
onBtnClickOpenKeFu: function() {
cc.sys.openURL(cc.GAMEKEFU);
}
});
cc._RF.pop();
}, {} ],
Tip: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "85191/ewKtMRpZqTzbW3sp6", "Tip");
cc.Class({
extends: cc.Component,
properties: {},
tip: function(e) {
var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1.5;
this.node.getChildByName("popbg").getChildByName("content").getComponent(cc.Label).string = e;
this.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.1), cc.moveBy(.1, cc.v2(0, 20))), cc.delayTime(i), cc.spawn(cc.fadeOut(.1), cc.moveBy(.1, cc.v2(0, 20))), cc.removeSelf()));
}
});
cc._RF.pop();
}, {} ],
UserInfo: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "ab153TwxkJLyLDJMdcWl1ma", "UserInfo");
cc.Class({
extends: cc.Component,
properties: {
_userid: null,
_seatid: null
},
show: function(e) {
var i = cc.vv.roomMgr.realChairID(e), t = cc.vv.roomMgr.table.list[i];
this._userid = t.userid;
if (0 != this._userid) {
this._seatid = i;
this.node.getChildByName("username").getComponent(cc.Label).string = cc.vv.utils.cutString(t.nickname, 6);
this.node.getChildByName("userid").getComponent(cc.Label).string = "ID:" + t.userid;
this.node.getChildByName("ip").getComponent(cc.Label).string = "IP:" + t.ip;
this.node.getChildByName("address").getComponent(cc.Label).string = "";
if (0 == cc.vv.roomMgr.started && cc.vv.roomMgr.param.creator && cc.vv.roomMgr.param.creator == cc.vv.userMgr.userid) {
this.node.getChildByName("tiren").active = !0;
t.userid == cc.vv.roomMgr.param.creator && (this.node.getChildByName("tiren").active = !1);
} else this.node.getChildByName("tiren").active = !1;
"0" == t.userid && this.node.destroy();
this.node.getChildByName("head").getChildByName("img").getComponent("ImageLoader").loadImg(t.headimg);
} else this.node.destroy();
},
onclickinteract: function(e, i) {
if (cc.vv.userMgr.userid != this._userid) if (null == cc.vv.game.config.is_chat || 0 != cc.vv.game.config.is_chat) {
if (void 0 != cc.vv.userMgr.interactTime) {
if (new Date().getTime() - 5e3 < cc.vv.userMgr.interactTime) {
cc.vv.popMgr.tip("您发的太快了，歇一下吧~~");
return;
}
}
cc.vv.userMgr.interactTime = new Date().getTime();
this.node.active = !1;
cc.vv.net2.quick("interact", {
receiverId: this._userid,
phizId: i,
bySeatID: this._seatid
});
} else cc.vv.popMgr.tip("本游戏禁止发送表情和互动"); else cc.vv.popMgr.tip("不能送给自己哦~~");
},
onclicklisten: function(e) {
var i = this;
switch (e.target.name) {
case "Shake":
if (cc.vv.userMgr.userid == this._userid) {
cc.vv.popMgr.tip("请选择其他玩家~~");
return;
}
if (void 0 != cc.vv.userMgr.shake) {
if (new Date().getTime() - 1e4 < cc.vv.userMgr.shake) {
cc.vv.popMgr.tip("您发的太快了，歇一下吧~~");
return;
}
}
cc.vv.userMgr.shake = new Date().getTime();
var t = {
method: "shake",
data: {
user_id: this._userid
}
};
cc.vv.net2.send(t);
break;

case "tiren":
cc.vv.popMgr.alert("你确定移除这个玩家吗?", function() {
cc.vv.net2.quick("out", {
roomid: cc.vv.roomMgr.roomid,
userid: i._userid
});
i.node.destroy();
}, !0);
}
}
});
cc._RF.pop();
}, {} ],
UserManager: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "88b654xg/FEc4zBSZ7nq4aC", "UserManager");
cc.Class({
extends: cc.Component,
properties: {
lblNum: cc.Label,
lblName: cc.Label,
lblID: cc.Label,
lblPwb: cc.Label,
head: cc.Node,
btns: cc.Node,
identify: cc.Sprite,
btn_save: cc.Button,
xiaji: cc.EditBox,
statusAtlas: {
default: null,
type: cc.SpriteAtlas
},
input: cc.Node,
input1: cc.Node,
_job: 0,
_rate: 0
},
onLoad: function() {
this.initEventHandlers();
},
show: function(e, i) {
this.lblName.string = "";
this.lblID.string = "";
this.head.getComponent(cc.Sprite).spriteFrame = null;
this.lblPwb && (this.lblPwb.string = 0);
this.lblNum && (this.lblNum.string = 0);
this.btn_save && (this.btn_save.interactable = !1);
this.xiaji && (this.xiaji.string = 0);
this.is_friend = i;
i ? cc.vv.net1.quick("club_user_friend_pwb", {
club_id: cc.vv.userMgr.club_id,
user_id: e
}) : cc.vv.net1.quick("club_user_view_pwb", {
club_id: cc.vv.userMgr.club_id,
user_id: e
});
},
info: function(e) {
this._job = e.job;
this.btn_save && (this.btn_save.interactable = !0);
this.lblName.string = e.username;
this.lblID.string = e.userid;
this._rate = e.rate;
this.head.getComponent(cc.Sprite).spriteFrame = e.headimg;
null !== e.pwb && this.lblPwb && (this.lblPwb.string = cc.vv.utils.numFormat(e.pwb));
this.lblNum && (this.lblNum.string = 0);
if (this.btns) {
for (var i = 0; i < this.btns.childrenCount; ++i) this.btns.children[i].active = !1;
this.refreshBtns(e.limit, e.status);
}
this.userStatus(e.status);
},
refreshBtns: function(e, i) {
this.btns.getChildByName("btn_tcqz1").active = 1 == e;
this.btns.getChildByName("btn_tcqz2").active = 0 == e;
this.btns.getChildByName("btn_jinwan1").active = 1 == e && 1 == i;
this.btns.getChildByName("btn_jinwan2").active = 0 == e && 1 == i;
this.btns.getChildByName("btn_jiejin1").active = 1 == e && -1 == i;
this.btns.getChildByName("btn_jiejin2").active = 0 == e && -1 == i;
this.btns.getChildByName("Nodexiaji").active = 1 == e;
this.btns.getChildByName("btn_rate").active = !0;
},
userStatus: function(e) {
var i = null;
i = -1 == e ? this.statusAtlas.getSpriteFrame("club_member_black") : this.userIdentify();
this.identify.spriteFrame = i;
},
userIdentify: function() {
var e = null;
switch (this._job) {
case 9:
e = this.statusAtlas.getSpriteFrame("club_member_type0");
break;

case 2:
e = this.statusAtlas.getSpriteFrame("group_member_type1");
break;

case 1:
e = this.statusAtlas.getSpriteFrame("group_member_type2");
break;

case 0:
e = null;
}
return e;
},
changePwb: function(e) {
this.lblNum.string = e.toFixed(1);
},
newPwb: function(e) {
this.lblPwb.string = cc.vv.utils.numFormat(e);
this.is_friend || (cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][this.lblID.string].pwb = parseFloat(e));
},
initEventHandlers: function() {
var e = this;
this.input && this.input.on(cc.Node.EventType.TOUCH_START, function() {
cc.vv.popMgr.pop("table/input_pwb", function(i) {
i.getComponent("Inputpwb").info(e.lblID.string, e.lblPwb.string, e.lblNum, 0);
});
});
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
var i, t = this;
i = cc.vv.userMgr.clubUsers && 9 == t._job ? parseFloat(cc.vv.userMgr.clubUsers[cc.vv.userMgr.club_id][this.lblID.string].pwb) : this.lblPwb.string;
switch (e.target.name) {
case "btn_pwb":
cc.vv.net1.quick("club_pwb_list", {
club_id: cc.vv.userMgr.club_id,
player_id: this.lblID.string,
type: 0
});
this.node.active = !1;
break;

case "btn_plus50":
var a = parseFloat(this.lblNum.string) - 50, n = parseFloat(a) + parseFloat(i);
0 == i ? a <= 0 && (a = 0) : i > 0 ? n < 0 && (a = 0 - i) : i < 0 && n < 0 && a < 0 && (a = 0);
this.changePwb(a);
break;

case "btn_plus100":
a = parseFloat(this.lblNum.string) - 100, n = parseFloat(a) + parseFloat(i);
0 == i ? a <= 0 && (a = 0) : i > 0 ? n < 0 && (a = 0 - i) : i < 0 && n < 0 && a < 0 && (a = 0);
this.changePwb(a);
break;

case "btn_add50":
a = parseFloat(this.lblNum.string) + 50;
this.changePwb(a);
break;

case "btn_add100":
a = parseFloat(this.lblNum.string) + 100;
this.changePwb(a);
break;

case "btn_save":
if (0 != this.lblNum.string) if (t.is_friend) {
var s = {
method: "club_user_pwb_loss",
data: {
club_id: cc.vv.userMgr.club_id,
user_id: this.lblID.string,
pwb: this.lblNum.string
}
};
cc.vv.popMgr.wait("正在修改胜点", function() {
cc.vv.net1.send(s);
});
this.lblNum.string = 0;
} else {
s = {
method: "club_user_pwb",
data: {
version: cc.SERVER,
club_id: cc.vv.userMgr.club_id,
user_id: this.lblID.string,
pwb: this.lblNum.string
}
};
cc.vv.popMgr.wait("正在修改胜点", function() {
cc.vv.net1.send(s);
});
this.lblNum.string = 0;
}
break;

case "btn_jinwan1":
cc.vv.net1.quick("club_user_black", {
club_id: cc.vv.userMgr.club_id,
user_id: this.lblID.string,
status: -1
});
break;

case "btn_jiejin1":
cc.vv.net1.quick("club_user_black", {
club_id: cc.vv.userMgr.club_id,
user_id: this.lblID.string,
status: 1
});
break;

case "btn_tcqz1":
cc.vv.popMgr.alert("确定要将玩家" + t.lblName.string + "踢出圈子吗？", function() {
cc.vv.net1.quick("club_user_kick", {
club_id: cc.vv.userMgr.club_id,
user_id: t.lblID.string
});
}, !0);
break;

case "bind_junior":
"" == t.xiaji.string ? cc.vv.popMgr.tip("请输入正确的数") : cc.vv.net1.quick("bind_junior", {
club_id: cc.vv.userMgr.club_id,
junior_id: t.xiaji.string,
player_id: this.lblID.string
});
break;

case "unbind_junior":
"" == t.xiaji.string ? cc.vv.popMgr.tip("请输入正确的数") : cc.vv.net1.quick("un_bind_junior", {
club_id: cc.vv.userMgr.club_id,
junior_id: t.xiaji.string,
player_id: this.lblID.string
});
break;

case "btn_rate":
var c = this._rate;
cc.vv.popMgr.pop("club/ClubRateTable", function(e) {
e.getComponent("ClubRateTable").show(c, t.lblID.string, !0);
});
break;

case "btn_liebiao":
c = this._rate;
cc.vv.net1.quick("club_reward_list", {
club_id: cc.vv.userMgr.club_id,
player_id: t.lblID.string
});
this.node.active = !1;
break;

default:
cc.vv.popMgr.tip("敬请期待");
}
},
onclickClose: function() {
cc.vv.club._clubPwb = null;
cc.vv.club._clubPwb2 = null;
this.node.destroy();
}
});
cc._RF.pop();
}, {} ],
UserMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "aad67HNGaZAC7YPRYt7B3sZ", "UserMgr");
cc.Class({
extends: cc.Component,
properties: {
account: null,
userId: null,
userName: null,
lv: 0,
exp: 0,
ticket: 0,
coins: 0,
gems: 0,
sign: 0,
ip: "",
sex: 0,
headimg: "",
adcode: 0,
status: 1,
sign_code_time: 0,
ios_review: 0,
is_dealer: 0,
token: "",
clublist: null,
clubInfo: null,
clubUsers: null,
clubRoom: null,
clubRoomEnter: 0,
playFisrtWelcome: 1
},
guest: function() {
var e = cc.args.account;
cc.log("acc = ", e);
null == e && (e = cc.sys.localStorage.getItem("account"));
null == e && (e = Date.now() + "");
cc.sys.localStorage.setItem("account", e);
var i = {
method: "login",
data: {
type: 0,
msg: {
openid: e
},
version: cc.VERSION,
platform: 0,
adcode: 0,
ip: cc.vv.global.ip,
address: "未知"
}
};
cc.log("account = ", i.data.msg);
cc.vv.net1.send(i);
},
login: function(e) {
var i = 1;
cc.sys.os == cc.sys.OS_IOS && (i = 2);
var t = {
method: "login",
data: {
type: 1,
msg: e,
ip: cc.vv.global.ip,
version: cc.VERSION,
platform: i,
address: cc.vv.global.address,
adcode: cc.vv.global.adcode
}
};
cc.vv.net1.send(t);
},
join: function(e, i, t) {
var a = {
method: "join",
data: {
version: cc.SERVER,
room_id: e,
club_id: i,
type: t,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
}
};
cc.vv.popMgr.loading_tip("join " + e, function() {
cc.vv.net1.send(a);
});
}
});
cc._RF.pop();
}, {} ],
Utils: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "aeccf83WbFMdrDHURhauhoe", "Utils");
var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
return typeof e;
} : function(e) {
return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
}, n = (e("MD5"), [ "圈", "零", "一", "二", "三", "四", "五", "六", "七", "八", "九", "Q", "W", "E", "R", "T", "Y", "U", "I", "O", "P", "A", "S", "D", "F", "G", "H", "J", "K", "L", "Z", "X", "C", "V", "B", "N", "M", "q", "w", "e", "r", "t", "y", "u", "i", "o", "p", "a", "s", "d", "f", "g", "h", "j", "k", "l", "z", "x", "c", "v", "b", "n", "m", "1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "金花", "上分", "下分", "元", "块", "角", "毛", "牛牛", "近平", "克强", "泽东", "小平", "泽民", "A片", "A级", "QQ客服", "一中", "一台", "一黨", "一党", "三唑仑", "三唑侖", "三级片", "上访", "破解", "专制", "独立", "中共", "九评", "共产党", "人民", "伦公", "伦功", "伦攻", "安定", "侦探", "六合彩", "六合采", "六四", "共狗", "功法", "动乱", "包夜", "博讯", "反共", "封锁", "腐败", "发伦", "发沦", "发论", "发轮", "口交", "口技", "迷香", "台湾", "台独", "台獨", "喷精", "独立", "回民", "国军", "国贼", "中华", "中国", "大法", "大紀元", "大纪元", "大纪园", "大蓋帽", "大陆", "天安门", "学潮", "学生妹", "学联", "学自联", "学运", "宏法", "密穴", "專政", "小穴", "屠杀", "幼交", "庆红", "廉政", "异见", "异议", "办理", "性息", "抡功", "护法", "抽插", "揭批书", "新华", "新唐人", "新生网", "新疆", "独立", "獨立", "新闻", "贷款", "无界", "无网界", "明慧", "暴亂", "暴動", "暴政", "李洪志", "极景", "枪", "刀", "毒品", "民主", "民猪", "民联", "民进", "民阵", "水果", "沦公", "沦功", "沦攻", "法伦", "法倫", "法沦", "法淪", "法論", "法论", "法輪", "法轮", "法轮功", "洪传", "洪吟", "洪志", "海洛因", "淪公", "淪功", "淪攻", "甲基", "疆独", "疆独", "藏独", "疆獨", "發倫", "發淪", "發論", "發輪", "百家乐", "监听", "监听王", "真善忍", "短信", "破码器", "加持", "窃听", "紅志", "紅智", "红志", "红智", "恐怖", "统独", "绵恒", "网特", "美国", "群发", "翻墙", "联总", "肉棍", "手枪", "自杀", "蒙古", "蒙汗药", "蒙独", "藏独", "藏獨", "血腥", "裸聊", "西藏", "独立", "獨立", "論公", "論功", "論攻", "论公", "论攻", "貓肉", "两极法", "赤化", "赤匪", "身份证", "輪公", "輪功", "转法轮", "轮公", "轮大", "轮奸", "达赖", "偷拍", "退党", "退党", "透视", "郑义", "阴毛", "阴茎", "阴道", "露乳", "露毛", "露点", "静坐", "高校", "鸡巴", "黄色", "小电影", "黑社會", "龙虎豹", "POS", "POS机", "POS機", "POS机套现", "赌博", "财产", "冰毒", "成品冰", "出售冰", "bing毒买", "bing毒卖", "出售k粉", "出售冰毒", "摇头丸", "搖頭丸", "摇头wan", "海洛因", "K粉", "麻古", "大麻", "美沙酮", "氯胺酮", "麻黄素", "麻果", "植物冰", "化学冰", "博彩", "保安器材", "私服", "外挂", "销售QQ", "麻醉乙醚", "麻醉枪", "麻醉药", "麻醉钢枪", "麻醉", "迷唤药", "迷昏药", "迷昏藥", "迷藥", "迷葯", "迷药", "洣药", "洣葯", "迷情药", "迷情葯", "春葯", "春药", "昏药", "售葯", "迷幻葯", "发情药", "迷魂藥", "迷奸", "通奸", "兽交", "冰火", "强奸", "强暴", "强效失意药", "偷窥", "催情药", "催情藥", "土瓜根", "证", "针孔", "监控", "气枪", "氣槍", "氣枪", "汽槍", "猎槍", "步枪", "步槍", "子彈", "子弹", "手枪", "手槍", "猎枪", "枪支", "軍用", "器械", "小口径", "冲锋枪", "狙击枪", "警用", "军用", "警察", "手拷", "军用手", "出售", "左轮", "54式", "64", "64式", "77式", "92式", "仿真枪", "电棍", "指纹套", "安乐死", "氰化物", "假比", "假币", "人民币", "假钱", "假幣", "假鈔", "假錢", "时时彩", "手狗", "砖石", "白粉", "援交", "小姐", "桑拿", "按摩", "美女", "保健", "上門", "上门", "服務", "兼職", "美女", "找小姐", "楼凤", "大学生", "少妇", "伴游", "包夜", "全套", "兼职", "艳舞", "兼职", "出台", "模特", "发票", "醱票", "开发票", "開發票", "發票", "办証", "办证", "空白证", "答案", "考研", "职称", "网赚", "代考", "代攷", "代办", "代開", "代开", "代发", "代聊", "论文", "刻章", "证件", "文凭", "六合彩", "毕业证", "文凭", "枪手", "高仿", "车牌", "军牌", "套牌", "走私", "套牌", "假证", "车牌", "成人", "高清", "富婆", "鸭子", "小三", "打手", "报仇", "复仇", "千术", "牌技", "佳人", "偷電", "奇迹", "外挂", "私服", "赛马会", "烫图烫钻", "开户" ]), s = [ "炸金花", "金花", "上分", "下分", "元", "块", "角", "毛", "牛牛", "近平", "克强", "泽东", "小平", "泽民", "A片", "A级", "QQ客服", "一中", "一台", "一黨", "一党", "三唑仑", "三唑侖", "三级片", "上访", "破解", "专制", "独立", "中共", "九评", "共产党", "人民", "伦公", "伦功", "伦攻", "安定", "侦探", "六合彩", "六合采", "六四", "共狗", "功法", "动乱", "包夜", "博讯", "反共", "封锁", "腐败", "发伦", "发沦", "发论", "发轮", "口交", "口技", "迷香", "台湾", "台独", "台獨", "喷精", "独立", "回民", "国军", "国贼", "中华", "中国", "大法", "大紀元", "大纪元", "大纪园", "大蓋帽", "大陆", "天安门", "学潮", "学生妹", "学联", "学自联", "学运", "宏法", "密穴", "專政", "小穴", "屠杀", "幼交", "庆红", "廉政", "异见", "异议", "办理", "性息", "抡功", "护法", "抽插", "揭批书", "新华", "新唐人", "新生网", "新疆", "独立", "獨立", "新闻", "贷款", "无界", "无网界", "明慧", "暴亂", "暴動", "暴政", "李洪志", "极景", "枪", "刀", "毒品", "民主", "民猪", "民联", "民进", "民阵", "水果", "沦公", "沦功", "沦攻", "法伦", "法倫", "法沦", "法淪", "法論", "法论", "法輪", "法轮", "法轮功", "洪传", "洪吟", "洪志", "海洛因", "淪公", "淪功", "淪攻", "甲基", "疆独", "疆独", "藏独", "疆獨", "發倫", "發淪", "發論", "發輪", "百家乐", "监听", "监听王", "真善忍", "短信", "破码器", "加持", "窃听", "紅志", "紅智", "红志", "红智", "恐怖", "统独", "绵恒", "网特", "美国", "群发", "翻墙", "联总", "肉棍", "手枪", "自杀", "蒙古", "蒙汗药", "蒙独", "藏独", "藏獨", "血腥", "裸聊", "西藏", "独立", "獨立", "論公", "論功", "論攻", "论公", "论攻", "貓肉", "两极法", "赤化", "赤匪", "身份证", "輪公", "輪功", "转法轮", "轮公", "轮大", "轮奸", "达赖", "偷拍", "退党", "退党", "透视", "郑义", "阴毛", "阴茎", "阴道", "露乳", "露毛", "露点", "静坐", "高校", "鸡巴", "黄色", "小电影", "黑社會", "龙虎豹", "POS", "POS机", "POS機", "POS机套现", "赌博", "财产", "冰毒", "成品冰", "出售冰", "bing毒买", "bing毒卖", "出售k粉", "出售冰毒", "摇头丸", "搖頭丸", "摇头wan", "海洛因", "K粉", "麻古", "大麻", "美沙酮", "氯胺酮", "麻黄素", "麻果", "植物冰", "化学冰", "博彩", "保安器材", "私服", "外挂", "销售QQ", "麻醉乙醚", "麻醉枪", "麻醉药", "麻醉钢枪", "麻醉", "迷唤药", "迷昏药", "迷昏藥", "迷藥", "迷葯", "迷药", "洣药", "洣葯", "迷情药", "迷情葯", "春葯", "春药", "昏药", "售葯", "迷幻葯", "发情药", "迷魂藥", "迷奸", "通奸", "兽交", "冰火", "强奸", "强暴", "强效失意药", "偷窥", "催情药", "催情藥", "土瓜根", "证", "针孔", "监控", "气枪", "氣槍", "氣枪", "汽槍", "猎槍", "步枪", "步槍", "子彈", "子弹", "手枪", "手槍", "猎枪", "枪支", "軍用", "器械", "小口径", "冲锋枪", "狙击枪", "警用", "军用", "警察", "手拷", "军用手", "出售", "左轮", "54式", "64", "64式", "77式", "92式", "仿真枪", "电棍", "指纹套", "安乐死", "氰化物", "假比", "假币", "人民币", "假钱", "假幣", "假鈔", "假錢", "时时彩", "手狗", "砖石", "白粉", "援交", "小姐", "桑拿", "按摩", "美女", "保健", "上門", "上门", "服務", "兼職", "美女", "找小姐", "楼凤", "大学生", "少妇", "伴游", "包夜", "全套", "兼职", "艳舞", "兼职", "出台", "模特", "发票", "醱票", "开发票", "開發票", "發票", "办証", "办证", "空白证", "答案", "考研", "职称", "网赚", "代考", "代攷", "代办", "代開", "代开", "代发", "代聊", "论文", "刻章", "证件", "文凭", "六合彩", "毕业证", "文凭", "枪手", "高仿", "车牌", "军牌", "套牌", "走私", "套牌", "假证", "车牌", "成人", "高清", "富婆", "鸭子", "小三", "打手", "报仇", "复仇", "千术", "牌技", "佳人", "偷電", "奇迹", "外挂", "私服", "赛马会", "烫图烫钻", "开户" ], c = [ "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "+", "/" ];
cc.Class({
extends: cc.Component,
properties: {},
testBad: function(e) {
return new RegExp(n.join("|"), "img").test(e);
},
testBad2: function(e) {
for (var i = 0; i < s.length; i++) {
for (var t = 0, a = 0; a < s[i].length; a++) for (var n = 0; n < e.length; n++) if (e[n] == s[i][a]) {
t++;
break;
}
if (t >= s[i].length) return !0;
}
return !1;
},
getDeviceType: function() {
var e = 0;
cc.sys.isBrowser && (e = 3);
switch (cc.sys.os) {
case cc.sys.OS_ANDROID:
e = 2;
break;

case cc.sys.OS_IOS:
e = 1;
}
return e;
},
addClickEvent: function(e, i, t, a) {
cc.vv.log3.debug(t + ":" + a);
var n = new cc.Component.EventHandler();
n.target = i;
n.component = t;
n.handler = a;
e.getComponent(cc.Button).clickEvents.push(n);
},
addSlideEvent: function(e, i, t, a) {
var n = new cc.Component.EventHandler();
n.target = i;
n.component = t;
n.handler = a;
e.getComponent(cc.Slider).slideEvents.push(n);
},
toggleChecked: function(e) {
if (null != e) for (var i = 0; i < e.children.length; ++i) {
var t = e.children[i].getComponent(cc.Toggle);
if (t && t.isChecked) return e.children[i].name;
}
},
toggleCheckedNode: function(e) {
if (null != e) for (var i = 0; i < e.children.length; ++i) {
var t = e.children[i].getComponent(cc.Toggle);
if (t && t.isChecked) return e.children[i];
}
},
setToggleChecked: function(e, i) {
if (null != e) for (var t = 0; t < e.children.length; ++t) {
var a = e.children[t].getComponent(cc.Toggle);
a && (a.isChecked = e.children[t].name == i);
}
},
setToggleChecked2: function(e, i, t) {
if (null != e) for (var a = 0; a < e.children.length; ++a) {
var n = e.children[a].getComponent(cc.Toggle);
n && (n.isChecked = i == t);
}
},
setToggleChecked3: function(e, i) {
if (null != e) for (var t = 0; t < e.children.length; ++t) {
var a = e.children[t].getComponent(cc.Toggle);
a && e.children[t].name == i && (a.isChecked = !0);
}
},
setToggleChecked4: function(e, i, t) {
if (null != e) for (var a = 0; a < e.children.length; ++a) {
var n = e.children[a].getComponent(cc.Toggle);
n && e.children[a].name == i && (n.isChecked = t);
}
},
popRemove: function(e) {
var i;
null == (i = e.getChildByName("bg_shadow")) && (i = e.getChildByName("mask"));
null == i && (i = e.getChildByName("Mask"));
null == i && (i = e.getChildByName("btn_back"));
if (null != i) {
i.y = 0;
i.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, -200)), cc.callFunc(function(e) {}, i)));
}
e.opacity = 255;
e.y = 0;
e.runAction(cc.sequence(cc.spawn(cc.moveTo(.3, cc.v2(0, 200)), cc.fadeTo(.3, 50)), cc.callFunc(function(e) {
e.destroy();
}, e)));
},
btn_node_back: function(e) {
var i;
null == (i = e.getChildByName("bg_shadow")) && (i = e.getChildByName("mask"));
null == i && (i = e.getChildByName("Mask"));
null == i && (i = e.getChildByName("btn_back"));
if (null != i) {
i.y = 0;
i.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, -200)), cc.callFunc(function(e) {}, i)));
}
e.opacity = 255;
e.y = 0;
e.runAction(cc.sequence(cc.spawn(cc.moveTo(.3, cc.v2(0, 200)), cc.fadeTo(.3, 50)), cc.callFunc(function(e) {
e.active = !1;
}, e)));
},
popPanel: function(e) {
if (null != e) {
e.active = !0;
var i;
null == (i = e.getChildByName("bg_shadow")) && (i = e.getChildByName("mask"));
null == i && (i = e.getChildByName("Mask"));
null == i && (i = e.getChildByName("btn_back"));
if (null != i) {
i.y = -100;
i.runAction(cc.sequence(cc.moveTo(.2, cc.v2(0, 30)), cc.callFunc(function(e) {
e.runAction(cc.sequence(cc.moveTo(.1, cc.v2(0, 0)), cc.callFunc(function(e) {}, e)));
}, i)));
}
e.opacity = 0;
e.y = 100;
e.runAction(cc.sequence(cc.spawn(cc.moveTo(.2, cc.v2(0, -30)), cc.fadeTo(.2, 255)), cc.moveTo(.1, cc.v2(0, 0)), cc.callFunc(function(e) {
cc.vv.hall && (cc.vv.hall.move_in = !1);
}, e)));
}
},
light_action: function(e) {
e.active = !0;
e.opacity = 180;
e.scale = 1;
e.stopAllActions();
e.runAction(cc.sequence(cc.spawn(cc.fadeTo(.3, 0), cc.scaleTo(.3, 1.25, 1.25)), cc.callFunc(function() {
e.active = !1;
}, this)));
},
loadimg: function(e, i) {
cc.loader.loadRes(e, function(e, t) {
var a = new cc.SpriteFrame(t, cc.Rect(0, 0, t.width, t.height));
i(a);
});
},
loadUrlImg: function(e, i) {
if (!e || cc.sys.isNative) {
var t = jsb.fileUtils.getWritablePath() + "img/", a = cc.vv.utils.md5(e), n = t + a + ".png";
if (jsb.fileUtils.isFileExist(n)) i && i(n); else {
var s = function(e) {
if ("undefined" != typeof e) {
jsb.fileUtils.isDirectoryExist(t) || jsb.fileUtils.createDirectory(t);
if (jsb.fileUtils.writeDataToFile(new Uint8Array(e), n)) {
i && i(n);
return;
}
}
}, c = cc.loader.getXMLHttpRequest();
c.responseType = "arraybuffer";
c.onreadystatechange = function() {
4 === c.readyState && c.status >= 200 && c.status < 300 && s(c.response);
};
c.open("GET", e, !0);
c.send();
}
}
},
getYSZPokerSpriteFrame: function(e, i) {
var t = "255";
if (255 != i) {
var a = parseInt(i / 16), n = i % 16;
1 == n && (n = 14);
t = [ "D", "C", "H", "S", "A", "B" ][a] + n;
}
return e.getSpriteFrame(t);
},
getPokerSpriteFrame: function(e, i) {
var t = "255";
if (255 != i) {
var a = parseInt(i / 16), n = i % 16;
1 == n && (n = 14);
t = [ "D", "C", "H", "S", "A", "B" ][a] + n;
}
96 == i && (t = "96");
return e.getSpriteFrame(t);
},
encrypt: function(e, i) {
i = CryptoJS.enc.Utf8.parse(i);
return CryptoJS.AES.encrypt(e, i, {
iv: i,
mode: CryptoJS.mode.CBC
}).toString();
},
decrypt: function(e, i) {
i = CryptoJS.enc.Utf8.parse(i);
var t = CryptoJS.AES.decrypt(e, i, {
iv: i,
mode: CryptoJS.mode.CBC
});
return CryptoJS.enc.Utf8.stringify(t).toString();
},
md5: function(e) {
return cc.md5Encode(e).toLowerCase();
},
checkInput: function(e) {
return !!/^[\w\u4e00-\u9fa5]+$/gi.test(e);
},
isEmojiCharacter: function(e) {
for (var i = 0; i < e.length; i++) {
var t = e.charCodeAt(i);
if (55296 <= t && t <= 56319) {
if (e.length > 1) {
var a = 1024 * (t - 55296) + (e.charCodeAt(i + 1) - 56320) + 65536;
if (118784 <= a && a <= 128895) return !0;
}
} else if (e.length > 1) {
if (8419 == e.charCodeAt(i + 1)) return !0;
} else {
if (8448 <= t && t <= 10239) return !0;
if (11013 <= t && t <= 11015) return !0;
if (10548 <= t && t <= 10549) return !0;
if (12951 <= t && t <= 12953) return !0;
if (169 == t || 174 == t || 12349 == t || 12336 == t || 11093 == t || 11036 == t || 11035 == t || 11088 == t) return !0;
}
}
},
checkUserName: function(e) {
for (var i = e.split(""), t = "", a = 0, n = 0; n < i.length && !(a >= 16); n++) {
var s = i[n];
if (/[a-zA-Z]/.test(s)) {
a = +a + 1;
t += s;
} else if (/[\u4e00-\u9fa5]/.test(s)) {
a = +a + 2;
t += s;
} else if (/[\ud800-\udfff]/.test(s)) {
/[\ud800-\udfff]/.test(i[n + 1]) && n++;
t += "口";
}
}
return t;
},
numFormat: function(e) {
return parseFloat(e).toFixed(1);
},
numInt: function(e) {
return parseInt(e);
},
deepCopy: function(e) {
if ("object" === ("undefined" == typeof e ? "undefined" : a(e))) {
var i;
e.constructor === Array ? i = [] : (i = {}).constructor = e.constructor;
for (var t in e) "object" === a(e[t]) ? e[t].constructor === RegExp || e[t].constructor === Date ? i[t] = e[t] : i[t] = cc.vv.utils.deepCopy(e[t]) : i[t] = e[t];
return i;
}
},
cutString: function(e, i) {
e || (e = "");
i || (i = 9);
if (2 * e.length <= i) return e;
for (var t = 0, a = "", n = 0; n < e.length; n++) {
a += e.charAt(n);
if (e.charCodeAt(n) > 128) {
if ((t += 2) >= i) return a.substring(0, a.length - 1) + "...";
} else if ((t += 1) >= i) return a.substring(0, a.length - 2) + "...";
}
return a;
},
getChildByTag: function(e, i) {
if (!e) return null;
var t = e.children;
if (null !== t) for (var a = 0; a < t.length; a++) {
if ((e = t[a]) && e.myTag === i) return e;
}
return null;
},
UTF16ToUTF8: function(e) {
for (var i = [], t = e.length, a = 0; a < t; a++) {
var n = e.charCodeAt(a);
if (n > 0 && n <= 127) i.push(e.charAt(a)); else if (n >= 128 && n <= 2047) {
var s = 192 | n >> 6 & 31, c = 128 | 63 & n;
i.push(String.fromCharCode(s), String.fromCharCode(c));
} else if (n >= 2048 && n <= 65535) {
s = 224 | n >> 12 & 15, c = 128 | n >> 6 & 63;
var o = 128 | 63 & n;
i.push(String.fromCharCode(s), String.fromCharCode(c), String.fromCharCode(o));
}
}
return i.join("");
},
UTF8ToUTF16: function(e) {
var i = [], t = e.length, a = 0;
for (a = 0; a < t; a++) {
var n = e.charCodeAt(a);
if (0 == (n >> 7 & 255)) i.push(e.charAt(a)); else if (6 == (n >> 5 & 255)) {
var s = (31 & n) << 6 | 63 & (c = e.charCodeAt(++a));
i.push(Sting.fromCharCode(s));
} else if (14 == (n >> 4 & 255)) {
var c = e.charCodeAt(++a), o = e.charCodeAt(++a);
s = (255 & (n << 4 | c >> 2 & 15)) << 8 | ((3 & c) << 6 | 63 & o);
i.push(String.fromCharCode(s));
}
}
return i.join("");
},
encode: function(e) {
if (!e) return "";
for (var i = this.UTF16ToUTF8(e), t = 0, a = i.length, n = []; t < a; ) {
var s = 255 & i.charCodeAt(t++);
n.push(c[s >> 2]);
if (t == a) {
n.push(c[(3 & s) << 4]);
n.push("==");
break;
}
var o = i.charCodeAt(t++);
if (t == a) {
n.push(c[(3 & s) << 4 | o >> 4 & 15]);
n.push(c[(15 & o) << 2]);
n.push("=");
break;
}
var h = i.charCodeAt(t++);
n.push(c[(3 & s) << 4 | o >> 4 & 15]);
n.push(c[(15 & o) << 2 | (192 & h) >> 6]);
n.push(c[63 & h]);
}
return n.join("");
},
decode: function(e) {
if (!e) return "";
for (var i = e.length, t = 0, a = []; t < i; ) {
code1 = c.indexOf(e.charAt(t++));
code2 = c.indexOf(e.charAt(t++));
code3 = c.indexOf(e.charAt(t++));
code4 = c.indexOf(e.charAt(t++));
c1 = code1 << 2 | code2 >> 4;
a.push(String.fromCharCode(c1));
if (-1 != code3) {
c2 = (15 & code2) << 4 | code3 >> 2;
a.push(String.fromCharCode(c2));
}
if (-1 != code4) {
c3 = (3 & code3) << 6 | code4;
a.push(String.fromCharCode(c3));
}
}
return this.UTF8ToUTF16(a.join(""));
}
});
cc._RF.pop();
}, {
MD5: "MD5"
} ],
VoiceMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "38ae5xDZfVIpaxkLfw2iJxm", "VoiceMgr");
var a = 12, n = 128 - a;
function s(e) {
e -= n;
var i = Math.floor(e / a) + n, t = e % a + n;
return String.fromCharCode(i) + String.fromCharCode(t);
}
for (var c = {}, o = {}, h = 0; h < 256; ++h) {
var r = null, l = h + 1;
r = l >= n ? s(l) : String.fromCharCode(l);
c[h] = r;
o[r] = h;
}
function d(e) {
var i = "", t = e.length, a = t >> 16 & 255, n = t >> 8 & 255, s = 255 & t;
i += c[t >> 24 & 255];
i += c[a];
i += c[n];
i += c[s];
for (var o = 0; o < e.length; ++o) i += c[e[o]];
return i;
}
function g(e, i) {
var t = e.charCodeAt(i);
return t = t >= n ? e.charAt(i) + e.charAt(i + 1) : e.charAt(i);
}
function u(e) {
for (var i = 0, t = 0, a = 0; a < 4; ++a) {
i += (c = g(e, i)).length;
t |= o[c] << 8 * (3 - a);
}
for (var n = new Uint8Array(t), s = 0; i < e.length; ) {
var c;
i += (c = g(e, i)).length;
n[s] = o[c];
s++;
}
return n;
}
cc.Class({
extends: cc.Component,
properties: {
onPlayCallback: null,
_voiceMediaPath: null
},
init: function() {
if (cc.sys.isNative) {
this._voiceMediaPath = jsb.fileUtils.getWritablePath() + "/voicemsgs/";
this.setStorageDir(this._voiceMediaPath);
}
},
prepare: function(e) {
if (cc.sys.isNative) {
cc.vv.audioMgr.pauseAll();
this.clearCache(e);
cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod("cc/futuregame/plugin/voice/VoiceRecorder", "prepare", "(Ljava/lang/String;)V", e) : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("VoiceSDK", "prepareRecord:", e);
}
},
release: function() {
if (cc.sys.isNative) {
cc.vv.audioMgr.resumeAll();
cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod("cc/futuregame/plugin/voice/VoiceRecorder", "release", "()V") : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("VoiceSDK", "finishRecord");
}
},
cancel: function() {
if (cc.sys.isNative) {
cc.vv.audioMgr.resumeAll();
cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod("cc/futuregame/plugin/voice/VoiceRecorder", "cancel", "()V") : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("VoiceSDK", "cancelRecord");
}
},
writeVoice: function(e, i) {
if (cc.sys.isNative && i && i.length > 0) {
var t = u(i), a = this._voiceMediaPath + e;
this.clearCache(e);
jsb.fileUtils.writeDataToFile(t, a);
}
},
clearCache: function(e) {
if (cc.sys.isNative) {
var i = this._voiceMediaPath + e;
jsb.fileUtils.isFileExist(i) && jsb.fileUtils.removeFile(i);
jsb.fileUtils.isFileExist(i + ".wav") && jsb.fileUtils.removeFile(i + ".wav");
}
},
play: function(e) {
if (cc.sys.isNative) {
cc.vv.audioMgr.pauseAll();
cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod("cc/futuregame/plugin/voice/VoicePlayer", "play", "(Ljava/lang/String;)V", e) : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("VoiceSDK", "play:", e);
}
},
stop: function() {
if (cc.sys.isNative) {
cc.vv.audioMgr.resumeAll();
cc.sys.os == cc.sys.OS_ANDROID ? jsb.reflection.callStaticMethod("cc/futuregame/plugin/voice/VoicePlayer", "stop", "()V") : cc.sys.os == cc.sys.OS_IOS && jsb.reflection.callStaticMethod("VoiceSDK", "stopPlay");
}
},
getVoiceLevel: function(e) {
return Math.floor(Math.random() * e + 1);
},
getVoiceData: function(e) {
if (cc.sys.isNative) {
var i = this._voiceMediaPath + e;
cc.vv.log3.debug("getVoiceData:" + i);
var t = jsb.fileUtils.getDataFromFile(i);
if (t) {
return d(t);
}
}
return "";
},
download: function() {},
setStorageDir: function(e) {
if (cc.sys.isNative) if (cc.sys.os == cc.sys.OS_ANDROID) jsb.reflection.callStaticMethod("cc/futuregame/plugin/voice/VoiceRecorder", "setStorageDir", "(Ljava/lang/String;)V", e); else if (cc.sys.os == cc.sys.OS_IOS) {
jsb.reflection.callStaticMethod("VoiceSDK", "setStorageDir:", e);
jsb.fileUtils.isDirectoryExist(e) || jsb.fileUtils.createDirectory(e);
}
}
});
cc._RF.pop();
}, {} ],
WaitingConnection: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b413dNgLO5DN6yhr9adXvEh", "WaitingConnection");
cc.Class({
extends: cc.Component,
properties: {
lblContent: cc.Label,
_err: "",
_fun: null
},
show: function(e) {
this.node.active = !0;
this.lblContent.string = e;
},
hide: function() {
this.node.active = !1;
},
scheduleTip: function(e) {
self.node.removeFromParent();
this._fun && this._fun();
},
scheduleShow: function(e, i, t) {
this._err = i;
this._fun = t;
this.scheduleOnce(this._fun, e);
},
scheduleCannel: function() {
this._fun && this.unschedule(this._fun);
}
});
cc._RF.pop();
}, {} ],
YSZ2300Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "218d9Prw1JJnJgVyXvJkLz0", "YSZ2300Const");
cc.Class({
extends: cc.Component,
statics: {
player5: [ {
x: -600,
y: -250,
distance: 110,
toright: 220,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -270,
y: -275,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 600,
y: -60,
distance: 50,
toright: 60,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -70,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 54,
y: 263,
distance: 50,
toright: 80,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 154,
y: 253,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -327,
y: 231,
distance: 50,
toright: 80,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -227,
y: 221,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -602,
y: -60,
distance: 50,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -502,
y: -70,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
player8: [ {
x: -600,
y: -250,
distance: 110,
toright: 220,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -270,
y: -275,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 600,
y: -60,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 460,
y: -70,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 557,
y: 159,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 417,
y: 149,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 296,
y: 243,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 156,
y: 233,
scale: .6
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -90,
y: 273,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -10,
y: 263,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -325,
y: 242,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -245,
y: 232,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -552,
y: 137,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -472,
y: 127,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -602,
y: -60,
distance: 30,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -522,
y: -70,
scale: .6
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
chat_path: "ysz",
quick_chat: [ {
id: 0,
info: "上天呐，赐我一把好牌吧！"
}, {
id: 1,
info: "天灵灵地灵灵，赌神请显灵！"
}, {
id: 2,
info: "有种别看牌，我们闷到底！"
}, {
id: 3,
info: "哎，辛辛苦苦几十年一把回到解放前。"
}, {
id: 4,
info: "你敢下，我敢跟。"
}, {
id: 5,
info: "新手吧，鸡不是这样偷的。"
}, {
id: 6,
info: "天空一声响，闷王闪亮登场！"
}, {
id: 7,
info: "别冲动，冷静点。"
}, {
id: 8,
info: "看我通杀全场，这些钱都是我的！"
}, {
id: 9,
info: "做人不要太勉强，胆子小就别跟。"
} ],
cuopai: [ {
card: {
x: 0,
y: 0,
scale: 2
}
} ],
selfPoke5: {
x: -200,
y: -250,
distance: 50,
scale: 1
},
selfPoke8: {
x: -200,
y: -250,
distance: 50,
scale: 1
}
}
});
cc._RF.pop();
}, {} ],
YSZ2300Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "bf0a04l+OVL1KmEekyBRfjW", "YSZ2300Game");
cc.Class({
extends: cc.Component,
properties: {
pokerPrefab: cc.Prefab,
reportItemPrefab: cc.Prefab,
reportItemMinPrefab: cc.Prefab,
chip_count: cc.Prefab,
club_tip: cc.Prefab,
user_chip: cc.Prefab,
bipai_list_item: cc.Prefab,
baozi_font: cc.Prefab,
poKerminAtlas: {
default: null,
type: cc.SpriteAtlas
},
pokerAtlas: {
default: null,
type: cc.SpriteAtlas
},
ysz_Btn: {
default: null,
type: cc.SpriteAtlas
},
btnAtlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
winFont: {
default: null,
type: cc.Font
},
beishuFont: {
default: null,
type: cc.Font
},
hui_beishuFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
ysz_Game_Atlas: {
default: null,
type: cc.SpriteAtlas
},
_winPlayer: cc.Node,
lookpoker: {
default: null,
type: cc.Node
},
nodeCard: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
labelScore: cc.Label,
labelRoomwanfa: cc.Label,
_feng: 0,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0,
_kanpai_list: [],
_qipai_list: [],
_chip_list: [],
_time: 0,
_tuoguan: !1,
_thisStart: 0,
_endTime: -1,
_lookcard_time: !0,
_ischonglian: !1,
_my_isin_game: !1,
_senceDestroy: !1,
_ownPokerType: 10
},
editor: {
executionOrder: -1
},
onLoad: function() {
cc.winSize.width / cc.winSize.height - 16 / 9 > .1 && (this.node.getChildByName("bgtop").width = cc.winSize.width);
var i = e("YSZ2300Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "ysz",
hide_nothing_seat: !0,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_5: i.player5,
player_8: i.player8,
cuopai: i.cuopai,
selfPoke_5: i.selfPoke5,
selfPoke_8: i.selfPoke8,
set_bg: !1,
show_watch_btn: !0
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.node_watchgame = this.node.getChildByName("watchgame");
this.table = this.node.getComponent("Table");
this.startAnimation = this.node.getChildByName("startAnimation");
this.animation = this.startAnimation.getComponent(cc.Animation);
this.initEventHandlers();
this.onloadinit();
},
onloadinit: function() {
this.node.getChildByName("bgtop").getChildByName("bg_up_5").active = !1;
this.node.getChildByName("bgtop").getChildByName("bg_up_8").active = !1;
this.node.getChildByName("bgtop").getChildByName("bg_up_" + cc.vv.roomMgr.ren).active = !0;
},
initzhuang: function(e) {
if (!this._senceDestroy && cc.isValid(this._winPlayer)) {
for (var i = this._winPlayer.childrenCount, t = 0; t < i; t++) {
var a = cc.vv.utils.getChildByTag(this._winPlayer, t);
a && (a.getChildByName("zhuang").active = !1);
}
var n = cc.vv.roomMgr.viewChairID(e);
cc.vv.utils.getChildByTag(this._winPlayer, n).getChildByName("zhuang").active = !0;
}
},
start: function() {
var i = this;
this.cheat_click = !0;
this._chip_list = [ 1, 2, 3, 4, 5, 6, 8, 10, 20, 50, 100, 200, 500, 1e3, 2e3 ];
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.yszMgr = this.node.getComponent("YSZ2300Mgr");
var t = e("YSZ2300ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.yszMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
bipaibgpos: function() {
var e, i = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
e = 5 == cc.vv.roomMgr.ren ? this.node.getChildByName("mgr").getChildByName("desktop").getChildByName("bipai_bg_5") : this.node.getChildByName("mgr").getChildByName("desktop").getChildByName("bipai_bg");
for (var t = 0; t < cc.vv.roomMgr.ren; t++) if (5 == cc.vv.roomMgr.ren) if (1 == t) {
e.getChildByName("bg_" + t).x = i[t].x - 150;
e.getChildByName("bg_" + t).y = i[t].y - 11;
} else {
e.getChildByName("bg_" + t).x = i[t].x + 150;
e.getChildByName("bg_" + t).y = i[t].y - 11;
} else if (t >= 4) {
e.getChildByName("bg_" + t).x = i[t].x + 110;
e.getChildByName("bg_" + t).y = i[t].y - 10;
} else {
e.getChildByName("bg_" + t).x = i[t].x - 110;
e.getChildByName("bg_" + t).y = i[t].y - 10;
}
},
operate: function(e) {
this._endTime = -1;
this.bipaibgpos();
for (var i = 0; i < e.nowKanPai.length; i++) {
0 == cc.vv.roomMgr.viewChairID(i) && 1 == e.nowKanPai[i] && (this.isFanPai = !0);
}
var t = this.node.getChildByName("mgr").getChildByName("option"), a = this.node.getChildByName("mgr").getChildByName("jiazhu"), n = this.node.getChildByName("mgr").getChildByName("desktop");
this.node.getChildByName("mgr").getChildByName("bipai").active = !1;
var s = t.getChildByName("bipai"), c = t.getChildByName("qipai"), o = t.getChildByName("jiazhu"), h = t.getChildByName("genzhu"), r = 5, l = n.getChildByName("look_card");
t.active = !0;
if (0 == e.canBi) {
s.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("btn_hui");
s.getComponent(cc.Button).interactable = !1;
s.getChildByName("bp").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("not_bipai");
s.getChildByName("Label").getComponent(cc.Label).font = this.hui_beishuFont;
} else {
s.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("btn_lv");
s.getComponent(cc.Button).interactable = !0;
s.getChildByName("bp").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("yes_bipai");
s.getChildByName("Label").getComponent(cc.Label).font = this.beishuFont;
}
0 == e.canLook ? l.active = !1 : l.active = !0;
if (0 == e.canQi) {
c.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("btn_hui");
c.getComponent(cc.Button).interactable = !1;
c.getChildByName("qp").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("not_qipai");
} else {
c.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("btn_hong");
c.getComponent(cc.Button).interactable = !0;
c.getChildByName("qp").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("yes_qipai");
}
this.desc && 1 == this.desc.fengKuang && (r = 10);
if (e.beishu >= r) {
o.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("btn_hui");
o.getComponent(cc.Button).interactable = !1;
o.getChildByName("jz").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("not_jiazhu");
o.getChildByName("Label").getComponent(cc.Label).font = this.hui_beishuFont;
} else {
o.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("btn_lv");
o.getComponent(cc.Button).interactable = !0;
o.getChildByName("jz").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("yes_jiazhu");
o.getChildByName("Label").getComponent(cc.Label).font = this.beishuFont;
}
if (-1 == e.jiazhuview) {
o.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("btn_hui");
o.getComponent(cc.Button).interactable = !1;
o.getChildByName("jz").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("not_jiazhu");
o.getChildByName("Label").getComponent(cc.Label).font = this.hui_beishuFont;
}
o.getChildByName("Label").getComponent(cc.Label).string = e.beishu;
h.getChildByName("Label").getComponent(cc.Label).font = this.beishuFont;
this.dizhu = e.nowDiZhu;
this.nowDiZhu = e.nowDiZhu;
if (1 == this.isFanPai) {
h.getChildByName("Label").getComponent(cc.Label).string = 2 * e.nowDiZhu;
if (2 * e.nowDiZhu >= 1e3) {
var d = 2 * e.nowDiZhu / 1e3;
h.getChildByName("Label").getComponent(cc.Label).string = d + "K";
}
} else {
h.getChildByName("Label").getComponent(cc.Label).string = e.nowDiZhu;
if (e.nowDiZhu >= 1e3) {
d = e.nowDiZhu / 1e3;
h.getChildByName("Label").getComponent(cc.Label).string = d + "K";
}
}
a.active = !1;
a.getChildByName("2").getComponent(cc.Button).interactable = !(e.beishu >= 2);
a.getChildByName("3").getComponent(cc.Button).interactable = !(e.beishu >= 3);
a.getChildByName("4").getComponent(cc.Button).interactable = !(e.beishu >= 4);
a.getChildByName("5").getComponent(cc.Button).interactable = !(e.beishu >= 5);
a.getChildByName("8").getComponent(cc.Button).interactable = !(e.beishu >= 8);
a.getChildByName("10").getComponent(cc.Button).interactable = !(e.beishu >= 10);
if (0 == this.desc.fengKuang || null == this.desc) {
a.getChildByName("8").active = !1;
a.getChildByName("10").active = !1;
a.getChildByName("bg").height = 120;
a.getChildByName("bg").y = 0;
}
},
beginFen: function(e, i) {
this.is_jiesuan = !1;
for (var t = cc.vv.roomMgr.table.list, a = 0; a < t.length; a++) if (0 != t[a].userid) {
0;
var n = cc.vv.roomMgr.viewChairID(t[a].seatid), s = cc.vv.utils.getChildByTag(this._winPlayer, n);
0 != t[a].sitStatus ? s.getChildByName("watch_game").active = !0 : s.getChildByName("watch_game").active = !1;
}
var c = this.watch_game();
if (c) {
this.nodeJiesuan.active = !1;
this.node_watchgame.active = !0;
}
if (this.isFanPai) for (a = 0; a < e.payFen.length; a++) {
0 == cc.vv.roomMgr.viewChairID(a) && (this.node.getChildByName("btn_tuoguan").getChildByName("tpschip").getComponent(cc.Label).string = e.beishu * e.nowDizhu * 2);
} else for (a = 0; a < e.payFen.length; a++) {
0 == cc.vv.roomMgr.viewChairID(a) && (this.node.getChildByName("btn_tuoguan").getChildByName("tpschip").getComponent(cc.Label).string = e.beishu * e.nowDizhu);
}
this.initzhuang(e.zhuang);
this.is_my_bipai = !1;
var o = this.node.getChildByName("mgr").getChildByName("desktop"), h = cc.vv.roomMgr.viewChairID(e.nowOpera), r = o.getChildByName("look_card"), l = o.getChildByName("chip_count").getChildByName("count"), d = o.getChildByName("cur_chip"), g = o.getChildByName("bipai_list");
g.active = !1;
var u = o.getChildByName("user_tips"), _ = this.node.getChildByName("mgr").getChildByName("qipai"), v = this.node.getChildByName("btn_tuoguan");
v.active = 1 != c;
this.active_tuoguan();
_.removeAllChildren();
d.removeAllChildren();
g.removeAllChildren();
u.removeAllChildren();
var p = o.getChildByName("max_lun");
p.active = !0;
this.guizhe = e.birule;
this.nowLun = e.nowLun;
p.getComponent(cc.Label).string = "当前轮数：" + e.nowLun + "/" + e.maxLun;
l.getComponent(cc.Label).string = e.nowFen;
var m = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
if (null != i) {
for (a = 0; a < e.payFen.length; a++) {
var f = cc.vv.roomMgr.viewChairID(a), y = (w = cc.vv.utils.getChildByTag(this._winPlayer, f)).getChildByName("score").getComponent(cc.Label).string;
w.getChildByName("score").getComponent(cc.Label).string = cc.vv.utils.numFormat(y);
}
for (a = 0; a < e.outFen.length; a++) this.userStaticChipFunc(e.outFen[a]);
} else {
var C = -1;
for (a = 0; a < e.payFen.length; a++) if (0 != e.payFen[a]) {
C++;
var b = cc.vv.roomMgr.viewChairID(a), w = cc.vv.utils.getChildByTag(this._winPlayer, b);
t = cc.vv.roomMgr.table.list;
w.getChildByName("score").getComponent(cc.Label).string = cc.vv.utils.numFormat(t[a].score - e.outFen[C]);
this.userChipFunc(e.payFen[a], b);
}
}
this.anLun = e.anLun;
0 == h && e.nowLun > e.anLun && 0 == this.isFanPai ? r.active = !0 : r.active = !1;
for (a = 0; a < t.length; a++) if (0 != t[a].userid) {
var x = cc.vv.roomMgr.viewChairID(a), z = new cc.Node("user_chip"), k = new cc.Node("user_chip_txt");
new cc.Node("bipai_list_item");
k.addComponent(cc.Label).string = e.payFen[a];
z.myTag = a;
k.x = 12;
k.getComponent(cc.Label).fontSize = 26;
k.color = new cc.color(229, 255, 249);
z.addChild(k);
z.addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("user_chip");
d.addChild(z);
z.x = z.x = x >= 4 || 0 == x ? m[x].x - 5 : m[x].x + 5;
z.y = m[x].y + 55;
if (0 == x) {
z.y = z.y + 15;
z.x = z.x + 15;
}
}
},
requestBipai: function(e) {
var i = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], t = this.node.getChildByName("mgr"), a = t.getChildByName("desktop"), n = a.getChildByName("bipai_list");
n.active = !0;
n.removeAllChildren();
var s, c, o = e.bipaiList;
t.getChildByName("option").active = !1;
t.getChildByName("bipai").active = !0;
this.node.getChildByName("btn_tuoguan").active = !1;
a.getChildByName("look_card").active = !1;
if (5 == cc.vv.roomMgr.ren) {
c = a.getChildByName("bipai_bg_5");
s = a.getChildByName("show_bipai_5");
} else {
c = a.getChildByName("bipai_bg");
s = a.getChildByName("show_bipai");
}
for (var h = 1; h < c.childrenCount; h++) {
c.getChildByName("bg_" + h).active = !1;
s.getChildByName("action_" + h).active = !1;
}
for (h = 1; h < c.childrenCount; h++) {
s.getChildByName("action_" + h).getComponent(cc.Animation).play();
}
var r = this.node.getChildByName("mgr").getChildByName("desktop").getChildByName("bipai_chis_tips");
r.removeAllChildren();
c.active = !0;
s.active = !0;
for (h = 0; h < o.length; h++) {
var l = cc.vv.roomMgr.viewChairID(o[h].seatId);
if (0 != l) {
var d = new cc.Node("bipai_chips");
d.addComponent(cc.Label).string = o[h].power;
d.getComponent(cc.Label).font = this.winFont;
d.getComponent(cc.Label).fontSize = 60;
d.myTag = l;
r.addChild(d);
d.x = l >= 4 || 0 == l ? i[l].x + 110 : i[l].x - 110;
d.y = i[l].y + 20;
5 == cc.vv.roomMgr.ren && (d.x = 1 != l ? i[l].x + 150 : i[l].x - 150);
c.getChildByName("bg_" + l).active = !0;
s.getChildByName("action_" + l).active = !0;
var g = cc.instantiate(this.bipai_list_item);
n.addChild(g);
g.myTag = o[h].seatId;
g.on(cc.Node.EventType.TOUCH_START, function(e) {
cc.vv.net2.quick("bipai", {
seatId: e.currentTarget.myTag
});
});
g.x = g.x = l >= 4 || 0 == l ? i[l].x + 110 : i[l].x - 110;
g.y = i[l].y;
if (5 == cc.vv.roomMgr.ren) {
g.x = 1 != l ? i[l].x + 150 : i[l].x - 150;
g.y = i[l].y - 15;
}
}
}
},
use_chip: function(e, i) {
if (0 != e) {
var t = this.node.getChildByName("mgr").getChildByName("desktop"), a = t.getChildByName("chip_qu"), n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], s = t.getChildByName("chip_count").getChildByName("count");
(s = cc.instantiate(this.chip_count)).getChildByName("chip_count").getComponent(cc.Label).string = e;
s.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame(e);
a.addChild(s);
s.x = n[i].x + 239;
s.y = n[i].y + 39;
var c = cc.vv.roomMgr.realChairID(i);
1e3 == e && (s.getChildByName("chip_count").getComponent(cc.Label).string = "1k");
if (e >= 500) {
this.play_ysz_mp3(c, "jinzhuang", 1);
s.getChildByName("chip_count").getComponent(cc.Label).string = "";
} else this.play_ysz_mp3(c, "addChips", 1);
s.runAction(cc.sequence(cc.moveTo(.15, cc.v2(Math.round(500 * Math.random()), Math.round(200 * Math.random()))), cc.callFunc(function() {}, this)));
}
},
static_chip: function(e) {
if (0 != e) {
var i = this.node.getChildByName("mgr").getChildByName("desktop"), t = i.getChildByName("chip_qu"), a = i.getChildByName("chip_count").getChildByName("count");
(a = cc.instantiate(this.chip_count)).getChildByName("chip_count").getComponent(cc.Label).string = e;
a.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame(e);
e > 100 && (a.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("100"));
t.addChild(a);
a.x = Math.round(500 * Math.random());
a.y = Math.round(200 * Math.random());
}
},
guangbo_action: function(e, i) {
var t = cc.vv.utils.getChildByTag(this._winPlayer, e).getChildByName("Recharge");
if (null != t) {
t.active = !1;
t.getChildByName("tip").getComponent(cc.Animation).stop();
}
if (cc.vv.roomMgr.is_replay) {
this.node.getChildByName("btn_tuoguan").active = !1;
}
var a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = new cc.Node("card_type"), s = this.node.getChildByName("mgr").getChildByName("user_card_type");
s.active = !0;
var c = "";
1 == i ? c = "public_genzhu" : 2 == i ? c = "publlic_jiazhu" : 3 == i ? c = "public_bipai" : 4 == i ? c = "public_qipai" : 5 == i && (c = "public_auto_qipai");
n.addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame(c);
n.myTag = e;
s.addChild(n);
setTimeout(function() {
n.destroy();
}, 1e3);
n.x = e >= 4 || 0 == e ? a[e].x + 110 : a[e].x - 110;
n.y = a[e].y + 60;
if (5 == cc.vv.roomMgr.ren) {
n.x = 1 != e ? a[e].x + 150 : a[e].x - 150;
n.y = a[e].y + 80;
}
if (0 == e) {
n.x = n.x + 330;
n.y = n.y + 15;
if (5 == cc.vv.roomMgr.ren) {
n.x = n.x - 45;
n.y = n.y - 15;
}
}
},
genZhu: function(e, i) {
if (!this._senceDestroy && cc.vv.roomMgr.table && cc.vv.roomMgr.table.list) {
this._lookcard_time = !1;
var t = this.node.getChildByName("mgr").getChildByName("desktop"), a = t.getChildByName("cur_chip"), n = t.getChildByName("chip_count").getChildByName("count"), s = cc.vv.utils.getChildByTag(a, e.seatId), c = cc.vv.roomMgr.viewChairID(e.seatId), o = cc.vv.utils.getChildByTag(this._winPlayer, c), h = cc.vv.roomMgr.table.list;
o.getChildByName("score").getComponent(cc.Label).string = cc.vv.utils.numFormat(h[e.seatId].score - e.payFen);
if (0 == c) {
this.cancel_bipai();
this.node.getChildByName("mgr").getChildByName("jiazhu").active = !1;
this.node.getChildByName("mgr").getChildByName("option").active = !1;
}
var r = this.node.getChildByName("btn_tuoguan").getChildByName("tpschip").getComponent(cc.Label);
this.node.getChildByName("mgr").getChildByName("desktop").getChildByName("look_card").active = !1;
if (1 == i) {
0 == c && (this.isFanPai ? r.string = e.dizhu * e.beishu * 2 : r.string = e.dizhu * e.beishu);
var l = Math.round(2 * Math.random());
this.nowLun < 2 && (l = 0);
this.play_ysz_mp3(e.seatId, "genzhu" + l);
} else {
this.isFanPai ? r.string = e.dizhu * e.beishu * 2 : r.string = e.dizhu * e.beishu;
this.node.getChildByName("mgr").getChildByName("jiazhu").active = !1;
this.node.getChildByName("mgr").getChildByName("option").active = !1;
this.initzhuang(e.zhuang);
this.play_ysz_mp3(e.seatId, "jiazhu");
}
this.guangbo_action(c, i);
s && s.active && (s.getChildByName("user_chip_txt").getComponent(cc.Label).string = e.payFen);
n.getComponent(cc.Label).string = e.nowFen;
var d = cc.vv.roomMgr.viewChairID(e.seatId);
this.userChipFunc(e.outFen, d);
}
},
pushLun: function(e) {
var i = this.node.getChildByName("mgr").getChildByName("desktop").getChildByName("max_lun");
i.active = !0;
this.nowLun = e.nowLun;
this.maxLun = e.maxLun;
i.getComponent(cc.Label).string = "当前轮数：" + e.nowLun + "/" + e.maxLun;
},
kanpai_1: function(e, i) {
this._lookcard_time = !1;
var t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], a = this.node.getChildByName("mgr").getChildByName("desktop"), n = a.getChildByName("user_tips");
n.active = !0;
var s = this.watch_game();
if (null != i) {
for (var c = 0; c < e.length; c++) {
var o = cc.vv.roomMgr.viewChairID(c);
if (1 == e[c]) {
this._kanpai_list.push(c);
0 == o && (this.isFanPai = !0);
}
if (0 != o || s) {
(h = new cc.Node("user_look_card")).myTag = o;
h.addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("yikanpai");
0 == e[c] && (h.active = !1);
n.addChild(h);
h.x = o >= 4 || 0 == o ? t[o].x + 110 : t[o].x - 110;
h.y = t[o].y - 35;
if (5 == cc.vv.roomMgr.ren) {
h.x = 1 != o ? t[o].x + 150 : t[o].x - 150;
h.y = h.y - 15;
}
if (0 == o) {
h.x = h.x + 290;
h.y = t[o].y - 80;
}
}
}
a.getChildByName("card_type").active = !s && this.isFanPai;
} else {
var h;
0 != (o = cc.vv.roomMgr.viewChairID(e.seatId)) && this.play_ysz_mp3(e.seatId, "kanpai");
this._kanpai_list.push(e.seatId);
if (0 == o) {
cc.vv.roomMgr.is_replay && (this.node.getChildByName("mgr").getChildByName("option").active = !1);
if (!s) return;
}
(h = new cc.Node("user_look_card")).myTag = o;
h.addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("yikanpai");
n.addChild(h);
h.x = o >= 4 || 0 == o ? t[o].x + 110 : t[o].x - 110;
h.y = t[o].y - 35;
if (5 == cc.vv.roomMgr.ren) {
h.x = 1 != o ? t[o].x + 150 : t[o].x - 150;
h.y = h.y - 15;
}
if (0 == o) {
h.x = h.x + 290;
h.y = t[o].y - 80;
}
}
},
bipaiok: function() {
var e, i, t = this.node.getChildByName("mgr"), a = t.getChildByName("option"), n = t.getChildByName("bipai"), s = t.getChildByName("desktop");
if (5 == cc.vv.roomMgr.ren) {
e = s.getChildByName("show_bipai_5");
i = s.getChildByName("bipai_bg_5");
} else {
e = s.getChildByName("show_bipai");
i = s.getChildByName("bipai_bg");
}
var c = s.getChildByName("look_card"), o = s.getChildByName("bipai_list");
s.getChildByName("bipai_chis_tips").removeAllChildren();
this.is_my_bipai = !0;
n.active = !1;
o.active = !1;
c.active = !1;
a.active = !1;
e.active = !1;
i.active = !1;
for (var h = 1; h < e.childrenCount; h++) {
e.getChildByName("action_" + h).getComponent(cc.Animation).stop();
}
},
stopallactions: function() {
var e = 0;
if (cc.vv.roomMgr.table) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) 0 != i[t].userid && e++;
for (t = 0; t < e; t++) for (var a = cc.vv.roomMgr.viewChairID(t), n = 0; n < 3; n++) {
var s = cc.vv.utils.getChildByTag(this.nodeCard, a + "_" + n);
null != s && s.stopAllActions();
}
}
},
bipai: function(e) {
var i = this;
this._lookcard_time = !1;
if (null != e.payFen.length && !i._senceDestroy) {
this.isfapa_in = !1;
var t = cc.vv.roomMgr.table.list;
this.bipaiok();
i.yszbipai_info = e;
this.play_ysz_mp3(e.myseatId, "bipai");
var a = cc.vv.roomMgr.viewChairID(e.winSeatId), n = cc.vv.roomMgr.viewChairID(e.lostSeatId), s = this.watch_game();
0 != a && 0 != n || (this.node.getChildByName("btn_tuoguan").active = !1);
this.active_tuoguan();
var c = this.node.getChildByName("mgr").getChildByName("desktop"), o = c.getChildByName("pk_action"), h = c.getChildByName("user_tips"), r = c.getChildByName("bipai_user_tips"), l = this.node.getChildByName("mgr").getChildByName("pk_user");
l.active = !0;
o.active = !0;
r.active = !0;
h.active = !0;
var d = c.getChildByName("cur_chip"), g = cc.vv.roomMgr.viewChairID(e.myseatId), u = cc.vv.roomMgr.viewChairID(e.otherSeatId);
l.getChildByName("user_1").getChildByName("mask").getChildByName("user_img").getComponent("ImageLoader").loadImg(t[e.myseatId].headimg);
l.getChildByName("user_2").getChildByName("mask").getChildByName("user_img").getComponent("ImageLoader").loadImg(t[e.otherSeatId].headimg);
l.getChildByName("user_1").getChildByName("user_name").getComponent(cc.Label).string = t[e.myseatId].nickname;
l.getChildByName("user_2").getChildByName("user_name").getComponent(cc.Label).string = t[e.otherSeatId].nickname;
var _ = cc.vv.roomMgr.viewChairID(e.myseatId);
cc.vv.utils.getChildByTag(this._winPlayer, _).getChildByName("score").getComponent(cc.Label).string = cc.vv.utils.numFormat(t[e.myseatId].score - e.payFen[e.myseatId]);
this.userChipFunc(e.outFen, g);
this.guangbo_action(g, 3);
for (var v = 0; v < e.payFen.length; v++) if (0 != e.payFen[v]) {
if (null == cc.vv.utils.getChildByTag(d, v)) return;
cc.vv.utils.getChildByTag(d, v).getChildByName("user_chip_txt").getComponent(cc.Label).string = e.payFen[v];
}
c.getChildByName("chip_count").getChildByName("count").getComponent(cc.Label).string = e.nowFen;
var p = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
o.getComponent(cc.Animation).play("pkleft");
for (var m = 0; m < 2; m++) {
var f;
if (0 == m) {
y = g;
f = -300;
} else {
y = u;
f = 300;
}
for (v = 0; v < 3; v++) {
cc.vv.utils.getChildByTag(this.nodeCard, y + "_" + v).runAction(cc.sequence(cc.spawn(cc.moveTo(.9, cc.v2(f, 0)), cc.scaleTo(.9, 1.6, 1.6)), cc.delayTime(1.5), cc.callFunc(function() {
o.active = !1;
l.active = !1;
}), cc.spawn(cc.moveTo(.5, cc.v2(p[y].pos.card.x + v * p[y].distance, p[y].pos.card.y)), cc.scaleTo(.5, p[y].pos.card.scale, p[y].pos.card.scale)), cc.callFunc(function() {
if (t >= 1 && v >= 2) {
var e = i.node.getChildByName("mgr").getChildByName("option");
i.node.getChildByName("mgr").getChildByName("jiazhu").active = !1;
e.active = !1;
}
for (var t = 0; t < 2; t++) {
0 == t ? cc.vv.roomMgr.viewChairID(i.yszbipai_info.myseatId) : cc.vv.roomMgr.viewChairID(i.yszbipai_info.otherSeatId);
i.is_moveok = !1;
t >= 1 && v >= 2 && (i.is_moveok = !0);
if (i.is_moveok) {
i.is_moveok = !1;
cc.vv.roomMgr.is_replay ? i.node.getChildByName("btn_tuoguan").active = !1 : 0 == i.isbipaishu_viewid ? i.node.getChildByName("btn_tuoguan").active = !1 : 0 == i.isbipaiyin_viewid && (i.node.getChildByName("btn_tuoguan").active = !0);
1 == s && (i.node.getChildByName("btn_tuoguan").active = !1);
}
}
})));
if (m >= 1 && v >= 2) {
setTimeout(function() {
if (!i._senceDestroy) {
i.play_ysz_mp3(e.myseatId, "compareCard", 1);
for (var t = 0; t < 2; t++) {
var a = 0 == t ? cc.vv.roomMgr.viewChairID(e.lostSeatId) : cc.vv.roomMgr.viewChairID(e.winSeatId), n = new cc.Node("bipai_win_lost");
n.myTag = a;
var s = 0 == t ? "bipai_lose" : "bipai_win";
n.addComponent(cc.Sprite).spriteFrame = i.ysz_Game_Atlas.getSpriteFrame(s);
r.addChild(n);
n.x = a >= 4 || 0 == a ? p[a].x + 110 : p[a].x - 110;
n.y = p[a].y - 35;
if (5 == cc.vv.roomMgr.ren) {
n.x = 1 != a ? p[a].x + 150 : p[a].x - 150;
n.y = p[a].y - 50;
}
0 == a && (5 == cc.vv.roomMgr.ren ? n.x = n.x + 290 : n.x = n.x + 330);
}
var o = cc.vv.roomMgr.viewChairID(e.lostSeatId);
if (-1 != i._kanpai_list.indexOf(e.lostSeatId)) for (var h = 0; h < i._kanpai_list.length; h++) i._kanpai_list[h] == e.lostSeatId && i._kanpai_list.splice(h, 1);
i._qipai_list.push(e.lostSeatId);
for (t = 0; t < 3 && (0 != o || !i.isFanPai); t++) {
var l = cc.vv.utils.getChildByTag(i.nodeCard, o + "_" + t);
l && cc.isValid(l) && (l.getChildByName("card").getComponent(cc.Button).interactable = !1);
}
if (0 == o) {
c.getChildByName("look_card").active = !1;
i.node.getChildByName("btn_tuoguan").active = !1;
}
0 == o && 1 == i.is_my_bipai && (i.is_my_bipai = !1);
}
}, 6e3);
var y, C = y = cc.vv.roomMgr.viewChairID(e.lostSeatId);
i._qipai_list;
setTimeout(function() {
if (!i._senceDestroy) {
r.removeAllChildren();
var t = cc.vv.roomMgr.viewChairID(e.lostSeatId);
if (0 != t) {
var a = new cc.Node("bipai_win_lost");
a.myTag = t;
a.addComponent(cc.Sprite).spriteFrame = i.ysz_Game_Atlas.getSpriteFrame("bipai_lose");
h.addChild(a);
a.x = t >= 4 || 0 == t ? p[t].x + 110 : p[t].x - 110;
a.y = p[t].y - 35;
if (5 == cc.vv.roomMgr.ren) {
a.x = 1 != t ? p[t].x + 150 : p[t].x - 150;
a.y = p[t].y - 50;
}
0 == t && (5 == cc.vv.roomMgr.ren ? a.x = a.x + 290 : a.x = a.x + 330);
} else i.node.getChildByName("btn_tuoguan").active = !1;
0 == C && setTimeout(function() {
c.getChildByName("bipai_lost").active = !0;
}, 300);
for (var n = 0; n < i._kanpai_list.length; n++) {
var s = cc.vv.roomMgr.viewChairID(i._kanpai_list[n]);
if (0 != s) {
var o = new cc.Node("user_look_card");
o.myTag = s;
o.addComponent(cc.Sprite).spriteFrame = i.ysz_Game_Atlas.getSpriteFrame("yikanpai");
0 == e[n] && (o.active = !1);
h.addChild(o);
o.x = s >= 4 || 0 == s ? p[s].x + 110 : p[s].x - 110;
o.y = p[s].y - 35;
if (5 == cc.vv.roomMgr.ren) {
o.x = 1 != s ? p[s].x + 150 : p[s].x - 150;
o.y = o.y - 10;
}
}
}
}
}, 2e3);
}
}
}
}
},
qipai: function(e, i) {
if (!this._senceDestroy) {
this._endTime = -1;
this.isfapa_in = !1;
this._lookcard_time = !1;
var t = this.node.getChildByName("mgr"), a = t.getChildByName("desktop"), n = a.getChildByName("look_card"), s = t.getChildByName("qipai"), c = a.getChildByName("user_tips");
s.active = !0;
var o = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
if (null != i) for (var h = 0; h < e.length; h++) {
var r = cc.vv.roomMgr.viewChairID(h);
if (1 == e[h]) {
if (0 == r) {
n.active = !1;
this.node.getChildByName("btn_tuoguan").active = !1;
if (cc.vv.popMgr.get_open("Pwb_tips")) {
this.node.getChildByName("open").getChildByName("Pwb_tips").getChildByName("btn_list").getChildByName("btn_qipai").active = !1;
}
}
this._qipai_list.push(h);
for (var l = 0; l < 3; l++) {
(g = cc.vv.utils.getChildByTag(this.nodeCard, r + "_" + l)).getChildByName("card").getComponent(cc.Button).interactable = !1;
}
(d = new cc.Node("qipai")).addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("tip_qipai");
d.myTag = r;
s.addChild(d);
d.x = r >= 4 || 0 == r ? o[r].x + 110 : o[r].x - 110;
d.y = o[r].y - 35;
if (5 == cc.vv.roomMgr.ren) {
d.x = 1 != r ? o[r].x + 150 : o[r].x - 150;
d.y = o[r].y - 50;
}
if (0 == r) {
5 == cc.vv.roomMgr.ren ? d.x = d.x + 290 : d.x = d.x + 330;
d.y = o[r].y - 75;
}
}
} else {
var d;
r = cc.vv.roomMgr.viewChairID(e.seatId);
this.play_ysz_mp3(e.seatId, "giveUp");
1 == e.timeOutQi ? this.guangbo_action(r, 5) : this.guangbo_action(r, 4);
if (0 == r) {
this.node.getChildByName("cuopai").active = !1;
this.node.getChildByName("mgr").getChildByName("jiazhu").active = !1;
this.cancel_bipai();
n.active = !1;
t.getChildByName("option").active = !1;
this.node.getChildByName("btn_tuoguan").active = !1;
if (cc.vv.popMgr.get_open("Pwb_tips")) {
this.node.getChildByName("open").getChildByName("Pwb_tips").getChildByName("btn_list").getChildByName("btn_qipai").active = !1;
this.node.getChildByName("open").getChildByName("Pwb_tips").destroy();
cc.vv.roomMgr._minmoney = !1;
}
}
this._qipai_list.push(e.seatId);
for (h = 0; h < 3; h++) {
var g;
(g = cc.vv.utils.getChildByTag(this.nodeCard, r + "_" + h)) && (g.getChildByName("card").getComponent(cc.Button).interactable = !1);
}
c.childrenCount;
(d = new cc.Node("qipai")).addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("tip_qipai");
d.myTag = r;
s.addChild(d);
d.x = r >= 4 || 0 == r ? o[r].x + 110 : o[r].x - 110;
d.y = o[r].y - 35;
if (5 == cc.vv.roomMgr.ren) {
d.x = 1 != r ? o[r].x + 150 : o[r].x - 150;
d.y = o[r].y - 50;
}
if (0 == r) {
5 == cc.vv.roomMgr.ren ? d.x = d.x + 290 : d.x = d.x + 330;
d.y = o[r].y - 75;
}
}
}
},
start_tip: function() {
if (null != this.start_time) if (this.start_time <= 5) {
this.interval_time = .2;
this.timealarm = cc.vv.audioMgr.playSFX("timeup_alarm");
var e = this.node.getChildByName("mgr").getChildByName("alarm"), i = this.node.getChildByName("mgr").getChildByName("alarmbg");
e.color = new cc.color(255, 0, 0);
i.color = new cc.color(255, 0, 0);
this.unschedule(this.start_tip);
1 == this.is_jiesuan && cc.vv.audioMgr.stopSFX(this.timealarm);
} else this.start_time -= 1; else this.unschedule(this.start_tip);
},
otherTimeCount: function() {
this.timecount -= 1;
var e = this.node.getChildByName("mgr").getChildByName("time");
if (this.timecount <= 0) {
this.timecount = 0;
this.unschedule(this.otherTimeCount);
}
e.getComponent(cc.Label).string = this.timecount;
},
thisStart: function(e, i, t) {
cc.vv.audioMgr.stopSFX(this.timealarm);
this.unschedule(this.lit_false);
this.unschedule(this.lit_true);
this.unschedule(this.start_tip);
this._time = 1;
var a, n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.timecount = 0;
var s = this.node.getChildByName("mgr").getChildByName("alarm"), c = this.node.getChildByName("mgr").getChildByName("alarmbg"), o = this.node.getChildByName("mgr").getChildByName("time");
if (null == i || 999 != e) {
if (null != i) {
this.start_time = t;
this.interval_time = .4;
a = cc.vv.roomMgr.viewChairID(e);
this._thisStart = e;
this.timecount = t;
this._time = 0;
2 == i && (this.timecount = t);
} else {
this.start_time = e.time;
this.interval_time = .4;
s.color = new cc.color(0, 255, 0);
c.color = new cc.color(0, 255, 0);
a = cc.vv.roomMgr.viewChairID(e.thisStart);
this.timecount = e.time;
0 == e.time && (this.timecount = 10);
if (null == this.start_time) {
this.timecount = 10;
this.start_time = 10;
}
this._thisStart = e.thisStart;
}
o.getComponent(cc.Label).string = this.timecount;
this.desc && 0 != this.desc.tuoguan && this.schedule(this.start_tip, 1);
this.schedule(this.otherTimeUpdate, .01);
this.schedule(this.otherTimeCount, 1);
s.active = !0;
o.active = !0;
c.active = !1;
s.getComponent(cc.Sprite).fillRange = this._time;
s.x = n[a].x;
s.y = n[a].y - 9;
c.x = s.x;
c.y = s.y;
o.x = s.x;
o.y = s.y + 7;
s.width = 84;
c.width = s.width;
s.height = 103;
c.height = s.height;
if (0 == a) {
s.width = 110;
c.width = s.width;
s.height = 133;
c.height = s.height;
s.y = s.y - 2;
c.y = s.y - 2;
}
} else {
o.action = !1;
c.action = !1;
s.action = !1;
}
},
lit_true: function() {
var e = this.node.getChildByName("mgr").getChildByName("alarmbg");
this.unschedule(this.lit_true);
this.schedule(this.lit_false, this.interval_time);
e.runAction(cc.fadeTo(this.interval_time / 2, 0));
},
lit_false: function() {
var e = this.node.getChildByName("mgr").getChildByName("alarmbg");
this.unschedule(this.lit_false);
this.schedule(this.lit_true, this.interval_time);
e.runAction(cc.fadeTo(this.interval_time / 2, 255));
},
update: function(e) {
this.auto_dismssroom(e);
},
endTime: function() {
this._endTime = -1;
},
auto_dismssroom: function(e) {
if (this._endTime > 0) {
this._endTime -= e;
if (this._endTime <= 0) {
this._endTime = -1;
this._surplus_time_lbl.string = "0秒后自动弃牌";
}
var i = Math.floor(this._endTime / 60), t = Math.ceil(this._endTime - 60 * i), a = "";
i > 0 && (a += i + "分");
this._surplus_time_lbl.string = a + t + "秒后自动弃牌";
}
},
otherTimeUpdate: function() {
var e = this.node.getChildByName("mgr").getChildByName("alarm"), i = this.node.getChildByName("mgr").getChildByName("alarmbg");
this._time -= .001;
if (this._time <= 0) {
this._time = 0;
i.active = !0;
this.unschedule(this.otherTimeUpdate);
this.schedule(this.lit_false, .5);
i.runAction(cc.fadeTo(.3, 0));
}
e.getComponent(cc.Sprite).fillRange = this._time;
},
pwb_limit2: function(e, i) {
var t = e.data;
this.node.getChildByName("mgr").getChildByName("time").active = !1;
for (var a = !1, n = 0, s = 0; s < t.users.length; s++) {
var c = cc.vv.roomMgr.getSeatIndexByID(t.users[s].userid), o = cc.vv.roomMgr.viewChairID(c), h = cc.vv.utils.getChildByTag(i._winPlayer, o).getChildByName("Recharge");
h.active = !0;
h.getChildByName("tip").getComponent(cc.Animation).play();
}
for (s = 0; s < t.users.length; s++) {
c = cc.vv.roomMgr.getSeatIndexByID(t.users[s].userid), o = cc.vv.roomMgr.viewChairID(c);
t.users[s].userid != cc.vv.userMgr.userid && n++;
if (0 == o) {
cc.vv.roomMgr._minmoney = !0;
a = !0;
}
}
if (n != t.users.length) {
cc.vv.roomMgr._minmoney = !0;
for (s = 0; s < e.data.users.length; s++) {
c = cc.vv.roomMgr.getSeatIndexByID(e.data.users[s].userid);
i.thisStart(c, 2, e.data.time);
}
if (a) {
i = this;
this.cancel_bipai();
if (this._tuoguan) {
var r = this.node.getChildByName("btn_tuoguan"), l = r.getChildByName("bg_actioon"), d = r.getComponent(cc.Sprite), g = r.getChildByName("tips").getComponent(cc.Sprite);
d.spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("up");
l.active = !1;
g.spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("auto");
l.getComponent(cc.Animation).stop();
this._tuoguan = !1;
}
this.node.getChildByName("mgr").getChildByName("option").active = !0;
if (cc.vv.popMgr.get_open("Pwb_tips")) {
var u = i.node.getChildByName("open").getChildByName("Pwb_tips");
i._surplus_time_lbl = u.getChildByName("time").getComponent(cc.Label);
u.getChildByName("btn_back").active = !0;
u.getChildByName("new_tis").active = !0;
u.active = !0;
this._endTime = e.data.time;
u.getChildByName("tips_ScrollView").getChildByName("list").getChildByName("content").removeAllChildren();
var _ = u.getChildByName("btn_list").getChildByName("btn_apply"), v = u.getChildByName("btn_list").getChildByName("btn_exit");
u.getChildByName("btn_list").getChildByName("btn_watch").active = !1;
v.active = !1;
for (s = 0; s < e.data.users.length; s++) {
var p = cc.instantiate(i.club_tip), m = p.getChildByName("tip_name"), f = p.getChildByName("tip_lbl"), y = u.getChildByName("btn_list").getChildByName("btn_qipai");
y.active = !0;
y.on(cc.Node.EventType.TOUCH_START, function(e) {
i.qipaiSend();
cc.vv.popMgr.tip("发送申请成功!");
u.active = !1;
});
m.getComponent(cc.Label).string = e.data.users[s].name;
f.getComponent(cc.Label).string = e.data.users[s].pwb;
u.getChildByName("tips_ScrollView").getChildByName("list").getChildByName("content").addChild(p);
cc.vv.userMgr.userid == e.data.users[s].userid && (_.active = !0);
}
} else cc.vv.popMgr.open("Pwb_tips", function(e, t) {
i._endTime = t.data.time;
var a = i.node.getChildByName("open").getChildByName("Pwb_tips");
i._surplus_time_lbl = a.getChildByName("time").getComponent(cc.Label);
var n = a.getChildByName("btn_list").getChildByName("btn_apply"), s = a.getChildByName("btn_list").getChildByName("btn_qipai");
a.getChildByName("btn_list").getChildByName("btn_exit").active = !1;
a.getChildByName("btn_back").active = !0;
a.getChildByName("new_tis").active = !0;
a.getChildByName("btn_qipai");
s.active = !0;
a.getChildByName("btn_list").getChildByName("btn_watch").active = !1;
s.on(cc.Node.EventType.TOUCH_START, function(e) {
i.qipaiSend();
a.active = !1;
});
n.on(cc.Node.EventType.TOUCH_START, function() {
cc.vv.net2.quick("club_invite_add_pwb", {
club_id: cc.vv.roomMgr.clubid
});
n.active = !1;
});
a.getChildByName("tips_ScrollView").getChildByName("list").getChildByName("content").removeAllChildren();
for (var c = 0; c < t.data.users.length; c++) {
var o = cc.instantiate(i.club_tip), h = o.getChildByName("tip_name"), r = o.getChildByName("tip_lbl");
h.getComponent(cc.Label).string = t.data.users[c].name;
r.getComponent(cc.Label).string = t.data.users[c].pwb;
cc.vv.userMgr.userid == t.data.users[c].userid && (n.active = !0);
a.getChildByName("tips_ScrollView").getChildByName("list").getChildByName("content").addChild(o);
}
}, e);
}
} else cc.vv.roomMgr._minmoney = !1;
},
jiazhurange: function(e) {
this.node.getChildByName("btn_tuoguan").getChildByName("tpschip").getComponent(cc.Label).string = e.bei;
},
user_status_change: function(e) {
if (cc.vv.roomMgr.table.list) for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) if (0 != i[t].userid) {
if (1 == e.change_item[t]) {
0 == cc.vv.roomMgr.viewChairID(t) && (this._my_isin_game = !0);
}
i[t].sitStatus = e.change_item[t];
}
},
error: function(e) {
-99 == e.errcode ? cc.vv.popMgr.alert("" + e.errmsg, function() {
cc.director.loadScene("hall");
}) : cc.vv.popMgr.tip("" + e.errmsg);
},
watch: function(e) {
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (i[t].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("watchgame").active = !0;
var a = this.node.getChildByName("sit");
0 == e.canSit.length ? a.active = !1 : a.active = !0;
}
var n = this.node.getChildByName("mgr").getChildByName("desktop"), s = cc.vv.utils.getChildByTag(n.getChildByName("cur_chip"), e.seatid);
s && s.destroy();
if (e.userid == cc.vv.userMgr.userid) {
this.tip("zhunbei");
this.new_round();
a.active = !0;
}
},
canSit: function(e) {
var i = this.node.getChildByName("sit");
if (0 == e.canSit.length) i.active = !1; else {
cc.vv.popMgr.alert("有空位置了是否坐入", function() {
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude
});
this.node.getChildByName("sit") && (this.node.getChildByName("sit").active = !1);
}, !0);
i.active = !0;
}
},
room_pwb_change: function(e) {
var i = cc.vv.roomMgr.getSeatIndexByID(e.userid), t = cc.vv.roomMgr.viewChairID(i);
cc.vv.utils.getChildByTag(this._winPlayer, t).getChildByName("score").getComponent(cc.Label).string = cc.vv.utils.numFormat(parseFloat(e.pwb) - parseFloat(e.lock));
cc.vv.roomMgr.table.list[i].score = e.pwb;
},
buy_success: function(e) {
var i = this.node.getChildByName("mgr").getChildByName("time");
i.active = !0;
this.timecount = e.time;
i.getComponent(cc.Label).string = this.timecount;
},
initEventHandlers: function() {
var e = this;
this.node.on("room_pwb_change", function(i) {
cc.vv.roomMgr.is_replay && e.room_pwb_change(i.data.data.data);
});
this.node.on("buy_success", function(i) {
e.buy_success(i.data);
});
this.node.on("canSit", function(i) {
e.canSit(i.data);
});
this.node.on("watch", function(i) {
e.watch(i.data);
});
cc.game.on(cc.game.EVENT_HIDE, function() {
e.pauseTime = new Date().getTime();
e.stopallactions();
});
cc.game.on(cc.game.EVENT_SHOW, function() {
!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd() && cc.vv.popMgr.wait("正在恢复桌面", function() {
setTimeout(function() {
cc.vv.net2.quick("YSZonline");
}, 500);
});
});
this.node.on("requestBipai", function(i) {
e.requestBipai(i.data);
}), this.node.on("error", function(i) {
e.error(i);
}), this.node.on("user_status_change", function(i) {
e.user_status_change(i.data);
}), this.node.on("jiazhurange", function(i) {
e.jiazhurange(i.data);
}), this.node.on("pwb_limit2", function(i) {
e.pwb_limit2(i, e);
}), this.node.on("begin", function() {}), this.node.on("thisStart", function(i) {
e.thisStart(i.data);
}), this.node.on("qipai", function(i) {
e.qipai(i.data);
}), this.node.on("cheat", function(i) {
if (e.cheat_click) {
e.cheat_click = !1;
e.show_all_poker(i.data.cheatPai);
setTimeout(function() {
e.cheat_click = !0;
}, 1500);
}
}), this.node.on("bipai", function(i) {
e.bipai(i.data);
}), this.node.on("kanpai_1", function(i) {
e.kanpai_1(i.data);
}), this.node.on("kanpai", function(i) {
1 == cc.vv.userMgr.is_cuopai ? e.cuopaiTwoPai(i.data) : e.fanpaiClick(i.data);
}), this.node.on("pushLun", function(i) {
e.pushLun(i.data);
}), this.node.on("genZhu", function(i) {
e.genZhu(i.data, 1);
}), this.node.on("jiaZhu", function(i) {
e.genZhu(i.data, 2);
}), this.node.on("beginFen", function(i) {
e.beginFen(i.data);
}), this.node.on("operate", function(i) {
var t = i;
e._senceDestroy || (1 == i.data.waitTime ? setTimeout(function() {
e.operate(t.data);
}, 3e3) : e._lookcard_time ? setTimeout(function() {
e.operate(t.data);
}, 1e3) : e.operate(t.data));
}), this.node.on("param", function(i) {
e.param(e, i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("fapai_1", function(i) {
e.fapai1Data = i.data;
e.start_game();
}), this.node.on("kaipai", function(i) {
if (!e._senceDestroy) {
e.is_jiesuan = !0;
var t = i.data, a = e.node.getChildByName("mgr").getChildByName("desktop");
e.node.getChildByName("btn_tuoguan").active = !1;
a.getChildByName("look_card").active = !1;
e.nowLun == e.maxLun && 3e3;
cc.vv.audioMgr.stopSFX(e.timealarm);
e.kaipai(t);
}
}), this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
}), this.node.on("fanpai", function(i) {
e.fanpai(i.data);
}), this.node.on("stage", function(i) {
e.stage(i.data);
});
this.node.on("replay_deal_fapai", function(i) {
e.replay_deal_fapai(0, 3, i.data, function(e, i) {});
});
},
cuopaiTwoPai: function(e) {
var i = this, t = this.node.getChildByName("cuopai");
t.active = !0;
var a = t.getChildByName("nodeCardone"), n = cc.vv.game.config.cuopai, s = t.getChildByName("ok");
this.info_list = e;
s.on(cc.Node.EventType.TOUCH_START, function(e) {
t.active = !1;
i.fanpaiClick(i.info_list);
});
var c = function(e) {
i.fanpaiClick(e);
i.node.getChildByName("cuopai").active = !1;
}, o = 0, h = 0, r = {
viewid: 0,
index: 1,
atlas: i.pokerAtlas,
value: 0,
x: n[0].card.x,
y: n[0].card.x,
scale: n[0].card.scale,
iscuopai: !0,
callback: function() {}
}, l = cc.instantiate(this.pokerPrefab), d = l.getChildByName("card");
l.zIndex = 2;
a.addChild(l);
d.setPosition(0, 0);
l.scale = 1;
l.emit("fapai", r);
var g = {
viewid: 0,
index: 3,
atlas: i.pokerAtlas,
value: e.hand[2],
x: n[0].card.x,
y: n[0].card.x,
scale: n[0].card.scale,
iscuopai: !0,
callback: function() {},
puas: 1
}, u = cc.instantiate(this.pokerPrefab);
a.addChild(u);
u.scale = 1;
u.emit("fapai", g);
var _ = {
viewid: 0,
index: 4,
atlas: i.pokerAtlas,
value: e.hand[1],
x: n[0].card.x,
y: n[0].card.x,
scale: n[0].card.scale,
iscuopai: !0,
callback: function() {},
puas: 1
}, v = cc.instantiate(this.pokerPrefab), p = v.getChildByName("card");
a.addChild(v);
p.setPosition(0, 0);
v.scale = 1;
v.emit("fapai", _);
var m = {
viewid: 0,
index: 2,
atlas: i.pokerAtlas,
value: e.hand[0],
x: n[0].card.x,
y: n[0].card.x,
scale: n[0].card.scale,
iscuopai: !0,
callback: function() {},
puas: 1
}, f = cc.instantiate(this.pokerPrefab), y = f.getChildByName("card");
a.addChild(f);
y.setPosition(0, 0);
f.scale = 1;
f.emit("fapai", m);
function C() {
y.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, a = i.y / 2;
o += t;
h += a;
y.setPosition(y.x + t, y.y + a);
}, i);
y.on("touchend", function(e) {
if (o > 0 && f.width / 5 < o || o < 0 && f.width / 5 < -o || h > 0 && f.height / 5 < h || h < 0 && f.height / 5 < -h) {
y.off("touchmove");
y.off("touchend");
y.off("touchcancel");
y.setPosition(0, 0);
f.zIndex = -1;
b();
} else y.setPosition(0, 0);
o = 0;
h = 0;
}, i);
y.on("touchcancel", function(e) {
if (o > 0 && f.width / 5 < o || o < 0 && f.width / 5 < -o || h > 0 && f.height / 5 < h || h < 0 && f.height / 5 < -h) {
y.off("touchmove");
y.off("touchend");
y.off("touchcancel");
y.setPosition(0, 0);
f.zIndex = -1;
b();
} else y.setPosition(0, 0);
o = 0;
h = 0;
}, i);
}
function b() {
p.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, a = i.y / 2;
o += t;
h += a;
p.setPosition(p.x + t, p.y + a);
}, i);
p.on("touchend", function(i) {
if (o > 0 && v.width / 5 < o || o < 0 && v.width / 5 < -o || h > 0 && v.height / 5 < h || h < 0 && v.height / 5 < -h) {
p.off("touchmove");
p.off("touchend");
p.off("touchcancel");
p.setPosition(0, 0);
v.zIndex = -1;
c(e);
} else p.setPosition(0, 0);
o = 0;
h = 0;
}, i);
p.on("touchcancel", function(i) {
if (o > 0 && v.width / 5 < o || o < 0 && v.width / 5 < -o || h > 0 && v.height / 5 < h || h < 0 && v.height / 5 < -h) {
p.off("touchmove");
p.off("touchend");
p.off("touchcancel");
p.setPosition(0, 0);
v.zIndex = -1;
c(e);
} else p.setPosition(0, 0);
o = 0;
h = 0;
}, i);
}
d.on("touchmove", function(e) {
var i = e.touch.getDelta(), t = i.x / 2, a = i.y / 2;
o += t;
h += a;
d.setPosition(d.x + t, d.y + a);
}, this);
d.on("touchend", function(e) {
if (o > 0 && l.width / 5 < o || o < 0 && l.width / 5 < -o || h > 0 && l.height / 5 < h || h < 0 && l.height / 5 < -h) {
d.off("touchmove");
d.off("touchend");
d.off("touchcancel");
d.setPosition(0, 0);
l.zIndex = -1;
C();
} else d.setPosition(0, 0);
o = 0;
h = 0;
}, this);
d.on("touchcancel", function(e) {
if (o > 0 && l.width / 5 < o || o < 0 && l.width / 5 < -o || h > 0 && l.height / 5 < h || h < 0 && l.height / 5 < -h) {
d.off("touchmove");
d.off("touchend");
d.off("touchcancel");
d.setPosition(0, 0);
l.zIndex = -1;
C();
} else d.setPosition(0, 0);
o = 0;
h = 0;
}, this);
},
beishu_judge: function(e) {
cc.vv.net2.quick("jiazhu", {
dou: e
});
},
need_chips_tips: function(e, i) {
var t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], a = 0;
a = this.isFanPai ? 4 * this.dizhu : 2 * this.dizhu;
var n = this.node.getChildByName("mgr").getChildByName("desktop").getChildByName("bipai_chis_tips"), s = new cc.Node("bipai_chips");
s.addComponent(cc.Label).string = a;
s.getComponent(cc.Label).font = this.winFont;
s.myTag = e;
n.addChild(s);
s.x = e >= 4 || 0 == e ? t[e].x + 110 : t[e].x - 110;
s.y = t[e].y;
5 == cc.vv.roomMgr.ren && (s.x = 1 != e ? t[e].x + 150 : t[e].x - 150);
},
select_bipai: function() {
for (var e = 0, i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) 0 != i[t].userid && e++;
var a = this.node.getChildByName("mgr");
a.getChildByName("option").active = !1;
var n = a.getChildByName("bipai");
n.active = !0;
var s, c, o = a.getChildByName("desktop").getChildByName("bipai_list"), h = a.getChildByName("desktop");
if (5 == cc.vv.roomMgr.ren) {
s = h.getChildByName("bipai_bg_5");
c = h.getChildByName("show_bipai_5");
} else {
s = h.getChildByName("bipai_bg");
c = h.getChildByName("show_bipai");
}
var r = a.getChildByName("option"), l = h.getChildByName("look_card");
l.active = !1;
c.active = !0;
s.active = !0;
o.active = !0;
var d = 0, g = 0;
for (i = cc.vv.roomMgr.table.list, t = 0; t < o.childrenCount; t++) 0 != i[t].sitStatus && (cc.vv.utils.getChildByTag(o, t).active = !1);
for (t = 1; t < s.childrenCount; t++) {
c.getChildByName("action_" + t).getComponent(cc.Animation).play();
}
if (0 == this.guizhe) {
for (t = 0; t < e; t++) {
for (var u = cc.vv.roomMgr.viewChairID(t), _ = cc.vv.utils.getChildByTag(o, t), v = 0; v < this._qipai_list.length; v++) this._qipai_list[v] == t && (_.active = !1);
0 == u && (_.active = !1);
}
for (t = 0; t < o.childrenCount; t++) if (1 == cc.vv.utils.getChildByTag(o, t).active) {
d++;
g = t;
}
if (1 == d) {
cc.vv.net2.quick("bipai", {
seatId: g
});
this.is_my_bipai = !0;
o.active = !1;
l.active = !1;
r.active = !1;
c.active = !1;
s.active = !1;
for (t = 1; t < c.childrenCount; t++) {
c.getChildByName("action_" + t).getComponent(cc.Animation).stop();
}
} else for (t = 0; t < o.childrenCount; t++) {
var p = cc.vv.roomMgr.viewChairID(t), m = cc.vv.utils.getChildByTag(o, t);
s.getChildByName("bg_" + p).active = m.active;
c.getChildByName("action_" + p).active = m.active;
1 == m.active && this.need_chips_tips(p, t);
}
} else if (1 == this.guizhe) if (1 == this.isFanPai) if (0 == this._kanpai_list.length) {
n.active = !1;
c.active = !1;
s.active = !1;
} else {
for (t = 0; t < e; t++) for (u = cc.vv.roomMgr.viewChairID(t), v = 0; v < this._kanpai_list.length; v++) {
_ = cc.vv.utils.getChildByTag(o, t);
if (-1 == this._kanpai_list.indexOf(t)) {
_.active = !1;
for (var f = 0; f < this._qipai_list.length; f++) this._qipai_list[f] == t && (_.active = !1);
} else {
_.active = !0;
for (f = 0; f < this._qipai_list.length; f++) if (this._qipai_list[f] == t) {
_.active = !1;
break;
}
}
0 == u && (_.active = !1);
}
for (t = 0; t < o.childrenCount; t++) if (1 == cc.vv.utils.getChildByTag(o, t).active) {
d++;
g = t;
}
if (1 == d) {
cc.vv.net2.quick("bipai", {
seatId: g
});
this.is_my_bipai = !0;
o.active = !1;
l.active = !1;
r.active = !1;
c.active = !1;
s.active = !1;
for (t = 1; t < c.childrenCount; t++) {
c.getChildByName("action_" + t).getComponent(cc.Animation).stop();
}
} else {
0 == d && cc.vv.popMgr.tip("没有可以比牌的玩家!");
for (t = 0; t < o.childrenCount; t++) {
p = cc.vv.roomMgr.viewChairID(t);
var y = cc.vv.utils.getChildByTag(o, t);
s.getChildByName("bg_" + p).active = y.active;
c.getChildByName("action_" + p).active = y.active;
1 == y.active && this.need_chips_tips(p, t);
}
}
} else {
for (t = 0; t < e; t++) {
for (u = cc.vv.roomMgr.viewChairID(t), _ = cc.vv.utils.getChildByTag(o, t), f = 0; f < this._qipai_list.length; f++) {
_.active = !0;
if (this._qipai_list[f] == t) {
_.active = !1;
break;
}
}
0 == u && (_.active = !1);
}
for (t = 0; t < o.childrenCount; t++) if (1 == cc.vv.utils.getChildByTag(o, t).active) {
d++;
g = t;
}
if (1 == d) {
cc.vv.net2.quick("bipai", {
seatId: g
});
this.is_my_bipai = !0;
o.active = !1;
l.active = !1;
r.active = !1;
c.active = !1;
s.active = !1;
for (t = 1; t < c.childrenCount; t++) {
c.getChildByName("action_" + t).getComponent(cc.Animation).stop();
}
} else for (t = 0; t < o.childrenCount; t++) {
p = cc.vv.roomMgr.viewChairID(t);
var C = cc.vv.utils.getChildByTag(o, t);
s.getChildByName("bg_" + p).active = C.active;
c.getChildByName("action_" + p).active = C.active;
1 == C.active && this.need_chips_tips(p, t);
}
}
},
cancel_bipai: function() {
var e, i, t = this.node.getChildByName("mgr");
(a = this.node.getChildByName("btn_tuoguan")).active = !0;
if (5 == cc.vv.roomMgr.ren) {
e = t.getChildByName("desktop").getChildByName("bipai_bg_5");
i = t.getChildByName("desktop").getChildByName("show_bipai_5");
} else {
e = t.getChildByName("desktop").getChildByName("bipai_bg");
i = t.getChildByName("desktop").getChildByName("show_bipai");
}
this.nowLun > this.anLun && 0 == this.isFanPai && (t.getChildByName("desktop").getChildByName("look_card").active = !0);
var a = this.node.getChildByName("btn_tuoguan"), n = this.watch_game();
a.active = !n;
t.getChildByName("desktop").getChildByName("bipai_chis_tips").removeAllChildren();
t.getChildByName("option").active = !0;
t.getChildByName("bipai").active = !1;
t.getChildByName("desktop").getChildByName("bipai_list").active = !1;
for (var s = 1; s < i.childrenCount; s++) {
i.getChildByName("action_" + s).getComponent(cc.Animation).stop();
}
i.active = !1;
e.active = !1;
},
tuoguan: function(e) {
var i = this.node.getChildByName("btn_tuoguan"), t = i.getChildByName("bg_actioon"), a = i.getComponent(cc.Sprite), n = i.getChildByName("tips").getComponent(cc.Sprite);
if (this._tuoguan) {
a.spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("up");
t.active = !1;
n.spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("auto");
t.getComponent(cc.Animation).stop();
null == e && cc.vv.net2.quick("cancleTuoguan", {
auto: 1
});
} else {
a.spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("down");
t.active = !0;
t.getComponent(cc.Animation).play();
var s = this.node.getChildByName("mgr");
s.getChildByName("option").active = !1;
s.getChildByName("jiazhu").active = !1;
s.getChildByName("bipai").active = !1;
null == e && cc.vv.net2.quick("tuoguan");
n.spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("cancelauto");
}
this._tuoguan = !this._tuoguan;
},
option_active: function() {},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "btn_tuoguan":
this.tuoguan();
break;

case "look_card":
this.node.getChildByName("mgr").getChildByName("desktop").getChildByName("bipai_chis_tips").removeAllChildren();
var t, a, n = this.node.getChildByName("mgr");
if (5 == cc.vv.roomMgr.ren) {
t = n.getChildByName("desktop").getChildByName("bipai_bg_5");
a = n.getChildByName("desktop").getChildByName("show_bipai_5");
} else {
t = n.getChildByName("desktop").getChildByName("bipai_bg");
a = n.getChildByName("desktop").getChildByName("show_bipai");
}
a.active = !1;
t.active = !1;
cc.vv.net2.quick("kanpai");
this.option_active();
break;

case "2":
case "3":
case "4":
case "5":
case "8":
case "10":
this.beishu_judge(e.target.name);
break;

case "bipai_cancel":
this.cancel_bipai();
this.option_active();
break;

case "cancel":
this.node.getChildByName("mgr").getChildByName("option").active = !0;
this.node.getChildByName("mgr").getChildByName("jiazhu").active = !1;
this.option_active();
break;

case "qipai":
this._ownPokerType && this._ownPokerType < 60 && (this.node.getChildByName("mgr").getChildByName("option").active = !1);
this.qipaiSend();
this.option_active();
break;

case "bipai":
cc.vv.net2.quick("requestBipai");
this.option_active();
break;

case "showpoker":
cc.vv.net2.quick("cheat", {});
break;

case "jiazhu":
this.node.getChildByName("mgr").getChildByName("jiazhu").active = !0;
this.option_active();
break;

case "genzhu":
cc.vv.net2.quick("genzhu");
this.option_active();
}
cc.vv.audioMgr.click();
},
qipaiSend: function() {
var e = this;
if (e._ownPokerType && e._ownPokerType >= 60) {
cc.vv.popMgr.alert("您的手牌是" + {
60: "顺子",
70: "同花",
80: "同花顺",
90: "豹子"
}[e._ownPokerType] + ",是否确认弃牌", function() {
cc.vv.net2.quick("sqipai", {
type: 0,
currLun: e.nowLun,
currNum: cc.vv.roomMgr.now,
version: cc.VERSION
});
}, !0);
} else cc.vv.net2.quick("qipai", {
type: 0,
currLun: e.nowLun,
currNum: cc.vv.roomMgr.now
});
},
new_round: function() {
this.nodeJiesuan.getChildByName("list");
var e = this.node.getChildByName("mgr").getChildByName("desktop"), i = this.node.getChildByName("mgr").getChildByName("option"), t = this.node.getChildByName("mgr").getChildByName("cardtype"), a = this.node.getChildByName("mgr").getChildByName("user_card_type"), n = this.node.getChildByName("mgr").getChildByName("qipai"), s = this.node.getChildByName("mgr").getChildByName("jiazhu"), c = e.getChildByName("bipai_user_tips"), o = e.getChildByName("look_card"), h = e.getChildByName("card_type"), r = e.getChildByName("chip_qu"), l = e.getChildByName("user_tips"), d = this.node.getChildByName("cuopai").getChildByName("nodeCardone");
this.unschedule(this.add_baozi_font2);
var g = this.node.getChildByName("baozi_font_list");
this.win_score = 0;
this._ownPokerType = 10;
g.getChildByName("sum_score").active = !1;
this.node.getChildByName("cuopai").active = !1;
s.active = !1;
i.active = !1;
this.is_baozi = !1;
this.node_watchgame.active = !1;
e.getChildByName("bipai_lost").active = !1;
d.removeAllChildren();
c.removeAllChildren();
l.removeAllChildren();
n.removeAllChildren();
a.removeAllChildren();
t.removeAllChildren();
r.removeAllChildren();
this.nodeCard.removeAllChildren();
var u = this.node.getChildByName("mgr").getChildByName("alarm"), _ = this.node.getChildByName("mgr").getChildByName("alarmbg");
this._ischonglian = !1;
this._lookcard_time = !0;
u.active = !1;
_.active = !1;
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
if (1 == this._tuoguan) {
var v = this.node.getChildByName("btn_tuoguan").getChildByName("bg_actioon");
this.node.getChildByName("btn_tuoguan").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("up");
v.active = !1;
v.getComponent(cc.Animation).stop();
this.node.getChildByName("btn_tuoguan").getChildByName("tips").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("auto");
this._tuoguan = !1;
this.node.getChildByName("btn_tuoguan").getChildByName("tips").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("auto");
this._tuoguan = !1;
}
var p = e.getChildByName("pk_action");
this.node.getChildByName("mgr").getChildByName("pk_user").active = !1;
p.active = !1;
p.getComponent(cc.Animation).stop();
this._kanpai_list = [];
this._qipai_list = [];
h.getChildByName("card_type").getComponent(cc.Sprite).spriteFrame = null;
h.active = !1;
o.active = !1;
this.isShousuo = !1;
this.isFanPai = !1;
this.table.seat_emit(null, "dingzhuang", {
seatid: null
});
cc.vv.roomMgr.stage = null;
this._kaipai = [ 0, 0, 0 ];
},
start_game: function() {
if (this.node) {
var e = this.fapai1Data;
this.fapai_1(e);
this.nodeJiesuan.active = !1;
}
},
param: function(e, i) {
var t = this;
this._wanfa = i.desc;
this.desc = i;
this.poker_show = i.canCheat;
this.lookpoker && !cc.vv.roomMgr.is_replay && (this.lookpoker.node ? this.poker_show ? this.lookpoker.active = !0 : this.lookpoker.active = !1 : setTimeout(function() {
t._senceDestroy || (t.poker_show ? t.lookpoker.active = !0 : t.lookpoker.active = !1);
}, 1e3));
},
ready: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("zhunbei");
this.new_round();
}
},
fapai_1: function(e) {
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
if (!cc.vv.roomMgr.is_replay) {
var i = this.watch_game();
this.node.getChildByName("btn_tuoguan").active = 1 != i;
}
this.deal_fapai(0, 3, e, function(e, i) {});
},
showcard_type: function(e) {
if (null != e) {
this._ownPokerType = parseInt(e);
var i = this.node.getChildByName("mgr").getChildByName("desktop"), t = i.getChildByName("look_card"), a = i.getChildByName("card_type");
a.active = !0;
a.getChildByName("card_type").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("cardtype_" + e);
t.active = !1;
}
},
add_baozi_font: function() {
this.schedule(this.add_baozi_font2, .01);
},
add_baozi_font2: function() {
var e = cc.instantiate(this.baozi_font), i = parseInt(this.win_score);
i += "";
e.y = 450;
var t = this.node.getChildByName("baozi_font_list");
t.addChild(e);
for (var a, n = "", s = 0; s < i.length; s++) n += "9";
a = parseInt(n);
var c = Math.floor(Math.random() * (1 - a) + a);
e.getComponent(cc.Label).string = c;
var o = t.getChildByName("sum_score");
o.active = !0;
o.getComponent(cc.Label).string = "+" + c;
o.scale = 1;
e.runAction(cc.sequence(cc.moveTo(.05, cc.v2(0, -200)), cc.callFunc(function() {
e.destroy();
}, this)));
},
kaipai: function(e) {
this.tip("kaipai");
for (var i = 0; i < e.hand.length; i++) if (90 == e.hand[i].type && e.win[0] == i) {
0 == (c = cc.vv.roomMgr.viewChairID(i)) && (this.is_baozi = !0);
var t = this.node.getChildByName("mgr").getChildByName("baozi");
t.active = !0;
var a = t.getComponent(sp.Skeleton);
a.animation = "animation";
a.setCompleteListener(function() {
t.active = !1;
});
this.play_ysz_mp3(i, "huanhu", 1);
break;
}
var n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], s = this.node.getChildByName("mgr").getChildByName("cardtype");
s.active = !0;
s.removeAllChildren();
for (i = 0; i < e.hand.length; i++) if (null != e.hand[i].type) {
var c = cc.vv.roomMgr.viewChairID(e.hand[i].seatId), o = new cc.Node("card_type");
cc.vv.roomMgr.param && 1 == cc.vv.roomMgr.param.sCompareT ? 70 == e.hand[i].type ? o.addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("kaipai_type_60") : 60 == e.hand[i].type ? o.addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("kaipai_type_70") : o.addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("kaipai_type_" + e.hand[i].type) : o.addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("kaipai_type_" + e.hand[i].type);
o.myTag = c;
s.addChild(o);
o.x = c >= 4 || 0 == c ? n[c].x + 110 : n[c].x - 110;
o.y = n[c].y + 72;
5 == cc.vv.roomMgr.ren && (o.x = 1 != c ? n[c].x + 150 : n[c].x - 150);
if (0 == c) {
o.y = o.y + 30;
5 == cc.vv.roomMgr.ren ? o.x = o.x + 420 : o.x = o.x + 460;
}
}
for (var h = 0; h < e.hand.length; ++h) {
c = cc.vv.roomMgr.viewChairID(e.hand[h].seatId);
this.show_jiaobiao(c);
if (0 == c) {
for (i = 0; i < 3; ++i) {
var r = {
obj: this,
viewid: c,
index: i,
value: e.hand[h].pais[i],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate
};
this.send_card_emit(c, i, "trun", r);
}
var l = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (i = 0; i < 3; ++i) {
r = {
obj: this,
viewid: c,
index: i,
type: e.type,
rate: e.rate,
x: l.x + i * l.distance,
y: l.y,
scale: l.scale,
pai: e.pai
};
this.send_card_emit(c, i, "shousuo", r);
}
this.isShousuo = !0;
} else for (i = 0; i < 3; ++i) {
r = {
obj: this,
viewid: c,
index: i,
value: e.hand[h].pais[i],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate,
pai: e.pai
};
this.send_card_emit(c, i, "trun", r);
}
}
},
show_all_poker: function(e) {
if (e) for (var i = 0; i < e.length; ++i) {
var t = cc.vv.roomMgr.viewChairID(i);
this.show_jiaobiao(t);
if (0 == t) for (var a = 0; a < 3; ++a) {
var n = {
obj: this,
viewid: t,
index: a,
value: e[i][a],
atlas: this.pokerAtlas
};
this.send_card_emit(t, a, "trun", n);
} else for (a = 0; a < 3; ++a) {
n = {
obj: this,
viewid: t,
index: a,
value: e[i][a],
type: e.type,
atlas: this.pokerAtlas
};
this.send_card_emit(t, a, "trun", n);
}
}
},
solo_kaipai: function(e) {
for (var i = 0; i < e.hand.length; ++i) {
var t = cc.vv.roomMgr.viewChairID(e.hand[i].seatId);
this.show_jiaobiao(t);
if (0 == t) {
for (var a = 0; a < 3; ++a) {
var n = {
obj: this,
viewid: t,
index: a,
value: e.hand[i],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate
};
this.send_card_emit(t, a, "trun", n);
}
var s = cc.vv.game.config["selfPoke_" + cc.vv.roomMgr.ren];
for (a = 0; a < 3; ++a) {
n = {
obj: this,
viewid: t,
index: a,
type: e.type,
rate: e.rate,
x: s.x + a * s.distance,
y: s.y,
scale: s.scale,
pai: e.pai
};
this.send_card_emit(t, a, "shousuo", n);
}
this.isShousuo = !0;
} else for (a = 0; a < 3; ++a) {
n = {
obj: this,
viewid: t,
index: a,
value: e.hand[i],
type: e.type,
atlas: this.pokerAtlas,
rate: e.rate,
pai: e.pai
};
this.send_card_emit(t, a, "trun", n);
}
}
},
new_real: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0, t = 0, a = 0; a < e.length; a++) {
0 != e[a].userid && t++;
var n = cc.vv.roomMgr.getSeatIndexByID(e[a].userid), s = cc.vv.roomMgr.viewChairID(n);
0 != e[a].sitStatus ? i++ : 0 == s && (this._my_isin_game = !1);
}
return t - i;
},
watch_game: function() {
var e = !1, i = cc.vv.roomMgr.table.list;
if (!cc.vv.roomMgr.is_replay) for (var t = cc.vv.roomMgr.guanzhan_table.list, a = 0; a < t.length; a++) 0 != t[a].userid && t[a].userid == cc.vv.userMgr.userid && (e = !0);
for (a = 0; a < i.length; a++) if (0 != i[a].userid && 0 != i[a].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(i[a].seatid) && (e = !0);
}
return e;
},
auto_ready: function() {
this.autoready--;
this.nodeJiesuan.getChildByName("btn_ready").getChildByName("lbl").getComponent(cc.Label).string = this.autoready;
if (this.autoready <= 0) {
this.autoready = 0;
this.unschedule(this.auto_ready);
}
},
baozi_jianlgi: function(e) {
e = parseInt(e);
this.unschedule(this.add_baozi_font2);
var i = this.node.getChildByName("baozi_font_list").getChildByName("sum_score");
i.active = !0;
i.getComponent(cc.Label).string = "+" + e;
i.runAction(cc.sequence(cc.scaleTo(.5, 1.2, 1.2), cc.callFunc(function() {}, this)));
setTimeout(function() {
i.active = !1;
}, 1500);
},
jiesuan: function(e) {
var i = e;
this.autoready = 10;
var t = this.watch_game();
this.schedule(this.auto_ready, 1);
this.unschedule(this.lit_false);
this.unschedule(this.lit_true);
this.unschedule(this.start_tip);
var a = this, n = this.node.getChildByName("mgr"), s = n.getChildByName("desktop");
n.getChildByName("alarmbg").active = !1;
n.getChildByName("alarm").active = !1;
n.getChildByName("time").active = !1;
s.getChildByName("card_type").active = !1;
s.getChildByName("look_card").active = !1;
s.getChildByName("user_tips").active = !1;
var c = 0;
this.node.getChildByName("btn_tuoguan").active = !1;
cc.vv.roomMgr && 1 == cc.vv.roomMgr.param.sCompareT ? 70 == e.list[e.win[0]].type ? this.play_ysz_mp3(e.win[0], "cardtype_60") : 60 == e.list[e.win[0]].type ? this.play_ysz_mp3(e.win[0], "cardtype_70") : this.play_ysz_mp3(e.win[0], "cardtype_" + e.list[e.win[0]].type) : this.play_ysz_mp3(e.win[0], "cardtype_" + e.list[e.win[0]].type);
for (var o = 0; o < e.list.length; o++) 0 != e.list[o].userid && c++;
var h = c;
c = cc.vv.roomMgr.ren;
if (this.is_baozi) for (o = 0; o < c; ++o) if (0 != e.list[o].userid && e.list[o].round_score > 0) {
this.win_score = e.list[o].round_score;
this.schedule(this.add_baozi_font2, .1);
break;
}
for (o = 0; o < c; ++o) if (e.list[o].userid) {
var r = cc.vv.roomMgr.viewChairID(e.list[o].seatid);
if (0 == e.list[o].userSitStatus) {
a.table.seat_emit(r, "score", e.list[o].user_score);
cc.vv.roomMgr.table.list[o].score = e.list[o].user_score;
}
e.list[o].round_score > 0 ? a.table.seat_emit(r, "win", e.list[o].round_score) : a.table.seat_emit(r, "lost", e.list[o].round_score);
}
var l = this.nodeJiesuan.getChildByName("list");
for (o = 0; o < l.children.length; ++o) l.children[o].active = !1;
var d = [], g = -1, u = 0, _ = 0, v = !0;
this.relation = e.relation[0];
for (o = 0; o < c; ++o) if (e.list[o].userid) {
_++;
g++;
0 == (r = cc.vv.roomMgr.viewChairID(e.list[o].seatid)) && (this.relation = e.relation[o]);
if (0 != r && v) d.push(g); else {
v = !1;
var p = e.list[o].nickname, m = this.table.seat_img(r), f = l.getChildByName("item" + u);
u++;
f.active = !0;
f.getChildByName("img").getComponent(cc.Sprite).spriteFrame = m;
f.getChildByName("name").getComponent(cc.Label).string = p;
var y = f.getChildByName("cardtype");
0 == this.relation[o] ? y.active = !1 : y.active = !0;
cc.vv.roomMgr.is_replay && (y.active = !0);
for (var C = 0; C < 3; C++) y.getChildByName("card_" + (C + 1)).getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getYSZPokerSpriteFrame(this.poKerminAtlas, e.list[o].hand[C]);
var b = f.getChildByName("score").getComponent(cc.Label);
if (e.list[o].round_score > 0) {
b.font = a.winFont;
b.string = "+" + cc.vv.utils.numInt(e.list[o].round_score);
} else if (e.list[o].round_score < 0) {
b.font = a.lostFont;
b.string = cc.vv.utils.numInt(e.list[o].round_score);
} else {
b.font = a.winFont;
b.string = cc.vv.utils.numInt(e.list[o].round_score);
}
if (1 == e.list[o].userSitStatus) {
f.getChildByName("watch").active = !0;
b.string = "-";
} else f.getChildByName("watch").active = !1;
}
if (_ == h) {
var w = [], x = 0;
for (o = 0; o < e.list.length; o++) 0 != e.list[o].userid && (w[x++] = e.list[o]);
var z = e.list;
e.list = w;
for (C = 0; C < d.length; ++C) {
var k = cc.vv.roomMgr.viewChairID(e.list[C].seatid);
p = e.list[C].nickname, m = this.table.seat_img(k), f = l.getChildByName("item" + u);
u++;
f.active = !0;
f.getChildByName("img").getComponent(cc.Sprite).spriteFrame = m;
f.getChildByName("name").getComponent(cc.Label).string = p;
y = f.getChildByName("cardtype");
0 == this.relation[C] ? y.active = !1 : y.active = !0;
cc.vv.roomMgr.is_replay && (y.active = !0);
for (var M = 0; M < 3; M++) y.getChildByName("card_" + (M + 1)).getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getYSZPokerSpriteFrame(this.poKerminAtlas, e.list[C].hand[M]);
b = f.getChildByName("score").getComponent(cc.Label);
if (e.list[C].round_score > 0) {
b.font = a.winFont;
b.string = "+" + cc.vv.utils.numInt(e.list[C].round_score);
} else if (e.list[C].round_score < 0) {
b.font = a.lostFont;
b.string = cc.vv.utils.numInt(e.list[C].round_score);
} else {
b.font = a.winFont;
b.string = cc.vv.utils.numInt(e.list[C].round_score);
}
if (1 == e.list[C].userSitStatus) {
f.getChildByName("watch").active = !0;
b.string = "-";
} else f.getChildByName("watch").active = !1;
}
e.list = z;
}
}
var j = a.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), N = a.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_left").getComponent(cc.Sprite), S = a.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text_right").getComponent(cc.Sprite), F = a.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_left").getComponent(cc.Sprite), B = a.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text_right").getComponent(cc.Sprite);
function T(e) {
if (1 == e) {
j.spriteFrame = a.jiesuanAtlas.getSpriteFrame("shengli");
N.spriteFrame = a.jiesuanAtlas.getSpriteFrame("wanjia");
S.spriteFrame = a.jiesuanAtlas.getSpriteFrame("wanjia");
F.spriteFrame = a.jiesuanAtlas.getSpriteFrame("jifen");
B.spriteFrame = a.jiesuanAtlas.getSpriteFrame("jifen");
} else {
j.spriteFrame = a.jiesuanAtlas.getSpriteFrame("shibai");
N.spriteFrame = a.jiesuanAtlas.getSpriteFrame("hui_wanjia");
S.spriteFrame = a.jiesuanAtlas.getSpriteFrame("hui_wanjia");
F.spriteFrame = a.jiesuanAtlas.getSpriteFrame("hui_jifen");
B.spriteFrame = a.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
}
for (o = 0; o < c; o++) if (e.list[o].userid) {
if (0 == (r = cc.vv.roomMgr.viewChairID(e.list[o].seatid))) if (e.list[o].round_score < 0) {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3, a);
T(0);
} else {
setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3, a);
T(1);
}
}
if (1 == t) {
j.spriteFrame = a.jiesuanAtlas.getSpriteFrame("guanzhan");
N.spriteFrame = a.jiesuanAtlas.getSpriteFrame("wanjia");
S.spriteFrame = a.jiesuanAtlas.getSpriteFrame("wanjia");
F.spriteFrame = a.jiesuanAtlas.getSpriteFrame("jifen");
B.spriteFrame = a.jiesuanAtlas.getSpriteFrame("jifen");
}
function A() {
a.unschedule(a.add_baozi_font2);
a.nodeJiesuan.active = !0;
}
var I = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
setTimeout(function() {
a.is_baozi && !a._senceDestroy && a.baozi_jianlgi(a.win_score);
}, 1e3, a);
setTimeout(function() {
i.nowRound != cc.vv.roomMgr.now || a._senceDestroy || A();
}, 2e3, a);
var X = (s = this.node.getChildByName("mgr").getChildByName("desktop")).getChildByName("chip_qu"), P = 0;
cc.vv.audioMgr.playSFX("nn/chips");
if (i.nowRound == cc.vv.roomMgr.now) for (o = 0; o < X.childrenCount; o++) {
var D = cc.vv.roomMgr.viewChairID(e.win[P]);
++P == e.win.length && (P = 0);
X.children[o].runAction(cc.sequence(cc.moveTo(.3, cc.v2(I[D].x + 239, I[D].y + 39)), cc.callFunc(function() {}, a)));
}
if (cc.vv.roomMgr.is_replay) {
var Y = cc.find("Canvas/report/jiesuan/btn_ready");
this.node.getChildByName("mgr").getChildByName("option");
Y.active = !1;
this.node.getChildByName("btn_tuoguan").active = !1;
}
},
active_tuoguan: function() {
cc.vv.roomMgr.is_replay && (this.node.getChildByName("btn_tuoguan").active = !1);
},
hide_jiesuan: function() {
this.nodeJiesuan.active = !1;
},
report: function(e) {
this.nodeReport.active = !0;
this.nodeReport.getChildByName("otherScore").getComponent(cc.Label).string = "其他:" + e.otherScore;
this.nodeJiesuan.active = !1;
this.node.getChildByName("pop").removeAllChildren();
this.labelRoomwanfa.string = "玩法：" + e.desc;
this.node.getChildByName("mgr").getChildByName("desktop");
this.node.getChildByName("mgr").getChildByName("alarm").active = !1;
this.table.hide_dismiss_room();
for (var i = 0, t = 0; t < e.list.length; t++) 0 == e.list[t].hasJoinedBattle && i++;
var a, n = 0;
for (t = 0; t < e.list.length; ++t) e.list[t].userid > 0 && n++;
(a = e.list.length - i >= 7 ? this.nodeReport.getChildByName("list2") : this.nodeReport.getChildByName("list1")).removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
for (n = 0, t = 0; t < e.list.length; ++t) e.list[t].userid > 0 && n++;
n = cc.vv.roomMgr.ren;
for (t = 0; t < n; ++t) if (0 != e.list[t].userid && 1 == e.list[t].hasJoinedBattle) {
var s, c = cc.vv.roomMgr.viewChairID(t);
s = 90 == e.list[t].maxPaiType ? "豹子" : 80 == e.list[t].maxPaiType ? "顺金" : 70 == e.list[t].maxPaiType ? "金花" : 60 == e.list[t].maxPaiType ? "顺子" : 50 == e.list[t].maxPaiType ? "对子" : 10 == e.list[t].maxPaiType ? "高牌" : "";
1 == cc.vv.roomMgr.param.sCompareT && (70 == e.list[t].maxPaiType ? s = "顺子" : 60 == e.list[t].maxPaiType && (s = "金花"));
var o, h = {
name: e.list[t].name,
userid: e.list[t].userid,
headimg: e.list[t].headimg,
score: e.list[t].result_score,
dayingjia: e.list[t].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: !1,
sing_max_score: e.list[t].maxGetFen,
max_card_type: s,
sj_count: e.list[t].KeepColorNum,
bz_count: e.list[t].BaoNum,
win_lost_count: e.list[t].winNum
};
o = e.list.length - i >= 7 ? cc.instantiate(this.reportItemMinPrefab) : cc.instantiate(this.reportItemPrefab);
a.addChild(o);
o.emit("info", h);
0 == c && (this.labelScore.string = "+" + e.list[t].coins);
}
},
stage_init: function(e) {
var i, t;
this.node.getChildByName("mgr").getChildByName("hud").emit("round");
for (c = 0; c < e.payFen.length; c++) if (0 != e.payFen[c]) {
var a = cc.vv.roomMgr.viewChairID(c), n = cc.vv.utils.getChildByTag(this._winPlayer, a), s = cc.vv.roomMgr.table.list;
n.getChildByName("score").getComponent(cc.Label).string = cc.vv.utils.numFormat(s[c].score - e.payFen[c]);
}
for (var c = 0; c < e.nowKanPai.length; c++) {
0 == cc.vv.roomMgr.viewChairID(c) && 1 == e.nowKanPai[c] && (this.isFanPai = !0);
}
this.playFen = e.payFen;
var o = this.node.getChildByName("mgr");
if (5 == cc.vv.roomMgr.ren) {
i = o.getChildByName("desktop").getChildByName("bipai_bg_5");
t = o.getChildByName("desktop").getChildByName("show_bipai_5");
} else {
i = o.getChildByName("desktop").getChildByName("bipai_bg");
t = o.getChildByName("desktop").getChildByName("show_bipai");
}
t.active = !1;
i.active = !1;
this.nodeCard.removeAllChildren();
this.node.getChildByName("mgr").getChildByName("desktop").getChildByName("bipai_chis_tips").removeAllChildren();
var h = this.node.getChildByName("mgr").getChildByName("desktop").getChildByName("pk_action");
this.node.getChildByName("mgr").getChildByName("pk_user").active = !1;
h.active = !1;
h.getComponent(cc.Animation).stop();
this._lookcard_time = !0;
this._ischonglian = !0;
this.node.getChildByName("mgr").getChildByName("ready").active = !1;
},
stage: function(e) {
var i = this;
this.node.getChildByName("pop").removeAllChildren();
if (null != e.ready && !this._senceDestroy) {
if (1 != e.ready) {
this.desc = e.stage_param;
this.desc && (this.desc.fengKuang = e.fengKuang);
var t = this.new_real();
this._my_isin_game = !1;
this.new_round();
this.stage_init(e);
this.beginFen(e, 1);
97 == e.stage && 4 == e.ready || this.deal_fapai(0, 3, e, function(e, i) {});
e.nowFen != e.nowDizhu * t && (this.isfapa_in = !1);
for (var a = 0; a < e.tuoGuan.length; a++) {
0 == cc.vv.roomMgr.viewChairID(a) && 1 == e.tuoGuan[a] && this.tuoguan(1);
}
this.kanpai_1(e.nowKanPai, 1);
99 != e.nowOpera && this.thisStart(e.nowOpera, 1, e.time);
if (97 == e.stage || 4 == e.stage) {
this.node.getChildByName("btn_tuoguan").active = !1;
97 == e.stage && 4 == e.ready || this.kaipai(e);
} else {
this.watch_game() || this.showcard_type(e.type);
}
var n = e.bi, s = e.qi;
this.qipai(e.qi, 1);
97 == e.stage && 4 == e.stage || this.qipai_lost(s);
97 == e.stage || 4 == e.stage || setTimeout(function() {
i.bipai_lost(n);
}, 300);
this.stage_tuoguan(e);
}
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.stage = e;
this.nowLun = e.nowLun;
cc.vv.roomMgr.now = e.nowRound;
}
},
stage_tuoguan: function(e) {
for (var i = 0; i < e.bi.length; i++) if (1 == e.bi[i]) {
0 == cc.vv.roomMgr.viewChairID(i) && (this.node.getChildByName("btn_tuoguan").active = !1);
}
for (i = 0; i < e.qi.length; i++) if (1 == e.qi[i]) {
0 == cc.vv.roomMgr.viewChairID(i) && (this.node.getChildByName("btn_tuoguan").active = !1);
}
},
jiesuan_cardtyoe: function(e) {
for (var i = 0, t = cc.vv.roomMgr.table.list, a = 0; a < t.length; a++) 0 != t[a].userid && i++;
var n = this.nodeJiesuan.getChildByName("list"), s = -1, c = !0, o = [], h = 0, r = 0;
for (a = 0; a < e.length; a++) {
var l = cc.vv.roomMgr.viewChairID(e[a].seatId);
r++;
if (0 != l && c) o.push(e[a].seatId); else {
c = !1;
s++;
(p = n.getChildByName("item" + s).getChildByName("cardtype")).active = !0;
for (var d = 0; d < e[a].pais.length; d++) p.getChildByName("card_" + (d + 1)).getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getYSZPokerSpriteFrame(this.poKerminAtlas, e[a].pais[d]);
}
if (s >= 0) for (var g = 0; g < i - 2; g++) {
var u = 0, _ = !1;
(h = e[a].seatId + g + 1) >= i && (h -= i);
for (d = 0; d < e.length; d++) {
h != e[d].seatId ? u++ : _ = !0;
u == e.length && s++;
}
if (_) break;
}
if (r == e.length) for (var v = 0; v < o.length; ++v) {
s++;
var p;
(p = n.getChildByName("item" + s).getChildByName("cardtype")).active = !0;
for (d = 0; d < e[v].pais.length; d++) p.getChildByName("card_" + (d + 1)).getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getYSZPokerSpriteFrame(this.poKerminAtlas, e[v].pais[d]);
}
}
},
qipai_lost: function(e) {
if (!this.isfapa_in) for (var i = this.node.getChildByName("mgr").getChildByName("desktop"), t = i.getChildByName("user_tips"), a = i.getChildByName("look_card"), n = 0; n < e.length; n++) {
var s = cc.vv.roomMgr.viewChairID(n);
if (1 == e[n]) {
0 == s ? a.active = !1 : cc.vv.utils.getChildByTag(t, s).active = !1;
for (var c = 0; c < 3; c++) if (0 == s && this.isFanPai) {
cc.vv.utils.getChildByTag(this.nodeCard, s + "_" + c).getChildByName("card").getComponent(cc.Button).interactable = !1;
}
}
}
},
bipai_lost: function(e) {
if (!this.isfapa_in) for (var i = this.node.getChildByName("mgr").getChildByName("desktop"), t = i.getChildByName("user_tips"), a = i.getChildByName("look_card"), n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], s = 0; s < e.length; s++) {
var c = cc.vv.roomMgr.viewChairID(s);
if (1 == e[s]) {
if (0 == c) {
a.active = !1;
i.getChildByName("bipai_lost").active = !0;
} else {
var o = cc.vv.roomMgr.viewChairID(s), h = new cc.Node("bipai_win_lost");
h.myTag = o;
h.addComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("bipai_lose");
t.addChild(h);
h.x = o >= 4 || 0 == o ? n[o].x + 110 : n[o].x - 110;
h.y = n[o].y - 35;
if (5 == cc.vv.roomMgr.ren) {
h.x = 1 != o ? n[o].x + 150 : n[o].x - 150;
h.y = n[o].y - 50;
}
0 == o && (5 == cc.vv.roomMgr.ren ? h.x = h.x + 290 : h.x = h.x + 330);
}
this._qipai_list.push(s);
for (var r = 0; r < 3 && (0 != c || !this.isFanPai); r++) {
cc.vv.utils.getChildByTag(this.nodeCard, c + "_" + r).getChildByName("card").getComponent(cc.Button).interactable = !1;
}
}
}
},
replay_deal_fapai: function(e, i, t, a) {
for (var n = 0, s = cc.vv.roomMgr.table.list, c = 0; c < s.length; c++) 0 != s[c].userid && n++;
if (cc.vv.roomMgr.is_replay) for (c = 0; c < n; c++) {
var o = cc.vv.roomMgr.viewChairID(c);
cc.vv.utils.getChildByTag(this._winPlayer, o).getChildByName("ready").active = !1;
}
var h = this, r = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], l = [], d = [], g = [];
for (s = cc.vv.roomMgr.table.list, c = 0; c < t.hand.length; c++) {
var u = t.hand[c].pais;
if (0 == s[c].sitStatus) for (var _ = cc.vv.roomMgr.viewChairID(t.hand[c].seatId), v = 0, p = r[_].pos.card, m = e; m < i; m++) {
v = u[m];
var f = {
obj: h,
viewid: _,
index: m,
time: m,
atlas: h.pokerAtlas,
value: v,
x: p.x + m * r[_].distance,
y: p.y,
scale: p.scale,
callback: a
}, y = {
obj: h,
viewid: _,
index: m,
time: m,
atlas: h.pokerAtlas,
value: v,
x: p.x + m * r[_].distance,
y: p.y,
scale: p.scale,
callback: a
};
(w = cc.instantiate(this.pokerPrefab)).getComponent("YSZPoker").node.scale = .8;
d.push(y);
g.push(f);
l.push(w);
this.nodeCard.addChild(w);
w.myTag = f.viewid + "_" + f.index;
}
}
for (var C = g.length, b = (a = function(e, i) {
if (0 == e && 2 == i) for (var t = 0; t < C; t++) {
var a = g[t];
l[t].zIndex = t;
0 != a.value && h.send_card_emit(a.viewid, a.index, "show", a);
}
}, 0); b < C; b++) {
var w;
(w = l[b]).zIndex = C - b;
var x = d[b];
x.value = 0;
n <= 5 && (x.time = b);
x.callback = a;
w.emit("fapai", x);
}
},
deal_fapai: function(e, i, t, a) {
this.isfapa_in = !0;
for (var n = 0, s = cc.vv.roomMgr.table.list, c = 0; c < s.length; c++) 0 != s[c].userid && n++;
n = cc.vv.roomMgr.ren;
for (var o = this, h = t.hand, r = t, l = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], d = [], g = [], u = [], _ = (s = cc.vv.roomMgr.table.list, 
e); _ < i; _++) for (c = 0; c < n; ++c) if (0 == s[c].sitStatus) {
var v = cc.vv.roomMgr.viewChairID(c), p = 0, m = l[v].pos.card;
l[v].scale;
if (0 == v) {
p = h[_];
4 == t.stage && h[c] && (p = h[c].pais[_]);
}
t.stage;
var f = {
obj: o,
viewid: v,
index: _,
time: _,
atlas: o.pokerAtlas,
value: p,
x: m.x + _ * l[v].distance,
y: m.y,
scale: m.scale,
callback: a
}, y = {
obj: o,
viewid: v,
index: _,
time: _,
atlas: o.pokerAtlas,
value: p,
x: m.x + _ * l[v].distance,
y: m.y,
scale: m.scale,
callback: a
}, C = this.watch_game(), b = (z = cc.instantiate(this.pokerPrefab)).getComponent("YSZPoker");
b.zIndex = -e;
b.node.scale = .8;
g.push(y);
u.push(f);
d.push(z);
0 == v && this.isFanPai && !C && (z.getChildByName("card").getComponent(cc.Sprite).spriteFrame = cc.vv.utils.getPokerSpriteFrame(f.atlas, f.value));
this.nodeCard.addChild(z);
z.myTag = f.viewid + "_" + f.index;
}
for (var w = u.length, x = (a = function(e, i) {
if (0 == e && 2 == i) for (var t = 0; t < w; t++) {
var a = u[t];
d[t];
0 != a.value && (97 == r.stage || 0 == e ? o.send_card_emit(a.viewid, a.index, "show", a) : o.send_card_emit(a.viewid, a.index, "trun", a));
}
}, 0); x < w; x++) {
var z = d[x], k = g[x];
k.value = 0;
n <= 5 && 97 != r.stage && (k.time = x);
k.callback = a;
this._ischonglian ? z.emit("fapai_zeor", k) : z.emit("fapai", k);
}
},
tip: function(e) {},
play_ysz_mp3: function(e, i, t) {
if (cc.vv.roomMgr.table) {
var a = cc.vv.roomMgr.table.list[e].sex;
if (null != t) {
var n = "ysz/" + i;
cc.vv.audioMgr.playSFX(n);
} else {
"1" != a && "2" != a && (a = "1");
n = "ysz/" + a + "/" + i;
cc.vv.audioMgr.playSFX(n);
}
}
},
send_card_emit: function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeCard, n);
s && s.emit(t, a);
},
fanpaiClick: function(e) {
if (!this.isFanPai && !this._senceDestroy) {
this.node.getChildByName("btn_tuoguan").active = !0;
var i = this.node.getChildByName("mgr").getChildByName("option");
i.active = !0;
var t = (l = this.node.getChildByName("mgr")).getChildByName("desktop"), a = l.getChildByName("jiazhu"), n = t.getChildByName("look_card"), s = t.getChildByName("card_type");
a.active = !1;
var c = cc.vv.roomMgr.viewChairID(this._thisStart), o = i.getChildByName("bipai");
if (0 == e.canBi) {
o.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("btn_hui");
o.getComponent(cc.Button).interactable = !1;
o.getChildByName("bp").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("not_bipai");
o.getChildByName("Label").getComponent(cc.Label).font = this.hui_beishuFont;
} else {
o.getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("btn_lv");
o.getComponent(cc.Button).interactable = !0;
o.getChildByName("bp").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("yes_bipai");
o.getChildByName("Label").getComponent(cc.Label).font = this.beishuFont;
}
if (null != this.nowDiZhu) {
var h = l.getChildByName("option").getChildByName("genzhu");
h.getChildByName("Label").getComponent(cc.Label).string = 2 * this.nowDiZhu;
this.node.getChildByName("btn_tuoguan").getChildByName("tpschip").getComponent(cc.Label).string = 2 * this.nowDiZhu;
if (2 * this.nowDiZhu >= 1e3) {
var r = 2 * this.nowDiZhu / 1e3;
h.getChildByName("Label").getComponent(cc.Label).string = r + "K";
}
}
if (0 == c) {
var l = this.node.getChildByName("mgr");
cc.vv.roomMgr.is_replay && (l.getChildByName("option").active = !1);
l.getChildByName("bipai").active = !1;
l.getChildByName("desktop").getChildByName("bipai_list").active = !1;
for (var d = l.getChildByName("desktop").getChildByName("bipai_bg"), g = l.getChildByName("desktop").getChildByName("show_bipai"), u = 1; u < g.childrenCount; u++) {
g.getChildByName("action_" + u).getComponent(cc.Animation).stop();
}
g.active = !1;
d.active = !1;
}
s.active = !0;
this._ownPokerType = parseInt(e.type);
if (cc.vv.roomMgr && 1 == cc.vv.roomMgr.param.sCompareT) if (70 == e.type) {
s.getChildByName("card_type").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("cardtype_60");
this.play_ysz_mp3(e.seatId, "cardtype_60");
} else if (60 == e.type) {
s.getChildByName("card_type").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("cardtype_70");
this.play_ysz_mp3(e.seatId, "cardtype_70");
} else {
s.getChildByName("card_type").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("cardtype_" + e.type);
10 == e.type && 1 == e.is235 ? this.play_ysz_mp3(e.seatId, "cardtype_235") : this.play_ysz_mp3(e.seatId, "cardtype_" + e.type);
} else {
s.getChildByName("card_type").getComponent(cc.Sprite).spriteFrame = this.ysz_Game_Atlas.getSpriteFrame("cardtype_" + e.type);
10 == e.type && 1 == e.is235 ? this.play_ysz_mp3(e.seatId, "cardtype_235") : this.play_ysz_mp3(e.seatId, "cardtype_" + e.type);
}
n.active = !1;
this.isFanPai = !0;
for (u = 0; u < 3; ++u) {
var _ = {
viewid: 0,
obj: this,
type: 0,
index: u,
atlas: this.pokerAtlas,
value: e.hand[u]
};
this.send_card_emit(0, u, "trun", _);
}
}
},
fanpai: function(e) {
for (var i = this, t = function(e, t, a, n) {
i.show_jiaobiao(t);
}, a = 0; a < 5; ++a) {
var n = {
viewid: 0,
obj: this,
type: 0,
index: a,
atlas: i.pokerAtlas,
value: e.pai[a],
callback: t
};
i.send_card_emit(0, a, "trun", n);
}
},
show_jiaobiao: function(e) {
if (1 == this._wanfa) this.send_card_emit(e, 4, "setType", 2); else if (2 == this._wanfa) {
this.send_card_emit(e, 3, "setType", 1);
this.send_card_emit(e, 4, "setType", 2);
}
},
playBetByXY: function(e, i, t, a, n, s, c) {
for (var o = 0; o < s; o++) {
var h = new cc.Node("getMoneyNode");
h.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
h.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var r = cc.v2(a, n), l = cc.moveTo(.1 * o + 1, r);
l.easing(cc.easeQuinticActionOut());
e.addChild(h);
o == s - 1 ? h.runAction(cc.sequence(l, c, cc.removeSelf())) : h.runAction(cc.sequence(l, cc.removeSelf()));
}
},
getVectorRadians: function(e, i) {
var t = t = Math.abs(e) / Math.abs(i), a = 0;
e > 0 && i < 0 ? a = 180 * Math.atan(t) / Math.PI - 90 : e > 0 && i > 0 ? a = 90 - 180 * Math.atan(t) / Math.PI : e < 0 && i < 0 ? a = 180 * -Math.atan(t) / Math.PI - 90 : e < 0 && i > 0 && (a = 180 * Math.atan(t) / Math.PI + 90);
return a;
},
userChipFunc: function(e, i) {
var t = this;
function a(e, i, a) {
for (var n = 0; n < a; n++) t.use_chip(e, i);
}
for (var n = this._chip_list.length - 1; n >= 0; n--) {
var s = parseInt(e / this._chip_list[n - 0]);
if (0 != s) {
e = e - s * this._chip_list[n - 0];
a(this._chip_list[n - 0], i, s);
}
}
},
userStaticChipFunc: function(e) {
var i = this;
function t(e, t) {
for (var a = 0; a < t; a++) i.static_chip(e);
}
for (var a = this._chip_list.length - 1; a >= 0; a--) {
var n = parseInt(e / this._chip_list[a - 0]);
if (0 != n) {
e = e - n * this._chip_list[a - 0];
t(this._chip_list[a - 0], n);
}
}
},
onDestroy: function() {
this._senceDestroy = !0;
cc.loader.setAutoRelease(this, !0);
}
});
cc._RF.pop();
}, {
YSZ2300Const: "YSZ2300Const",
YSZ2300ReplayMgr: "YSZ2300ReplayMgr"
} ],
YSZ2300Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "4aadfgocR9OrZMC9hF2+vsW", "YSZ2300Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doFapai: function(e, i) {
e.length;
for (var t = 0; t < 1; t++) {
cc.vv.roomMgr.param.wanfa, cc.vv.roomMgr.viewChairID(i);
this.dispatchEvent("fapai_1", {
data: {
hand: e.hand
}
});
}
},
room_pwb_change: function(e) {
this.dispatchEvent("room_pwb_change", {
data: e
});
},
beginFen: function(e) {
this.dispatchEvent("beginFen", {
data: e
});
},
genZhu: function(e) {
this.dispatchEvent("genZhu", {
data: e
});
},
jiaZhu: function(e) {
this.dispatchEvent("jiaZhu", {
data: e
});
},
bipai: function(e) {
this.dispatchEvent("bipai", {
data: e
});
},
cheat: function(e) {
this.dispatchEvent("cheat", {
data: e
});
},
kanpai_1: function(e) {
this.dispatchEvent("kanpai_1", {
data: e
});
},
gameEndKaiPai: function(e) {
this.dispatchEvent("kaipai", {
data: e
});
},
qipai: function(e) {
this.dispatchEvent("qipai", {
data: e
});
},
pushLun: function(e) {
this.dispatchEvent("pushLun", {
data: e
});
},
replay_deal_fapai: function(e) {
this.dispatchEvent("replay_deal_fapai", {
data: e
});
},
doXiaZhu: function(e) {
for (var i = e.length, t = 0; t < i; t++) 0 != e[t] && this.dispatchEvent("xiazhu", {
data: {
seatid: t,
power: e[t]
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
0 == cc.vv.roomMgr.viewChairID(t) && this.dispatchEvent("fanpai", {
data: {
seatid: t,
pai: e[t]
}
});
}
}
});
cc._RF.pop();
}, {} ],
YSZ2300ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "9e26899Ud9I06RpRCP+aYG+", "YSZ2300ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.yszMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
return this._actionRecords[this._currentIndex++];
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if (e.init_score) {
for (var i = e.init_score, t = 0; t < i.length; ++t) {
cc.vv.roomMgr.table.list[t].score = i[t].score;
var a = cc.vv.roomMgr.getSeatIndexByID(e.init_score[t].user_id), n = cc.vv.roomMgr.viewChairID(a);
cc.vv.yszMgr.node.getComponent("Table").seat_emit(n, "score", e.init_score[t].score);
}
return .5;
}
if (null != e.hand && 2 == this._currentIndex) {
cc.vv.yszMgr.replay_deal_fapai(e, this._currentIndex);
return 2;
}
if ("fapai" == e.opera) {
cc.vv.yszMgr.beginFen(e);
return 1.3;
}
if ("genzhu" == e.opera) {
cc.vv.yszMgr.genZhu(e);
return 1.3;
}
if ("jiazhu" == e.opera) {
cc.vv.yszMgr.jiaZhu(e);
return 1.3;
}
if ("bipai" == e.opera) {
cc.vv.yszMgr.bipai(e);
return .9 == cc.vv.utils.numFormat(cc.vv.replayMgr.speed) ? 3.3 : .8 == cc.vv.utils.numFormat(cc.vv.replayMgr.speed) ? 3.8 : .7 == cc.vv.utils.numFormat(cc.vv.replayMgr.speed) ? 4.2 : 3;
}
if ("pushLun" == e.opera) {
cc.vv.yszMgr.pushLun(e);
return .5;
}
if ("kanpai" == e.opera) {
cc.vv.yszMgr.kanpai_1(e);
return 1.3;
}
if ("qipai" == e.opera) {
cc.vv.yszMgr.qipai(e);
return 1.3;
}
if ("cheat" == e.opera) {
cc.vv.yszMgr.qipai(e);
return 1.3;
}
if ("gameEndKaiPai" == e.opera) {
cc.vv.yszMgr.gameEndKaiPai(e);
return 2.4;
}
if ("changePwb" == e.opera) {
cc.vv.yszMgr.room_pwb_change(e);
return .5;
}
return .5;
}
});
cc._RF.pop();
}, {} ],
YSZPoker: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "59ca9fHWyhPmqCji6Ya9EwE", "YSZPoker");
cc.Class({
extends: cc.Component,
properties: {
card: cc.Sprite,
type: cc.Node,
_value: 255,
_select: 0,
type_four: cc.SpriteFrame,
type_five: cc.SpriteFrame
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("fapai", function(i) {
e.fapai(i);
});
this.node.on("fapai_zeor", function(i) {
e.fapai_zeor(i);
});
this.node.on("trun", function(i) {
e.trun(i);
});
this.node.on("kaipai", function(i) {
e._value = i.value;
e.trun(i);
});
this.node.on("show", function(i) {
e.show(i);
});
this.node.on("top", function() {
e.top();
});
this.node.on("shousuo", function(i) {
e.shousuo(i);
});
this.node.on("setType", function(i) {
e.setType(i);
});
},
fapai: function(e) {
var i = this, t = 0;
t = e.time ? cc.vv.roomMgr.real <= 5 ? .1 * e.time : .2 * e.time : .1 * e.index;
null != e.puas && (t += .1);
i.node.runAction(cc.sequence(cc.delayTime(t), cc.callFunc(function() {
if (0 != e.value) {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}
e.iscuopai || cc.vv.audioMgr.playSFX("nn/flop");
}), cc.spawn(cc.moveTo(.15, cc.v2(e.x, e.y)), cc.scaleTo(.15, e.scale)), cc.delayTime(.1), cc.callFunc(function() {
null != e.callback && e.callback(e.viewid, e.index);
}, this)));
},
fapai_zeor: function(e) {
var i = this;
i.node.runAction(cc.sequence(cc.callFunc(function() {
if (0 != e.value) {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}
e.iscuopai || cc.vv.audioMgr.playSFX("nn/flop");
}), cc.spawn(cc.moveTo(0, cc.v2(e.x, e.y)), cc.scaleTo(0, e.scale)), cc.callFunc(function() {
null != e.callback && e.callback(e.viewid, e.index);
}, this)));
},
shousuo: function(e) {
this.node.runAction(cc.sequence(cc.delayTime(.5), cc.spawn(cc.moveTo(.25, cc.v2(e.x, e.y)), cc.scaleTo(.25, e.scale)), cc.delayTime(.1), cc.callFunc(function() {
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type, e.rate, e.pai);
}, this)));
},
show: function(e) {
if (255 == this._value) {
this.node.scale;
this.card.interactable = !0;
var i = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
this.card.spriteFrame = i;
this._value = e.value;
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type);
}
},
top: function() {
this.node.y += 10;
},
trun: function(e) {
var i = this, t = i.node.scale;
i.node.runAction(cc.sequence(cc.scaleTo(.15, 0, t), cc.callFunc(function() {
i.card.interactable = !0;
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}, i), cc.scaleTo(.15, t, t), cc.callFunc(function() {
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type, e.rate, e.pai);
})));
},
onPaiClicked: function() {
cc.vv.audioMgr.click();
this._select = 1 == this._select ? 0 : 1;
this.node.y = 0 == this._select ? 0 : 20;
},
isSelect: function() {
return this._select;
},
setEnabled: function(e) {
var i = this.node.getComponent(cc.Button);
i || (i = this.node.addComponent(cc.Button));
e ? i.node.on("click", this.onPaiClicked, this) : this.node.removeComponent(cc.Button);
},
setSelect: function(e) {
this._select = e;
this.node.y = 0 == this._select ? 0 : 20;
},
setValue: function(e) {
this._value = e;
},
getValue: function() {
return this._value;
},
setType: function(e) {
if (1 == e) {
this.type.active = !0;
this.type.getComponent(cc.Sprite).spriteFrame = this.type_four;
} else if (2 == e) {
this.type.active = !0;
this.type.getComponent(cc.Sprite).spriteFrame = this.type_five;
} else this.type.active = !1;
}
});
cc._RF.pop();
}, {} ],
ZGZ3300Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "5721aZ/5qdK8pSp94EdhpV7", "ZGZ3300Const");
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -600,
y: -30,
scale: 1,
pos: {
score: {
x: -445,
y: -45
},
tip: {
x: 0,
y: 50
},
fold: {
x: 0,
y: -44
},
time: {
x: 0,
y: 0
},
zhuafen: {
x: -500,
y: -42
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -45,
y: -495,
scale: 2.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 600,
y: 144,
scale: .8,
pos: {
score: {
x: 445,
y: 125
},
tip: {
x: 340,
y: 61
},
fold: {
x: 552,
y: 99
},
time: {
x: 478,
y: 107
},
zhuafen: {
x: 490,
y: 191
},
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -314,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -168,
y: 267,
scale: .8,
pos: {
score: {
x: -38,
y: 325
},
tip: {
x: 0,
y: 200
},
fold: {
x: -135,
y: 233
},
time: {
x: -69,
y: 225
},
zhuafen: {
x: -66,
y: 305
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 400,
y: -84,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -600,
y: 144,
scale: .8,
pos: {
score: {
x: -445,
y: 125
},
tip: {
x: -340,
y: 67
},
fold: {
x: -552,
y: 99
},
time: {
x: -478,
y: 107
},
zhuafen: {
x: -500,
y: 192
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -430,
y: -84,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
player5: [ {
x: -600,
y: -250,
distance: 110,
toright: 220,
scale: 1.1,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -270,
y: -275,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 600,
y: 50,
distance: 50,
toright: 60,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 400,
y: -70,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 327,
y: 251,
distance: 50,
toright: 80,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: 154,
y: 253,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: -327,
y: 251,
distance: 50,
toright: 80,
scale: .8,
pos: {
ready: {
x: -95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -227,
y: 221,
scale: .8
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -600,
y: 50,
distance: 50,
toright: 60,
scale: .8,
pos: {
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -502,
y: -70,
scale: .8
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
alarmpos: [ {
x: 0,
y: 0
}, {
x: 507,
y: 46
}, {
x: 225,
y: 132
}, {
x: -225,
y: 132
}, {
x: -507,
y: 46
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
selfPoke5: {
x: -200,
y: -250,
distance: 50,
scale: 1
},
default_bg: "public/table/game_bg_dq"
}
});
cc._RF.pop();
}, {} ],
ZGZ3300Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "eecb1SSZRhI35xa4g9RpRKk", "ZGZ3300Game");
var a;
function n(e, i, t) {
i in e ? Object.defineProperty(e, i, {
value: t,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[i] = t;
return e;
}
var s = [ {
x: -520,
y: -140
}, {
x: 360,
y: 46
}, {
x: 225,
y: 132
}, {
x: -225,
y: 132
}, {
x: -360,
y: 46
} ], c = {
1: "wh",
2: "gu1",
3: "h3"
}, o = {
3: "s4",
19: "s2",
35: "s1",
51: "s3"
}, h = {
1: "meihua",
2: "zhagu"
};
cc.Class((n(a = {
extends: cc.Component,
editor: {
executionOrder: -1
},
properties: {
_winPlayer: cc.Node,
nodeCard: cc.Node,
nodeJiesuan: cc.Node,
nodeReport: cc.Node,
pokerPrefab: cc.Prefab,
othercards: cc.Node,
showSuit: cc.Node,
zhaGu: cc.Node,
zhaGuToggle: [ cc.Node ],
opts: cc.Node,
poker1Atlas: {
default: null,
type: cc.SpriteAtlas
},
poker2Atlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAltas: {
default: null,
type: cc.SpriteAtlas
},
btnAltas: {
default: null,
type: cc.SpriteAtlas
},
tipAltas: {
default: null,
type: cc.SpriteAtlas
},
gamebegin: cc.Node,
sprTip: cc.Sprite,
waitclock: cc.Node,
othterfolds: cc.Node,
gaipaiTip: cc.Node,
shadow: cc.Node,
zhuafenNode: cc.Node,
pokerDoneNode: cc.Node,
tablefen: cc.Node,
difen: cc.Label,
gameType: cc.Label,
spine1: cc.Node,
spine2: cc.Node,
tips: cc.Node,
bignumlos: cc.BitmapFont,
bignumwin: cc.BitmapFont,
animationNode: cc.Node,
reportItemPrefab: cc.Prefab,
_senceDestroy: !1,
_tipIndex: 0,
_noChoise: !0,
_turn: 1,
_idx: 0
},
onLoad: function() {
var i = e("ZGZ3300Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "zgz",
hide_nothing_seat: !1,
direct_begin: !1,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_5: i.player5,
selfPoke_5: i.selfPoke5,
set_bg: !0,
location: !1,
show_watch_btn: !1,
default_bg: i.default_bg
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.new_round();
this.initEventHandlers();
this.btn_tishi = this.opts.getChildByName("btn_tishi");
this.btn_chupai = this.opts.getChildByName("btn_chupai");
this.timepoint = this.opts.getChildByName("timepoint").getComponentInChildren(cc.Label);
this.btn_buchu = this.opts.getChildByName("btn_buchu");
this.ske = this.spine1.getComponent(sp.Skeleton);
this.ske2 = this.spine2.getComponent(sp.Skeleton);
this.noMove = !0;
this.tishipai = [];
this.anim = this.animationNode.getComponent(cc.Animation);
this.anim.on("finished", this.onFinished, this);
},
onFinished: function() {
this.animationNode.active = !1;
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
this.nodeCard.on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
this.nodeCard.on(cc.Node.EventType.TOUCH_END, this.touchend, this);
cc.vv.zgzMgr = this.node.getComponent("ZGZ3300Mgr");
var t = e("ZGZ3300ReplayMgr");
cc.vv.replayMgr = new t();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.zgzMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
initEventHandlers: function() {
var e = this;
this.node.on("param", function(i) {
e.param(i.data);
}), this.node.on("ready", function(i) {
e.ready(i.data);
}), this.node.on("begin", function(e) {}), this.node.on("fapai", function(i) {
var t = i.data.pai;
e.begin();
e.fapai(t);
}), this.node.on("paiXu", function(i) {
e.sortCard(i.data.list);
});
this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
}), this.node.on("report", function(i) {
if (-1 != i.errcode) {
cc.vv.popMgr.hide();
e.report(i.data);
} else e.nodeJiesuan.active = !1;
}), this.node.on("stage", function(i) {
e.stage(i.data);
}), this.node.on("chupai", function(i) {
-1 != i.errcode ? e.chupai(i.data) : cc.vv.popMgr.tip(i.errmsg);
}), this.node.on("operate", function(i) {
e.operate(i.data);
}), this.node.on("action", function(i) {
e.robMain(i.data);
});
this.node.on("sanAction", function(i) {
e.sanAction(i.data);
});
this.node.on("userHand", function(i) {
e.userHand(i.data);
});
this.node.on("error", function(e) {
cc.vv.popMgr.tip(e.errmsg);
});
this.node.on("tip", function(i) {
e.tishipai = i.data.pai;
});
this.node.on("showClock", function(i) {
e.showClock(i.seatid);
}), this.node.on("setZhuaFen", function(i) {
e.setZhuaFen(i);
}), cc.game.on(cc.game.EVENT_SHOW, function() {
!cc.vv.roomMgr.is_replay && cc.vv.net2.isConnectd() && cc.vv.popMgr.wait("正在恢复桌面", function() {
setTimeout(function() {
cc.vv.net2.quick("stage");
e.new_round();
}, 500);
});
});
},
isInRect: function(e) {
for (var i = this.nodeCard.childrenCount - 1; i >= 0; --i) {
var t = this.nodeCard.children[i], a = t.getBoundingBoxToWorld(), n = t.getChildByName("button");
if (a.contains(e) && !n.active) {
t.getComponent("ZGZPoker").setMove(1);
t.isChiose = !0;
return t;
}
}
return null;
},
setAllCardUnSelected: function() {
for (var e = 0; e < this.nodeCard.childrenCount; e++) {
var i = this.nodeCard.children[e].getComponent("ZGZPoker");
this.selectCard(i, 0);
}
},
selectCard: function(e, i) {
e.setSelect(i);
},
getSelectPaiList: function(e) {
for (var i = [], t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t];
a.getComponent("ZGZPoker").isSelect() == e && i.push(a);
}
return i;
},
touchstart: function(e) {
e.stopPropagation();
var i = e.getLocation();
if (this.isInRect(i)) return !0;
if (this.getSelectPaiList(1).length > 0) {
this._noChoise = !this._noChoise;
this._noChoise && this.setAllCardUnSelected();
}
return !1;
},
touchmove: function(e) {
e.stopPropagation();
var i = e.getLocation();
this.isInRect(i);
},
touchend: function(e) {
for (var i = 0, t = [], a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (n.isChiose) {
i++;
var s = n.getComponent("ZGZPoker");
s.setMove(0);
this.selectCard(s, s.isSelect() ? 0 : 1);
n.isChiose = !1;
1 == s.isSelect() && t.push({
value: n.value % 16,
node: n
});
}
}
i > 0 && cc.vv.audioMgr.click();
},
new_round: function() {
if (!this._senceDestroy) {
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
this.nodeCard.removeAllChildren();
this.othercards.active = !1;
this.opts.active = !1;
this.hideTips();
this.clearAllPoker();
this.clearZhaGu();
this.hidePokerDone();
this.clearShowSuit();
this.clearShowPais();
this.waitclock.active = !1;
this.gamebegin.active = !1;
this.isBegin = !1;
cc.vv.roomMgr.stage = null;
this.difen.string = 0;
this._turn = 1;
this.sprTip.node.active = !1;
this.mainValue = -1;
this.gamestate = "";
this._idx = 0;
this.mainColor = 99;
this.gaipaiTip.active = !1;
this.tishipai = [];
this.hand = null;
}
},
hideTips: function() {
for (var e = 0; e < this.tips.childrenCount; e++) {
this.tips.children[e].active = !1;
}
},
begin: function() {},
param: function(e) {
this._fangzhu = e.fangzhu;
},
ready: function(e) {
e.seatid == cc.vv.roomMgr.seatid && this.new_round();
}
}, "begin", function() {
this.isBegin || cc.vv.audioMgr.playSFX("ddz/game_begin");
}), n(a, "clearAllPoker", function() {
for (var e = 0; e < this.othterfolds.childrenCount; e++) this.othterfolds.children[e].removeAllChildren();
}), n(a, "clearPoker", function(e) {
this.othterfolds.children[e].removeAllChildren();
}), n(a, "fapai", function(e) {
this.isBegin = !0;
var i = this;
this.tip(null);
this.hideTips();
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.deal_fapai(0, e.length, e, function(t) {
if (!(t < e.length - 1)) {
var a = i;
i.showPoker(e, function(i) {
i == e.length - 1 && a.refreshHandCards();
});
}
});
this.zhuafenNode.active = !0;
this.othercards.active = !0;
this.showSuit.active = !0;
if (!cc.vv.roomMgr.stage) for (var t = 0; t < 4; t++) {
var a = this.othercards.children[t];
a && (a.getComponent(cc.Label).string = "剩余牌10");
}
}), n(a, "refreshHandCards", function() {
var e = this.nodeCard.childrenCount;
if (0 != e) {
var i = parseInt((e - 1) / 2);
this.nodeCard.children[i].x = 0;
for (var t = i + 1; t < e; t++) this.nodeCard.children[t].x = 0 + 65 * (t - i);
for (t = i - 1; t >= 0; t--) this.nodeCard.children[t].x = 65 * (t - i) + 0;
}
}), n(a, "showPoker", function(e, i) {
for (var t = 0; t < this.nodeCard.childrenCount; ++t) {
var a = this.nodeCard.children[t], n = {
index: t,
atlas: this.poker1Atlas,
value: e[t],
callback: i
};
a.emit("flip", n);
}
}), n(a, "deal_fapai", function(e, i, t, a) {
this.nodeCard.removeAllChildren();
for (var n = cc.vv.roomMgr.param.xipai, s = e; s < i; s++) {
var c = cc.instantiate(this.pokerPrefab);
c.myTag = s;
this.nodeCard.addChild(c);
c.y = 300;
var o = {
index: s,
atlas: this.poker1Atlas,
value: t[s],
callback: a,
xipai: n
};
if (cc.vv.roomMgr.stage) {
c.y = 0;
c.x = 55 * s - 290;
if (0 != t[s]) {
var h = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, t[s]);
c.getChildByName("card").getComponent(cc.Sprite).spriteFrame = h;
c.getComponent("ZGZPoker").setValue(t[s]);
c.value = t[s];
s == i - 1 && this.refreshHandCards();
}
} else c.emit("fapai", o);
}
}), n(a, "fapai2", function(e) {
this.isBegin = !0;
20 != e.length && 25 != e.length || (this.hand = e);
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this.unschedule(this.newPoker);
this.nodeCard.removeAllChildren();
this.nodeCard.width = 2e3;
this.nodeCard.getComponent(cc.Layout).enabled = !1;
this.deal_fapai(e);
}), n(a, "newPoker", function() {
if (this.nodeCard.childrenCount >= this.hand.length) {
this.nodeCard.getComponent(cc.Layout).enabled = !1;
this.nodeCard.width = 2e3;
this._idx = 0;
} else {
var e = this.hand[this._idx++], i = cc.instantiate(this.pokerPrefab), t = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, e);
i.getChildByName("card").getComponent(cc.Sprite).spriteFrame = t;
i.value = e;
this.nodeCard.addChild(i);
for (var a = [], n = 0; n < this.nodeCard.childrenCount; n++) {
i = this.nodeCard.children[n];
a.push(i.value);
}
}
}), n(a, "tip", function(e) {
if (null != e) {
this.sprTip.spriteFrame = this.tipAltas.getSpriteFrame(e);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
}), n(a, "tip2", function(e, i) {
var t = this.tips.children[e];
if (null != i) {
t.getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame(i);
t.active = !0;
} else t.active = !1;
}), n(a, "robMain", function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.unschedule(this.otherTimeUpdate);
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 12;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = s[i].x;
this.waitclock.y = s[i].y;
var t = this.sanHong ? "waitLiang3" : "waitLiang32";
if (cc.vv.roomMgr.seatid == e.seatid) {
this.clearZhaGu();
this.tip(null);
this.actionData = e.list;
this.zhaGu.active = !0;
var a = !0, n = !1, c = void 0;
try {
for (var o, h = e.button[Symbol.iterator](); !(a = (o = h.next()).done); a = !0) {
var r = o.value, l = this.zhaGu.getChildByName("btn_" + r);
l && (l.active = !0);
}
} catch (e) {
n = !0;
c = e;
} finally {
try {
!a && h.return && h.return();
} finally {
if (n) throw c;
}
}
if (0 == e.list.length) return;
var d = !0, g = !1, u = void 0;
try {
for (var _, v = e.list[Symbol.iterator](); !(d = (_ = v.next()).done); d = !0) {
var p = _.value, m = this.zhaGu.getChildByName(p + "");
if (m) {
if (3 == p || 19 == p) {
m.getComponent(cc.Toggle).isChecked = !0;
}
m.zIndex = 2;
this.sanHong && 3 == p && (m.zIndex = 0);
}
}
} catch (e) {
g = !0;
u = e;
} finally {
try {
!d && v.return && v.return();
} finally {
if (g) throw u;
}
}
} else this.tip(t);
}), n(a, "clearZhaGu", function() {
var e = {
1: "3",
2: "35",
3: "19",
4: "51"
};
this.zhaGu.active = !1;
for (var i = 1; i < 5; i++) {
this.zhaGu.getChildByName("btn_" + i).active = !1;
var t = this.zhaGu.getChildByName(e[i]);
t.getComponent(cc.Toggle).isChecked = !1;
t.zIndex = 0;
}
this.zhaGu.getChildByName("tan1").zIndex = 1;
}), n(a, "userHand", function(e) {
if (e.hand) for (var i = 0; i < this.nodeCard.childrenCount; i++) {
var t = this.nodeCard.children[i];
if (!t) return;
var a = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, e.hand[i]);
t.getChildByName("card").getComponent(cc.Sprite).spriteFrame = a;
t.getComponent("ZGZPoker").setValue(e.hand[i]);
t.value = e.hand[i];
}
}), n(a, "sanActionStage", function(e) {
var i = !0, t = !1, a = void 0;
try {
for (var n, s = e[Symbol.iterator](); !(i = (n = s.next()).done); i = !0) {
var c = n.value;
this.sanAction(c);
}
} catch (e) {
t = !0;
a = e;
} finally {
try {
!i && s.return && s.return();
} finally {
if (t) throw a;
}
}
}), n(a, "sanAction", function(e) {
this.zhaGu.active = !1;
var i = cc.vv.roomMgr.viewChairID(e.seatid);
cc.vv.roomMgr.stage || (this.difen.string = e.difen);
var t = this.showSuit.children[i];
if (t) {
var a = t.getChildByName("wh"), n = c[e.type];
a.getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame(n);
cc.vv.roomMgr.stage || this.tip2(i, h[e.type]);
cc.vv.roomMgr.stage && (3 == cc.vv.roomMgr.stage.stage || 2 == cc.vv.roomMgr.stage.stage) && e.hasAction && this.tip2(i, h[e.type]);
if (0 != e.sanlist.length) {
var s = !0, r = !1, l = void 0;
try {
for (var d, g = e.sanlist[Symbol.iterator](); !(s = (d = g.next()).done); s = !0) {
var u = d.value, _ = o[u];
t.getChildByName(u + "").getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame(_);
}
} catch (e) {
r = !0;
l = e;
} finally {
try {
!s && g.return && g.return();
} finally {
if (r) throw l;
}
}
cc.vv.roomMgr.stage && cc.vv.roomMgr.stage.stage > 3 || cc.vv.roomMgr.is_replay || this.showSanHong(i, e.sanlist);
}
}
}), n(a, "showSanHong", function(e, i) {
if (0 != i.length) {
this.clearPoker(e);
for (var t = this.othterfolds.children[e], a = 0; a < i.length; ++a) {
var n = cc.instantiate(this.pokerPrefab);
n.scale = .6;
if (0 != i[a]) {
var s = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, i[a]);
n.getChildByName("card").getComponent(cc.Sprite).spriteFrame = s;
t.addChild(n);
n.value = i[a];
}
}
}
}), n(a, "clearShowSuit", function() {
for (var e = {
0: "wh",
1: "h44",
2: "h11",
3: "h22",
4: "h33"
}, i = 0; i < this.showSuit.childrenCount; i++) {
var t = this.showSuit.children[i];
if (!t) return;
for (var a = 0; a < t.childrenCount; a++) {
var n = t.children[a];
if (!n) return;
var s = e[a];
n.getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame(s);
}
}
}), n(a, "showMainPoker", function(e, i) {
if (99 != e) {
var t = 0, a = 0, n = 0, s = 0;
switch (e) {
case 0:
t = 2;
a = 14;
n = 7;
s = 2;
break;

case 1:
t = 18;
a = 30;
n = 23;
s = 18;
break;

case 2:
t = 34;
a = 46;
n = 39;
s = 34;
break;

case 3:
t = 50;
a = 62;
n = 55;
s = 50;
}
for (var c = 0; c < i.childrenCount; c++) {
var o = i.children[c], h = o.getChildByName("type"), r = h.getComponent(cc.Sprite);
if (o.value >= t && o.value <= a || o.value % 16 == 2 || o.value % 16 == 7) {
o.value == s || o.value == n ? r.spriteFrame = this.tipAltas.getSpriteFrame("typ_zhu") : o.value % 16 == 2 || o.value % 16 == 7 ? r.spriteFrame = this.tipAltas.getSpriteFrame("typ_fu") : r.spriteFrame = this.tipAltas.getSpriteFrame("typ_nomal");
h.active = !0;
} else h.active = !1;
}
}
}), n(a, "getlist", function() {
for (var e = [], i = 0; i < this.nodeCard.childrenCount; i++) e.push(this.nodeCard.children[i].value);
return e;
}), n(a, "showChupaiTip", function(e) {
for (var i = new cc.Color(150, 150, 150), t = this.getlist(), a = 0; a < e.length; a++) for (var n = 0; n < t.length; n++) if (e[a] == t[n]) {
t.splice(n, 1);
break;
}
for (var s = 0; s < t.length; s++) for (var c = 0; c < this.nodeCard.childrenCount; c++) {
var o = this.nodeCard.children[c], h = o.getChildByName("card"), r = o.getChildByName("button");
r.width = 4 == cc.vv.roomMgr.ren ? 50 : 60;
var l = o.getComponent("ZGZPoker");
if (o.value == t[s]) {
h.color = i;
r.active = !0;
c == this.nodeCard.childrenCount - 1 && (r.width = 162);
1 == l.isSelect() && this.setAllCardUnSelected();
}
}
}), n(a, "getTip", function(e) {
if (null != e) {
var i = e.canPai, t = e.canPai2;
this.canPai = e.canPai;
this.canPai2 = e.canPai2;
var a = this.othterfolds.children[cc.vv.roomMgr.ren - 1];
if (0 != a.childrenCount) if (i.length > 0) a.childrenCount < 4 ? this.showChupaiTip(i) : t.length > 0 && t.length >= a.childrenCount && this.showChupaiTip(t); else if (t.length > 0) {
this.showChupaiTip(t);
t.length < a.childrenCount && this.schedule(this.otherCanPai, 1 / 60);
}
}
}), n(a, "otherCanPai2", function() {
for (var e = [], i = [], t = 0; t < this.canPai.length; t++) for (var a = 0; a < this.canPai2.length; a++) if (this.canPai[t] == this.canPai2[a]) {
this.canPai2.splice(a, 1);
break;
}
for (var n = 0; n < this.canPai.length; n++) for (var s = 0; s < this.nodeCard.childrenCount; s++) {
(g = this.nodeCard.children[s]).value == this.canPai[n] && e.push(g);
}
for (var c = 0; c < this.canPai2.length; c++) for (var o = 0; o < this.nodeCard.childrenCount; o++) {
(g = this.nodeCard.children[o]).value == this.canPai2[c] && i.push(g);
}
for (var h = !0, r = 0; r < e.length; r++) if (0 == e[r].y) {
h = !1;
break;
}
if (h) for (var l = 0; l < this.canPai2.length; l++) for (var d = 0; d < i.length; d++) {
var g, u = (g = i[d]).getChildByName("card"), _ = g.getChildByName("button");
if (g.value == this.canPai2[l]) {
u.color = new cc.Color(255, 255, 255);
_.active = !1;
}
}
}), n(a, "otherCanPai", function() {
for (var e = [], i = this.getlist(), t = 0; t < this.canPai2.length; t++) for (var a = 0; a < i.length; a++) if (this.canPai2[t] == i[a]) {
i.splice(a, 1);
break;
}
for (var n = 0; n < this.canPai2.length; n++) for (var s = 0; s < this.nodeCard.childrenCount; s++) {
(l = this.nodeCard.children[s]).value == this.canPai2[n] && e.push(l);
}
for (var c = !0, o = 0; o < e.length; o++) if (0 == e[o].y) {
c = !1;
break;
}
if (c) for (var h = 0; h < i.length; h++) for (var r = 0; r < this.nodeCard.childrenCount; r++) {
var l, d = (l = this.nodeCard.children[r]).getChildByName("card"), g = l.getChildByName("button");
if (l.value == i[h]) {
d.color = new cc.Color(255, 255, 255);
g.active = !1;
}
}
}), n(a, "removePoker", function(e, i) {
for (var t = 0; t < i.length; ++t) for (var a = 0; a < e.childrenCount; ++a) {
var n = e.children[a];
if (i[t] == n.value) {
n.removeFromParent();
break;
}
}
}), n(a, "initPoker", function() {
for (var e = 0; e < this.nodeCard.childrenCount; e++) {
var i = this.nodeCard.children[e];
i.getChildByName("card").color = new cc.Color(255, 255, 255);
i.getChildByName("button").active = !1;
}
}), n(a, "chupai", function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.hideTips();
if (0 == e.list.length) {
this.tip2(i, "txt_buchu");
this.playSFX(e.seatid, "buyao1");
} else {
var t = this.showSuit.children[i];
if (!t) return;
var a = !0, n = !1, s = void 0;
try {
for (var c, h = e.list[Symbol.iterator](); !(a = (c = h.next()).done); a = !0) {
var r = c.value, l = o[r], d = t.getChildByName(r + "");
d && (d.getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame(l));
}
} catch (e) {
n = !0;
s = e;
} finally {
try {
!a && h.return && h.return();
} finally {
if (n) throw s;
}
}
cc.vv.audioMgr.playSFX("ddz/effect/effect_playcard");
}
if (0 == i) {
this.unschedule(this.otherCanPai);
this.setAllCardUnSelected();
this.shadow.active = !1;
this.opts.active = !1;
this._tipIndex = 0;
this.unschedule(this.selfTimeUpdate2);
this.removePoker(this.nodeCard, e.list);
this.refreshHandCards();
this.initPoker();
} else {
this.waitclock.active = !1;
this.unschedule(this.otherTimeUpdate);
}
this.showPokerDone(i, e.you);
this.showPais(e.seatid, e.pais);
this.showChupai(i, e.list);
this.showChupaiType(e);
this._turn++;
}), n(a, "showPokerDone", function(e, i) {
var t = this.pokerDoneNode.children[e];
if (t && i) {
t.active = !0;
var a = t.getChildByName("typespr");
a && (a.getComponent(cc.Sprite).spriteFrame = this.tipAltas.getSpriteFrame("txt_you" + i));
}
}), n(a, "hidePokerDone", function() {
for (var e = 0; e < this.pokerDoneNode.childrenCount; e++) {
var i = this.pokerDoneNode.children[e];
if (!i) return;
i.active = !1;
}
}), n(a, "showPaiStage", function(e) {
for (var i = 0; i < 5; i++) {
var t = cc.vv.roomMgr.viewChairID(i);
if (t) {
var a = this.othercards.children[t - 1], n = e[i];
a && n && (a.getComponent(cc.Label).string = "剩余牌" + n);
}
}
}), n(a, "showPais", function(e, i) {
this.othercards.active = !0;
var t = cc.vv.roomMgr.viewChairID(e);
t && (this.othercards.children[t - 1].getComponent(cc.Label).string = "剩余牌" + i);
}), n(a, "clearShowPais", function() {
for (var e = 0; e < this.othercards.childrenCount; e++) {
var i = this.othercards.children[e];
if (!i) return;
i.getComponent(cc.Label).string = "剩余牌0";
}
}), n(a, "showChupai", function(e, i) {
this.clearPoker(e);
for (var t = this.othterfolds.children[e], a = 0; a < i.length; ++a) {
var n = cc.instantiate(this.pokerPrefab);
n.scale = .6;
if (0 != i[a]) {
var s = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, i[a]);
n.getChildByName("card").getComponent(cc.Sprite).spriteFrame = s;
t.addChild(n);
n.value = i[a];
}
}
}), n(a, "showChupaiType", function(e) {
var i = this, t = "", a = "";
if (1 == e.type) {
t = 95 == (n = e.list[0]) ? "pai/16" : 79 == n ? "pai/15" : "pai/" + n % 16;
} else if (2 == e.type) {
var n;
t = "pai/dui" + (n = e.list[0]) % 16;
} else if (16 == e.type) {
t = "zhadan";
a = "effect_bomb";
this.playSFX(e.seatid, t);
cc.vv.audioMgr.playSFX("ddz/effect/" + a);
cc.loader.loadRes("game/ddz/animation/bomb/doudizhu_zha_normal", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = 0;
i.ske.node.y = -179;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu zha", !1);
i.ske.setCompleteListener(function() {});
});
cc.loader.loadRes("game/ddz/animation/bomb/doudizhu_zha_add", sp.SkeletonData, function(e, t) {
i.ske2.node.x = 0;
i.ske2.node.y = -179;
i.ske2.skeletonData = t;
i.ske2.timeScale = .8;
i.ske2.setAnimation(0, "doudizhu zha", !1);
});
} else if (17 == e.type) {
t = "wangzha";
a = "effect_rocket";
cc.loader.loadRes("game/ddz/animation/rocket/doudizhu_huojian", sp.SkeletonData, function(e, t) {
i.ske.node.active = !0;
i.ske.node.x = 0;
i.ske.node.y = -234;
i.ske.skeletonData = t;
i.ske.timeScale = 1;
i.ske.setAnimation(0, "doudizhu_huojian", !1);
i.ske.setCompleteListener(function() {});
});
} else 18 == e.type && (t = "pai/dui3");
if (16 != e.type) {
"" != a && cc.vv.audioMgr.playSFX("ddz/effect/" + a);
this.playSFX(e.seatid, t);
}
}), n(a, "selfTimeUpdate2", function() {
var e = parseInt(this.timepoint.string);
e -= 1;
this.timepoint.string = e;
if (e <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.selfTimeUpdate2);
}
}), n(a, "otherTimeUpdate", function() {
var e = this.waitclock.getComponentInChildren(cc.Label), i = parseInt(e.string);
i -= 1;
e.string = i;
if (i <= 0) {
cc.vv.audioMgr.playSFX("timeup_alarm");
this.unschedule(this.otherTimeUpdate);
}
}), n(a, "operate", function(e) {
this.tip(null);
if (2 == e.can) {
this._turn = 1;
this.hideTips();
this.clearAllPoker();
}
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.clearPoker(i);
if (cc.vv.roomMgr.seatid == e.seatid) {
3 != e.can && 4 != e.can || (e.can = 0);
this.opts.active = !0;
this.waitclock.active = !1;
this.timepoint.string = 15;
this.schedule(this.selfTimeUpdate2, 1);
this.shadow.active = 0 == e.can;
this.btn_buchu.active = !0;
this.btn_chupai.active = !0;
this.btn_tishi.active = !0;
if (0 == e.can) {
this.btn_buchu.active = !0;
this.btn_chupai.active = !1;
this.btn_tishi.active = !1;
} else if (2 == e.can) {
this.btn_buchu.active = !1;
this.btn_chupai.active = !0;
this.btn_tishi.active = !1;
}
} else {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = s[i].x;
this.waitclock.y = s[i].y;
}
}), n(a, "showClock", function(e) {
if (1 == this._turn) {
this.hideTips();
this.clearAllPoker();
}
var i = cc.vv.roomMgr.viewChairID(e);
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.waitclock.scale = .7;
if (i >= 1) {
this.waitclock.x = s[i].x;
this.waitclock.y = s[i].y;
} else {
this.waitclock.x = 0;
this.waitclock.y = 0;
}
}), n(a, "pokerTip", function(e) {
this.setAllCardUnSelected();
var i = e[this._tipIndex];
if (this._tipIndex >= e.length) {
this._tipIndex = 0;
this.setAllCardUnSelected();
} else {
i.sort(function(e, i) {
return e < i;
});
for (var t = 0; t < i.length; ++t) for (var a = 0; a < this.nodeCard.childrenCount; ++a) {
var n = this.nodeCard.children[a];
if (i[t] == n.value) {
var s = n.getComponent("ZGZPoker");
this.selectCard(s, 1);
break;
}
}
this._tipIndex++;
}
}), n(a, "setZhuaFen", function(e) {
for (var i = 0; i < this.zhuafenNode.childrenCount; i++) {
var t = cc.vv.roomMgr.viewChairID(i), a = this.zhuafenNode.children[t], n = e[i];
a && n && (a.getComponent(cc.Label).string = parseInt(n.score));
}
}), n(a, "jiesuan", function(e) {
this.unschedule(this.selfTimeUpdate);
this.unschedule(this.otherTimeUpdate);
this.zhaGu.active = !1;
this.nodeJiesuan.active = !0;
this.difen.string = e.difen;
for (var i = {
1: "没话",
2: "扎股",
3: "亮",
4: "认输"
}, t = {
3: "方",
19: "红",
35: "梅",
51: "黑"
}, a = e.list, n = this.nodeJiesuan.getChildByName("list"), s = 0; s < n.childrenCount; s++) {
var c = cc.vv.roomMgr.viewChairID(a[s].seatid), o = n.children[c], h = this.zhuafenNode.children[c];
if (!o || !a[s] || !h) return;
h.getComponent(cc.Label).string = a[s].user_score;
var r = o.getChildByName("num"), l = o.getChildByName("text"), d = "";
if (3 == a[s].type) {
var g = !0, u = !1, _ = void 0;
try {
for (var v, p = a[s].sanlist[Symbol.iterator](); !(g = (v = p.next()).done); g = !0) {
d += t[v.value];
}
} catch (e) {
u = !0;
_ = e;
} finally {
try {
!g && p.return && p.return();
} finally {
if (u) throw _;
}
}
d += "三";
}
var m = "[" + i[a[s].type] + d + "][" + a[s].bei + "倍]";
r.getComponent(cc.Label).string = a[s].round_score;
l.getComponent(cc.Label).string = m;
this.showSanHong(c, a[s].hand);
}
this.nodeCard.removeAllChildren();
}), n(a, "report", function(e) {
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
null != this.table._winDissroom && (this.table._winDissroom.active = !0);
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
this.table.hide_dismiss_room();
var i = this.nodeReport.getChildByName("bestHand"), t = this.nodeReport.getChildByName("nonetxt");
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("round").getComponent(cc.Label).string = "局数：" + e.nowRound + "/" + e.maxRound;
this.nodeReport.getChildByName("wanfa").getComponent(cc.Label).string = "玩法：" + cc.vv.roomMgr.enter.desc;
var a = [], n = this.nodeReport.getChildByName("list");
n.removeAllChildren();
for (var s = 0; s < e.list.length; ++s) {
var c = {
name: e.list[s].name,
userid: e.list[s].userid,
headimg: e.list[s].headimg,
score: e.list[s].result_score,
dayingjia: e.list[s].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: !1
}, o = cc.instantiate(this.reportItemPrefab);
n.addChild(o);
o.emit("info", c);
cc.vv.roomMgr.seatid == e.list[s].seatid && (a = e.list[s].bestHand);
0 == cc.vv.roomMgr.viewChairID(e.list[s].seatid) && (this.nodeReport.getChildByName("socre").getComponentInChildren(cc.Label).string = "+" + e.list[s].coins);
}
i.active = 0 == !a.length;
t.active = 0 == a.length;
if (0 != a.length) for (var h = 0; h < i.childrenCount; h++) {
var r = i.children[h];
if (!r || !a[h]) return;
var l = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, a[h]);
r.getComponent(cc.Sprite).spriteFrame = l;
}
}), n(a, "stage", function(e) {
this.sanHong = e.sanHong;
this.gameType.string = this.sanHong ? "[捉三红]" : "[扎股子]";
this.node.getChildByName("pop").removeAllChildren();
if (e.stage) {
cc.vv.roomMgr.stage = e;
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
null == e.round && (cc.vv.roomMgr.now = e.now);
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
switch (e.stage) {
case 1:
case 2:
case 3:
this.mainColor = e.mainColor;
this.fapai(e.cards);
break;

case 5:
case 4:
this.mainColor = e.mainColor;
for (var i = 0; i < e.lastPai.length; ++i) if (null != e.lastPai[i]) {
var t = cc.vv.roomMgr.viewChairID(e.lastPai[i].seatID);
this.showChupai(t, e.lastPai[i].pai);
this._turn++;
}
this.fapai(e.cards);
var a = cc.vv.roomMgr.viewChairID(e.chuPaiPeople);
if (0 != a) {
this.waitclock.active = !0;
this.waitclock.getComponentInChildren(cc.Label).string = 15;
this.schedule(this.otherTimeUpdate, 1);
this.waitclock.x = s[a].x;
this.waitclock.y = s[a].y;
this.clearPoker(a);
}
}
this.showPaiStage(e.pais);
this.setZhuaFen(e.userScore);
this.sanActionStage(e.zhaguStatus);
}
}), n(a, "playSFX", function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "ddz/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
}), n(a, "onBtnClicked", function(e) {
cc.vv.audioMgr.click();
switch (e.target.name) {
case "btn_tishi":
this.pokerTip(this.tishipai);
break;

case "btn_chupai":
for (var i = [], t = this.getSelectPaiList(1), a = 0; a < t.length; ++a) {
var n = t[a].value;
i.push(n);
}
0 == i.length ? cc.vv.popMgr.tip("您必须要打出一张牌") : cc.vv.net2.quick("chupai", {
list: i
});
break;

case "btn_buchu":
i = [];
cc.vv.net2.quick("chupai", {
list: i
});
break;

case "btn_1":
cc.vv.net2.quick("meihua", {
userid: cc.vv.userMgr.userid
});
break;

case "btn_2":
cc.vv.net2.quick("zhagu", {
userid: cc.vv.userMgr.userid
});
break;

case "btn_3":
var s = this.getSelectToggle();
cc.vv.net2.quick("liangsan", {
userid: cc.vv.userMgr.userid,
list: s
});
break;

case "btn_4":
cc.vv.net2.quick("touxiang", {
userid: cc.vv.userMgr.userid
});
}
}), n(a, "onBtnToggle", function(e) {
if (this.actionData || 0 != this.actionData.length) {
var i = this, t = this.zhaGu.getChildByName("btn_1"), a = this.zhaGu.getChildByName("btn_2"), n = this.zhaGu.getChildByName("btn_3");
t.active = !0;
var s = e.isChecked, c = this.getSelectToggle(), o = function(e) {
a.active = !1;
n.active = s;
if (0 != c.length) {
var o = !0, h = !1, r = void 0;
try {
for (var l, d = c[Symbol.iterator](); !(o = (l = d.next()).done); o = !0) {
var g = l.value;
g == e && (n.active = !0);
i.sanHong && 3 == g && (t.active = !1);
}
} catch (e) {
h = !0;
r = e;
} finally {
try {
!o && d.return && d.return();
} finally {
if (h) throw r;
}
}
}
};
switch (e.node.name) {
case "3":
o(19);
break;

case "19":
o(3);
break;

case "35":
case "51":
(function() {
var e = !0, t = !1, o = void 0;
try {
for (var h, r = i.actionData[Symbol.iterator](); !(e = (h = r.next()).done); e = !0) {
var l = h.value;
if (3 == l || 19 == l) return;
}
} catch (e) {
t = !0;
o = e;
} finally {
try {
!e && r.return && r.return();
} finally {
if (t) throw o;
}
}
a.active = !s;
n.active = s;
if (0 != c.length) {
var d = !0, g = !1, u = void 0;
try {
for (var _, v = c[Symbol.iterator](); !(d = (_ = v.next()).done); d = !0) {
_.value;
n.active = !0;
a.active = !1;
}
} catch (e) {
g = !0;
u = e;
} finally {
try {
!d && v.return && v.return();
} finally {
if (g) throw u;
}
}
}
})();
}
}
}), n(a, "getSelectToggle", function() {
var e = [], i = !0, t = !1, a = void 0;
try {
for (var n, s = this.zhaGuToggle[Symbol.iterator](); !(i = (n = s.next()).done); i = !0) {
var c = n.value;
if (!c) return;
var o = c.getComponent(cc.Toggle);
o && o.isChecked && e.push(parseInt(c.name));
}
} catch (e) {
t = !0;
a = e;
} finally {
try {
!i && s.return && s.return();
} finally {
if (t) throw a;
}
}
return e;
}), n(a, "SortCardList", function(e) {
for (var i = 0; i < e.length; i++) for (var t = 0; t < e.length - i - 1; t++) {
var a = e[t] % 16 * 10 + 1e3 * parseInt(e[t] / 16), n = e[t + 1] % 16 * 10 + 1e3 * parseInt(e[t + 1] / 16);
2 == e[t] && (a = 920);
2 == e[t + 1] && (n = 920);
e[t] % 16 == 2 && (this.mainColor == parseInt(e[t] / 16) ? a = 302100 : a *= 100);
e[t + 1] % 16 == 2 && (this.mainColor == parseInt(e[t + 1] / 16) ? n = 302100 : n *= 100);
e[t] % 16 == 7 && (this.mainColor == parseInt(e[t] / 16) ? a = 30700100 : a *= 1e4);
e[t + 1] % 16 == 7 && (this.mainColor == parseInt(e[t + 1] / 16) ? n = 30700100 : n *= 1e4);
e[t] % 16 == 15 && (a = 1e5 * a + 100);
e[t + 1] % 16 == 15 && (n *= 1e5);
this.mainColor == parseInt(e[t] / 16) && (a += 5e3);
this.mainColor == parseInt(e[t + 1] / 16) && (n += 5e3);
if (a < n) {
var s = e[t], c = e[t + 1];
e[t] = c;
e[t + 1] = s;
}
}
return e;
}), n(a, "sortCardNode", function(e) {
if (null != e) {
var i = this.SortCardList(e);
this.nodeCard.removeAllChildren();
for (var t = 0; t < i.length; t++) {
var a = cc.instantiate(this.pokerPrefab);
a.myTag = t;
this.nodeCard.addChild(a);
a.x = 60 * t - 570;
var n = cc.vv.utils.getPokerSpriteFrame(this.poker1Atlas, i[t]);
a.getChildByName("card").getComponent(cc.Sprite).spriteFrame = n;
a.value = i[t];
t == i.length - 1 && this.refreshHandCards();
}
}
}), n(a, "onDestroy", function() {
this._senceDestroy = !0;
cc.loader.setAutoRelease(this, !0);
}), a));
cc._RF.pop();
}, {
ZGZ3300Const: "ZGZ3300Const",
ZGZ3300ReplayMgr: "ZGZ3300ReplayMgr"
} ],
ZGZ3300Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "0ed2830XCZHs5rcsHbxVvhG", "ZGZ3300Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
prepareReplay: function() {
this.dispatchEvent("param", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
initEventHandlers: function() {},
doBegin: function() {
this.dispatchEvent("begin", {
errcode: 0
});
},
doFapai: function(e, i) {
i == cc.vv.roomMgr.seatid && this.dispatchEvent("fapai", {
data: {
pai: e
}
});
},
doZhuFen: function(e) {
this.dispatchEvent("setZhuaFen", e);
},
doChupai: function(e) {
var i = {
seatid: e.chuPaiPeopleSeatid,
type: e.type,
list: e.chupai,
userid: e.chuPaiPeople,
pais: e.pais,
you: e.you
};
this.dispatchEvent("chupai", {
data: i
});
},
operate: function(e) {
this.dispatchEvent("showClock", {
seatid: e.chuPaiPeopleSeatid
});
},
doSanAction: function(e) {
this.dispatchEvent("sanAction", {
data: e
});
}
});
cc._RF.pop();
}, {} ],
ZGZ3300ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "4903bFIA4JAdadH6v06eR3h", "ZGZ3300ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
cc.vv.zgzMgr.doBegin();
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.zgzMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
return this._actionRecords[this._currentIndex++];
},
takeAction: function() {
var e = this.getNextAction();
if (null == e) return -1;
this._lastAction = e;
if (e.init_score) {
cc.vv.zgzMgr.doZhuFen(e.init_score);
return .1;
}
if (4 == e.stage) {
cc.vv.zgzMgr.doFapai(e.pai, e.seatid);
return .5;
}
if (3 == e.stage) {
cc.vv.zgzMgr.doSanAction(e);
return 1;
}
if (5 == e.stage) {
cc.vv.zgzMgr.operate(e);
cc.vv.zgzMgr.doChupai(e);
return 2;
}
return 6 == e.stage ? .5 : void 0;
}
});
cc._RF.pop();
}, {} ],
ZGZPoker: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "9251457et1O5I56U1uaFF1m", "ZGZPoker");
cc.Class({
extends: cc.Component,
properties: {
card: cc.Sprite,
_value: 255,
_select: 0
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("fapai", function(i) {
e.fapai(i);
});
this.node.on("trun", function(i) {
e.trun(i);
});
this.node.on("flip", function(i) {
e.flip(i);
});
},
fapai: function(e) {
var i = 0;
1 == e.xipai ? e.index >= 0 && e.index <= 4 ? i = 0 : e.index >= 5 && e.index <= 9 ? i = 4 : e.index >= 10 && e.index <= 14 ? i = 8 : e.index >= 15 && e.index <= 19 && (i = 12) : i = e.index / 2;
this.node.runAction(cc.sequence(cc.hide(), cc.delayTime(.15 * i), cc.show(), cc.callFunc(function() {
cc.vv.audioMgr.playSFX("nn/flop");
}), cc.sequence(cc.moveTo(.15, cc.v2(65 * e.index - 270)), cc.callFunc(function() {})), cc.delayTime(.15), cc.callFunc(function() {
e.callback && e.callback(e.index);
}, this)));
},
flip: function(e) {
var i = this;
if (255 == this._value) {
var t = i.node.scale;
i.node.runAction(cc.sequence(cc.scaleTo(.25, 0, t), cc.callFunc(function() {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
i.node.value = e.value;
}, i), cc.scaleTo(.25, t, t), cc.callFunc(function() {
e.callback && e.callback(e.index);
})));
}
},
trun: function(e) {
var i = this;
if (255 == this._value) {
var t = i.node.scale;
i.node.runAction(cc.sequence(cc.scaleTo(.15, 0, t), cc.callFunc(function() {
var t = cc.vv.utils.getPokerSpriteFrame(e.atlas, e.value);
i.card.spriteFrame = t;
i._value = e.value;
}, i), cc.scaleTo(.15, t, t), cc.callFunc(function() {
null != e.callback && e.callback(e.obj, e.viewid, e.index, e.type);
})));
}
},
onPaiClicked: function() {
cc.vv.audioMgr.click();
this._select = 1 == this._select ? 0 : 1;
this.node.y = 0 == this._select ? 0 : 20;
},
isSelect: function() {
return this._select;
},
setEnabled: function(e) {
var i = this.node.getComponent(cc.Button);
i || (i = this.node.addComponent(cc.Button));
e ? i.node.on("click", this.onPaiClicked, this) : this.node.removeComponent(cc.Button);
},
setSelect: function(e) {
this._select = e;
this.node.y = 0 == this._select ? 0 : 20;
},
setMove: function(e) {
var i = new cc.Color(150, 150, 150);
0 == e && (i = new cc.Color(255, 255, 255));
this.card.node.color = i;
},
setValue: function(e) {
this._value = e;
},
getValue: function() {
return this._value;
}
});
cc._RF.pop();
}, {} ],
ZPJ2800Const: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a489dl41W1GtaN87eupZGXY", "ZPJ2800Const");
cc.Class({
extends: cc.Component,
statics: {
player4: [ {
x: -448,
y: -255,
distance: -80,
distanceX: -6,
distanceY: -7.5,
xiazhuX: 140,
xiazhuH: -20,
dianshuX: 250,
dianshuH: 0,
scale: 1,
pos: {
xiazhu: {
x: -448,
y: -285
},
ready: {
x: 95,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -80,
y: -575,
scale: 1.5
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: 512,
y: -68,
distance: -53,
distanceX: -4,
distanceY: -5,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: -120,
dianshuH: 0,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: -100
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 330,
y: -384,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
}, {
x: 512,
y: 165,
distance: -53,
distanceX: -4,
distanceY: -5,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: -120,
dianshuH: 0,
scale: 1,
pos: {
xiazhu: {
x: 512,
y: 131
},
ready: {
x: -94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: -200,
y: 47
},
card: {
x: 330,
y: -164,
scale: 1
},
voice: {
x: -112,
y: 22,
scalex: 1,
scaley: 1
}
}
}, {
x: -556,
y: 165,
distance: -53,
distanceX: -4,
distanceY: -5,
xiazhuX: 0,
xiazhuH: 50,
dianshuX: 150,
dianshuH: 0,
scale: 1,
pos: {
xiazhu: {
x: -556,
y: 131
},
ready: {
x: 94,
y: 0
},
bet: {
x: 0,
y: -20
},
chat: {
x: 200,
y: 47
},
card: {
x: -360,
y: -164,
scale: 1
},
voice: {
x: 112,
y: 22,
scalex: -1,
scaley: 1
}
}
} ],
chat_path: "nn",
quick_chat: [ {
id: 0,
info: "加个好友，以后一起玩"
}, {
id: 1,
info: "和你合作真是太愉快啦~"
}, {
id: 2,
info: "快点吧，我等的花儿都谢了"
}, {
id: 3,
info: "你的牌打的太好啦"
}, {
id: 4,
info: "拜托，有你这样玩牌的吗？"
}, {
id: 5,
info: "不好意思出错了，真对不住啊"
}, {
id: 6,
info: "来来来，继续大战三百回合"
}, {
id: 7,
info: "苍天啊，赐给我一手好牌吧"
} ],
xipai_pos: [ {
x: -163,
y: -400,
distance: 53,
scale: 1
}, {
x: -163,
y: -200,
distance: 53,
scale: 1
}, {
x: -163,
y: 0,
distance: 53,
scale: 1
}, {
x: -163,
y: 200,
distance: 53,
scale: 1
} ],
not_xipai_pos: [ {
x: -163,
y: -268,
distance: 53,
scale: 1
}, {
x: -167,
y: -273,
distance: 53,
scale: 1
}, {
x: -163,
y: -132,
distance: 53,
scale: 1
}, {
x: -167,
y: -137,
distance: 53,
scale: 1
} ]
}
});
cc._RF.pop();
}, {} ],
ZPJ2800Game: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d125afHJcpBxZJJ092eBNfV", "ZPJ2800Game");
var a;
function n(e, i, t) {
i in e ? Object.defineProperty(e, i, {
value: t,
enumerable: !0,
configurable: !0,
writable: !0
}) : e[i] = t;
return e;
}
cc.Class((n(a = {
extends: cc.Component,
properties: {
tipDianAtlas: {
default: null,
type: cc.SpriteAtlas
},
dianshuAtlas: {
default: null,
type: cc.SpriteAtlas
},
xiazhuAtlas: {
default: null,
type: cc.SpriteAtlas
},
typeSeZi: {
default: null,
type: cc.SpriteAtlas
},
typeAtlas: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAtlas: {
default: null,
type: cc.SpriteAtlas
},
moneyGold: {
default: null,
type: cc.SpriteAtlas
},
tipAtlas: {
default: null,
type: cc.SpriteAtlas
},
sprTip: cc.Sprite,
sprTipe: cc.Sprite,
labelRoomwanfa: cc.Label,
prefabYaosezi: cc.Prefab,
preTJDkaipai: cc.Prefab,
reportItemPrefab: cc.Prefab,
prefabTJDMingPai: cc.Prefab,
PrefabMajiang: cc.Prefab,
PrefabDianshu: cc.Prefab,
_wanfa: 0,
_zhuang: 0,
_zhuang_mode: 0,
_hang: 4,
_lie: 8
},
editor: {
executionOrder: -1
},
onLoad: function() {
var i = e("ZPJ2800Const");
cc.vv.game = this;
cc.vv.game.config = {
type: "zpj",
hide_nothing_seat: !1,
direct_begin: !0,
chat_path: i.chat_path,
quick_chat: i.quick_chat,
player_4: i.player4,
xipai_pos: i.xipai_pos,
not_xipai_pos: i.not_xipai_pos,
set_bg: !1,
location: !1,
show_watch_btn: !0
};
this._winPlayer = cc.find("Canvas/mgr/players");
this.table = this.node.getComponent("Table");
this.nodeMsg = this.node.getChildByName("mgr");
this.node_watchgame = this.node.getChildByName("watchgame");
this.nodeZhuang = this.nodeMsg.getChildByName("zhuang");
this.nodeCard = this.nodeMsg.getChildByName("cards");
this.nodeSezi = this.nodeMsg.getChildByName("sezi");
this.nodeXiazhu = this.nodeMsg.getChildByName("xiazhu");
this.nodeLabelscore = this.nodeMsg.getChildByName("score");
this.nodeCuopai = this.nodeMsg.getChildByName("cuopai");
this.nodeKaipai = this.nodeMsg.getChildByName("kaipai");
this.nodeJiesuan = this.node.getChildByName("report").getChildByName("jiesuan");
this.nodeReport = this.node.getChildByName("report").getChildByName("report");
this.nodeMingpai = this.nodeMsg.getChildByName("folds").getChildByName("dibox");
this.nodeAllPai = this.nodeMsg.getChildByName("folds").getChildByName("dibox").getChildByName("ZPJAllPai");
this.nodeIsQiangZhuang = this.nodeMsg.getChildByName("isqiangzhuang");
this.tuoguanNode = this.node.getChildByName("tuoguan");
this.btn_tuoguan = this.nodeMsg.getChildByName("hud").getChildByName("oper").getChildByName("btn_tuoguan");
this.is_click_cuopai = !1;
this.isPlay = !1;
this.is_click_xuanpai = !1;
this.mingpaiValue = 0;
this.dianshu = 0;
this.paiNumber = 1 == cc.vv.tempDataMgr.pokerNine ? 2 : 4;
this.isAutoYao = !1;
this.nodeLabelscoreArr = this.nodeLabelscore.children;
this.soundSaizi = -1;
this.isBeginXiazhu = !1;
this.kaipaiArr = [];
this.cuopaiNodeArr = [];
this.showcuopai = !1;
this.initData();
this.initEventHandlers();
},
start: function() {
var i = this;
cc.vv.audioMgr.playBGM("ddz/bg_music");
cc.vv.ZPJMgr = this.node.getComponent("ZPJ2800Mgr");
var t = e("ZPJ2800ReplayMgr");
cc.vv.replayMgr = new t();
this.new_round();
if (cc.vv.roomMgr.is_replay) {
cc.vv.popMgr.open("ReplayCtrl", function(e) {
i._winRealName = e;
});
cc.vv.ZPJMgr.prepareReplay();
var a = this.node.getChildByName("replay").getChildByName("SView_tips");
a.active = !0;
var n = {
callback: function(e) {
i.table.seat();
i.table.table(cc.vv.roomMgr.table);
cc.vv.replayMgr.init(cc.vv.roomMgr.action.action, cc.vv.roomMgr.jiesuan);
}
};
a.emit("get_open", n);
}
},
user_status_change: function(e) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) if (0 != i[t].userid) {
if (1 == e.change_item[t]) {
0 == cc.vv.roomMgr.viewChairID(t) && (this._my_isin_game = !0);
}
i[t].sitStatus = e.change_item[t];
}
},
watch_game_list: function() {
for (var e = cc.vv.roomMgr.table.list, i = 0; i < e.length; i++) if (0 != e[i].userid) {
var t = cc.vv.roomMgr.viewChairID(e[i].seatid), a = cc.vv.utils.getChildByTag(this._winPlayer, t);
0 != e[i].sitStatus ? a.getChildByName("watch_game").active = !0 : a.getChildByName("watch_game").active = !1;
}
if (this.watch_game()) {
this.new_round();
this.node_watchgame.active = !0;
this.nodeJiesuan.active = !1;
}
},
watch_game: function() {
var e = !1, i = cc.vv.roomMgr.table.list;
if (cc.vv.roomMgr.guanzhan_table) for (var t = cc.vv.roomMgr.guanzhan_table.list, a = 0; a < t.length; a++) 0 != t[a].userid && t[a].userid == cc.vv.userMgr.userid && (e = !0);
for (a = 0; a < i.length; a++) if (0 != i[a].userid && 0 != i[a].sitStatus) {
0 == cc.vv.roomMgr.viewChairID(i[a].seatid) && (e = !0);
}
return e;
},
initEventHandlers: function() {
var e = this;
cc.game.on(cc.game.EVENT_HIDE, function() {
e._itemkaipai.active = !1;
});
cc.game.on(cc.game.EVENT_SHOW, function() {
if (!cc.vv.roomMgr.is_replay && 1 == cc.vv.roomMgr.started) {
cc.vv.audioMgr.stopSFX(e.soundSaizi);
cc.vv.popMgr.wait("正在恢复桌面", function() {
setTimeout(function() {
cc.vv.net2.quick("stage");
}, 1e3);
});
}
});
this.node.on("error", function(i) {
e.error(i);
}), this.node.on("watch", function(i) {
e.watch(i.data);
});
this.node.on("param", function(i) {
e.param(i.data);
});
this.node.on("user_status_change", function(i) {
e.user_status_change(i.data);
});
this.node.on("ready", function(i) {
e.ready(i.data);
});
this.node.on("begin", function(i) {
if (-1 != i.errcode) {
e.btn_tuoguan.active = !1;
e.watch_game() && (e.btn_tuoguan.active = !1);
e.watch_game_list();
}
}), this.node.on("kaiqiang", function(i) {
e.begin(i.data);
});
this.node.on("qiangzhuang", function(i) {
e.qiangzhuang(i.data);
});
this.node.on("buqiangzhuang", function(i) {
e.buqiangzhuang(i.data);
});
this.node.on("dingzhuang", function(i) {
e.dingzhuang(i.data);
});
this.node.on("beginXiazhu", function(i) {
e.beginXiazhu(i.data);
});
this.node.on("xiazhu", function(i) {
e.xiazhu(i.data);
});
this.node.on("bestPk", function(i) {
e.bestPk(i.data);
});
this.node.on("xiazhuok", function(i) {
e.Received_xiazhuok = !0;
e.xiazhuok(i.data);
});
this.node.on("getEnd", function() {
if (1 == e.isAutoYao || cc.vv.roomMgr.is_replay || e.isTuoguan) e.fapai_1(); else {
this.watch_game() ? e.fapai_1() : cc.vv.roomMgr.seatid != e._zhuang && e.fapai_1();
}
});
this.node.on("fapai", function(i) {
e.fapai1Data = i.data;
e.saizi_animation(e.fapai1Data);
});
this.node.on("cuopai", function(i) {
e.cuopai(i.data);
});
this.node.on("kaipai", function(i) {
e.kaipai(i.data);
});
this.node.on("jiesuan", function(i) {
e.jiesuan(i.data);
});
this.node.on("report", function(i) {
-1 != i.errcode ? e.report(i.data) : e.nodeJiesuan.active = !1;
});
this.node.on("stage", function(i) {
cc.vv.popMgr.hide();
e.stage(i.data);
});
this.node.on("showAllXiazhu", function(i) {
e.showAllXiazhu(i.data);
});
this.node.on("tuoguan", function(i) {
e.tuoguan(i.data);
});
this.node.on("cancleTuoguan", function(i) {
e.cancleTuoguan(i.data);
});
},
new_round: function() {
this.tip(null);
this.is_kaipai = !1;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeReport.active = !1;
this.is_click_cuopai = !1;
this.nodeJiesuan.active = !1;
this.nodeSezi.active = !1;
this.is_operation = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
this.nodeKaipai.getComponent(cc.Button).interactable = !0;
this.Received_xiazhuok = !1;
this.is_click_xuanpai = !1;
this.nodeCard.removeAllChildren();
this.nodeSezi.removeAllChildren();
this._nodeyaosezi = cc.instantiate(this.prefabYaosezi);
this.nodeSezi.addChild(this._nodeyaosezi);
this.TJDSaiZiAnim = this._nodeyaosezi.getComponent(cc.Animation);
this.yao = this._nodeyaosezi.getChildByName("yao");
this.yao1 = this._nodeyaosezi.getChildByName("yao1");
this.initEventSeZi();
null != this._itemkaipai && this._itemkaipai.destroy();
this._itemkaipai = cc.instantiate(this.preTJDkaipai);
this.nodeMsg.addChild(this._itemkaipai);
this._itemkaipai.active = !1;
this.node_watchgame.active = !1;
for (var e = 0; e < 6; e++) {
this.nodeLabelscoreArr[e].active = !1;
this.nodeLabelscoreArr[e].getComponent(cc.Label).string = "";
this.nodeLabelscoreArr[e].getComponentInChildren(cc.Label).string = "";
}
1 != this._zhuang_mode && this.table.seat_emit(null, "dingzhuang", {
seatid: null
});
this.hidePai();
this.hideAllType();
this._currdao = 1;
this._cuopai = [ 0, 0, 0, 0 ];
this._fanpai = [ 0, 0, 0, 0 ];
this._kaipai = [ 0, 0, 0, 0 ];
this.hangNumber = [ 0, 1, 2, 3 ];
this.lieNumber = [ 7, 6, 5, 4, 3, 2, 1, 0 ];
this.isBeginXiazhu = !1;
cc.vv.audioMgr.stopSFX(this.soundSaizi);
this.is_Kaipaibtn = !1;
},
initData: function() {
this.kaipaiArr = [];
this.cuopaiNodeArr = [];
this.paitype = [];
this.maxType = [];
this.pkarr = [];
this.zhuangpk = [];
this.is_Kaipaibtn = !1;
this.showcuopai = !1;
},
param: function(e) {
this._desc = e.desc;
this._roomid = e.roomid;
this._zhuang_mode = e.zhuang;
this.param = e;
this._zhuang = e.zhuangSeateid;
this._ren = e.ren;
this.isAutoYao = e.auto;
this._dao = e.dao;
this._isGD = e.Gdfen;
this.num = e.touZi;
this.round = e.round;
},
ready: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.new_round();
this.initData();
}
},
begin: function(e) {
this.kaiqiang(e);
this.is_kaipai = !1;
},
kaiqiang: function(e) {
null != e && this.auto_tips(e.time, "不抢庄");
if (this.isStage) {
var i = cc.vv.roomMgr.stage.ifqiang;
if (0 != i && void 0 != i) return;
}
this.nodeZhuang.active = !0;
this.nodeZhuang.children[0].scale = 1;
this.nodeZhuang.children[1].scale = 1;
this.watch_game() && (this.nodeZhuang.active = !1);
},
qiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatid);
this.showOrHideQiangzhuang(i, !0);
this.table.seat_emit(i, "qiangzhuang");
},
buqiangzhuang: function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tips_zhunbei");
this.nodeZhuang.active = !1;
}
var i = cc.vv.roomMgr.viewChairID(e.seatId);
this.showOrHideQiangzhuang(i, !1);
},
dingzhuang: function(e) {
var i = this;
this.tip(null);
this.nodeIsQiangZhuang.removeAllChildren();
this._zhuang = e.seatid;
this.nodeZhuang.active = !1;
this.table.dingzhuang(e, function() {
var t = cc.vv.roomMgr.viewChairID(e.seatid);
i.table.seat_emit(null, "dingzhuang", {
seatid: t
});
});
},
bestPk: function(e) {
this.zhuangpk = e._zhuangpk;
this.paitype = e.type;
var i = e.maxType;
this.maxType = i;
this.kaipaiArr[0] = i[0];
this.kaipaiArr[1] = i[1];
this.pkarr = [ i[0], i[1], i[3], i[4] ];
},
xiazhu: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.nodeLabelscoreArr[i].setPosition(t[i].pos.xiazhu.x, t[i].pos.xiazhu.y);
this.nodeLabelscoreArr[i].active = !0;
var a = this.nodeLabelscoreArr[i].getComponent(cc.Label);
this.nodeLabelscore.active = !0;
var n = e.nowDao, s = (e.nextDao, e.power);
n <= 3 && 0 != n && (a.string += 0 != s ? s + " " : "0 ");
if (0 == i) {
this._currdao = e.nextDao;
this.show_xiazhu();
}
},
auto_tips: function(e, i) {
var t = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (e <= 0 || null == e) t.active = !1; else {
this.text = i;
this.auto_time = e;
this.unschedule(this.upd_auto_time);
this.schedule(this.upd_auto_time, 1);
t.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !0;
}
},
upd_auto_time: function() {
var e = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (this.auto_time <= 0) {
this.unschedule(this.upd_auto_time);
e.active = !1;
}
this.auto_time--;
e.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
},
xiazhu_stage: function(e) {
var i = cc.vv.roomMgr.viewChairID(e.seatid), t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this.nodeLabelscoreArr[i].setPosition(t[i].pos.xiazhu.x, t[i].pos.xiazhu.y);
this.nodeLabelscoreArr[i].active = !0;
var a = this.nodeLabelscoreArr[i].getComponent(cc.Label);
this.nodeLabelscore.active = !0;
var n = e.nowDao, s = (e.nextDao, e.power);
-1 != s && 0 != s && n <= 3 && 0 != n && (a.string += 0 != s ? s + " " : "0 ");
},
error: function(e) {
if (-99 == e.errcode) {
cc.director.loadScene("hall");
setTimeout(function() {
cc.vv.popMgr.alert("" + e.errmsg);
}, 1e3);
} else cc.vv.popMgr.tip("" + e.errmsg);
},
xiazhuok: function(e) {
this.is_click_cuopai = !0;
this.tip(null);
this.xiazhutip(null);
null != e && this.auto_tips(e.time, "开牌");
var i = this;
if (0 != this._isGD) setTimeout(function() {
if (!i.showcuopai) {
i.nodeXiazhu.active = !1;
i.nodeCuopai.active = !0;
i.nodeKaipai.active = !0;
i.nodeCuopai.scale = 1;
i.nodeKaipai.scale = 1;
}
for (var e = 0; e < cc.vv.roomMgr.ren; e++) if (e != cc.vv.roomMgr.seatid) {
var t = function() {};
t = i._zhuang == e ? function() {
var e = i._zhuang, t = i.zhuangpk;
if (null != t) {
i.fanpaiAnimation(e, t, [ -1, -1 ], [ -1, -1 ], !0);
}
} : function() {};
0 == cc.vv.roomMgr.viewChairID(e) && i.addTouchPaiNodeMove();
if (1 == i._cuopai[e]) {
if (i._zhuang == e) {
var a = i._zhuang, n = i.zhuangpk;
if (null == n) return;
i.fanpaiAnimation(a, n, [ -1, -1 ], [ -1, -1 ], !0);
}
} else {
i._cuopai[e] = 1;
i.cuopaiAnimation(e, t);
}
}
}, 4e3); else {
this.nodeXiazhu.active = !1;
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeCuopai.scale = 1;
this.nodeKaipai.scale = 1;
i = this;
for (var t = 0; t < cc.vv.roomMgr.ren; t++) if (t != cc.vv.roomMgr.seatid) {
var a = function() {};
a = this._zhuang == t ? function() {
var e = i._zhuang, t = i.zhuangpk;
if (null != t) {
i.fanpaiAnimation(e, t, [ -1, -1 ], [ -1, -1 ], !0);
}
} : function() {};
0 == cc.vv.roomMgr.viewChairID(t) && this.addTouchPaiNodeMove();
if (1 == this._cuopai[t]) {
if (this._zhuang == t) {
var n = i._zhuang, s = i.zhuangpk;
if (null == s) return;
i.fanpaiAnimation(n, s, [ -1, -1 ], [ -1, -1 ], !0);
}
} else {
this._cuopai[t] = 1;
this.cuopaiAnimation(t, a);
}
}
}
if (this.watch_game()) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
},
saizi_animation: function(e) {
var i = this;
this.fapai1Data = e;
this.sprTip.node.active = !1;
cc.vv.roomMgr.is_replay && this.showMingPai(e);
this.num = e.num;
var t = this._nodeyaosezi.getChildByName("sezi1"), a = this._nodeyaosezi.getChildByName("sezi2"), n = "ttz_sezi_" + e.num[0] + "_0", s = "ttz_sezi_" + e.num[1] + "_0";
t.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(n);
a.getComponent(cc.Sprite).spriteFrame = this.typeSeZi.getSpriteFrame(s);
function c() {
if (1 == i.isAutoYao || cc.vv.roomMgr.is_replay) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else {
var e = i.watch_game();
if (cc.vv.roomMgr.seatid != i._zhuang || e) {
i.yao.off("touchmove");
i.yao.off("touchend");
i.yao.off("touchcancel");
cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
i.TJDSaiZiAnim.play("yaosezi");
i.shaizitip("saiziing");
} else i.shaizitip("plasesaizi");
}
i.nodeSezi.active = !0;
}
if (1 == e.xiPai) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
this.nodeAllPai.removeAllChildren();
this.mingpaiValue = 0;
this.xipaiAnimation(function() {
c();
});
} else c();
},
cuopai: function() {
if (this.is_click_cuopai && !this.is_click_xuanpai) {
var e = this, i = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], t = 0, a = 0;
this.is_click_xuanpai = !0;
this.is_click_cuopai = !1;
for (var n = 0; n < this.cuopaiNodeArr.length; n++) {
var s = this.cuopaiNodeArr[n], c = (t = 0, a = n * this.paiNumber / 2 + 1, (i = cc.vv.game.config["player_" + cc.vv.roomMgr.ren])[t].pos.card.x + i[t].distance * parseInt(a / 2) + a % 2 * i[t].distanceX), o = i[t].pos.card.y + i[t].distanceY * (a % 2);
s.x = c;
s.y = o;
}
var h = cc.vv.roomMgr.realChairID(t);
if (1 == this._cuopai[h]) {
var r = e.maxType, l = [ r[0], r[1] ], d = [ r[2], r[5] ];
if (1 == e._fanpai[h]) return;
e._fanpai[h] = 1;
e.fanpaiAnimation(cc.vv.roomMgr.seatid, e.pkarr, l, d, !0);
} else {
this._cuopai[h] = 1;
this.cuopaiAnimation(cc.vv.roomMgr.seatid, function() {
var i = e.maxType, a = [ i[0], i[1] ], n = [ i[2], i[5] ], s = cc.vv.roomMgr.realChairID(t);
if (1 != e._fanpai[s]) {
e._fanpai[s] = 1;
e.fanpaiAnimation(cc.vv.roomMgr.seatid, e.pkarr, a, n, !0);
}
});
}
this.nodeCuopai.active = !1;
}
},
kaipai: function(e) {
var i = this;
if (1 != this._kaipai[e.seatid]) {
this._kaipai[e.seatid] = 1;
if (e.seatid == cc.vv.roomMgr.seatid) {
this.tip("tjd_kaipai");
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
this.is_click_xuanpai = !0;
this.is_click_cuopai = !1;
this.removeTouchPaiNode();
}
if (1 == this._cuopai[e.seatid]) {
if (1 == i._fanpai[e.seatid]) return;
i._fanpai[e.seatid] = 1;
this.fanpaiAnimation(e.seatid, e.hand, e.maxHand, e.type, !1);
} else {
this._cuopai[e.seatid] = 1;
this.cuopaiAnimation(e.seatid, function() {
if (1 != i._fanpai[e.seatid]) {
i._fanpai[e.seatid] = 1;
i.fanpaiAnimation(e.seatid, e.hand, e.maxHand, e.type, !1);
}
});
}
}
},
auto_ready: function() {
this.autoready--;
this.nodeJiesuan.getChildByName("btn_ready").getChildByName("lbl").getComponent(cc.Label).string = this.autoready;
if (this.autoready <= 0) {
this.autoready = 0;
this.unschedule(this.auto_ready);
}
},
jiesuan: function(e) {
var i = this;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
this.autoready = 10;
this._zhuang = e.zhuang;
this.schedule(this.auto_ready, 1);
this.tip(null);
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
var t = this;
this._itemkaipai && (this._itemkaipai.active = !1);
for (var a = 0, n = 0; n < e.list.length; n++) 0 != e.list[n].userid && a++;
if (!this.isStage) for (n = 0; n < cc.vv.roomMgr.ren; ++n) 1 != this._kaipai[e.list[n].seatid] && this.kaipai({
seatid: e.list[n].seatid,
userid: e.list[n].userid,
hand: e.list[n].hand,
maxHand: [ e.list[n].hand[0], e.list[n].hand[1] ],
type: e.list[n].type
});
setTimeout(function() {
t.is_Kaipaibtn || t.huifuPai();
}, 1e3);
setTimeout(function() {
i.mingpaiValue = e.mingpai.length;
}, 3e3);
for (n = 0; n < a; ++n) {
var s = cc.vv.roomMgr.viewChairID(n);
0 == e.list[n].userSitStatus && t.table.seat_emit(s, "score", e.list[n].user_score);
e.list[n].round_score > 0 ? t.table.seat_emit(s, "win", e.list[n].round_score) : t.table.seat_emit(s, "lost", e.list[n].round_score);
}
var c = this.nodeJiesuan.getChildByName("viewlist").getChildByName("view").getChildByName("list");
this.nodeJiesuan.getChildByName("roomID").getComponent(cc.Label).string = "房间号：" + cc.vv.roomMgr.enter.room_id;
this.nodeJiesuan.getChildByName("date").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("wanfa").getComponent(cc.Label).string = "第" + e.nowRound + "局 " + cc.vv.roomMgr.enter.desc;
for (n = 0; n < c.children.length; ++n) c.children[n].active = !1;
this.nodeJiesuan.getChildByName("roomID").active = !0;
this.nodeJiesuan.getChildByName("wanfa").active = !0;
this.nodeJiesuan.getChildByName("date").active = !0;
a = e.list.length;
for (n = 0; n < a; ++n) if (0 != e.list[n].userid) {
s = cc.vv.roomMgr.viewChairID(n);
var o = e.list[n].nickname, h = this.table.seat_img(s), r = c.getChildByName("item" + s);
r.x = c.children[n].x;
r.y = c.children[n].y;
r.active = !0;
r.getChildByName("img").getComponent(cc.Sprite).spriteFrame = h;
r.getChildByName("name").getComponent(cc.Label).string = o;
n == this._zhuang ? r.getChildByName("zhuang").active = !0 : r.getChildByName("zhuang").active = !1;
var l = r.getChildByName("score").getComponent(cc.Label), d = r.getChildByName("pai1").getChildByName("New Sprite").getComponent(cc.Sprite), g = r.getChildByName("pai2").getChildByName("New Sprite").getComponent(cc.Sprite);
d.spriteFrame = t.dianshuAtlas.getSpriteFrame("card" + e.list[n].hand[0]);
g.spriteFrame = t.dianshuAtlas.getSpriteFrame("card" + e.list[n].hand[1]);
if (0 == cc.vv.tempDataMgr.pokerNine) {
var u = r.getChildByName("pai3").getChildByName("New Sprite").getComponent(cc.Sprite), _ = r.getChildByName("pai4").getChildByName("New Sprite").getComponent(cc.Sprite);
u.spriteFrame = t.dianshuAtlas.getSpriteFrame("card" + e.list[n].hand[2]);
_.spriteFrame = t.dianshuAtlas.getSpriteFrame("card" + e.list[n].hand[3]);
}
var v = r.getChildByName("score1").getComponent(cc.Label), p = n;
2 == cc.vv.roomMgr.param.dao ? v.string = "两道(" + e.list[p].dao[0] + " " + e.list[p].dao[1] + ")" : 3 == cc.vv.roomMgr.param.dao && (v.string = "三道(" + e.list[p].dao[0] + " " + e.list[p].dao[1] + " " + e.list[p].dao[2] + ")");
v.node.height >= 72 && (v.fontSize = 22);
var m = r.getChildByName("dianshu1").getComponent(cc.Sprite), f = r.getChildByName("dianshu2").getComponent(cc.Sprite);
m.spriteFrame = t.typeAtlas.getSpriteFrame("cardType" + e.list[n].type[0]);
f.spriteFrame = t.typeAtlas.getSpriteFrame("cardType" + e.list[n].type[1]);
var y = t.nodeJiesuan.getChildByName("title").getComponent(cc.Sprite), C = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_player_text").getComponent(cc.Sprite), b = t.nodeJiesuan.getChildByName("end_bg").getChildByName("end_socre_text").getComponent(cc.Sprite);
if (e.list[p].round_score > 0) {
l.string = "+" + e.list[p].round_score;
if (cc.vv.userMgr.userid == e.list[p].userid) {
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shengli");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
b.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
} else if (e.list[p].round_score < 0) {
l.string = e.list[p].round_score;
if (cc.vv.userMgr.userid == e.list[p].userid) {
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shibai");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("hui_wanjia");
b.spriteFrame = t.jiesuanAtlas.getSpriteFrame("hui_jifen");
}
} else {
l.string = e.list[p].round_score;
if (cc.vv.userMgr.userid == e.list[p].userid) {
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("shengli");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
b.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
}
if (1 == e.list[n].userSitStatus) {
r.getChildByName("watch").active = !0;
l.string = "-";
v.string = "-";
} else r.getChildByName("watch").active = !1;
if (1 == this.watch_game()) {
y.spriteFrame = t.jiesuanAtlas.getSpriteFrame("guanzhan");
C.spriteFrame = t.jiesuanAtlas.getSpriteFrame("wanjia");
b.spriteFrame = t.jiesuanAtlas.getSpriteFrame("jifen");
}
}
cc.vv.audioMgr.playSFX("nn/chips");
for (n = 0; n < a; n++) {
0 == (s = cc.vv.roomMgr.viewChairID(e.list[n].seatid)) && (e.list[n].round_score < 0 ? setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_lose");
}, 2e3) : setTimeout(function() {
cc.vv.audioMgr.playSFX("ddz/game_win");
}, 2e3));
}
function w() {
t.nodeJiesuan.active = !0;
t.nodeJiesuan.getChildByName("btn_ready").scale = 1;
cc.vv.utils.popPanel(t.nodeJiesuan);
}
var x = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
setTimeout(function() {
w();
}, 2e3);
for (n = 0; n < a; n++) {
var z = cc.callFunc(function() {});
if (e.list[n].seatid != this._zhuang) if (e.list[n].round_score < 0) {
var k = cc.vv.roomMgr.viewChairID(e.list[n].seatid);
if (!x[M = cc.vv.roomMgr.viewChairID(this._zhuang)]) continue;
this.playBetByXY(this._winPlayer, x[k].x, x[k].y, x[M].x, x[M].y, 10, .5, z);
} else if (e.list[n].round_score > 0) {
k = cc.vv.roomMgr.viewChairID(this._zhuang);
var M = cc.vv.roomMgr.viewChairID(e.list[n].seatid);
if (!x[k]) continue;
this.playBetByXY(this._winPlayer, x[k].x, x[k].y, x[M].x, x[M].y, 10, .5, z);
}
}
setTimeout(function() {
t.nodeJiesuan.active = !0;
cc.vv.roomMgr.is_replay || i.mingpai(e);
}, 2500);
if (cc.vv.roomMgr.is_replay) {
cc.find("Canvas/report/jiesuan/btn_ready").active = !1;
}
},
report: function(e) {
this.node.getChildByName("pop").removeAllChildren();
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
this.nodeReport.getChildByName("otherScore").getComponent(cc.Label).string = "其他:" + e.otherScore;
this.table.hide_dismiss_room();
var i = this.nodeReport.getChildByName("list1");
i.removeAllChildren();
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.enter.room_id;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeReport.getChildByName("roomwanfa").getComponent(cc.Label).string = "玩法:" + cc.vv.roomMgr.enter.desc;
for (var t = 0, a = 0; a < e.list.length; ++a) if (e.list[a].result_score < t) {
t = e.list[a].result_score;
a;
}
var n = 0;
for (a = 0; a < e.list.length; ++a) e.list[a].userid > 0 && n++;
n = cc.vv.roomMgr.ren;
for (a = 0; a < n; ++a) if (0 != e.list[a].userid && 1 == e.list[a].hasJoinedBattle) {
var s = cc.vv.roomMgr.viewChairID(a), c = {
name: e.list[a].name,
userid: e.list[a].userid,
headimg: e.list[a].headimg,
winNum: e.list[a].winNum,
Kill: e.list[a].Kill,
die: e.list[a].die,
EightAndNine: e.list[a].EightAndNine,
score: e.list[a].result_score,
dayingjia: e.list[a].result_score == e.list[0].result_score && 0 != e.list[0].result_score,
datuhao: e.list[a].result_score == t && 0 != e.list[a].result_score
}, o = cc.instantiate(this.reportItemPrefab);
i.addChild(o);
o.emit("info", c);
0 == s && (this.nodeReport.getChildByName("score").getComponentInChildren(cc.Label).string = "+" + e.list[a].coins);
}
},
new_real_count: function(e) {},
stage: function(e) {
cc.vv.net2.is_not_deal = !1;
this.new_round();
this.watch_game_list();
this.is_operation = !0;
this.Received_xiazhuok = !0;
this.node.getChildByName("pop").removeAllChildren();
this.nodeAllPai && this.nodeAllPai.removeAllChildren();
cc.vv.roomMgr.stage = e;
this.isStage = !0;
cc.vv.roomMgr.real = e.real;
if (e) {
cc.vv.roomMgr.started = 1;
cc.vv.roomMgr.real = e.real;
cc.vv.roomMgr.now = e.round;
null == e.round && (cc.vv.roomMgr.now = e.now);
}
this.table._winReady.emit("begin");
this.table._winHub.emit("begin");
e.mingpai && this.showMingPai(e);
if (e.tuoguan) if (1 == e.tuoguan[cc.vv.roomMgr.seatid]) {
this.isTuoguan = !0;
this.tuoguanNode.active = !0;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
} else if (0 == e.tuoguan[cc.vv.roomMgr.seatid]) {
this.isTuoguan = !1;
this.tuoguanNode.active = !1;
}
switch (e.stage) {
case 1:
case 2:
this.auto_tips(e.deal_time, "不抢庄");
this.kaiqiang();
for (var i = 0; i < cc.vv.roomMgr.real; ++i) {
var t = cc.vv.roomMgr.viewChairID(i);
0 != e.qiangZhuang[i] && this.showOrHideQiangzhuang(t, 1 == e.qiangZhuang[i]);
}
break;

case 3:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
break;

case 4:
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.yaoShaiziZhuang = !0;
this.saizi_animation(e);
break;

case 5:
this.auto_tips(e.deal_time, "下注最小注");
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai();
for (var a = e.xiazhu, n = 0; n < cc.vv.roomMgr.real; n++) {
var s = a[n];
if (n != this._zhuang) {
this._currdao = e.nextDao;
for (var c = 0; c < s.length; c++) this.xiazhu_stage({
seatid: n,
nowDao: c + 1,
nextDao: c + 2,
power: s[c]
});
}
n == cc.vv.roomMgr.seatid && (e.zhuang != cc.vv.roomMgr.seatid && 0 != this.isXiaZhu(s) ? this.show_xiazhu() : this.tip("tjd_xiazhu"));
}
break;

case 6:
this.auto_tips(e.deal_time, "开牌");
this._zhuang = e.zhuang;
t = cc.vv.roomMgr.viewChairID(e.zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.showAllPai(!0);
this.showAllXiazhu(e);
this.xiazhuok();
this.showcuopai = !0;
for (i = 0; i < e.kaipai.length; i++) if (1 == e.kaipai[i]) {
if (0 == (t = cc.vv.roomMgr.viewChairID(i))) {
this.nodeKaipai.active = !1;
this.nodeCuopai.active = !1;
}
} else {
if (0 == (t = cc.vv.roomMgr.viewChairID(i))) {
this.nodeKaipai.active = !0;
this.nodeCuopai.active = !0;
}
}
if (this.watch_game()) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
break;

case 97:
1 == e.ready && (this.node.getChildByName("watchgame").active = !1);
null != e.zhuang && (this._zhuang = e.zhuang);
t = cc.vv.roomMgr.viewChairID(this._zhuang);
this.table.seat_emit(null, "dingzhuang", {
seatid: t
});
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
this.isStage = !1;
},
xipaiAnimation: function(e) {
var i = this, t = cc.vv.game.config.xipai_pos;
this.dealXipai(t, 0, this._lie, function() {
var t = {
indexY: i._hang,
indexX: i._lie,
callback: e
};
i.nodeAllPai.emit("xipai", t);
});
},
showAllPaiAnimation: function() {
var e = cc.vv.game.config.not_xipai_pos;
this.dealXipai(e, 0, this._lie, function() {});
},
showAllPai: function(e) {
var i = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], t = this.mingpaiValue;
t >= 32 && (t = 0);
for (var a = 0; a < cc.vv.roomMgr.ren; a++) {
for (var n = [], s = [], c = [], o = [], h = (a + this.dianshu) % cc.vv.roomMgr.ren, r = cc.vv.roomMgr.viewChairID(h), l = 2 * parseInt((t / 2 + a) / this._lie), d = (t / 2 + a) % this._lie, g = 0; g < this.paiNumber; g++) {
l = 2 * parseInt((t / 2 + a * (this.paiNumber / 2) + g) / this._lie), d = (t / 2 + a * (this.paiNumber / 2) + g) % this._lie;
s[g] = l;
n[g] = d;
o[g] = l + 1;
c[g] = d;
}
for (var u = 0; u < this.paiNumber / 2; u++) {
var _ = this.hangNumber[s[u]] + "_" + this.lieNumber[n[u]];
cc.vv.utils.getChildByTag(this.nodeAllPai, _).myTag = r + "_tag_" + u * (this.paiNumber / 2);
var v = this.hangNumber[o[u]] + "_" + this.lieNumber[c[u]];
cc.vv.utils.getChildByTag(this.nodeAllPai, v).myTag = r + "_tag_" + (u * (this.paiNumber / 2) + 1);
}
0 == r && this.addcuopaiNodeArr();
e && 0 == r && this.addTouchPaiNodeMove();
for (var p = 0; p < this.paiNumber; p++) {
var m = {
viewid: r,
index: p,
x: i[r].pos.card.x + i[r].distance * parseInt(p / 2) + p % 2 * i[r].distanceX,
y: i[r].pos.card.y + i[r].distanceY * (p % 2),
scale: i[r].pos.card.scale
};
this.send_card_tag_emit(m.viewid, m.index, "showPai", m);
}
}
},
hidePai: function() {
for (var e = 0; e < cc.vv.roomMgr.ren; e++) for (var i = cc.vv.roomMgr.viewChairID(e), t = 0; t < this.paiNumber; t++) this.send_card_tag_emit(i, t, "hide");
},
hideAllType: function() {
for (var e = 0; e < cc.vv.roomMgr.ren; e++) for (var i = cc.vv.roomMgr.viewChairID(e), t = 0; t < this.paiNumber / 2; t++) this.hideType(i, t, "hide");
},
showMingPai: function(e) {
this.mingpaiValue = e.mingpai.length;
this.showAllPaiAnimation();
this.nodeAllPai.children.length;
for (var i = e.mingpai.length, t = 0; t < i / 2; t++) {
var a = 2 * parseInt(t / this._lie), n = t % this._lie, s = a + 1, c = n, o = this.hangNumber[a] + "_" + this.lieNumber[n];
cc.vv.utils.getChildByTag(this.nodeAllPai, o).destroy();
var h = this.hangNumber[s] + "_" + this.lieNumber[c];
cc.vv.utils.getChildByTag(this.nodeAllPai, h).destroy();
}
this.nodeMingpai.getChildByName("list1").removeAllChildren();
for (t = 0; t < e.mingpai.length; t++) {
var r = cc.instantiate(this.prefabTJDMingPai);
r.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.dianshuAtlas.getSpriteFrame("card" + e.mingpai[t]);
this.nodeMingpai.getChildByName("list1").addChild(r);
}
},
mingpai: function(e) {
this.nodeMingpai.getChildByName("list1").removeAllChildren();
for (var i = 0; i < e.mingpai.length; i++) {
var t = cc.instantiate(this.prefabTJDMingPai);
t.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = this.dianshuAtlas.getSpriteFrame("card" + e.mingpai[i]);
this.nodeMingpai.getChildByName("list1").addChild(t);
}
},
dealXipai: function(e, i, t, a) {
for (var n = 0; n < this._hang; n++) for (var s = i; s < t; s++) {
var c = cc.instantiate(this.PrefabMajiang);
if (c) {
var o = c.getComponent("ZPJMajiang"), h = e[n].x + s * e[n].distance - 25, r = e[n].y;
o.node.setPosition(h, r);
o.node.scale = e[n].scale;
this.nodeAllPai.addChild(c);
c.myTag = n + "_" + s;
}
n == this._hang - 1 && s == t - 1 && null != a && a();
}
},
showAllXiazhu: function(e) {
for (var i = e.xiazhu, t = 0; t < cc.vv.roomMgr.ren; t++) {
var a = i[t];
if (t != this._zhuang) {
this._currdao = e.nextDao;
for (var n = 0; n < a.length; n++) this.xiazhu_stage({
seatid: t,
nowDao: n + 1,
nextDao: n + 2,
power: a[n]
});
}
}
}
}, "new_real_count", function() {
for (var e = 0, i = cc.vv.roomMgr.table.list, t = 0; t < i.length; t++) 0 != i[t].userid && e++;
return e;
}), n(a, "kaipaiAll", function(e) {
this._kaipai = e.kaipai;
for (var i = 0; i < this._kaipai.length; i++) {
var t = cc.vv.roomMgr.viewChairID(i);
if (1 == this._kaipai[i]) {
if (0 == t) {
this.is_kaipai = !0;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
this._kaipai[i] = 0;
var a = {
seatid: i,
type: e.type[i],
hand: e.hand[i]
};
this.kaipai(a);
} else if (2 == this._kaipai[i]) {
if (0 == t) {
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeKaipai.scale = 1;
}
} else if (0 == t) {
this.is_kaipai = !1;
this.nodeCuopai.active = !0;
this.nodeKaipai.active = !0;
this.nodeCuopai.scale = 1;
this.nodeKaipai.scale = 1;
}
}
if (this.watch_game()) {
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
}), n(a, "huifuPai", function() {
for (var e = 0; e < this.paiNumber; e++) this.send_card_tag_emit(0, e, "setDown");
if (null != this.maxType) {
var i = cc.vv.utils.deepCopy(this.pkarr), t = i.indexOf(this.maxType[0]);
i[t] = -1;
var a = i.indexOf(this.maxType[1]);
this.send_card_tag_emit(0, t, "setTop");
this.send_card_tag_emit(0, a, "setTop");
this.showSelfDianshuHuiFu();
}
}), n(a, "showOrHideQiangzhuang", function(e, i) {
var t = new cc.Node("isQiangzhuang"), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = t.addComponent(cc.Sprite);
n.spriteFrame = 1 == i ? this.spriteFrameQiangzhuang : this.spriteFrameBuqiangzhuang;
this.nodeIsQiangZhuang.addChild(t);
t.x = a[e].x + a[e].pos.ready.x;
t.y = a[e].y;
t.active = !0;
}), n(a, "beginXiazhu", function(e) {
this.auto_tips(e.time, "下注最小注");
cc.vv.roomMgr.seatid != this._zhuang ? this.isBeginXiazhu = !0 : this.tip("tjd_xiazhu");
}), n(a, "show_xiazhu", function() {
if (1 != cc.vv.roomMgr.is_replay && !this.watch_game()) {
var e = null;
-1 == this._currdao && (e = null);
1 == this._currdao ? e = "text_bet1" : 2 == this._currdao ? e = "text_bet2" : 3 == this._currdao && (e = "text_bet3");
this.xiazhutip(e);
this.nodeXiazhu.children[0].active = !1;
if (-1 == this._currdao) this.nodeXiazhu.active = !1; else {
this.nodeXiazhu.active = !0;
for (var i = 0; i < this.nodeXiazhu.childrenCount; i++) this.nodeXiazhu.children[i].scale = 1;
}
}
}), n(a, "fapai_1", function() {
var e = this;
cc.vv.audioMgr.stopSFX(this.soundSaizi);
this.soundSaizi = -1;
this.table._winHub.emit("round");
this.table.seat_emit(null, "round");
this._nodeyaosezi.angle = -0;
this.TJDSaiZiAnim.stop();
this.TJDSaiZiAnim.play("kaisezi");
cc.vv.audioMgr.playSFX("maiding");
this.isPlay = !1;
function i() {
e.yao.active = !1;
e.yao1.active = !1;
var i = e.fapai1Data;
e.dianshu = i.num[0] + i.num[1];
var t = e.dianshu, a = cc.vv.roomMgr.viewChairID(t % cc.vv.roomMgr.ren), n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
e._nodeyaosezi.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, n[a].x, n[a].y + 10), cc.scaleTo(.5, .5, .5)), cc.callFunc(function() {
e.shaizitip(null);
e.fapaiAnimation();
setTimeout(function() {
e._nodeyaosezi.active = !1;
}, 1e3);
})));
}
setTimeout(function() {
i();
}, 1e3);
}), n(a, "tuoguan", function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.isTuoguan = !0;
this.tuoguanNode.active = !0;
this.nodeZhuang.active = !1;
this.nodeXiazhu.active = !1;
this.nodeCuopai.active = !1;
this.nodeKaipai.active = !1;
}
}), n(a, "cancleTuoguan", function(e) {
if (e.seatid == cc.vv.roomMgr.seatid) {
this.isTuoguan = !1;
this.tuoguanNode.active = !1;
}
}), n(a, "tip", function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.tipDianAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
}), n(a, "xiazhutip", function(e) {
if (null != e) {
var i = e;
1 == cc.vv.tempDataMgr.pokerNine ? this.sprTipe.spriteFrame = this.tipAtlas.getSpriteFrame("tips_xiazhu") : this.sprTipe.spriteFrame = this.xiazhuAtlas.getSpriteFrame(i);
this.sprTipe.node.active = !0;
} else this.sprTipe.node.active = !1;
}), n(a, "shaizitip", function(e) {
if (null != e) {
var i = e;
this.sprTip.spriteFrame = this.tipAtlas.getSpriteFrame(i);
this.sprTip.node.active = !0;
} else this.sprTip.node.active = !1;
}), n(a, "play_tjd_mp3", function(e, i) {
var t = cc.vv.roomMgr.table.list[e].sex;
"1" != t && "2" != t && (t = "1");
var a = "ttz/" + t + "/type_" + i;
cc.vv.audioMgr.playSFX(a);
}), n(a, "touchstart", function(e) {
if (this.is_click_cuopai && !this.is_click_xuanpai) for (var i = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], t = 0; t < this.cuopaiNodeArr.length; t++) {
var a = this.cuopaiNodeArr[t], n = t * this.paiNumber / 2 + 1, s = (i = cc.vv.game.config["player_" + cc.vv.roomMgr.ren])[0].pos.card.x + i[0].distance * parseInt(n / 2) + n % 2 * i[0].distanceX, c = i[0].pos.card.y + i[0].distanceY * (n % 2);
a.x = s;
a.y = c;
}
}), n(a, "touchmove", function(e) {
if (this.is_click_cuopai && !this.is_click_xuanpai) for (var i = e.getTouches()[0].getDelta(), t = 0; t < this.cuopaiNodeArr.length; t++) {
var a = this.cuopaiNodeArr[t];
a.x += i.x;
a.y += i.y;
}
}), n(a, "touchend", function(e) {
if (this.is_click_cuopai && !this.is_click_xuanpai) {
var i = this, t = 0, a = (_ = cc.vv.game.config["player_" + cc.vv.roomMgr.ren])[o = 0].pos.card.x + _[o].distance * parseInt(t / 2) + t % 2 * _[o].distanceX, n = _[o].pos.card.y + _[o].distanceY * (t % 2);
if (this.cuopaiNodeArr[0].x >= a + 50 || this.cuopaiNodeArr[0].y >= n + 50) {
this.is_click_xuanpai = !0;
this.is_click_cuopai = !1;
for (var s = 0; s < this.cuopaiNodeArr.length; s++) {
var c = this.cuopaiNodeArr[s], o = 0, h = (t = s * this.paiNumber / 2 + 1, (_ = cc.vv.game.config["player_" + cc.vv.roomMgr.ren])[o].pos.card.x + _[o].distance * parseInt(t / 2) + t % 2 * _[o].distanceX), r = _[o].pos.card.y + _[o].distanceY * (t % 2);
c.x = h;
c.y = r;
}
var l = cc.vv.roomMgr.realChairID(o);
if (1 == this._cuopai[l]) {
var d = i.maxType, g = [ d[0], d[1] ], u = [ d[2], d[5] ];
if (1 == i._fanpai[l]) return;
i._fanpai[l] = 1;
i.fanpaiAnimation(cc.vv.roomMgr.seatid, i.pkarr, g, u, !0);
} else {
this._cuopai[l] = 1;
this.cuopaiAnimation(cc.vv.roomMgr.seatid, function() {
var e = i.maxType, t = [ e[0], e[1] ], a = [ e[2], e[5] ], n = cc.vv.roomMgr.realChairID(o);
if (1 != i._fanpai[n]) {
i._fanpai[n] = 1;
i.fanpaiAnimation(cc.vv.roomMgr.seatid, i.pkarr, t, a, !0);
}
});
}
this.nodeCuopai.active = !1;
} else for (s = 0; s < this.cuopaiNodeArr.length; s++) {
var _;
c = this.cuopaiNodeArr[s], o = 0, t = s * this.paiNumber / 2 + 1, h = (_ = cc.vv.game.config["player_" + cc.vv.roomMgr.ren])[o].pos.card.x + _[o].distance * parseInt(t / 2) + t % 2 * _[o].distanceX, 
r = _[o].pos.card.y + _[o].distanceY * (t % 2);
c.x = h;
c.y = r;
}
}
}), n(a, "addTouchPaiNode", function() {
for (var e = 0; e < this.paiNumber; e++) {
this.send_card_tag_emit(0, e, "setEnabled", {
enabled: !0
});
}
}), n(a, "removeTouchPaiNode", function() {
for (var e = 0; e < this.paiNumber; e++) {
this.send_card_tag_emit(0, e, "setEnabled", {
enabled: !1
});
}
}), n(a, "addcuopaiNodeArr", function() {
this.cuopaiNodeArr = [];
for (var e = 0; e < this.paiNumber / 2; e++) {
var i = "0_tag_" + (e * (this.paiNumber / 2) + 1), t = cc.vv.utils.getChildByTag(this.nodeAllPai, i);
this.cuopaiNodeArr.push(t);
}
}), n(a, "addTouchPaiNodeMove", function() {
for (var e = 0; e < this.paiNumber / 2; e++) {
var i = "0_tag_" + (e * (this.paiNumber / 2) + 1), t = cc.vv.utils.getChildByTag(this.nodeAllPai, i).getChildByName("bg");
if (t) {
t.on(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
t.on(cc.Node.EventType.TOUCH_END, this.touchend, this);
t.on(cc.Node.EventType.TOUCH_START, this.touchstart, this);
t.on(cc.Node.EventType.TOUCH_CANCEL, this.touchend, this);
}
}
}), n(a, "removeTouchPaiNodeMove", function() {
for (var e = 0; e < this.paiNumber / 2; e++) {
var i = "0_tag_" + (e * (this.paiNumber / 2) + 1), t = cc.vv.utils.getChildByTag(this.nodeAllPai, i), a = t.getChildByName("bg");
if (a) {
a.off(cc.Node.EventType.TOUCH_MOVE, this.touchmove, this);
a.off(cc.Node.EventType.TOUCH_END, this.touchend, this);
a.off(cc.Node.EventType.TOUCH_START, this.touchstart, this);
a.off(cc.Node.EventType.TOUCH_CANCEL, this.touchend, this);
}
var n = this.cuopaiNodeArr.indexOf(t);
this.cuopaiNodeArr.splice(n, 1);
}
}), n(a, "fapaiAnimation", function() {
var e = this;
setTimeout(function() {
e.is_operation = !0;
}, 3e3);
for (var i = this.mingpaiValue, t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], a = 0; a < cc.vv.roomMgr.ren; a++) {
for (var n = [], s = [], c = [], o = [], h = cc.vv.roomMgr.viewChairID((a + this.dianshu) % cc.vv.roomMgr.ren), r = 0; r < this.paiNumber; r++) {
var l = 2 * parseInt((i / 2 + a * (this.paiNumber / 2) + r) / this._lie), d = (i / 2 + a * (this.paiNumber / 2) + r) % this._lie;
s[r] = l;
n[r] = d;
o[r] = l + 1;
c[r] = d;
}
for (var g = 0; g < this.paiNumber / 2; g++) {
var u = this.hangNumber[s[g]] + "_" + this.lieNumber[n[g]], _ = cc.vv.utils.getChildByTag(this.nodeAllPai, u);
if (null == _) return;
_.myTag = h + "_tag_" + g * (this.paiNumber / 2);
var v = this.hangNumber[o[g]] + "_" + this.lieNumber[c[g]];
cc.vv.utils.getChildByTag(this.nodeAllPai, v).myTag = h + "_tag_" + (g * (this.paiNumber / 2) + 1);
}
if (0 == h) {
this.addcuopaiNodeArr();
this.addTouchPaiNodeMove();
}
for (var p = 0; p < this.paiNumber; p++) {
var m = null;
m = p == this.paiNumber - 1 ? function(i, t) {
cc.vv.audioMgr.playSFX("tjd/ttz_card_send");
i == cc.vv.roomMgr.viewChairID((e.dianshu + (cc.vv.roomMgr.ren - 1)) % cc.vv.roomMgr.ren) && (e.isBeginXiazhu ? e.show_xiazhu() : e.tip("tjd_xiazhu"));
} : function() {};
var f = {
viewid: h,
index: p,
x: t[h].pos.card.x + t[h].distance * parseInt(p / 2) + p % 2 * t[h].distanceX,
y: t[h].pos.card.y + t[h].distanceY * (p % 2),
scale: t[h].pos.card.scale,
delayTime: (100 + 500 * a) / 1e3,
callback: m
};
e.send_card_tag_emit(f.viewid, f.index, "fapai", f);
}
}
}), n(a, "fanpaiAnimation", function(e, i, t, a, n) {
for (var s = this, c = cc.vv.roomMgr.viewChairID(e), o = (cc.vv.game.config["player_" + cc.vv.roomMgr.ren], 
0); o < s.paiNumber; o++) {
var h = function(e, i, t, a) {};
o == s.paiNumber - 1 && (h = function(e, i, t, a, c) {
if (null != c) {
if (0 == cc.vv.tempDataMgr.pokerNine) {
for (var o = 0; o < s.paiNumber; o++) s.send_card_tag_emit(e, o, "setDown");
var h = cc.vv.utils.deepCopy(t), r = h.indexOf(a[0]);
h[r] = -1;
var l = h.indexOf(a[1]);
s.send_card_tag_emit(e, r, "setTop");
s.send_card_tag_emit(e, l, "setTop");
}
s.showDianshu(e, c);
0 == e && (n ? s.addTouchPaiNode() : s.removeTouchPaiNode());
}
});
var r = {
viewid: c,
index: o,
value: i[o],
valuearr: i,
maxPai: t,
maxType: a,
callback: h
};
s.send_card_tag_emit(r.viewid, r.index, "trun", r);
}
}), n(a, "cuopaiAnimation", function(e, i) {
for (var t = cc.vv.roomMgr.viewChairID(e), a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = 0; n < this.paiNumber; n++) {
if (0 == t) for (var s = 0; s < this.cuopaiNodeArr.length; s++) {
t = 0;
var c = this.cuopaiNodeArr[s], o = s * this.paiNumber / 2, h = (a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren])[t].pos.card.x + a[t].distance * parseInt(o / 2) + o % 2 * a[t].distanceX, r = a[t].pos.card.y + a[t].distanceY * (o % 2);
c.x = h;
c.y = r;
}
if (n % 2 != 0) {
var l = function() {};
n == this.paiNumber - 1 && (l = function() {
i();
});
var d = {
viewid: t,
index: n,
distance: -a[t].distance * (this.paiNumber / 2),
distanceH: a[t].distanceY,
callback: l
};
this.send_card_tag_emit(d.viewid, d.index, "fapaianimation", d);
}
}
}), n(a, "nextxiazhu", function(e) {
1 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
}) : 2 == this._currdao ? cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
}) : 3 == this._currdao && cc.vv.net2.quick("xiazhu", {
dao: this._currdao,
power: e
});
}), n(a, "showDianshu", function(e, i) {
this.hideTypeOnePlay(e);
for (var t = 0; t < this.paiNumber / 2; t++) {
var a = cc.vv.game.config["player_" + cc.vv.roomMgr.ren], n = cc.instantiate(this.PrefabDianshu);
n.myTag = e + "_type_" + t;
n.getComponent(cc.Sprite).spriteFrame = this.typeAtlas.getSpriteFrame("cardType" + i[t]);
n.setPosition(a[e].pos.card.x + a[e].dianshuX, a[e].pos.card.y + 50 * t + +a[e].dianshuH);
this.nodeAllPai.addChild(n);
}
cc.vv.log3.debug("类型 " + i[0]);
cc.vv.log3.debug("类型 " + i[1]);
}), n(a, "showSelfDianshu", function() {
this.hideTypeOnePlay();
var e = this.getMaxType();
this.showDianshu(0, e);
}), n(a, "getMaxType", function() {
var e = [], i = (this.maxType, this.pkarr), t = this.paitype, a = cc.vv.game.kaipaiArr, n = cc.vv.utils.deepCopy(i), s = n.indexOf(a[0]);
n.splice(s, 1);
var c = n.indexOf(a[1]);
n.splice(c, 1);
for (var o = 0; o < t.length; o++) {
(t[o][0] == a[0] && t[o][1] == a[1] || t[o][0] == a[1] && t[o][1] == a[0]) && (e[0] = t[o][2]);
(t[o][0] == n[0] && t[o][1] == n[1] || t[o][0] == n[1] && t[o][1] == n[0]) && (e[1] = t[o][2]);
}
return e;
}), n(a, "showSelfDianshuHuiFu", function() {
this.hideTypeOnePlay();
var e = [ this.maxType[2], this.maxType[5] ];
this.showDianshu(0, e);
}), n(a, "playBetByXY", function(e, i, t, a, n, s, c, o) {
for (var h = 0; h < s; h++) {
var r = new cc.Node("getMoneyNode");
r.addComponent(cc.Sprite).spriteFrame = this.moneyGold.getSpriteFrame("common_fen_img");
r.setPosition(2 * (Math.random() - .5) * 70 + i, t + 2 * (Math.random() - .5) * 70);
var l = cc.v2(a, n), d = cc.moveTo(.1 * h + 1, l);
d.easing(cc.easeQuinticActionOut());
e.addChild(r);
h == s - 1 ? r.runAction(cc.sequence(cc.delayTime(c), d, o, cc.removeSelf())) : r.runAction(cc.sequence(cc.delayTime(c), d, cc.removeSelf()));
}
}), n(a, "hideType", function(e, i) {
var t = e + "_type_" + i, a = cc.vv.utils.getChildByTag(this.nodeAllPai, t);
null != a && a.destroy();
}), n(a, "hideTypeOnePlay", function(e) {
for (var i = 0; i < this.paiNumber / 2; i++) this.hideType(e, i, "hide");
}), n(a, "isXiaZhu", function(e) {
for (var i = 0, t = 0; t < e.length; t++) 0 == e[t] && i++;
return i;
}), n(a, "watch", function(e) {
for (var i = cc.vv.roomMgr.guanzhan_table.list, t = 0; t < i.length; t++) if (i[t].userid == cc.vv.userMgr.userid) {
this.node.getChildByName("watchgame").active = !0;
var a = this.node.getChildByName("sit");
0 == e.canSit.length ? a.active = !1 : a.active = !0;
}
var n = cc.vv.roomMgr.viewChairID(e.seatid);
cc.vv.utils.getChildByTag(this._winPlayer, n).getChildByName("Recharge").active = !1;
if (e.userid == cc.vv.userMgr.userid) {
this.tip("zhunbei");
this.new_round();
a.active = !0;
}
}), n(a, "initEventSeZi", function(e) {
var i = this;
this.yao.on("touchstart", function(e) {
1 != i.isAutoYao && cc.vv.roomMgr.seatid == i._zhuang && cc.vv.audioMgr.playSFXRepeat("sezi", function(e) {
cc.vv.audioMgr.stopSFX(i.soundSaizi);
i.soundSaizi = e;
});
}, this);
this.yao.on("touchmove", function(e) {
if (0 == this.isPlay) {
this.isPlay = !0;
this.TJDSaiZiAnim.play("yaosezimove");
}
var i = e.touch.getDelta(), t = i.x, a = i.y;
this._nodeyaosezi.setPosition(this._nodeyaosezi.x + t, this._nodeyaosezi.y + a);
}, this);
this.yao.on("touchend", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
this.yao.on("touchcancel", function(e) {
this.yao.off("touchmove");
this.yao.off("touchend");
this.yao.off("touchcancel");
cc.vv.net2.quick("getEnd");
this.fapai_1();
this.shaizitip(null);
}, this);
}), n(a, "send_card_emit", function(e, i, t, a) {
var n = e + "_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
}), n(a, "send_card_tag_emit", function(e, i, t, a) {
var n = e + "_tag_" + i, s = cc.vv.utils.getChildByTag(this.nodeAllPai, n);
s && s.emit(t, a);
}), n(a, "onDestroy", function() {
cc.loader.setAutoRelease(this, !0);
cc.vv.audioMgr.stopSFX(this.soundSaizi);
}), n(a, "onBtnClicked", function(e, i) {
switch (e.target.name) {
case "btn_buqiang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("buqiangzhuang", {
power: -1
});
break;

case "btn_qiangzhuang":
this.nodeZhuang.active = !1;
cc.vv.net2.quick("qiangzhuang", {
power: 1
});
break;

case "btn_xiazhu":
var t = parseInt(i);
this.nextxiazhu(t);
break;

case "tishi":
cc.vv.net2.quick("tishi");
break;

case "kaipai":
var a = this.kaipaiArr;
cc.vv.net2.quick("kaipai", {
poker1: a[0],
poker2: a[1]
});
this.is_Kaipaibtn = !0;
break;

case "cuopai":
this.cuopai();
break;

case "btn_tuoguan":
cc.vv.net2.quick("tuoguan");
break;

case "btn_quxiaotuoguan":
cc.vv.net2.quick("cancleTuoguan");
}
cc.vv.audioMgr.click();
}), n(a, "onTestBtnClicked", function(e, i) {
switch (e.target.name) {
case "test":
this.onButtonQieGuo();
}
cc.vv.audioMgr.click();
}), n(a, "testData", function(e, i) {
this.node.emit(e, i);
}), n(a, "onButtonQieGuo", function() {
cc.vv.roomMgr.real = 5;
this.testData("fapai", {
errcode: 0,
data: {
auto: 1,
round: 1,
num: [ 3, 3 ],
start: 2,
max_round: 20,
real: 2,
xiPai: 1
},
errmsg: "ok",
model: "game",
event: "fapai"
});
}), a));
cc._RF.pop();
}, {
ZPJ2800Const: "ZPJ2800Const",
ZPJ2800ReplayMgr: "ZPJ2800ReplayMgr"
} ],
ZPJ2800Mgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c4f419MA8BJKrTu21fuAVB0", "ZPJ2800Mgr");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {},
prepareReplay: function() {
this.dispatchEvent("parma", {
data: cc.vv.roomMgr.param
});
cc.vv.roomMgr.real = cc.vv.roomMgr.enter.real;
},
dispatchEvent: function(e, i) {
this.node && this.node.emit(e, i);
},
doQiang: function(e) {
for (var i = e.qiang, t = e.zhuang, a = {}, n = 0; n < i.length; n++) {
a[n + ""] = i[n];
}
this.dispatchEvent("dingzhuang", {
data: {
seatid: t,
list: a
}
});
},
doDingZhuang: function(e) {
this.dispatchEvent("fapai", {
data: {
num: [ e.touzi[0], e.touzi[1] ],
xiPai: 0,
mingpai: e.mingpai
}
});
},
doGetEnd: function(e) {
this.dispatchEvent("getEnd");
},
doXiaZhu: function(e) {
e.length;
this.dispatchEvent("showAllXiazhu", {
data: {
xiazhu: e,
nextDao: 1
}
});
},
doKaipai: function(e) {
for (var i = cc.vv.roomMgr.real, t = 0; t < i; t++) {
cc.vv.roomMgr.viewChairID(t);
this.dispatchEvent("kaipai", {
data: {
seatid: t,
hand: e.data.hand[t].hand,
type: e.data.type[t],
maxHand: [ e.data.hand[t].hand[0], e.data.hand[t].hand[1] ]
}
});
}
}
});
cc._RF.pop();
}, {} ],
ZPJ2800ReplayMgr: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "71d50ixZpJO+rYQ68ayaroa", "ZPJ2800ReplayMgr");
cc.Class({
extends: cc.Component,
properties: {
_lastAction: null,
_actionRecords: null,
_jiesuan: null,
_currentIndex: 0
},
onLoad: function() {},
clear: function() {
this._lastAction = null;
this._actionRecords = null;
this._currentIndex = 0;
},
init: function(e, i) {
this._actionRecords = e;
this._jiesuan = i;
null == this._actionRecords && (this._actionRecords = {});
this._currentIndex = 0;
this._lastAction = null;
},
isReplay: function() {
return null != this._actionRecords;
},
getNextAction: function() {
if (this._currentIndex >= this._actionRecords.length) {
null != this._jiesuan && this._currentIndex > 0 && cc.vv.ZPJMgr.node.emit("jiesuan", {
data: this._jiesuan
});
return null;
}
var e = this._actionRecords[this._currentIndex++];
return {
data: e.data,
action: e.action,
type: e.type
};
},
takeAction: function() {
var e = this.getNextAction();
this._lastAction = e;
if (null == e) return -1;
if ("score" == e.action) {
for (var i = cc.vv.roomMgr.table.list, t = 0; t < i.length; ++t) {
var a = cc.vv.roomMgr.viewChairID(i[t].seatid);
cc.vv.ZPJMgr.node.getComponent("Table").seat_emit(a, "score", e.data[t].score);
}
return .5;
}
if ("dingZhuang" == e.action) {
cc.vv.ZPJMgr.doQiang(e.data);
return 2;
}
if ("touZi" == e.action) {
cc.vv.ZPJMgr.doDingZhuang(e.data);
return 1;
}
if ("getEnd" == e.action) {
cc.vv.ZPJMgr.doGetEnd(e.data);
return 3;
}
if ("xiaZhu" == e.action) {
cc.vv.ZPJMgr.doXiaZhu(e.data);
return 1;
}
if ("hand" == e.action) {
cc.vv.ZPJMgr.doKaipai(e);
return 1;
}
}
});
cc._RF.pop();
}, {} ],
ZPJMajiang: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b6ddca92JhEpJlCyReYvaFl", "ZPJMajiang");
cc.Class({
extends: cc.Component,
properties: {
dtjCardType: {
default: null,
type: cc.SpriteAtlas
},
zpjCards: {
default: null,
type: cc.SpriteAtlas
},
bg: cc.Node,
dian: cc.Node,
_value: 255,
_index: -1,
_scaleX: 1,
_scaleY: 1,
_select: 0
},
onLoad: function() {
this._y = this.node.y;
this._x = this.node.x;
this._scaleX = this.node.scaleY;
this._scaleY = this.node.scaleY;
this.initEventHandlers();
},
start: function() {},
initEventHandlers: function() {
var e = this;
this.node.on("fapai", function(i) {
e.fapai(i);
});
this.node.on("showPai", function(i) {
e.showPai(i);
});
this.node.on("fapaianimation", function(i) {
e.fapaianimation(i);
});
this.node.on("setTag", function(i) {
e.setTag(i);
});
this.node.on("trun", function(i) {
e.trun(i);
});
this.node.on("show", function(i) {
e.show(i);
});
this.node.on("setTop", function(i) {
e.setTop(i);
});
this.node.on("setDown", function(i) {
e.setDown(i);
});
this.node.on("hide", function(i) {
e.hide(i);
});
this.node.on("setEnabled", function(i) {
var t = i.enabled;
e.setEnabled(t);
});
},
fapai: function(e) {
var i = this, t = .1, a = e.viewid, n = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this._old_y = n[a].pos.card.y;
null != e.delayTime && (t = e.delayTime);
i.node.runAction(cc.sequence(cc.delayTime(t), cc.spawn(cc.scaleTo(.25, e.scale, e.scale), cc.moveTo(.25, cc.v2(e.x, e.y))), cc.callFunc(function() {
i._scaleX = e.scale;
i._scaleY = e.scale;
i.node.scale = e.scale;
null != e.callback && e.callback(e.viewid, e.index);
})));
},
showPai: function(e) {
this.node.scale = e.scale;
this._scaleX = e.scale;
this._scaleY = e.scale;
var i = e.viewid, t = cc.vv.game.config["player_" + cc.vv.roomMgr.ren];
this._old_y = t[i].pos.card.y;
this.node.setPosition(cc.v2(e.x, e.y));
null != e.callback && e.callback(e.viewid, e.index);
},
setTag: function(e) {
var i = e.viewid + "_tag_" + e.index;
this.node.myTag = i;
null != e.callback && e.callback(e.viewid, e.index);
},
fapaianimation: function(e) {
var i = this, t = .1;
null != e.delayTime && (t = e.delayTime);
i.node.runAction(cc.sequence(cc.delayTime(t), cc.moveBy(.25, cc.v2(e.distance, 0)), cc.delayTime(.1), cc.moveBy(.25, cc.v2(0, -e.distanceH)), cc.callFunc(function() {
i._y = i.node.y;
null != e.callback && e.callback(e.viewid, e.index, e.maxPai, e.maxType);
})));
},
trun: function(e) {
var i = this, t = .1;
null != e.delayTime && (t = e.delayTime);
255 == i._value && 0 != e.value && e.value && i.node.runAction(cc.sequence(cc.delayTime(t), cc.scaleTo(.25, 0, i._scaleY), cc.callFunc(function() {
i.bg.getComponent(cc.Sprite).spriteFrame = i.zpjCards.getSpriteFrame("card_back_1");
i.dian.getComponent(cc.Sprite).spriteFrame = i.zpjCards.getSpriteFrame("card" + e.value);
i.dian.active = !0;
i._value = e.value;
}), cc.delayTime(.1), cc.scaleTo(.25, -i._scaleX, i._scaleY), cc.callFunc(function() {
i.node.scaleX = -i._scaleX;
i.node.scaleY = i._scaleY;
i._scaleX = -i._scaleX;
i.dian.scaleX = 1;
null != e.callback && e.callback(e.viewid, e.index, e.valuearr, e.maxPai, e.maxType);
})));
},
onPaiClicked: function(e, i) {
cc.vv.audioMgr.click();
if (0 == this._select) {
this._select = 1;
this.node.y = this._old_y + 30;
cc.vv.game.kaipaiArr.push(this._value);
} else if (1 == this._select) {
this._select = 0;
this.node.y = this._old_y;
var t = cc.vv.game.kaipaiArr.indexOf(this._value);
cc.vv.game.kaipaiArr.splice(t, 1);
}
if (2 != cc.vv.game.kaipaiArr.length) {
cc.vv.game.nodeKaipai.getComponent(cc.Button).interactable = !1;
cc.vv.game.hideTypeOnePlay(0);
} else {
cc.vv.game.nodeKaipai.getComponent(cc.Button).interactable = !0;
cc.vv.game.showSelfDianshu();
}
},
setEnabled: function(e) {
var i = this.node.getChildByName("bg").getComponent(cc.Button);
i || (i = this.node.getChildByName("bg").addComponent(cc.Button));
if (e) {
i.clickEvents = [];
var t = new cc.Component.EventHandler();
t.target = this.node;
t.component = "ZPJMajiang";
t.handler = "onPaiClicked";
t.customEventData = this.node.myTag;
i.clickEvents.push(t);
} else i.clickEvents = [];
},
setTop: function(e) {
this._select = 1;
this.node.y = this._old_y + 30;
},
setDown: function(e) {
this._select = 0;
this.node.y = this._old_y;
},
show: function(e) {
if (255 == this._value) {
this.bg.getComponent(cc.Sprite).spriteFrame = this.zpjCards.getSpriteFrame("card_back_1");
this.dian.getComponent(cc.Sprite).spriteFrame = this.zpjCards.getSpriteFrame("card" + e.value);
this.dian.node.active = !0;
this._value = e.value;
null != e.callback && e.callback(e.viewid, e.index);
}
},
hide: function() {
this.node.destroy();
}
});
cc._RF.pop();
}, {} ],
ZPJXipai: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "45db6+SUSdFUL7vqki7p8Me", "ZPJXipai");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
start: function() {},
initEventHandlers: function() {
var e = this;
this.node.on("xipai", function(i) {
e.xipaiAnimation(i);
});
},
xipaiAnimation: function(e) {
for (var i = this, t = (this.node.children, function(t) {
for (var a = function(a) {
n = t + "_" + a;
s = cc.vv.utils.getChildByTag(i.node, n);
1 != t && 3 != t || s.runAction(cc.moveBy(.3, -4, -205));
if (0 == t || 1 == t) {
s.runAction(cc.sequence(cc.delayTime(.3), cc.moveBy(.3, 0, 132), cc.callFunc(function() {
null != e.callback && e.callback(t, a);
})));
} else {
s.runAction(cc.sequence(cc.delayTime(.3), cc.moveBy(.3, 0, -132), cc.callFunc(function() {
null != e.callback && e.callback(t, a);
})));
}
}, c = 0; c < e.indexX; c++) a(c);
}), a = 0; a < e.indexY; a++) {
var n, s;
t(a);
}
}
});
cc._RF.pop();
}, {} ],
arrow: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "327bbp850hHAqp/xekW/kGd", "arrow");
cc.Class({
extends: cc.Component,
properties: {
sichuan_room_fangxiang_001: cc.Node,
sichuan_room_fangxiang_002: cc.Node,
sichuan_room_fangxiang_003: cc.Node,
sichuan_room_fangxiang_004: cc.Node,
texiao1: cc.Node,
texiao2: cc.Node,
texiao3: cc.Node,
texiao4: cc.Node,
dong: cc.Node,
nan: cc.Node,
xi: cc.Node,
bei: cc.Node,
tableAtlas: {
default: null,
type: cc.SpriteAtlas
},
labelLblTime: cc.Label
},
onLoad: function() {
this.initEventHandlers();
},
start: function() {},
initEventHandlers: function() {
var e = this;
this.node.on("showLight", function(i) {
e.showLight(i.data);
});
this.node.on("hideLight", function() {
e.hideLight();
});
this.node.on("lastLight", function(i) {
e.lastLight(i.data);
});
this.node.on("changeNum", function(i) {
e.changeNum(i.data);
});
this.node.on("allLight", function() {
e.allLight();
});
this.node.on("setDirection", function() {
e.setDirection();
});
},
showLight: function(e) {
this.hideLight();
switch (e.position) {
case "myself":
this.sichuan_room_fangxiang_001.active = !0;
break;

case "right":
this.sichuan_room_fangxiang_004.active = !0;
break;

case "up":
this.sichuan_room_fangxiang_003.active = !0;
break;

case "left":
this.sichuan_room_fangxiang_002.active = !0;
}
},
lastLight: function(e) {
switch (e.position) {
case "myself":
this.texiao1.getComponent(cc.Animation).play("arrowlight");
this.sichuan_room_fangxiang_001.getComponent(cc.Animation).play("trun_flash");
break;

case "right":
this.texiao4.getComponent(cc.Animation).play("arrowlight");
this.sichuan_room_fangxiang_004.getComponent(cc.Animation).play("trun_flash");
break;

case "up":
this.texiao3.getComponent(cc.Animation).play("arrowlight");
this.sichuan_room_fangxiang_003.getComponent(cc.Animation).play("trun_flash");
break;

case "left":
this.texiao2.getComponent(cc.Animation).play("arrowlight");
this.sichuan_room_fangxiang_002.getComponent(cc.Animation).play("trun_flash");
}
},
hideLight: function() {
this.sichuan_room_fangxiang_001.active = !1;
this.sichuan_room_fangxiang_002.active = !1;
this.sichuan_room_fangxiang_003.active = !1;
this.sichuan_room_fangxiang_004.active = !1;
},
changeNum: function(e) {
this.labelLblTime.string = e.count;
},
allLight: function() {
this.sichuan_room_fangxiang_001.active = !0;
this.sichuan_room_fangxiang_002.active = !0;
this.sichuan_room_fangxiang_003.active = !0;
this.sichuan_room_fangxiang_004.active = !0;
},
setDirection: function() {
var e = this, i = 0;
cc.vv.roomMgr.is_replay && (i = 1500);
setTimeout(function() {
e.node.runAction(cc.sequence(cc.rotateBy(.5, 1800), cc.callFunc(function() {
for (var i = cc.vv.mahjongMgr._sides, t = 0; t < i.length; ++t) {
var a = i[cc.vv.roomMgr.viewChairID(t)], n = i[t], s = e.nan;
switch (a) {
case "right":
s = e.dong;
break;

case "up":
s = e.bei;
break;

case "left":
s = e.xi;
}
var c = "img_feng_south";
switch (n) {
case "right":
c = "img_feng_east";
break;

case "up":
c = "img_feng_north";
break;

case "left":
c = "img_feng_west";
}
s.getComponent(cc.Sprite).spriteFrame = e.tableAtlas.getSpriteFrame(c);
}
}, e)));
}, i);
}
});
cc._RF.pop();
}, {} ],
baopai: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "1c38bubFbxOCLoE1fTwCq4u", "baopai");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.initEventHandlers();
},
start: function() {},
initEventHandlers: function() {
var e = this;
this.node.on("dingBaopai", function() {
e.dingBaopai();
});
},
dingBaopai: function() {
this.node.getComponent(cc.Animation).play();
}
});
cc._RF.pop();
}, {} ],
baozi_action: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "6c03fGQKcZH7aTcOYui6poy", "baozi_action");
cc.Class({
extends: cc.Component,
properties: {},
start: function() {}
});
cc._RF.pop();
}, {} ],
ddz_1800_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e1097b6K0dGHKoWfCYi4Tn6", "ddz_1800_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
_TAndt: 0,
_FAndf: 0,
difen: cc.Label,
_gameMoShi: "jindian"
},
onLoad: function() {
this.index = 0;
this.difenArr = [ "1", "2", "3", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_ddz_1800");
if (e) {
var i = JSON.parse(e), t = i.ju;
switch (i.ju) {
case "10ju":
t = "8ju";
break;

case "20ju":
t = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zha"), i.zha);
this.difen.string = i.difen;
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), i.gameMoShi);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.la);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.ti);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("buxipai"), i.xipai, 1);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("jipaiqi"), i.remeberCard, 1);
this.node.getChildByName("gametype").getChildByName("FAndf").getComponent(cc.Toggle).isChecked = 1 == i.FAndf;
this.node.getChildByName("gametype").getChildByName("TAndt").getComponent(cc.Toggle).isChecked = 1 == i.TAndt;
null != i.mingpai && (this.node.getChildByName("gametype").getChildByName("mingpai").getComponent(cc.Toggle).isChecked = 1 == i.mingpai);
i.fangzuobi && cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
if (null != i.gameMoShi) {
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(i.gameMoShi);
this.onBtnMoShi(n);
if ("0" == i.gameMoShi) for (var a = 0; a < this.difenArr.length; a++) i.difen == this.difenArr[a] && (this.index = a);
} else {
var n, s = "1" == i.difen ? "1" : "0";
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), s);
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(s);
this.onBtnMoShi(n);
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf, t = i.ju;
switch (i.ju) {
case "10ju":
t = "8ju";
break;

case "20ju":
t = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zha"), i.zha);
this.difen.string = i.difen;
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), i.gameMoShi);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.la);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.ti);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("buxipai"), i.xipai, 1);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("jipaiqi"), i.remeberCard, 1);
this.node.getChildByName("gametype").getChildByName("FAndf").getComponent(cc.Toggle).isChecked = 1 == i.FAndf;
this.node.getChildByName("gametype").getChildByName("TAndt").getComponent(cc.Toggle).isChecked = 1 == i.TAndt;
null != i.mingpai && (this.node.getChildByName("gametype").getChildByName("mingpai").getComponent(cc.Toggle).isChecked = 1 == i.mingpai);
i.fangzuobi && cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
if (null != i.gameMoShi) {
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(i.gameMoShi);
this.onBtnMoShi(n);
if ("0" == i.gameMoShi) for (var a = 0; a < this.difenArr.length; a++) i.difen == this.difenArr[a] && (this.index = a);
} else {
var n, s = "1" == i.difen ? "1" : "0";
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), s);
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(s);
this.onBtnMoShi(n);
}
},
onBtnMoShi: function(e) {
var i = !1;
this._gameMoShi = "jindian";
switch (e.node.name) {
case "0":
i = !0;
this._gameMoShi = "guding";
}
this.node.getChildByName("difen").active = i;
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
},
onBtnDifen: function(e) {
if (null != e.node) {
var i = !0;
switch (e.node.name) {
case "1":
i = !1;
}
this.node.getChildByName("lati").active = i;
}
},
onBtnZha: function(e) {
var i = !0;
switch (e.node.name) {
case "0zha":
i = !1;
}
this.node.getChildByName("buxipai").getChildByName("buxipai").getComponent(cc.Toggle).isChecked = i;
},
onBtnBuxipai: function(e) {
switch (e.node.name) {
case "buxipai":
if (e.isChecked) {
"0zha" == cc.vv.utils.toggleChecked(this.node.getChildByName("zha")) && cc.vv.utils.setToggleChecked(this.node.getChildByName("zha"), "3zha");
}
}
},
onTiLaToggle: function(e, i) {
if (null != e.node) {
var t = this.node.getChildByName("lati"), a = t.getChildByName("la").getComponent(cc.Toggle).isChecked ? "la" : "", n = t.getChildByName("ti").getComponent(cc.Toggle).isChecked ? "ti" : "";
switch (e.node.name) {
case "ti":
"ti" == n && (t.getChildByName("la").getComponent(cc.Toggle).isChecked = !0);
break;

case "la":
"" == a && (t.getChildByName("ti").getComponent(cc.Toggle).isChecked = !1);
}
}
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("zha")), t = this.node.getChildByName("lati"), a = "", n = "";
if (t.active) {
a = t.getChildByName("la").getComponent(cc.Toggle).isChecked ? "la" : "";
n = t.getChildByName("ti").getComponent(cc.Toggle).isChecked ? "ti" : "";
}
var s = this.node.getChildByName("buxipai").getChildByName("buxipai").getComponent(cc.Toggle).isChecked ? 1 : 0, c = this.node.getChildByName("gametype"), o = c.getChildByName("FAndf").getComponent(cc.Toggle).isChecked ? 1 : 0, h = c.getChildByName("TAndt").getComponent(cc.Toggle).isChecked ? 1 : 0, r = c.getChildByName("mingpai").getComponent(cc.Toggle).isChecked ? 1 : 0, l = this.node.getChildByName("jipaiqi").getChildByName("jipaiqi").getComponent(cc.Toggle).isChecked ? 1 : 0, d = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), g = cc.vv.utils.toggleChecked(this.node.getChildByName("gameMoShi")), u = [];
switch (e) {
case "1ju":
u.push("1局");
break;

case "4ju":
u.push("4局");
break;

case "8ju":
u.push("8局");
break;

case "16ju":
u.push("16局");
}
var _ = this.difen.string;
if ("1" == g) {
_ = "1";
u.push("经典");
} else switch (_) {
case "1":
u.push("1分");
break;

case "2":
u.push("2分");
break;

case "3":
u.push("3分");
break;

case "5":
u.push("5分");
break;

case "10":
u.push("10分");
break;

case "20":
u.push("20分");
break;

case "50":
u.push("50分");
}
switch (i) {
case "3zha":
u.push("3炸封顶");
break;

case "4zha":
u.push("4炸封顶");
break;

case "5zha":
u.push("5炸封顶");
break;

case "0zha":
u.push("不封顶");
}
switch (a) {
case "la":
u.push("可加倍");
}
switch (n) {
case "ti":
u.push("可再加倍");
}
switch (s) {
case 1:
u.push("不洗牌");
}
switch (h) {
case 1:
u.push("三带一对");
}
switch (o) {
case 1:
u.push("四带两对");
}
switch (l) {
case 1:
u.push("开启记牌器");
}
switch (r) {
case 1:
u.push("明牌");
}
switch (d) {
case "1":
u.push("防作弊");
}
return {
name: "ddz_1800",
title: "经典斗地主",
desc: u,
ju: e,
xipai: s,
ti: n,
la: a,
zha: i,
difen: _,
TAndt: h,
FAndf: o,
ren: "3ren",
remeberCard: l,
fangzuobi: d,
gameMoShi: g,
mingpai: r
};
}
});
cc._RF.pop();
}, {} ],
ddz_1801_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b22a1qSA41OJr4Pe1N8SZ+X", "ddz_1801_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
_TAndt: 0,
_FAndf: 0,
difen: cc.Label,
_gameMoShi: "jindian"
},
onLoad: function() {
this.index = 0;
this.difenArr = [ "1", "2", "3", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_ddz_1801");
if (e) {
var i = JSON.parse(e), t = i.ju;
switch (i.ju) {
case "10ju":
t = "8ju";
break;

case "20ju":
t = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zha"), i.zha);
this.difen.string = i.difen;
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), i.gameMoShi);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.la);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.ti);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("buxipai"), i.xipai, 1);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("jipaiqi"), i.remeberCard, 1);
this.node.getChildByName("gametype").getChildByName("FAndf").getComponent(cc.Toggle).isChecked = 1 == i.FAndf;
this.node.getChildByName("gametype").getChildByName("TAndt").getComponent(cc.Toggle).isChecked = 1 == i.TAndt;
null != i.mingpai && (this.node.getChildByName("gametype").getChildByName("mingpai").getComponent(cc.Toggle).isChecked = 1 == i.mingpai);
i.fangzuobi && cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
if (null != i.gameMoShi) {
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(i.gameMoShi);
this.onBtnMoShi(n);
if ("0" == i.gameMoShi) for (var a = 0; a < this.difenArr.length; a++) i.difen == this.difenArr[a] && (this.index = a);
} else {
var n, s = "1" == i.difen ? "1" : "0";
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), s);
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(s);
this.onBtnMoShi(n);
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf, t = i.ju;
switch (i.ju) {
case "10ju":
t = "8ju";
break;

case "20ju":
t = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zha"), i.zha);
this.difen.string = i.difen;
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), i.gameMoShi);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.la);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.ti);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("buxipai"), i.xipai, 1);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("jipaiqi"), i.remeberCard, 1);
this.node.getChildByName("gametype").getChildByName("FAndf").getComponent(cc.Toggle).isChecked = 1 == i.FAndf;
this.node.getChildByName("gametype").getChildByName("TAndt").getComponent(cc.Toggle).isChecked = 1 == i.TAndt;
null != i.mingpai && (this.node.getChildByName("gametype").getChildByName("mingpai").getComponent(cc.Toggle).isChecked = 1 == i.mingpai);
i.fangzuobi && cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
if (null != i.gameMoShi) {
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(i.gameMoShi);
this.onBtnMoShi(n);
if ("0" == i.gameMoShi) for (var a = 0; a < this.difenArr.length; a++) i.difen == this.difenArr[a] && (this.index = a);
} else {
var n, s = "1" == i.difen ? "1" : "0";
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), s);
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(s);
this.onBtnMoShi(n);
}
},
onBtnMoShi: function(e) {
var i = !1;
this._gameMoShi = "jindian";
switch (e.node.name) {
case "0":
i = !0;
this._gameMoShi = "guding";
}
this.node.getChildByName("difen").active = i;
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
},
onBtnDifen: function(e) {
if (null != e.node) {
var i = !0;
switch (e.node.name) {
case "1":
i = !1;
}
this.node.getChildByName("lati").active = i;
}
},
onBtnZha: function(e) {
var i = !0;
switch (e.node.name) {
case "0zha":
i = !1;
}
this.node.getChildByName("buxipai").getChildByName("buxipai").getComponent(cc.Toggle).isChecked = i;
},
onBtnBuxipai: function(e) {
switch (e.node.name) {
case "buxipai":
if (e.isChecked) {
"0zha" == cc.vv.utils.toggleChecked(this.node.getChildByName("zha")) && cc.vv.utils.setToggleChecked(this.node.getChildByName("zha"), "3zha");
}
}
},
onTiLaToggle: function(e, i) {
if (null != e.node) {
var t = this.node.getChildByName("lati"), a = t.getChildByName("la").getComponent(cc.Toggle).isChecked ? "la" : "", n = t.getChildByName("ti").getComponent(cc.Toggle).isChecked ? "ti" : "";
switch (e.node.name) {
case "ti":
"ti" == n && (t.getChildByName("la").getComponent(cc.Toggle).isChecked = !0);
break;

case "la":
"" == a && (t.getChildByName("ti").getComponent(cc.Toggle).isChecked = !1);
}
}
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("zha")), t = this.node.getChildByName("lati"), a = "", n = "";
if (t.active) {
a = t.getChildByName("la").getComponent(cc.Toggle).isChecked ? "la" : "";
n = t.getChildByName("ti").getComponent(cc.Toggle).isChecked ? "ti" : "";
}
var s = this.node.getChildByName("buxipai").getChildByName("buxipai").getComponent(cc.Toggle).isChecked ? 1 : 0, c = this.node.getChildByName("gametype"), o = c.getChildByName("FAndf").getComponent(cc.Toggle).isChecked ? 1 : 0, h = c.getChildByName("TAndt").getComponent(cc.Toggle).isChecked ? 1 : 0, r = c.getChildByName("mingpai").getComponent(cc.Toggle).isChecked ? 1 : 0, l = this.node.getChildByName("jipaiqi").getChildByName("jipaiqi").getComponent(cc.Toggle).isChecked ? 1 : 0, d = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), g = cc.vv.utils.toggleChecked(this.node.getChildByName("gameMoShi")), u = [];
switch (e) {
case "1ju":
u.push("1局");
break;

case "4ju":
u.push("4局");
break;

case "8ju":
u.push("8局");
break;

case "16ju":
u.push("16局");
}
var _ = this.difen.string;
if ("1" == g) {
_ = "1";
u.push("经典");
} else switch (_) {
case "1":
u.push("1分");
break;

case "2":
u.push("2分");
break;

case "3":
u.push("3分");
break;

case "5":
u.push("5分");
break;

case "10":
u.push("10分");
break;

case "20":
u.push("20分");
break;

case "50":
u.push("50分");
}
switch (i) {
case "3zha":
u.push("3炸封顶");
break;

case "4zha":
u.push("4炸封顶");
break;

case "5zha":
u.push("5炸封顶");
break;

case "0zha":
u.push("不封顶");
}
switch (a) {
case "la":
u.push("可加倍");
}
switch (n) {
case "ti":
u.push("可再加倍");
}
switch (s) {
case 1:
u.push("不洗牌");
}
switch (h) {
case 1:
u.push("三带一对");
}
switch (o) {
case 1:
u.push("四带两对");
}
switch (l) {
case 1:
u.push("开启记牌器");
}
switch (r) {
case 1:
u.push("明牌");
}
switch (d) {
case "1":
u.push("防作弊");
}
return {
name: "ddz_1801",
title: "癞子斗地主",
desc: u,
ju: e,
xipai: s,
ti: n,
la: a,
zha: i,
difen: _,
TAndt: h,
FAndf: o,
ren: "3ren",
remeberCard: l,
fangzuobi: d,
gameMoShi: g,
mingpai: r
};
}
});
cc._RF.pop();
}, {} ],
ddz_1803_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "6a01fqLVJBLa4HMQh11OgzB", "ddz_1803_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
_TAndt: 0,
_FAndf: 0,
difen: cc.Label,
_gameMoShi: "jindian"
},
onLoad: function() {
this.index = 0;
this.difenArr = [ "1", "2", "3", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_ddz_1803");
if (e) {
var i = JSON.parse(e), t = i.ju;
switch (i.ju) {
case "10ju":
t = "8ju";
break;

case "20ju":
t = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zha"), i.zha);
this.difen.string = i.difen;
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), i.gameMoShi);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.la);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.ti);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("buxipai"), i.xipai, 1);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("jipaiqi"), i.remeberCard, 1);
this.node.getChildByName("gametype").getChildByName("FAndf").getComponent(cc.Toggle).isChecked = 1 == i.FAndf;
this.node.getChildByName("gametype").getChildByName("TAndt").getComponent(cc.Toggle).isChecked = 1 == i.TAndt;
this.node.getChildByName("gametype").getChildByName("boomT").getComponent(cc.Toggle).isChecked = 1 == i.boomT;
null != i.mingpai && (this.node.getChildByName("gametype").getChildByName("mingpai").getComponent(cc.Toggle).isChecked = 1 == i.mingpai);
i.fangzuobi && cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
if (null != i.gameMoShi) {
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(i.gameMoShi);
this.onBtnMoShi(n);
if ("0" == i.gameMoShi) {
this.difen.string = i.difen;
for (var a = 0; a < this.difenArr.length; a++) i.difen == this.difenArr[a] && (this.index = a);
}
} else {
var n, s = "1" == i.difen ? "1" : "0";
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), s);
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(s);
this.onBtnMoShi(n);
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf, t = i.ju;
switch (i.ju) {
case "10ju":
t = "8ju";
break;

case "20ju":
t = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zha"), i.zha);
this.difen.string = i.difen;
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), i.gameMoShi);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.la);
cc.vv.utils.setToggleChecked3(this.node.getChildByName("lati"), i.ti);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("buxipai"), i.xipai, 1);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("jipaiqi"), i.remeberCard, 1);
this.node.getChildByName("gametype").getChildByName("FAndf").getComponent(cc.Toggle).isChecked = 1 == i.FAndf;
this.node.getChildByName("gametype").getChildByName("TAndt").getComponent(cc.Toggle).isChecked = 1 == i.TAndt;
this.node.getChildByName("gametype").getChildByName("boomT").getComponent(cc.Toggle).isChecked = 1 == i.boomT;
null != i.mingpai && (this.node.getChildByName("gametype").getChildByName("mingpai").getComponent(cc.Toggle).isChecked = 1 == i.mingpai);
i.fangzuobi && cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
if (null != i.gameMoShi) {
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(i.gameMoShi);
this.onBtnMoShi(n);
if ("0" == i.gameMoShi) {
this.difen.string = i.difen;
for (var a = 0; a < this.difenArr.length; a++) i.difen == this.difenArr[a] && (this.index = a);
}
} else {
var n, s = "1" == i.difen ? "1" : "0";
cc.vv.utils.setToggleChecked(this.node.getChildByName("gameMoShi"), s);
(n = new cc.Event.EventCustom("click", !0)).node = this.node.getChildByName("gameMoShi").getChildByName(s);
this.onBtnMoShi(n);
}
},
onBtnMoShi: function(e) {
var i = !1;
this._gameMoShi = "jindian";
switch (e.node.name) {
case "0":
i = !0;
this._gameMoShi = "guding";
}
this.node.getChildByName("difen").active = i;
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
},
onBtnDifen: function(e) {
if (null != e.node) {
var i = !0;
switch (e.node.name) {
case "1":
i = !1;
}
this.node.getChildByName("lati").active = i;
}
},
onBtnZha: function(e) {
var i = !0;
switch (e.node.name) {
case "0zha":
i = !1;
}
this.node.getChildByName("buxipai").getChildByName("buxipai").getComponent(cc.Toggle).isChecked = i;
},
onBtnBuxipai: function(e) {
switch (e.node.name) {
case "buxipai":
if (e.isChecked) {
"0zha" == cc.vv.utils.toggleChecked(this.node.getChildByName("zha")) && cc.vv.utils.setToggleChecked(this.node.getChildByName("zha"), "3zha");
}
}
},
onTiLaToggle: function(e, i) {
if (null != e.node) {
var t = this.node.getChildByName("lati"), a = t.getChildByName("la").getComponent(cc.Toggle).isChecked ? "la" : "", n = t.getChildByName("ti").getComponent(cc.Toggle).isChecked ? "ti" : "";
switch (e.node.name) {
case "ti":
"ti" == n && (t.getChildByName("la").getComponent(cc.Toggle).isChecked = !0);
break;

case "la":
"" == a && (t.getChildByName("ti").getComponent(cc.Toggle).isChecked = !1);
}
}
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("zha")), t = this.node.getChildByName("lati"), a = "", n = "";
if (t.active) {
a = t.getChildByName("la").getComponent(cc.Toggle).isChecked ? "la" : "";
n = t.getChildByName("ti").getComponent(cc.Toggle).isChecked ? "ti" : "";
}
var s = this.node.getChildByName("buxipai").getChildByName("buxipai").getComponent(cc.Toggle).isChecked ? 1 : 0, c = this.node.getChildByName("gametype"), o = c.getChildByName("FAndf").getComponent(cc.Toggle).isChecked ? 1 : 0, h = c.getChildByName("TAndt").getComponent(cc.Toggle).isChecked ? 1 : 0, r = c.getChildByName("boomT").getComponent(cc.Toggle).isChecked ? 1 : 0, l = c.getChildByName("mingpai").getComponent(cc.Toggle).isChecked ? 1 : 0, d = this.node.getChildByName("jipaiqi").getChildByName("jipaiqi").getComponent(cc.Toggle).isChecked ? 1 : 0, g = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), u = cc.vv.utils.toggleChecked(this.node.getChildByName("gameMoShi")), _ = [];
switch (e) {
case "1ju":
_.push("1局");
break;

case "4ju":
_.push("4局");
break;

case "8ju":
_.push("8局");
break;

case "16ju":
_.push("16局");
}
var v = this.difen.string;
if ("1" == u) {
v = "1";
_.push("经典");
} else switch (v) {
case "1":
_.push("1分");
break;

case "2":
_.push("2分");
break;

case "3":
_.push("3分");
break;

case "5":
_.push("5分");
break;

case "10":
_.push("10分");
break;

case "20":
_.push("20分");
break;

case "50":
_.push("50分");
}
switch (i) {
case "3zha":
_.push("3炸封顶");
break;

case "4zha":
_.push("4炸封顶");
break;

case "5zha":
_.push("5炸封顶");
break;

case "0zha":
_.push("不封顶");
}
switch (a) {
case "la":
_.push("可加倍");
}
switch (n) {
case "ti":
_.push("可再加倍");
}
switch (s) {
case 1:
_.push("不洗牌");
}
switch (h) {
case 1:
_.push("三带一对");
}
switch (o) {
case 1:
_.push("四带两对");
}
switch (r) {
case 1:
_.push("333炸弹");
}
switch (d) {
case 1:
_.push("开启记牌器");
}
switch (l) {
case 1:
_.push("明牌");
}
switch (g) {
case "1":
_.push("防作弊");
}
return {
name: "ddz_1803",
title: "临汾斗地主",
desc: _,
ju: e,
xipai: s,
ti: n,
la: a,
zha: i,
difen: v,
TAndt: h,
FAndf: o,
boomT: r,
ren: "3ren",
remeberCard: d,
fangzuobi: g,
gameMoShi: u,
mingpai: l
};
}
});
cc._RF.pop();
}, {} ],
dq_2700_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "2f6e55bY29Byr6Hkmepz618", "dq_2700_config");
cc.Class({
extends: cc.Component,
properties: {
difen: cc.Label
},
onLoad: function() {
this.index = 0;
this.difenArr = [ "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_dq_2700");
if (e) {
var i = JSON.parse(e), t = i.ju;
switch (i.ju) {
case "4ju":
case "6ju":
case "8ju":
t = "6ju";
}
var a = i.koudi;
switch (i.koudi) {
case "0":
a = "1";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("maxPower"), i.maxPower);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gametype").getChildByName("koudi"), a);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gametype").getChildByName("touwu"), i.touwu);
this.node.getChildByName("gametype").getChildByName("fanpai").getComponent(cc.Toggle).isChecked = 1 == i.fanpai;
this.node.getChildByName("gametype").getChildByName("zDouble").getComponent(cc.Toggle).isChecked = 0 == i.zDouble;
i.difen && (this.difen.string = i.difen);
for (var n = 0; n < this.difenArr.length; n++) this.difen.string == this.difenArr[n] && (this.index = n);
}
},
loadSaveConfig2: function(e) {
var i = e.conf, t = i.ju;
switch (i.ju) {
case "4ju":
case "6ju":
case "8ju":
t = "6ju";
}
var a = i.koudi;
switch (i.koudi) {
case "0":
a = "1";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("maxPower"), i.maxPower);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gametype").getChildByName("koudi"), a);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gametype").getChildByName("touwu"), i.touwu);
this.node.getChildByName("gametype").getChildByName("fanpai").getComponent(cc.Toggle).isChecked = 1 == i.fanpai;
this.node.getChildByName("gametype").getChildByName("zDouble").getComponent(cc.Toggle).isChecked = 0 == i.zDouble;
i.difen && (this.difen.string = i.difen);
for (var n = 0; n < this.difenArr.length; n++) this.difen.string == this.difenArr[n] && (this.index = n);
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
},
wenhao_tips: function(e) {
switch (e.target.name) {
case "koudi2":
cc.vv.popMgr.alert("翻2倍：扣底分数固定翻2倍");
break;

case "koudijiaji":
cc.vv.popMgr.alert("扣底加级翻倍：单张2倍，对子4倍，拖拉机8倍");
}
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("maxPower")), a = this.node.getChildByName("gametype"), n = a.getChildByName("fanpai").getComponent(cc.Toggle).isChecked ? 1 : 0, s = cc.vv.utils.toggleChecked(a.getChildByName("koudi")), c = a.getChildByName("zDouble").getComponent(cc.Toggle).isChecked ? 0 : 1, o = cc.vv.utils.toggleChecked(a.getChildByName("touwu")), h = [];
switch (e) {
case "6ju":
h.push("6局");
break;

case "12ju":
h.push("12局");
}
switch (i) {
case "4ren":
h.push("4人");
break;

case "5ren":
h.push("5人");
}
h.push("底分" + this.difen.string);
switch (t) {
case "0":
h.push("不封顶");
break;

case "3":
h.push("3级封顶");
break;

case "5":
h.push("5级封顶");
}
switch (n) {
case 1:
h.push("翻牌");
}
switch (s) {
case "1":
h.push("扣底翻2倍");
break;

case "2":
h.push("扣底加级翻倍");
}
switch (c) {
case 0:
h.push("庄家单打赢双倍");
}
switch (o) {
case "1":
h.push("头五张叫主翻倍");
break;

default:
o = "0";
}
return {
name: "dq_2700",
title: "打七",
desc: h,
ju: e,
difen: this.difen.string,
koudi: s,
fanpai: n,
zDouble: c,
ren: i,
maxPower: t,
touwu: o
};
}
});
cc._RF.pop();
}, {} ],
dq_ReportItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "41731s00ItFmpe9GUOPqeRT", "dq_ReportItem");
cc.Class({
extends: cc.Component,
properties: {
nodeDayingjia: cc.Node,
nodeDatuhao: cc.Node,
lblName: cc.Label,
lblId: cc.Label,
spriteFlg: cc.Sprite,
spriteHeadimg: cc.Sprite,
lblScore: cc.Label,
checkmark: cc.Node,
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
reportAtlas: {
default: null,
type: cc.SpriteAtlas
}
},
fonty: function() {
this.node.getChildByName("score").y = this.node.getChildByName("score").y + 10;
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("info", function(i) {
e.nodeDayingjia.active = i.dayingjia;
e.nodeDatuhao.active = i.datuhao;
e.checkmark.active = i.userid == cc.vv.userMgr.userid;
e.lblName.string = i.name;
e.lblId.string = "ID:" + i.userid;
e.spriteHeadimg.getComponent("ImageLoader").loadImg(i.headimg);
if (i.score > 0) {
e.lblScore.font = e.winFont;
e.lblScore.string = "+" + i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
e.fonty();
} else if (i.score < 0) {
e.lblScore.font = e.lostFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_lose");
} else {
e.lblScore.font = e.winFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
}
});
}
});
cc._RF.pop();
}, {} ],
dsg_2100_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8d48eAjFcRAEb/iucGD2r2g", "dsg_2100_config");
cc.Class({
extends: cc.Component,
properties: {
dou1: cc.Label,
dou2: cc.Label
},
onLoad: function() {
this.loadSaveConfig();
},
loadSaveConfig: function() {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6", "满7", "满8" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4", "满5" ];
this.auto_ready_list = this.auto_ready_list_5;
var e = cc.sys.localStorage.getItem("last_game_dsg_2100");
if (e) {
var i, t = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), t.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), t.zhuang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), t.ya);
cc.vv.utils.setToggleChecked(this.node.getChildByName("feng"), t.feng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
"5ren" == t.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != t.start_mode ? 0 != t.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != t.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), t.join);
null != t.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != t.tuoGuan) {
0 == t.tuoGuan ? i = "不限" : 1 == t.tuoGuan ? i = "15" : 2 == t.tuoGuan ? i = "20" : 3 == t.tuoGuan ? i = "30" : 4 == t.tuoGuan ? i = "60" : 5 == t.tuoGuan ? i = "120" : 6 == t.tuoGuan ? i = "5" : 7 == t.tuoGuan && (i = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = i;
}
var a = new cc.Event.EventCustom("click", !0);
a.node = this.node.getChildByName("ya").getChildByName(t.ya);
this.onBtnYa(a, t.ya);
}
},
loadSaveConfig2: function(e) {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6", "满7", "满8" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4", "满5" ];
this.auto_ready_list = this.auto_ready_list_5;
var i, t = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), t.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), t.zhuang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), t.ya);
cc.vv.utils.setToggleChecked(this.node.getChildByName("feng"), t.feng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
"5ren" == t.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != t.start_mode ? 0 != t.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != t.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), t.join);
null != t.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != t.tuoGuan) {
0 == t.tuoGuan ? i = "不限" : 1 == t.tuoGuan ? i = "15" : 2 == t.tuoGuan ? i = "20" : 3 == t.tuoGuan ? i = "30" : 4 == t.tuoGuan ? i = "60" : 5 == t.tuoGuan ? i = "120" : 6 == t.tuoGuan ? i = "5" : 7 == t.tuoGuan && (i = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = i;
}
var a = new cc.Event.EventCustom("click", !0);
a.node = this.node.getChildByName("ya").getChildByName(t.ya);
this.onBtnYa(a, t.ya);
},
difenupd: function(e, i) {
var t = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string);
"0" == i ? t <= 10 && t > 1 ? t-- : 20 == t ? t = 10 : 50 == t ? t = 20 : 1 == t && (t = 10) : "1" == i && (t < 10 && t >= 1 ? t++ : 10 == t ? t = 1 : 20 == t ? t = 50 : 50 == t && (t = 1));
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t;
},
btn_tuoguan_click_event: function(e, i) {
var t = this.node.getChildByName("tuoguan").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "5" == a ? a = "10" : "10" == a ? a = "15" : "15" == a ? a = "20" : "20" == a ? a = "30" : "30" == a ? a = "60" : "60" == a ? a = "120" : "120" == a ? a = "不限" : "不限" == a && (a = "5") : "0" == i && ("5" == a ? a = "不限" : "10" == a ? a = "5" : "15" == a ? a = "10" : "20" == a ? a = "15" : "30" == a ? a = "20" : "60" == a ? a = "30" : "120" == a ? a = "60" : "不限" == a && (a = "120"));
t.getComponent(cc.Label).string = a;
},
onBtnYa: function(e, i) {
var t = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("ya"));
switch (t) {
case "5ren":
this.dou1.string = "2";
this.dou2.string = "4";
for (var n = this.auto_ready_list, s = this.node.getChildByName("autoready").getChildByName("num"), c = s.getComponent(cc.Label).string, o = 0, h = 0; h < n.length; h++) if (n[h] == c) {
o = h;
break;
}
o >= 5 && (o = 4);
s.getComponent(cc.Label).string = n[o];
this.auto_ready_list = this.auto_ready_list_5;
break;

case "8ren":
this.dou1.string = "4";
this.dou2.string = "6";
this.auto_ready_list = this.auto_ready_list_10;
}
var r = !1;
switch (a) {
case "guding":
r = !0;
}
this.node.getChildByName("feng").active = r;
},
btn_auto_ready: function(e, i) {
for (var t = this.auto_ready_list, a = this.node.getChildByName("autoready").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
Config: function(e) {
for (var i = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("zhuang")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("ya")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("feng")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("join")), h = this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string, r = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string), l = this.auto_ready_list, d = this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string, g = 0, u = 0; u < l.length; u++) if (l[u] == d) {
g = u;
break;
}
"xuan" == a && (n = "0feng");
var _ = [];
_.push("底分" + r);
switch (i) {
case "10ju":
_.push("10局");
break;

default:
_.push("20局");
}
switch (c) {
case "5ren":
_.push("5人场");
break;

case "8ren":
_.push("8人场");
}
switch (n) {
case "0feng":
break;

case "3feng":
_.push("固定3分");
break;

case "5feng":
_.push("固定5分");
break;

case "7feng":
_.push("固定7分");
break;

case "10feng":
_.push("固定10分");
}
switch (t) {
case "qiang":
_.push("抢庄");
break;

case "lunliu":
_.push("轮庄");
break;

case "fangzhu":
_.push("霸王庄");
}
switch (s) {
case "ko1":
_.push("扣1张");
break;

case "ko2":
_.push("扣2张");
break;

case "quankou":
_.push("全扣");
}
h && "不限" != h && _.push(h + "秒下注");
switch (o) {
case "yes":
_.push("中途加入");
break;

default:
o = "";
}
var v = g + 1;
1 == v && (v = 0);
0 == g ? _.push("手动开局") : _.push("满" + v + "人自动开局");
return {
name: "dsg_2100",
title: "斗三公",
desc: _,
ju: i,
wanfa: s,
dizhu: r,
ren: c,
tuoGuan: 15 == h ? 1 : 20 == h ? 2 : 30 == h ? 3 : 60 == h ? 4 : 120 == h ? 5 : 5 == h ? 6 : 10 == h ? 7 : 0,
start_mode: v,
feng: n,
zhuang: t,
ya: a,
join: o
};
}
});
cc._RF.pop();
}, {} ],
dsg_2101_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "3dbd8cBBqBHjrgUKijxOLM5", "dsg_2101_config");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.qieguo_index = 0;
this.qieguo = this.node.getChildByName("qieguo").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.qieguoArr = [ "5", "8" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_dsg_2001");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("guodi"), i.guodi);
i.fengding && (1 == i.fengding ? this.qieguo.string = "5" : 2 == i.fengding && (this.qieguo.string = "8"));
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
}
},
onBtnqieguo: function(e, i) {
switch (e.target.name) {
case "add":
this.qieguo_index += 1;
var t = this.qieguoArr.length, a = this.qieguoArr[this.qieguo_index % t];
this.qieguo.string = a;
break;

case "sub":
t = this.qieguoArr.length;
this.qieguo_index -= 1;
this.qieguo_index < 0 && (this.qieguo_index += t);
a = this.qieguoArr[this.qieguo_index % t];
this.qieguo.string = a;
}
},
Config: function() {
var e, i = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("guodi")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), s = (this.node.getChildByName("fengding").getChildByName("qieguo").getComponent(cc.Toggle).isChecked, 
[]);
switch (a) {
case "100di":
s.push("锅底100分");
cc.vv.userMgr.guodi = 100;
break;

case "200di":
s.push("锅底200分");
cc.vv.userMgr.guodi = 200;
break;

default:
s.push("锅底300分");
cc.vv.userMgr.guodi = 300;
}
switch (n) {
case "5ren":
s.push("5人场");
break;

case "10ren":
s.push("8人场");
}
if ("5" == this.qieguo.string) {
e = 1;
s.push("5倍强制切锅");
} else if ("8" == this.qieguo.string) {
e = 2;
s.push("8倍强制切锅");
}
switch (t) {
case "ko1":
s.push("扣1张");
break;

case "ko2":
s.push("扣2张");
break;

case "quankou":
s.push("全扣");
}
return {
name: "dsg_2101",
title: "加锅斗三公",
desc: s,
ju: i,
guodi: a,
fengding: e,
ren: n
};
}
});
cc._RF.pop();
}, {} ],
gameWanfa: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "39f19EiL/xLnag7JS5sxDng", "gameWanfa");
cc.Class({
extends: cc.Component,
properties: {
sprHelp: cc.Sprite,
scrollView: cc.ScrollView
},
onLoadHelp: function(e) {
var i = this;
cc.loader.loadRes("hall/help/" + e, cc.SpriteFrame, function(e, t) {
if (e) cc.error(e); else {
i.sprHelp.spriteFrame = t;
i.scrollView.scrollToTop(0);
}
});
}
});
cc._RF.pop();
}, {} ],
gsj_2500_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "5a1eeehymNI7JWhxE1TLzFN", "gsj_2500_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
difen: cc.Label
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
wenhao_tips: function(e, i) {
switch (e.target.name) {
case "yingbazhang":
cc.vv.popMgr.alert("硬八张：胡牌时需要万、筒、条、风其中一种够8张，包括点炮或自摸的第十四张牌");
break;

case "hongzhonghao":
cc.vv.popMgr.alert("红中耗子：固定红中为耗子牌");
break;

case "gangsuihuzou":
cc.vv.popMgr.alert("杠随胡走：只胡牌玩家的杠，才会算分");
}
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_gsj_2500");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa_qidui"), i.wanfa_qidui);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa_shisanyao"), i.wanfa_shisanyao);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa_yingbazhang"), i.wanfa_yingbazhang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang_zou"), i.gang_zou);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa_qidui"), i.wanfa_qidui);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa_shisanyao"), i.wanfa_shisanyao);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa_yingbazhang"), i.wanfa_yingbazhang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang_zou"), i.gang_zou);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("haozi")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa_qidui")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa_shisanyao")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa_yingbazhang")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("gang_zou")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), o = (this.difen.string, 
[]);
switch (e) {
case "4ju":
o.push("4局");
break;

case "8ju":
o.push("8局");
break;

case "16ju":
o.push("16局");
}
o.push("底分" + this.difen.string);
switch (t) {
case "1":
o.push("七小对");
}
switch (a) {
case "1":
o.push("十三幺");
}
switch (n) {
case "1":
o.push("硬八张");
}
switch (i) {
case "haozi":
o.push("随机耗子");
break;

case "hongzhonghaozi":
o.push("红中耗子");
}
switch (s) {
case "1":
o.push("杠随胡走");
}
switch (c) {
case "1":
o.push("防作弊");
}
return {
name: "gsj_2500",
title: "拐三角",
desc: o,
ju: e,
haozi: i,
wanfa_qidui: t,
wanfa_shisanyao: a,
wanfa_yingbazhang: n,
ren: "3ren",
difen: this.difen.string,
gang_zou: s,
fangzuobi: c
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
hs_3100_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "6d922VtiOFPSLNFJ3om9pm4", "hs_3100_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
difen: cc.Label,
xiayu: cc.Label
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.indexXiayu = 0;
this.xiaYuArr = [ "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_hs_3100");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
i.zimoHu && cc.vv.utils.setToggleChecked(this.node.getChildByName("zimoHu"), "zimoHu");
i.isQingYiSe && cc.vv.utils.setToggleChecked(this.node.getChildByName("isQingYiSe"), "isQingYiSe");
i.isTiaoLong && cc.vv.utils.setToggleChecked(this.node.getChildByName("isTiaoLong"), "isTiaoLong");
i.mustHu && cc.vv.utils.setToggleChecked(this.node.getChildByName("mustHu"), "mustHu");
i.huagang && cc.vv.utils.setToggleChecked(this.node.getChildByName("huagang"), "huagang");
i.threePaoOne && cc.vv.utils.setToggleChecked(this.node.getChildByName("threePaoOne"), "threePaoOne");
i.genZhuang && cc.vv.utils.setToggleChecked(this.node.getChildByName("genZhuang"), "genZhuang");
cc.vv.utils.setToggleChecked(this.node.getChildByName("hongzhonghaozi"), i.hongzhonghaozi);
i.hongzhonghaozi && cc.vv.utils.setToggleChecked(this.node.getChildByName("hongzhonghaozi"), null);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("qidui"), i.qidui);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
if (i.fish) {
var n = i.fish;
this.xiayu.string = n;
for (a = 0; a < this.xiaYuArr.length; a++) n == this.xiaYuArr[a] && (this.indexXiayu = a);
}
switch (i.ren) {
case "2ren":
var s = this.node.getChildByName("threePaoOne");
cc.vv.utils.setToggleChecked(this.node.getChildByName("threePaoOne"), null);
s.active = !1;
this.node.getChildByName("genZhuang").active = !1;
cc.vv.utils.setToggleChecked(this.node.getChildByName("genZhuang"), null);
this.node.getChildByName("wanfa").getChildByName("budaifeng").getComponent(cc.Toggle).interactable = !1;
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), "budaifeng");
break;

case "3ren":
s = this.node.getChildByName("threePaoOne");
cc.vv.utils.setToggleChecked(this.node.getChildByName("threePaoOne"), null);
s.active = !1;
this.node.getChildByName("genZhuang").active = !1;
cc.vv.utils.setToggleChecked(this.node.getChildByName("genZhuang"), null);
this.node.getChildByName("wanfa").getChildByName("budaifeng").getComponent(cc.Toggle).interactable = !0;
break;

case "4ren":
(s = this.node.getChildByName("threePaoOne")).active = !0;
this.node.getChildByName("genZhuang").active = !0;
this.node.getChildByName("wanfa").getChildByName("budaifeng").getComponent(cc.Toggle).interactable = !0;
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
i.zimoHu && cc.vv.utils.setToggleChecked(this.node.getChildByName("zimoHu"), "zimoHu");
i.isQingYiSe && cc.vv.utils.setToggleChecked(this.node.getChildByName("isQingYiSe"), "isQingYiSe");
i.isTiaoLong && cc.vv.utils.setToggleChecked(this.node.getChildByName("isTiaoLong"), "isTiaoLong");
i.mustHu && cc.vv.utils.setToggleChecked(this.node.getChildByName("mustHu"), "mustHu");
i.huagang && cc.vv.utils.setToggleChecked(this.node.getChildByName("huagang"), "huagang");
i.threePaoOne && cc.vv.utils.setToggleChecked(this.node.getChildByName("threePaoOne"), "threePaoOne");
i.genZhuang && cc.vv.utils.setToggleChecked(this.node.getChildByName("genZhuang"), "genZhuang");
cc.vv.utils.setToggleChecked(this.node.getChildByName("hongzhonghaozi"), i.hongzhonghaozi);
i.hongzhonghaozi && cc.vv.utils.setToggleChecked(this.node.getChildByName("hongzhonghaozi"), null);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("qidui"), i.qidui);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
if (i.fish) {
var n = i.fish;
this.xiayu.string = n;
for (a = 0; a < this.xiaYuArr.length; a++) n == this.xiaYuArr[a] && (this.indexXiayu = a);
}
switch (i.ren) {
case "2ren":
case "3ren":
s = this.node.getChildByName("threePaoOne");
cc.vv.utils.setToggleChecked(this.node.getChildByName("threePaoOne"), null);
s.active = !1;
this.node.getChildByName("genZhuang").active = !1;
cc.vv.utils.setToggleChecked(this.node.getChildByName("genZhuang"), null);
break;

case "4ren":
var s;
(s = this.node.getChildByName("threePaoOne")).active = !0;
this.node.getChildByName("genZhuang").active = !0;
}
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("zimoHu")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("isQingYiSe")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("isTiaoLong")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("mustHu")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("huagang")), h = cc.vv.utils.toggleChecked(this.node.getChildByName("threePaoOne")), r = cc.vv.utils.toggleChecked(this.node.getChildByName("hongzhonghaozi")), l = cc.vv.utils.toggleChecked(this.node.getChildByName("genZhuang")), d = cc.vv.utils.toggleChecked(this.node.getChildByName("qidui")), g = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), u = [];
switch (e) {
case "4ju":
u.push("4局");
break;

case "8ju":
u.push("8局");
break;

case "16ju":
u.push("16局");
}
switch (t) {
case "2ren":
u.push("2人场");
break;

case "3ren":
u.push("3人场");
break;

default:
u.push("4人场");
}
u.push("底分" + this.difen.string);
switch (i) {
case "budaifeng":
u.push("不带风");
}
switch (a) {
case "zimoHu":
u.push("只可自摸胡");
}
switch (n) {
case "isQingYiSe":
u.push("清一色");
}
switch (s) {
case "isTiaoLong":
u.push("一条龙");
}
switch (c) {
case "mustHu":
u.push("有胡必胡");
}
switch (o) {
case "huagang":
u.push("滑杠");
}
switch (h) {
case "threePaoOne":
u.push("一炮三响三归一");
}
switch (l) {
case "genZhuang":
u.push("跟庄");
}
switch (r) {
case "hongzhonghaozi":
u.push("红中赖子杠");
}
switch (d) {
case "1":
u.push("七对3番");
break;

case "1":
u.push("七对2番");
}
this.xiayu.string > 0 && u.push("下鱼" + this.xiayu.string + "条");
switch (g) {
case "1":
u.push("防作弊");
}
return {
name: "hs_3100",
title: "划水麻将",
desc: u,
ju: e,
ren: t,
wanfa: i,
zimoHu: "zimoHu" == a,
isQingYiSe: "isQingYiSe" == n,
isTiaoLong: "isTiaoLong" == s,
mustHu: "mustHu" == c,
huagang: "huagang" == o,
threePaoOne: "threePaoOne" == h,
genZhuang: "genZhuang" == l,
hongzhonghaozi: r,
difen: this.difen.string,
fish: this.xiayu.string,
qidui: d,
fangzuobi: g
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
},
onBtnXiaYuClick: function(e, i) {
switch (e.target.name) {
case "add":
this.indexXiayu += 1;
var t = this.xiaYuArr.length, a = this.xiaYuArr[this.indexXiayu % t];
this.xiayu.string = a;
break;

case "sub":
t = this.xiaYuArr.length;
this.indexXiayu -= 1;
this.indexXiayu < 0 && (this.indexXiayu += t);
a = this.xiaYuArr[this.indexXiayu % t];
this.xiayu.string = a;
}
},
onBtnYa: function(e, i) {
var t = this.node.getChildByName("threePaoOne"), a = this.node.getChildByName("genZhuang"), n = this.node.getChildByName("wanfa");
switch (cc.vv.utils.toggleChecked(this.node.getChildByName("ren"))) {
case "2ren":
t.active = !1;
cc.vv.utils.setToggleChecked(this.node.getChildByName("threePaoOne"), null);
a.active = !1;
cc.vv.utils.setToggleChecked(this.node.getChildByName("genZhuang"), null);
n.getChildByName("budaifeng").getComponent(cc.Toggle).interactable = !1;
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), "budaifeng");
break;

case "3ren":
t.active = !1;
cc.vv.utils.setToggleChecked(this.node.getChildByName("threePaoOne"), null);
a.active = !1;
cc.vv.utils.setToggleChecked(this.node.getChildByName("genZhuang"), null);
n.getChildByName("budaifeng").getComponent(cc.Toggle).interactable = !0;
break;

case "4ren":
t.active = !0;
a.active = !0;
n.getChildByName("budaifeng").getComponent(cc.Toggle).interactable = !0;
}
},
onBtnYitiaolongAndHongzhong: function(e, i) {
switch (e.target.name) {
case "isTiaoLong":
cc.vv.utils.setToggleChecked(this.node.getChildByName("hongzhonghaozi"), null);
break;

case "hongzhonghaozi":
cc.vv.utils.setToggleChecked(this.node.getChildByName("isTiaoLong"), null);
}
},
wenhao_tips: function(e, i) {
switch (e.target.name) {
case "genzhuangtishi":
cc.vv.popMgr.alert("1.指开始出牌时，庄家打出的第一张牌，其他三名闲家打出同样的牌，视为跟庄成功\n2.跟庄成功后，不管本局输赢，庄家都要输1分\n3.跟庄成功后，下局输赢：不限庄闲，放炮人多输3分，自摸每个多输2分，胡分另算");
}
}
});
cc._RF.pop();
}, {} ],
kd_1700_2_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "de3170MbeROrZ7VC5GHDLeR", "kd_1700_2_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
difen: cc.Label
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_kd_1700_2"), i = this.node.getChildByName("play_type");
if (e) {
var t = JSON.parse(e);
"suijihaozi" != t.wanfa && (t.wanfa = "");
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), t.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fengzhui"), t.fengzhui);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), t.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
cc.vv.utils.setToggleChecked4(i, "Zhuang_Score", t.Zhuang_Score);
if (t.difen) {
var a = t.difen;
this.difen.string = a;
for (var n = 0; n < this.difenArr.length; n++) a == this.difenArr[n] && (this.index = n);
}
}
},
loadSaveConfig2: function(e) {
var i = this.node.getChildByName("play_type"), t = e.conf;
"suijihaozi" != t.wanfa && (t.wanfa = "");
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), t.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fengzhui"), t.fengzhui);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), t.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
cc.vv.utils.setToggleChecked4(i, "Zhuang_Score", t.Zhuang_Score);
if (t.difen) {
var a = t.difen;
this.difen.string = a;
for (var n = 0; n < this.difenArr.length; n++) a == this.difenArr[n] && (this.index = n);
}
},
fengupd: function(e, i) {
"1" == i ? this.node.getChildByName("fengzhui").getChildByName("fengzhui").getComponent(cc.Toggle).isChecked = !1 : "0" == i && (this.node.getChildByName("wanfa").getChildByName("budaifeng").getComponent(cc.Toggle).isChecked = !1);
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = (cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), 
cc.vv.utils.toggleChecked(this.node.getChildByName("ren"))), t = cc.vv.utils.toggleChecked(this.node.getChildByName("fengzhui")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), n = this.node.getChildByName("play_type").getChildByName("Zhuang_Score").getComponent(cc.Toggle).isChecked, s = [];
switch (e) {
case "4ju":
s.push("4局");
break;

case "8ju":
s.push("8局");
break;

case "16ju":
s.push("16局");
}
switch (i) {
case "2ren":
s.push("2人场");
break;

case "3ren":
s.push("3人场");
break;

default:
s.push("4人场");
}
s.push("底分" + this.difen.string);
s.push("不带风");
switch (t) {
case "fengzhui":
s.push("风嘴子");
}
n && s.push("庄分");
switch (a) {
case "1":
s.push("防作弊");
}
return {
name: "kd_1700",
title: "扣点点",
desc: s,
ju: e,
ren: i,
wanfa: "budaifeng",
fengzhui: t,
difen: this.difen.string,
Zhuang_Score: n,
fangzuobi: a
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
kd_1700_3_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a7b2cpeMRxDKLv6FFZ6seNd", "kd_1700_3_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
difen: cc.Label
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_kd_1700_3"), i = this.node.getChildByName("play_type");
if (e) {
var t = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), t.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fengzhui"), t.fengzhui);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), t.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
cc.vv.utils.setToggleChecked4(i, "Zhuang_Score", t.Zhuang_Score);
if (t.difen) {
var a = t.difen;
this.difen.string = a;
for (var n = 0; n < this.difenArr.length; n++) a == this.difenArr[n] && (this.index = n);
}
}
},
loadSaveConfig2: function(e) {
var i = this.node.getChildByName("play_type"), t = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), t.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fengzhui"), t.fengzhui);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), t.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
cc.vv.utils.setToggleChecked4(i, "Zhuang_Score", t.Zhuang_Score);
if (t.difen) {
var a = t.difen;
this.difen.string = a;
for (var n = 0; n < this.difenArr.length; n++) a == this.difenArr[n] && (this.index = n);
}
},
fengupd: function(e, i) {
"1" == i ? this.node.getChildByName("fengzhui").getChildByName("fengzhui").getComponent(cc.Toggle).isChecked = !1 : "0" == i && (this.node.getChildByName("wanfa").getChildByName("budaifeng").getComponent(cc.Toggle).isChecked = !1);
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("fengzhui")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), s = this.node.getChildByName("play_type").getChildByName("Zhuang_Score").getComponent(cc.Toggle).isChecked, c = [];
switch (e) {
case "4ju":
c.push("4局");
break;

case "8ju":
c.push("8局");
break;

case "16ju":
c.push("16局");
}
switch (t) {
case "2ren":
c.push("2人场");
break;

case "3ren":
c.push("3人场");
break;

default:
c.push("4人场");
}
c.push("底分" + this.difen.string);
switch (i) {
case "changgui":
c.push("常规玩法");
break;

case "budaifeng":
c.push("不带风");
break;

case "fenghaozi":
c.push("风耗子");
break;

case "suijihaozi":
c.push("随机耗子");
}
s && c.push("庄分");
switch (a) {
case "fengzhui":
c.push("风嘴子");
}
return {
name: "kd_1700",
title: "扣点点",
desc: c,
ju: e,
ren: t,
wanfa: i,
fengzhui: a,
difen: this.difen.string,
Zhuang_Score: s,
fangzuobi: n
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
kd_1700_4_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a0384mbt4BDv6oQtmHXY3X2", "kd_1700_4_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
difen: cc.Label
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
wenhao_tips: function(e, i) {
switch (e.target.name) {
case "fengzuizi":
cc.vv.popMgr.alert("风嘴子：东南西北任意三张不同的牌可为一刻；中发白可为一刻");
break;

case "zhuangfen":
cc.vv.popMgr.alert("庄分：增加庄分10分的算分因子;输赢分值受报听状态、自摸或放炮等因素");
}
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_kd_1700_4"), i = this.node.getChildByName("play_type");
if (e) {
var t = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), t.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fengzhui"), t.fengzhui);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), t.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
cc.vv.utils.setToggleChecked4(i, "Zhuang_Score", t.Zhuang_Score);
if (t.difen) {
var a = t.difen;
this.difen.string = a;
for (var n = 0; n < this.difenArr.length; n++) a == this.difenArr[n] && (this.index = n);
}
}
},
loadSaveConfig2: function(e) {
var i = this.node.getChildByName("play_type"), t = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), t.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fengzhui"), t.fengzhui);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), t.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
cc.vv.utils.setToggleChecked4(i, "Zhuang_Score", t.Zhuang_Score);
if (t.difen) {
var a = t.difen;
this.difen.string = a;
for (var n = 0; n < this.difenArr.length; n++) a == this.difenArr[n] && (this.index = n);
}
},
fengupd: function(e, i) {
"1" == i ? this.node.getChildByName("fengzhui").getChildByName("fengzhui").getComponent(cc.Toggle).isChecked = !1 : "0" == i && (this.node.getChildByName("wanfa").getChildByName("budaifeng").getComponent(cc.Toggle).isChecked = !1);
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("fengzhui")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), s = this.node.getChildByName("play_type").getChildByName("Zhuang_Score").getComponent(cc.Toggle).isChecked, c = [];
switch (e) {
case "4ju":
c.push("4局");
break;

case "8ju":
c.push("8局");
break;

case "16ju":
c.push("16局");
}
switch (t) {
case "2ren":
c.push("2人场");
break;

case "3ren":
c.push("3人场");
break;

default:
c.push("4人场");
}
c.push("底分" + this.difen.string);
switch (i) {
case "changgui":
c.push("常规玩法");
break;

case "budaifeng":
c.push("不带风");
break;

case "fenghaozi":
c.push("风耗子");
break;

case "suijihaozi":
c.push("随机耗子");
}
s && c.push("庄分");
switch (a) {
case "fengzhui":
c.push("风嘴子");
}
return {
name: "kd_1700",
title: "扣点点",
desc: c,
ju: e,
ren: t,
wanfa: i,
fengzhui: a,
difen: this.difen.string,
Zhuang_Score: s,
fangzuobi: n
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
kd_1702_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "bbaffPCHRtAmoigY6qvmc0+", "kd_1702_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
difen: cc.Label
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_kd_1702"), i = this.node.getChildByName("play_type");
if (e) {
var t = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked4(i, "Wheel_Zhuang", t.Wheel_Zhuang);
cc.vv.utils.setToggleChecked4(i, "Must_Hu", t.Must_Hu);
cc.vv.utils.setToggleChecked4(i, "Bright_baris_zimo", t.Bright_baris_zimo);
cc.vv.utils.setToggleChecked4(i, "clean_OneColor_or_A_dragon", t.clean_OneColor_or_A_dragon);
cc.vv.utils.setToggleChecked4(i, "one_two_can_zimo", t.one_two_can_zimo);
cc.vv.utils.setToggleChecked4(i, "too_hu_must_zimo", t.too_hu_must_zimo);
cc.vv.utils.setToggleChecked4(i, "Seven_Pairs", t.Seven_Pairs);
cc.vv.utils.setToggleChecked4(i, "Zhuang_Score", t.Zhuang_Score);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), t.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
if (t.difen) {
var a = t.difen;
this.difen.string = a;
for (var n = 0; n < this.difenArr.length; n++) a == this.difenArr[n] && (this.index = n);
}
"0" == t.play_type ? cc.vv.utils.setToggleChecked(i, "Classic_play") : "1" == t.play_type ? cc.vv.utils.setToggleChecked(i, "Grab_Mouse") : "2" == t.play_type && cc.vv.utils.setToggleChecked(i, "Double_Mouse");
this.play_type_Choice({}, t.play_type);
}
},
loadSaveConfig2: function(e) {
var i = this.node.getChildByName("play_type"), t = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked4(i, "Wheel_Zhuang", t.Wheel_Zhuang);
cc.vv.utils.setToggleChecked4(i, "Must_Hu", t.Must_Hu);
cc.vv.utils.setToggleChecked4(i, "Bright_baris_zimo", t.Bright_baris_zimo);
cc.vv.utils.setToggleChecked4(i, "clean_OneColor_or_A_dragon", t.clean_OneColor_or_A_dragon);
cc.vv.utils.setToggleChecked4(i, "one_two_can_zimo", t.one_two_can_zimo);
cc.vv.utils.setToggleChecked4(i, "too_hu_must_zimo", t.too_hu_must_zimo);
cc.vv.utils.setToggleChecked4(i, "Seven_Pairs", t.Seven_Pairs);
cc.vv.utils.setToggleChecked4(i, "Zhuang_Score", t.Zhuang_Score);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), t.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
if (t.difen) {
var a = t.difen;
this.difen.string = a;
for (var n = 0; n < this.difenArr.length; n++) a == this.difenArr[n] && (this.index = n);
}
"0" == t.play_type ? cc.vv.utils.setToggleChecked(i, "Classic_play") : "1" == t.play_type ? cc.vv.utils.setToggleChecked(i, "Grab_Mouse") : "2" == t.play_type && cc.vv.utils.setToggleChecked(i, "Double_Mouse");
this.play_type_Choice({}, t.play_type);
},
play_type_Choice: function(e, i) {
var t = cc.sys.localStorage.getItem("last_game_kd_1702"), a = this.node.getChildByName("play_type");
this.choice_show();
if ("0" == i) {
var n = a.getChildByName("too_hu_must_zimo"), s = a.getChildByName("Seven_Pairs");
(r = a.getChildByName("Zhuang_Score")).active = !1;
s.active = !1;
n.active = !1;
(r = a.getChildByName("Zhuang_Score")).getComponent(cc.Toggle).isChecked = !1;
r.active = !1;
if (t) {
var c = JSON.parse(t);
cc.vv.utils.setToggleChecked4(a, "Must_Hu", c.Must_Hu);
cc.vv.utils.setToggleChecked4(a, "clean_OneColor_or_A_dragon", c.clean_OneColor_or_A_dragon);
}
} else if ("1" == i) {
var o = a.getChildByName("Must_Hu"), h = a.getChildByName("clean_OneColor_or_A_dragon");
o.active = !1;
h.active = !1;
(r = a.getChildByName("Zhuang_Score")).getComponent(cc.Toggle).interactable = !0;
r.getComponent(cc.Toggle).isChecked = !1;
r.active = !0;
if (t) {
c = JSON.parse(t);
cc.vv.utils.setToggleChecked4(a, "too_hu_must_zimo", c.too_hu_must_zimo);
cc.vv.utils.setToggleChecked4(a, "Seven_Pairs", c.Seven_Pairs);
}
} else if ("2" == i) {
o = a.getChildByName("Must_Hu"), h = a.getChildByName("clean_OneColor_or_A_dragon");
var r = a.getChildByName("Zhuang_Score");
o.active = !1;
h.active = !1;
r.getComponent(cc.Toggle).interactable = !0;
r.getComponent(cc.Toggle).isChecked = !1;
r.active = !0;
if (t) {
c = JSON.parse(t);
cc.vv.utils.setToggleChecked4(a, "too_hu_must_zimo", c.too_hu_must_zimo);
cc.vv.utils.setToggleChecked4(a, "Seven_Pairs", c.Seven_Pairs);
}
} else {
n = a.getChildByName("too_hu_must_zimo"), s = a.getChildByName("Seven_Pairs");
(r = a.getChildByName("Zhuang_Score")).active = !1;
s.active = !1;
n.active = !1;
(r = a.getChildByName("Zhuang_Score")).getComponent(cc.Toggle).isChecked = !1;
r.active = !1;
if (t) {
c = JSON.parse(t);
cc.vv.utils.setToggleChecked4(a, "Must_Hu", c.Must_Hu);
cc.vv.utils.setToggleChecked4(a, "clean_OneColor_or_A_dragon", c.clean_OneColor_or_A_dragon);
}
}
},
choice_show: function() {
var e = this.node.getChildByName("play_type"), i = e.getChildByName("Wheel_Zhuang"), t = e.getChildByName("Must_Hu"), a = (e.getChildByName("Bright_baris_zimo"), 
e.getChildByName("clean_OneColor_or_A_dragon")), n = e.getChildByName("one_two_can_zimo"), s = e.getChildByName("too_hu_must_zimo"), c = e.getChildByName("Seven_Pairs"), o = e.getChildByName("Zhuang_Score");
i.active = !0;
t.active = !0;
a.active = !0;
n.active = !0;
s.active = !0;
c.active = !0;
o.active = !0;
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("play_type")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), a = [];
switch (i) {
case "4ju":
a.push("4局");
break;

case "8ju":
a.push("8局");
break;

case "16ju":
a.push("16局");
}
var n = (e = this.node.getChildByName("play_type")).getChildByName("Classic_play").getComponent(cc.Toggle).isChecked, s = e.getChildByName("Grab_Mouse").getComponent(cc.Toggle).isChecked, c = e.getChildByName("Double_Mouse").getComponent(cc.Toggle).isChecked, o = e.getChildByName("Wheel_Zhuang").getComponent(cc.Toggle).isChecked, h = e.getChildByName("Must_Hu").getComponent(cc.Toggle).isChecked, r = e.getChildByName("Bright_baris_zimo").getComponent(cc.Toggle).isChecked, l = e.getChildByName("clean_OneColor_or_A_dragon").getComponent(cc.Toggle).isChecked, d = e.getChildByName("one_two_can_zimo").getComponent(cc.Toggle).isChecked, g = e.getChildByName("too_hu_must_zimo").getComponent(cc.Toggle).isChecked, u = e.getChildByName("Seven_Pairs").getComponent(cc.Toggle).isChecked, _ = e.getChildByName("Zhuang_Score").getComponent(cc.Toggle).isChecked;
if (1 == n) {
e = 0;
g = !1;
u = !1;
_ = !1;
} else if (1 == s) {
e = 1;
l = !1;
h = !1;
} else if (1 == c) {
e = 2;
l = !1;
h = !1;
}
a.push("底分" + this.difen.string);
n && a.push("经典玩法");
s && a.push("捉耗子");
c && a.push("双耗子");
o && a.push("轮庄");
h && a.push("有胡必胡");
r && a.push("明杠杠开算自摸");
l && a.push("清一色、一条龙加番");
d && a.push("1、2点可自摸");
g && a.push("过胡只能自摸");
u && a.push("七对");
_ && a.push("庄分");
switch (t) {
case "1":
a.push("防作弊");
}
return {
name: "kd_1702",
title: "吕梁麻将",
play_type: e,
Wheel_Zhuang: o,
Must_Hu: h,
Bright_baris_zimo: !1,
clean_OneColor_or_A_dragon: l,
one_two_can_zimo: d,
too_hu_must_zimo: g,
Seven_Pairs: u,
Zhuang_Score: _,
desc: a,
ju: i,
ren: "4ren",
difen: this.difen.string,
fangzuobi: t
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
majiangTable: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c6485VbvClFnoplR1jYXy4X", "majiangTable");
var a = 9, n = 11;
cc.Class({
extends: cc.Component,
properties: {
spriteMagic: cc.Sprite,
spriteMagic2: cc.Sprite,
nodeGameRoot: cc.Node,
nodeAnimationKaiju: cc.Node,
nodeAnimationBuhua: cc.Node,
nodeAnimationArrow: cc.Node,
nodeAnimationYaoshaizi: cc.Node,
nodeAnimationBaopai: cc.Node,
nodeTuodong: cc.Node,
nodeReport: cc.Node,
nodeJiesuan: cc.Node,
PrefabMajiang: cc.Prefab,
prefabPengganghuTexiao: cc.Prefab,
prefabBuhua: cc.Prefab,
prefabKaiju: cc.Prefab,
prefabArrow: cc.Prefab,
prefabYaoshaizi: cc.Prefab,
prefabBaopaione: cc.Prefab,
prefabBaopaitwo: cc.Prefab,
prefabBaopaithree: cc.Prefab,
prefabPlayEfxAnim: cc.Prefab,
reportItemPrefab: cc.Prefab,
tingpaiMJpre: cc.Prefab,
tingpaiMJpreMin: cc.Prefab,
tingPaiList_min: cc.Prefab,
jiesuanhuAtlas: {
default: null,
type: cc.SpriteAtlas
},
wallcardAtlasThreeD: {
default: null,
type: cc.SpriteAtlas
},
selfhandAtlasThreeD: {
default: null,
type: cc.SpriteAtlas
},
lefthandAtlasThreeD: {
default: null,
type: cc.SpriteAtlas
},
righthandAtlasThreeD: {
default: null,
type: cc.SpriteAtlas
},
uphandAtlasThreeD: {
default: null,
type: cc.SpriteAtlas
},
majiangbtnAtlasThreeD: {
default: null,
type: cc.SpriteAtlas
},
jiesuanAtlasThreeD: {
default: null,
type: cc.SpriteAtlas
},
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
_autoOutCrad: !1,
_baoting: 0,
_baotingchupai: !1,
_myMJArr: [],
_playEfxs: null,
_prefabPlayEfxAnim: null,
_opts: [],
_ting_chupai: [],
_ting_tingpai: [],
_ting_need: [],
_tingpai: [],
_tingpaifan: [],
_yiting: !1,
_guo_pai: null,
_ting_hupai: 0,
_tinghuhoupai: 0,
_showActoin_yse_not: !1,
_select_crad: null,
_isfrist: !1,
_isfristAction: !1,
_isfristTingAction: !1,
_isfristTing1Action: !1,
_chupaiArr: [],
_stage97: !1,
_datating: null,
_datating1: null,
_oldseatid: 0,
isShowAutoTip: !1
},
onLoad: function() {
cc.vv.log3.debug("majiangTable:onLoad");
cc.vv.majiangTable = this;
},
start: function() {
cc.vv.log3.debug("majiangTable:start");
this.initEventHandlers();
this.initEventHandlersBtn();
},
initView: function() {
if (null == this._prefabArrow) {
this._prefabArrow = cc.instantiate(this.prefabArrow);
this.nodeAnimationArrow.addChild(this._prefabArrow);
}
if (null == this._prefabBaopai1) {
this._prefabBaopai1 = cc.instantiate(this.prefabBaopaione);
this.nodeAnimationBaopai.addChild(this._prefabBaopai1);
}
if (null == this._prefabBaopai2) {
this._prefabBaopai2 = cc.instantiate(this.prefabBaopaitwo);
this.nodeAnimationBaopai.addChild(this._prefabBaopai2);
}
if (null == this._prefabBaopai3) {
this._prefabBaopai3 = cc.instantiate(this.prefabBaopaithree);
this.nodeAnimationBaopai.addChild(this._prefabBaopai3);
}
if (null == this._prefabYaoshaizi) {
this._prefabYaoshaizi = cc.instantiate(this.prefabYaoshaizi);
this.nodeAnimationYaoshaizi.addChild(this._prefabYaoshaizi);
}
this._prefabPlayEfxAnim = {};
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
var t = e[n = cc.vv.roomMgr.viewChairID(i)], a = (s = this.nodeGameRoot.getChildByName(t)).getChildByName("playEfxAnim").getChildByName("prefabPlayEfxAnim");
if (null == a) {
a = cc.instantiate(this.prefabPlayEfxAnim);
s.getChildByName("playEfxAnim").addChild(a);
}
this._prefabPlayEfxAnim[t] = a.getComponent(cc.Animation);
this._prefabPlayEfxAnim[t].node.active = !1;
}
for (e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
t = e[n = cc.vv.roomMgr.viewChairID(i)];
var n, s, c = (s = this.nodeGameRoot.getChildByName(t)).getChildByName("hupai").getChildByName("KDMajiang");
c.active = !0;
c.myTag = n + "_hupai";
}
this.nodeReport.active = !1;
this.nodeJiesuan.active = !1;
var o = this.node.getContentSize().width, h = this.node.getComponent(cc.Canvas).designResolution, r = this.nodeGameRoot.getChildByName("myself").getChildByName("holds"), l = this.nodeGameRoot.getChildByName("myself").getChildByName("holds_chu"), d = this.nodeGameRoot.getChildByName("myself").getChildByName("holdsreplay"), g = this.nodeGameRoot.getChildByName("myself").getChildByName("penggangs"), u = o / h.width;
this.scaleNum = u;
var _ = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], v = cc.vv.mahjongMgr.getViewidBySide("myself"), p = cc.vv.utils.deepCopy(_[v].holds), m = cc.instantiate(this.PrefabMajiang).getChildByName("bg").height * (u - 1) / p.scale;
r.y = m;
l.y = m;
d.y = m;
g.y = m;
r.scale = u;
l.scale = u;
d.scale = u;
g.scale = u;
this.mgr = this.node.getChildByName("mgr");
this.mgr.getChildByName("ready").opacity = 0;
this.mgr.getChildByName("ready").scale = 0;
},
new_round: function() {
var e = cc.vv.mahjongMgr._sides;
this._playEfxs = {};
for (var i = 0; i < e.length; ++i) {
var t = e[cc.vv.roomMgr.viewChairID(i)], a = this.nodeGameRoot.getChildByName(t);
this._playEfxs[t] = a.getChildByName("play_efx").getComponent(cc.Animation);
var n = a.getChildByName("opt");
n.active = !1;
var s = {
node: n,
sprite: n.getChildByName("pai").children[0].getComponent(cc.Sprite)
};
this._opts.push(s);
this._playEfxs[t].node.active = !1;
}
this.mgr = this.node.getChildByName("mgr");
this.game = this.mgr.getChildByName("game");
this.opts = this.game.getChildByName("ops");
this.chiopts = this.game.getChildByName("chipaiOps");
this.gangopts = this.game.getChildByName("gangpaiOps");
this.tingopts = this.game.getChildByName("baotingops");
this.hideOptions();
this.hideChipaiOpts();
this.hideGangPaiOpts();
this.hideTingOpts();
this.hideAllHolds();
this.hideAllChupai();
this.hideAllChiPengGang();
this.showAllLight();
this.hideMagic();
this.hideHupai();
s = {
data: {
count: "00"
}
};
this.game_changeMajiangNum(s);
cc.vv.folds.hideAllFolds();
cc.vv.folds.initView();
this.hideGuohu();
cc.vv.game.config.isGuoPeng && this.hideGuoPeng();
this.spriteMagic.node.parent.active = !1;
this.spriteMagic2.node.parent.active = !1;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").getChildByName("haozi").active = !1;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").getChildByName("haozi2").active = !1;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").width = 65;
var c = cc.v2(-1e3, -500);
cc.vv.game.majiangTable.setTuodong(c);
},
initEventHandlers: function() {
var e = this;
this.node.on("ready", function(i) {
if ((i = i.data).seatid == cc.vv.roomMgr.seatid) {
cc.vv.mahjongMgr.reset();
e.reset();
e.nodeJiesuan.active = !1;
}
});
this.node.on("game_saizi_table", function(i) {
e.game_saizi(i);
});
this.node.on("showAction", function(i) {
e.showAction(i);
});
this.node.on("game_magic_table", function() {
e.game_magic();
});
this.node.on("game_begin_table", function() {});
this.node.on("param", function(e) {
var i = e.data.canCheat, t = cc.find("Canvas/mgr/btnshowall");
t && !cc.vv.roomMgr.is_replay && (t.active = !!i);
});
this.node.on("stage", function(e) {
var i = e.data.canCheat, t = cc.find("Canvas/mgr/btnshowall");
t && !cc.vv.roomMgr.is_replay && (t.active = !!i);
});
this.node.on("game_holds_table", function() {
cc.vv.game.config.is_no_fapaiAnimation ? e.game_no_fapai() : e.game_fapai();
});
this.node.on("mj_count_table", function(i) {
e.game_changeMajiangNum(i);
});
this.node.on("game_hideSaizi_table", function() {
e.game_hideSaizi();
});
this.node.on("game_kaiju_table", function() {
e.new_round();
"1" != cc.vv.roomMgr.now || cc.vv.game.config.is_kaiju || e.game_kaiju();
});
this.node.on("game_dingzhuang_table", function(i) {
var t = (i = i.data).seatid;
e.game_dingzhuang(t);
});
this.node.on("game_fristTurnChange_table", function() {
e.game_fristTurnChange();
});
this.node.on("game_fristShowAction_table", function() {
e.game_fristShowAction();
});
this.node.on("game_fristShowTingAction_table", function() {
e.game_fristShowTingAction();
});
this.node.on("game_fristShowTing1Action_table", function() {
e.game_fristShowTing1Action();
});
this.node.on("game_playing_table", function(e) {});
this.node.on("game_chupai_table", function(i) {
e.game_turnChange(i);
});
this.node.on("game_chupai_notify_table", function(i) {
e.game_chupai(i);
});
this.node.on("game_mopai_table", function(i) {
e.game_mopai(i);
});
this.node.on("game_showaction_table", function(i) {
e.showAction(i);
});
this.node.on("guo_notify_table", function(i) {
e.game_guo(i);
});
this.node.on("peng_notify_table", function(i) {
e.game_peng(i);
});
this.node.on("chi_notify_table", function(i) {
e.game_chi(i);
});
this.node.on("gang_notify_table", function(i) {
e.game_gang(i);
});
this.node.on("hupai_table", function(i) {
e.game_hu(i);
});
this.node.on("chupai_limit_notify_table", function(i) {
e.game_chupaiLimit(i);
});
this.node.on("bao_ting_push_table", function(i) {
e.game_baoTing(i);
});
this.node.on("buhua_notify_table", function(i) {
e.game_buhua(i);
});
this.node.on("game_action_ting_table", function(i) {
var t = i.data;
e._datating = t;
e.showTingOption(t);
});
this.node.on("game_action_ting1_table", function(i) {
var t = i.data;
e._datating1 = t;
e.game_actionting1(t);
});
this.node.on("game_jiesuan_table", function(i) {
e.game_jiesuan(i);
});
this.node.on("game_report_table", function(i) {
e.game_report(i);
});
this.node.on("game_sync_table", function(i) {
97 == i.state && (e._stage97 = !0);
e.new_round();
e.onGameBeign(i);
e.game_magicshow();
if (1 == cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid].baoting) {
e._baoting = 1;
cc.find("Canvas/mgr/hud/oper/btn_ting").active = !0;
if (cc.vv.game.config.is_showtingdown) {
cc.vv.net2.quick("query");
e.onclick_see_ting_hs();
}
e._baotingchupai = !0;
e.setBaoting();
} else {
e._baoting = 0;
cc.find("Canvas/mgr/hud/oper/btn_ting").active = !1;
if (cc.vv.game.config.is_showtingdown) {
cc.find("Canvas/open/see_ting_Pai_hs").active = !1;
cc.find("Canvas/open/huSprite").active = !1;
}
}
});
this.node.on("stage_table", function(i) {
e.stage(i.data);
});
this.node.on("query_tingpai", function(i) {
i = i.data;
e._tingpai = [];
e._tingpaifan = [];
e._tingpaifannew = [];
for (var t = 0; t < i.list.length; ++t) {
e._tingpai[t] = i.list[t].pai;
e._tingpaifan[t] = i.list[t].left;
cc.vv.game.config.is_tingfan && (e._tingpaifannew[t] = i.list[t].fan);
}
e.onclick_see_ting();
});
this.node.on("guo_result_table", function() {
e.hideGangPaiOpts();
e.hideChipaiOpts();
e.hideOptions();
});
this.node.on("view_ting", function(i) {
e.view_ting(i.data);
});
this.node.on("guohu_table", function(i) {
var t = i.seatid;
e.guohu(t);
});
this.node.on("guopeng_table", function(i) {
var t = i.seatid;
e.guopeng(t);
});
this.node.on("hujiaozhuanyi_table", function(i) {
e.hujiaozhuanyi(i);
});
this.node.on("sit", function(i) {
var t = i.data;
e.sit(t);
});
this.node.on("table", function(i) {
i = i.data;
"function" == typeof e.table && e.table(i);
});
this.node.on("wait_hu", function(i) {
i = i.data;
e.wait_hu(i);
});
this.node.on("huangzhuang_table", function() {
e.game_huangZhuang();
});
},
initEventHandlersBtn: function() {
var e = cc.find("Canvas/mgr/hud/oper/btn_ting"), i = cc.find("Canvas/open/see_ting_Pai");
e.on(cc.Node.EventType.TOUCH_START, function() {
i.removeAllChildren();
cc.vv.net2.quick("query");
i.active = !0;
});
e.on(cc.Node.EventType.TOUCH_END, function() {
i.active = !1;
});
e.on(cc.Node.EventType.TOUCH_CANCEL, function() {
i.active = !1;
});
},
game_kaiju: function() {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_begin");
this._prefabKaiju = cc.instantiate(this.prefabKaiju);
this.nodeAnimationKaiju.addChild(this._prefabKaiju);
this._prefabKaiju.getComponent(cc.Animation).play("kaiju");
},
game_saizi: function(e) {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_touzi");
this._prefabYaoshaizi.emit("yaoshaizi", {
data: {
num1: e.saizi_1,
num2: e.saizi_2
}
});
},
game_hideSaizi: function() {
this._prefabYaoshaizi.emit("hideshaizi");
},
game_magic: function() {
var e = this;
if (-1 != cc.vv.mahjongMgr._magicPai && -1 != cc.vv.mahjongMgr._magicPai2 && cc.vv.mahjongMgr._magicPai > cc.vv.mahjongMgr._magicPai2) {
var i = cc.vv.mahjongMgr._magicPai;
cc.vv.mahjongMgr._magicPai = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr._magicPai2 = i;
}
var t = this.selfhandAtlasThreeD.getSpriteFrame("img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(cc.vv.mahjongMgr._magicPai)), a = this.selfhandAtlasThreeD.getSpriteFrame("img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(cc.vv.mahjongMgr._magicPai2));
this.spriteMagic.spriteFrame = t;
this.spriteMagic2.spriteFrame = a;
if (null != this._prefabBaopai1) {
this._prefabBaopai1.getChildByName("majiang").getChildByName("dian").getComponent(cc.Sprite).spriteFrame = this.selfhandAtlasThreeD.getSpriteFrame("img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(cc.vv.mahjongMgr._magicPai));
this._prefabBaopai1.active = !1;
}
if (null != this._prefabBaopai2) {
this._prefabBaopai2.getChildByName("majiang").getChildByName("dian").getComponent(cc.Sprite).spriteFrame = this.selfhandAtlasThreeD.getSpriteFrame("img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(cc.vv.mahjongMgr._magicPai2));
this._prefabBaopai2.active = !1;
}
if (null != this._prefabBaopai3) {
this._prefabBaopai3.getChildByName("majiang").getChildByName("dian").getComponent(cc.Sprite).spriteFrame = this.selfhandAtlasThreeD.getSpriteFrame("img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(cc.vv.mahjongMgr._magicPai));
this._prefabBaopai3.active = !1;
}
if (-1 == cc.vv.mahjongMgr._magicPai) {
this.spriteMagic.node.parent.active = !1;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").getChildByName("haozi").active = !1;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").width = 65;
} else {
if (-1 != cc.vv.mahjongMgr._magicPai2) {
if (null != this._prefabBaopai1) {
this._prefabBaopai1.active = !0;
this._prefabBaopai1.emit("dingBaopai");
}
} else if (-1 == cc.vv.mahjongMgr._magicPai2 && null != this._prefabBaopai3) {
this._prefabBaopai3.active = !0;
this._prefabBaopai3.emit("dingBaopai");
}
setTimeout(function() {
e.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").getChildByName("haozi").active = !0;
e.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").width = 130;
e.spriteMagic.node.parent.active = !0;
}, 2300);
}
if (-1 == cc.vv.mahjongMgr._magicPai2) {
this.spriteMagic2.node.parent.active = !1;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").getChildByName("haozi2").active = !1;
} else {
if (null != this._prefabBaopai2) {
this._prefabBaopai2.active = !0;
this._prefabBaopai2.emit("dingBaopai");
}
setTimeout(function() {
e.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").getChildByName("haozi2").active = !0;
e.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").width = 180;
e.spriteMagic2.node.parent.active = !0;
}, 2300);
}
},
game_magicshow: function() {
this.spriteMagic.spriteFrame = this.selfhandAtlasThreeD.getSpriteFrame("img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(cc.vv.mahjongMgr._magicPai));
this.spriteMagic2.spriteFrame = this.selfhandAtlasThreeD.getSpriteFrame("img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(cc.vv.mahjongMgr._magicPai2));
if (-1 == cc.vv.mahjongMgr._magicPai) {
this.spriteMagic.node.parent.active = !1;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").getChildByName("haozi").active = !1;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").width = 65;
} else {
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").getChildByName("haozi").active = !0;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").width = 130;
this.spriteMagic.node.parent.active = !0;
}
if (-1 == cc.vv.mahjongMgr._magicPai2) {
this.spriteMagic2.node.parent.active = !1;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").getChildByName("haozi2").active = !1;
} else {
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").getChildByName("haozi2").active = !0;
this.node.getChildByName("mgr").getChildByName("game").getChildByName("bg").width = 180;
this.spriteMagic2.node.parent.active = !0;
}
},
game_dingzhuang: function(e) {
var i = this, t = cc.vv.mahjongMgr._sides, a = t.length, n = cc.vv.roomMgr.viewChairID(e), s = 3 * a + n;
function c(e) {
setTimeout(function() {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/qiangzhuang");
var n = {
data: {
position: t[e % a]
}
};
i._prefabArrow.emit("showLight", n);
}, 100 * e);
}
function o(e) {
setTimeout(function() {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_pickBanker");
var n = {
data: {
position: t[e % a]
}
};
i._prefabArrow.emit("lastLight", n);
i.setZhuang();
}, 100 * e + 100);
}
for (var h = 0; h < s + 1; h++) {
c(h);
h == s && o(h);
}
},
game_fristTurnChange: function() {
this.setPaiClick(!0);
this.startArrowNum();
if (-1 != cc.vv.mahjongMgr._turn) {
this.game_showLight(cc.vv.mahjongMgr._turn);
if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
null != cc.vv.mahjongMgr._curaction && this.showAction(cc.vv.mahjongMgr._curaction);
null != this._datating && this.showTingOption(this._datating);
this.setSelectDown(null);
cc.vv.mahjongMgr._canChui = !0;
} else {
var e = {
seatIndex: cc.vv.mahjongMgr._turn
};
this.game_mopai(e);
}
}
this._isfrist = !0;
},
game_syncTurnChange: function() {
this.setPaiClick(!0);
if (-1 != cc.vv.mahjongMgr._turn) {
this.game_showLight(cc.vv.mahjongMgr._turn);
this.startArrowNum();
if (cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid) {
null != cc.vv.mahjongMgr._curaction && this.showAction(cc.vv.mahjongMgr._curaction);
null != this._datating && this.showTingOption(this._datating);
this.setSelectDown(null);
cc.vv.mahjongMgr._canChui = !0;
} else {
if (null != cc.vv.mahjongMgr._chupai) return;
var e = {
seatIndex: cc.vv.mahjongMgr._turn
};
this.game_mopai(e);
}
}
this._isfrist = !0;
},
game_fristShowAction: function() {
this._isfristAction = !0;
cc.vv.mahjongMgr._curaction;
},
game_syncShowAction: function() {
this._isfristAction = !0;
cc.vv.mahjongMgr._curaction;
},
game_fristShowTingAction: function() {
this._isfristTingAction = !0;
this._datating;
},
game_fristShowTing1Action: function() {
this._isfristTing1Action = !0;
var e = this._datating1;
null != e && this.game_actionting1(e);
},
game_no_fapai: function() {
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
switch (e[o = cc.vv.roomMgr.viewChairID(i)]) {
case "myself":
var t = cc.vv.mahjongMgr.getViewidBySide("myself");
this.getHoldParent(t, "holds").removeAllChildren();
var a = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid], n = cc.vv.game.sortHolds(a), s = cc.vv.game.getStartIndex(n), c = n.length, o = cc.vv.mahjongMgr.getViewidBySide("myself");
this.getHoldParent(o, "holds").removeAllChildren();
for (var h = cc.vv.game.sortHolds(a), r = (s = cc.vv.game.getStartIndex(h), c = h.length, 
s); r < s + c; r++) this.showSelfHold(r, h[r - s], s + c - 1);
break;

case "right":
var l = cc.vv.mahjongMgr.getViewidBySide("right");
this.getHoldParent(l, "holds").removeAllChildren();
var d = cc.vv.roomMgr.realChairID(l), g = 13 - cc.vv.mahjongMgr.getNumberPai(d), u = cc.vv.game.getStartIndexByNum(g);
for (r = u; r < g + u; r++) this.showRightHold(r, -3, g + u + 1);
break;

case "up":
var _ = cc.vv.mahjongMgr.getViewidBySide("up");
this.getHoldParent(_, "holds").removeAllChildren();
var v = cc.vv.roomMgr.realChairID(_), p = 13 - cc.vv.mahjongMgr.getNumberPai(v), m = cc.vv.game.getStartIndexByNum(p);
for (r = m; r < m + p; r++) this.showTopHold(r, -3, p + m + 1);
break;

case "left":
var f = cc.vv.mahjongMgr.getViewidBySide("left");
this.getHoldParent(f, "holds").removeAllChildren();
var y = cc.vv.roomMgr.realChairID(f), C = 13 - cc.vv.mahjongMgr.getNumberPai(y), b = cc.vv.game.getStartIndexByNum(C);
for (r = b; r < b + C; r++) this.showLeftHold(r, -3, C + b + 1);
}
}
},
game_fapai: function() {
var e = this, i = cc.vv.game.config.TIME_ITEM, t = cc.vv.game.config.TIME_THREE;
function a(a, n, s) {
var c = a * i + t * parseInt(a / 4);
setTimeout(function() {
e.showSelfHold(a, n, s);
a % 4 == 0 && cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_fapai");
}, c);
}
function n(a, n, s) {
var c = a * i + t * parseInt(a / 4);
setTimeout(function() {
e.showLeftHold(a, n, s);
}, c);
}
function s(a, n, s) {
var c = a * i + t * parseInt(a / 4);
setTimeout(function() {
e.showTopHold(a, n, s);
}, c);
}
function c(a, n, s) {
var c = a * i + t * parseInt(a / 4);
setTimeout(function() {
e.showRightHold(a, n, s);
}, c);
}
for (var o = cc.vv.mahjongMgr._sides, h = 0; h < o.length; ++h) {
switch (o[v = cc.vv.roomMgr.viewChairID(h)]) {
case "myself":
var r = cc.vv.mahjongMgr.getViewidBySide("myself");
this.getHoldParent(r, "holds").removeAllChildren();
for (var l = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid], d = cc.vv.game.sortHolds(l), g = cc.vv.game.getStartIndex(d), u = d.length, _ = g; _ < u + g; _++) {
a(_, d[_ - g], u + g);
if (_ == u + g - 1) {
var v = cc.vv.mahjongMgr.getViewidBySide("myself"), p = this.getHoldParent(v, "holds"), m = _ * i + t * parseInt(_ / 4) + t;
setTimeout(function() {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_lipai");
p.removeAllChildren();
for (var i = d, t = i.length, a = cc.vv.game.getStartIndex(i), n = a; n < a + t; n++) e.showSelfHold(n, -2, a + t - 1);
}, m);
setTimeout(function() {
p.removeAllChildren();
for (var i = cc.vv.game.sortHolds(l), t = cc.vv.game.getStartIndex(i), a = i.length, n = t; n < t + a; n++) e.showSelfHold(n, i[n - t], t + a - 1);
}, m + 2 * i);
}
}
break;

case "right":
var f = cc.vv.mahjongMgr.getViewidBySide("right");
this.getHoldParent(f, "holds").removeAllChildren();
var y = cc.vv.roomMgr.realChairID(f), C = 13 - cc.vv.mahjongMgr.getNumberPai(y), b = cc.vv.game.getStartIndexByNum(C);
for (_ = b; _ < C + b; _++) c(_, -3, C + b + 1);
break;

case "up":
var w = cc.vv.mahjongMgr.getViewidBySide("up");
this.getHoldParent(w, "holds").removeAllChildren();
var x = cc.vv.roomMgr.realChairID(w), z = 13 - cc.vv.mahjongMgr.getNumberPai(x), k = cc.vv.game.getStartIndexByNum(z);
for (_ = k; _ < k + z; _++) s(_, -3, z + k + 1);
break;

case "left":
var M = cc.vv.mahjongMgr.getViewidBySide("left");
this.getHoldParent(M, "holds").removeAllChildren();
var j = cc.vv.roomMgr.realChairID(M), N = 13 - cc.vv.mahjongMgr.getNumberPai(j), S = cc.vv.game.getStartIndexByNum(N);
for (_ = S; _ < S + N; _++) n(_, -3, N + S + 1);
}
}
},
game_changeMajiangNum: function(e) {
var i = e.data.count;
cc.find("Canvas/mgr/game").getChildByName("majiangNum").getChildByName("num").getComponent(cc.Label).string = i;
},
initMopai: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(e), a = cc.vv.mahjongMgr.getSide(t), n = (this.nodeGameRoot.getChildByName(a), 
cc.vv.game.getMJIndex(a, 13)), s = (this.getHoldParent(t, "holds"), cc.vv.mahjongMgr._seats[e].folds.length);
if (cc.vv.roomMgr.is_replay) switch (a) {
case "myself":
this.showSelfHold(n, i);
break;

case "right":
this.showRightHoldsreplay(n, i);
break;

case "up":
this.showTopHoldsreplay(n, i);
break;

case "left":
this.showLeftHoldsreplay(n, i);
} else switch (a) {
case "myself":
this.showSelfHold(n, i);
break;

case "right":
this.showRightHold(n, i, s);
break;

case "up":
this.showTopHold(n, i, s);
break;

case "left":
this.showLeftHold(n, i, s);
}
},
game_buhua: function(e) {
e.seatIndex == cc.vv.roomMgr.seatid ? this.initSelfHold() : this.initOtherHold(e.seatIndex);
var i = cc.vv.roomMgr.viewChairID(e.seatIndex);
this.playBuHua(cc.vv.roomMgr.seatid);
this.playSFX(i, "buhua");
i == cc.vv.mahjongMgr.getViewidBySide("myself") && this.hideOptions();
},
showTingOption: function(e) {
if (this._isfristTingAction) {
this._ting_chupai = [];
this.initTingList(e);
for (var i = 0; i < e.length; i++) {
this._ting_chupai[i] = e[i].chupai;
for (var t = 0; t < e[i].tingpai.length; t++) this._ting_tingpai[this._ting_tingpai.length] = e[i].tingpai[t].pai;
}
this.addOption("btnTing", 0, null);
this.opts.active = !0;
for (i = 0; i < this.opts.childrenCount; ++i) {
var a = this.opts.children[i];
"btnGuo" == a.name && (data.guo ? a.active = !0 : a.active = !1);
}
}
},
game_actionting1: function(e) {
if (this._isfristTing1Action) {
this._ting_chupai = [];
this.initTingList(e);
for (var i = 0; i < e.length; i++) {
this._ting_chupai[i] = e[i].chupai;
for (var t = 0; t < e[i].tingpai.length; t++) this._ting_tingpai[this._ting_tingpai.length] = e[i].tingpai[t].pai;
}
this.showTing(this._ting_chupai);
}
},
game_turnChange: function(e) {
var i = this;
if (this._isfrist) {
if (-1 != e.last) {
i.setSelectDown(null);
cc.vv.mahjongMgr._canChui = !1;
i.game_chupaiLast();
}
if (-1 != e.turn) {
i.game_showLight(e.turn);
i.startArrowNum();
if (e.turn == cc.vv.roomMgr.seatid) {
var t = e.data;
if (null != t) {
null != t.game_action_push && i.showAction(t.game_action_push);
null != t.game_action_ting && null != t.game_action_ting.data && i.showTingOption(t.game_action_ting.data);
}
setTimeout(function() {
i.setPaiClick(!0);
cc.vv.mahjongMgr._canChui = !0;
}, 100);
} else {
e = {
seatIndex: e.turn
};
i.game_mopai(e);
}
}
}
},
game_chupai: function(e) {
var i = this, t = e.seatData;
if (void 0 == e.baoting || 0 == e.baoting) {
var a = e.pai, n = e.index, s = cc.vv.roomMgr.viewChairID(t.seatIndex);
(o = cc.vv.mahjongMgr._seats[t.seatIndex].folds).push(a);
var c = o.length - 1;
this.chupaiShow(s, n, a, t.seatIndex, c, function(e, a) {
if (t.seatIndex == cc.vv.roomMgr.seatid) {
i.initSelfHold();
1 == i._baoting && i.onclick_see_ting();
i.game_chupaiLast();
} else i.initOtherHold(e);
cc.vv.roomMgr.param.too_hu_must_zimo || i.hideGuohuOne(t.seatIndex);
});
} else {
a = -2, n = 13;
if (cc.vv.roomMgr.is_replay) n = e.index;
s = cc.vv.roomMgr.viewChairID(t.seatIndex);
var o = cc.vv.mahjongMgr._seats[t.seatIndex].folds;
if (t.seatIndex == cc.vv.roomMgr.seatid) {
i.initSelfHold();
1 == i._baoting && i.onclick_see_ting();
} else i.initOtherHold(t.seatIndex, !0);
o.push(a);
var h = cc.vv.mahjongMgr.getMahjongPai(a), r = o.length - 1, l = r + 1;
i.showFolds(s, r, h, l, function() {
var e = cc.vv.roomMgr.realChairID(s);
cc.vv.folds.setSpritePointer(e, n, !0);
});
cc.vv.roomMgr.param.too_hu_must_zimo || i.hideGuohuOne(t.seatIndex);
}
if (cc.vv.roomMgr.is_replay && t.seatIndex == cc.vv.roomMgr.seatid) {
cc.vv.roomMgr.param.too_hu_must_zimo || this.hideGuohu();
cc.vv.game.config.isGuoPeng && this.hideGuoPeng();
this.hideting();
this.hideOptions();
this.hideChipaiOpts();
this.hideGangPaiOpts();
this.hideTingOpts();
}
cc.vv.mahjongMgr._curaction = e.baoTing_index;
var d = cc.vv.mahjongMgr.getAudioURLByMJID(cc.vv.mahjongMgr.getMahjongPaiThree(e.pai));
void 0 == e.baoting || 0 == e.baoting ? this.playSFX(s, d) : cc.vv.game.config.isBaoting && setTimeout(function() {
i.playSFX(s, d);
}, 300);
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
},
game_chupai_advance: function(e) {
var i = this, t = e.seatData;
if (void 0 == e.baoting || 0 == e.baoting) {
var a = e.pai, n = e.index, s = cc.vv.roomMgr.viewChairID(t.seatIndex);
(o = cc.vv.mahjongMgr._seats[t.seatIndex].folds).push(a);
var c = o.length - 1;
this.chupaiShow(s, n, a, t.seatIndex, c, function(e, a) {
if (t.seatIndex == cc.vv.roomMgr.seatid) {
i.initSelfHold();
1 == i._baoting && i.onclick_see_ting();
i.game_chupaiLast();
} else i.initOtherHold(e);
cc.vv.roomMgr.param.too_hu_must_zimo || i.hideGuohuOne(t.seatIndex);
});
} else {
a = -2, n = 13;
if (cc.vv.roomMgr.is_replay) n = e.index;
s = cc.vv.roomMgr.viewChairID(t.seatIndex);
var o = cc.vv.mahjongMgr._seats[t.seatIndex].folds;
if (t.seatIndex == cc.vv.roomMgr.seatid) {
i.initSelfHold();
1 == i._baoting && i.onclick_see_ting();
} else i.initOtherHold(t.seatIndex, !0);
o.push(a);
var h = cc.vv.mahjongMgr.getMahjongPai(a), r = o.length - 1, l = r + 1;
i.showFolds(s, r, h, l, function() {
var e = cc.vv.roomMgr.realChairID(s);
cc.vv.folds.setSpritePointer(e, n, !0);
});
cc.vv.roomMgr.param.too_hu_must_zimo || i.hideGuohuOne(t.seatIndex);
}
cc.vv.mahjongMgr._curaction = e.baoTing_index;
var d = cc.vv.mahjongMgr.getAudioURLByMJID(cc.vv.mahjongMgr.getMahjongPaiThree(e.pai));
void 0 == e.baoting || 0 == e.baoting ? this.playSFX(s, d) : cc.vv.game.config.isBaoting && setTimeout(function() {
i.playSFX(s, d);
}, 300);
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
},
game_mopai: function(e) {
if (e.seatIndex == cc.vv.roomMgr.seatid) {
var i = e.pai;
this._guo_pai = i;
this._tinghuhoupai = e.is_auto;
this.initMopai(e.seatIndex, i);
1 == this._baoting && (this._baotingchupai = !0);
} else cc.vv.replayMgr.isReplay() ? this.initMopai(e.seatIndex, e.pai) : this.initMopai(e.seatIndex, -3);
},
game_guo: function() {
this.hideOptions();
this.hideChipaiOpts();
this.hideGangPaiOpts();
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
},
game_peng: function(e) {
var i = this;
cc.vv.folds.hideChupai();
cc.vv.folds.initPointer();
var t = e.seatData;
t.seatIndex == cc.vv.roomMgr.seatid ? this.initSelfHold() : this.initOtherHold(t.seatIndex);
var a = cc.vv.roomMgr.viewChairID(t.seatIndex);
this.PlayEfxAnim(a, "play_peng", function() {});
setTimeout(function(e) {
var t = e.seatData, a = e.pengpai, n = a[1], s = [ a[0], n, n, n, n ];
i.playChipeng(t.seatIndex, s, !1);
cc.vv.mahjongMgr._canChui && i.setPaiClick(!0);
}(e), 500);
this.playSFX(a, "peng");
this.hideOptions();
this.hideChipaiOpts();
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
},
game_chi: function(e) {
var i = this;
cc.vv.folds.hideChupai();
cc.vv.folds.initPointer();
var t = e.seatData;
t.seatIndex == cc.vv.roomMgr.seatid ? this.initSelfHold() : this.initOtherHold(t.seatIndex);
var a = cc.vv.roomMgr.viewChairID(t.seatIndex);
this.PlayEfxAnim(a, "play_chi", function() {});
setTimeout(function(e) {
var t = e.seatData, a = e.chipai, n = [ a[0], a[1], a[2], a[3], a[2] ];
i.playChipeng(t.seatIndex, n, !1);
cc.vv.mahjongMgr._canChui && i.setPaiClick(!0);
}(e), 500);
this.playSFX(a, "chi");
this.hideOptions();
this.hideChipaiOpts();
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
},
game_gang: function(e) {
var i = this;
cc.vv.folds.initPointer();
cc.vv.folds.hideChupai();
var t = e.seatData;
t.seatIndex == cc.vv.roomMgr.seatid ? this.initSelfHold() : this.initOtherHold(t.seatIndex);
var s = cc.vv.roomMgr.viewChairID(t.seatIndex);
this.PlayEfxAnim(s, "play_gang", function() {});
setTimeout(function(e) {
var t = e.seatData, c = e.gangtype, o = e.gangpai;
if (c == n) {
var h = o[1], r = cc.vv.mahjongMgr.getWangIndex(t, h), l = i.getHoldParent(s, "penggangs"), d = s + "_nodeChipenggang_" + r, g = cc.vv.utils.getChildByTag(l, d), u = s + "_chipenggang_" + r + "_3";
i.gangAnimation(g, u, s);
i.guafengAnimation(s);
} else if (c == a) {
var _ = !0, v = (h = o[1], [ o[0], -2, -2, -2, h ]);
i.playChipeng(t.seatIndex, v, _);
i.xiayuAnimation(s);
} else {
_ = !0, h = o[1], v = [ o[0], h, h, h, h ];
i.playChipeng(t.seatIndex, v, _);
i.guafengAnimation(s);
}
cc.vv.mahjongMgr._canChui && i.setPaiClick(!0);
}(e), 500);
this.playSFX(s, "gang");
this.hideChipaiOpts();
this.hideGangPaiOpts();
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
},
game_hu: function(e) {
var i = this, t = e.seatIndex, a = cc.vv.roomMgr.viewChairID(t), n = cc.vv.mahjongMgr.getViewidBySide("myself");
if (a == n) {
this.hideOptions();
this.hideChipaiOpts();
this.hideGangPaiOpts();
}
var s = cc.vv.mahjongMgr._seats[t];
s.hued = !0;
if (e.isqiangganghu) {
var c = e.dianpao_seatIndex, o = cc.vv.roomMgr.viewChairID(c), h = o + "_chupai_" + cc.vv.mahjongMgr._seats[c].folds.length, r = this.getHoldParent(o, "holdschupai");
this.send_card_emit(r, "nodeDestroy", {}, h);
}
if (e.iszimo) {
if (s.seatIndex == cc.vv.roomMgr.seatid) {
s.holds.pop();
this.initSelfHold();
} else this.initOtherHold(s.seatIndex, !0);
"平胡" == e.pattern ? cc.vv.mahjongMgr.switchHuMp3(a, "自摸") : cc.vv.mahjongMgr.switchHuMp3(a, e.pattern);
this.PlayEfxAnim(a, "play_zimo", function() {
i.initHupai(a, e.hupai, e.turn, e.foldslength);
});
} else {
cc.vv.mahjongMgr._seats[cc.vv.mahjongMgr._turn].folds.pop();
cc.vv.folds.initPointer();
cc.vv.folds.hideChupai();
cc.vv.mahjongMgr.switchHuMp3(a, e.pattern);
this.PlayEfxAnim(a, "play_hu", function() {
i.initHupai(a, e.hupai, e.turn, e.foldslength);
});
}
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
},
game_chupaiLimit: function(e) {},
game_baoTing: function(e) {
var i = e.userid, t = cc.vv.roomMgr.getSeatIndexByID(i), a = cc.vv.roomMgr.viewChairID(t);
this.PlayEfxAnim(a, "play_ting", function() {});
this.playSFX(a, "ting");
if (a == cc.vv.mahjongMgr.getViewidBySide("myself")) {
this.hideGangPaiOpts();
this.hideOptions();
this.hideChipaiOpts();
}
},
game_daopai: function(e) {
for (var i = 0; i < cc.vv.roomMgr.ren; i++) {
var t = cc.vv.roomMgr.viewChairID(i);
this.getHoldParent(t, "holds").removeAllChildren();
var a = e[i].holds;
cc.vv.mahjongMgr.sortMJ(a, cc.vv.mahjongMgr._magicPai, cc.vv.mahjongMgr._magicPai2);
for (var n = cc.vv.game.getStartIndex(a), s = a.length, c = n; c < s + n; c++) this.showHoldHoldsreplay(t, c, a[c - n], n + s - 1);
}
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_lipai");
},
game_jiesuan: function(e) {
var i = this;
this.hideTingOpts();
this.table = cc.vv.game.table;
cc.vv.roomMgr.dissroom = e.dissroom;
null != this.table._winDissroom && (this.table._winDissroom.active = !0);
this.table.hide_dismiss_room();
i._baoting = 0;
i._baotingchupai = !1;
var t = !1;
cc.find("Canvas/mgr/hud/oper/btn_ting").active = !1;
if (cc.vv.game.config.is_showtingdown) {
cc.find("Canvas/open/see_ting_Pai_hs").active = !1;
cc.find("Canvas/open/huSprite").active = !1;
}
cc.find("Canvas/open/see_ting_Pai").active = !1;
cc.find("Canvas/open/tingPaiList").active = !1;
i._showActoin_yse_not = !1;
for (var a = e.results, n = 0; n < cc.vv.mahjongMgr._seats.length; ++n) cc.vv.mahjongMgr._seats[n].score = 0 == a.length ? 0 : a[n].totalscore;
for (n = 0; n < a.length; ++n) for (var s = 0; s < a[n].huinfo.length; ++s) a[n].huinfo[s].ishupai && (t = !0);
i.nodeJiesuan.getChildByName("helpbg").getChildByName("result_flow").active = 1 != t;
this.table.seat_emit(null, "dingzhuang", {
seatid: null
});
if (!this._stage97 && t) {
this.game_daopai(e.results);
cc.vv.game.config.is_time_jiesuan ? i.nodeJiesuan && (i.nodeJiesuan.active = !0) : setTimeout(function() {
i.nodeJiesuan && (i.nodeJiesuan.active = !0);
}, 2500);
} else {
this.nodeJiesuan.active = !0;
this._stage97 = !1;
}
if (cc.vv.roomMgr.is_replay) {
var c = i;
c.nodeJiesuan.getChildByName("btn_ready").active = !1;
c.nodeJiesuan.getChildByName("btn_share").active = !1;
c.nodeJiesuan.active = !0;
}
i.nodeJiesuan.getChildByName("roomid").getComponent(cc.Label).string = cc.vv.roomMgr.roomid;
this.nodeJiesuan.getChildByName("wanfaninfo").getChildByName("wanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
this.nodeJiesuan.getChildByName("time").getComponent(cc.Label).string = e.time;
this.nodeJiesuan.getChildByName("top").getChildByName("left").getChildByName("juNum").getChildByName("bg").getChildByName("label").getComponent(cc.Label).string = e.round;
var o = a[cc.vv.roomMgr.seatid].score;
if (o >= 0) {
this.nodeJiesuan.getChildByName("top").getChildByName("bglos").getComponent(cc.Sprite).spriteFrame = this.jiesuanAtlasThreeD.getSpriteFrame("bgwin");
cc.vv.audioMgr.playSFX("win");
this.nodeJiesuan.getChildByName("top").getChildByName("right").getChildByName("light").getChildByName("label").getComponent(cc.Sprite).spriteFrame = this.jiesuanAtlasThreeD.getSpriteFrame("isheng_0");
this.nodeJiesuan.getChildByName("top").getChildByName("right").getChildByName("light").getComponent(cc.Sprite).spriteFrame = this.jiesuanAtlasThreeD.getSpriteFrame("ishengeff_0");
} else if (o < 0) {
this.nodeJiesuan.getChildByName("top").getChildByName("bglos").getComponent(cc.Sprite).spriteFrame = this.jiesuanAtlasThreeD.getSpriteFrame("bglos");
cc.vv.audioMgr.playSFX("lose");
this.nodeJiesuan.getChildByName("top").getChildByName("right").getChildByName("light").getChildByName("label").getComponent(cc.Sprite).spriteFrame = this.jiesuanAtlasThreeD.getSpriteFrame("isheng_1");
this.nodeJiesuan.getChildByName("top").getChildByName("right").getChildByName("light").getComponent(cc.Sprite).spriteFrame = this.jiesuanAtlasThreeD.getSpriteFrame("ishengeff_1");
}
var h = [], r = [], l = this.nodeJiesuan.getChildByName("result_list");
for (n = 1; n <= 4; ++n) {
var d = "s" + n, g = l.getChildByName(d);
if (n > cc.vv.roomMgr.ren) g.active = !1; else {
var u = {}, _ = g.getChildByName("fan");
null != _ && (u.fan = _.getComponent(cc.Label));
u.username = g.getChildByName("left").getChildByName("username").getComponent(cc.Label);
u.userid = g.getChildByName("left").getChildByName("userid").getComponent(cc.Label);
u.zhuang = g.getChildByName("left").getChildByName("zhuang");
u.img = g.getChildByName("left").getChildByName("head").getChildByName("img");
u.guohu = g.getChildByName("left").getChildByName("head").getChildByName("guohu");
u.ting = g.getChildByName("left").getChildByName("ting");
u.mahjongs = g.getChildByName("pai");
u.hupai = g.getChildByName("hupai");
u.reason = g.getChildByName("reason").getComponent(cc.Label);
u.win = g.getChildByName("right").getChildByName("win");
u.score = g.getChildByName("right").getChildByName("score").getComponent(cc.Label);
u.winNum = g.getChildByName("right").getChildByName("winNum").getComponent(cc.Label);
cc.vv.game.config.is_showgangfen && (u.gangscore = g.getChildByName("right").getChildByName("gangscore").getComponent(cc.Label));
cc.vv.game.config.is_showzimo && (u.zimo = g.getChildByName("right").getChildByName("zimo"));
u.checkmark = g.getChildByName("checkmark");
u._pengandgang = [];
h.push(u);
var v = this.nodeJiesuan.getChildByName("top").getChildByName("right").getChildByName("self"), p = {};
p.username = v.getChildByName("username").getComponent(cc.Label);
p.userid = v.getChildByName("userid").getComponent(cc.Label);
p.score = v.getChildByName("score").getComponent(cc.Label);
p.zhuang = v.getChildByName("zhuang");
p.img = v.getChildByName("head").getChildByName("img");
p.ting = v.getChildByName("ting");
r.push(p);
}
}
var m = 0;
for (n = 0; n < cc.vv.mahjongMgr._seats.length; ++n) {
cc.vv.roomMgr.getSeatIndexByID(cc.vv.roomMgr.table.list[n].userid) == cc.vv.roomMgr.seatid && (m = n);
}
for (n = 0; n < cc.vv.mahjongMgr._seats.length; ++n) {
var f = 0;
n == m ? f = 0 : n < m ? f = n + 1 : n > m && (f = n);
var y = h[f], C = a[n], b = !1, w = [], x = y.hupai;
y.img.getComponent("ImageLoader").loadImg(C.headimg);
x.active = !1;
var z = cc.vv.roomMgr.viewChairID(n);
i.table.seat_emit(z, "score", a[n].totalscore);
y.ting.active = 1 == C.baoting;
var k = C.isThreePaoOne;
if (0 == C.huinfo.length) {
var M = "";
cc.vv.game.config.isGangfen && !cc.vv.game.config.is_showgangfen && (M += " 杠分:" + C.gangfen_tq);
if (cc.vv.game.config.isTinghougang) {
M += " 听前杠:" + C.gangfen_tq;
M += " 听后杠:" + C.gangfen_th;
}
cc.vv.game.config.is_lastGenZhuangSuccess && C.lastGenZhuangSuccess && (M += " 上局跟庄");
cc.vv.game.config.is_lastLiuJuSuccess && C.lastLiuJuTag && (M += " 上局流局:" + C.lastLiuJuScore);
cc.vv.game.config.isLianzhuang && (M += " 庄分:" + C.lianZhuangFen);
cc.vv.game.config.isXiayu && 0 != C.fish && (M += " 下鱼:" + C.fish);
C.ganghua && (M += " 杠上开花");
C.genZhuang && 0 != C.genZhuang && (M += " 跟庄:" + C.genZhuang);
M += " 胡分:" + C.hufen;
w.push(M);
}
cc.vv.game.config.is_showzimo && (y.zimo.active = !1);
y.win.active = !1;
for (s = 0; s < C.huinfo.length; ++s) {
var j = C;
if (!(s >= 1)) {
var N = C.huinfo[s];
b = b || N.ishupai;
if (N.ishupai) {
x.active = !0;
x.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID("M_", N.pai);
var S = x.getChildByName("magic_mash");
N.pai == cc.vv.mahjongMgr._magicPai || N.pai == cc.vv.mahjongMgr._magicPai2 ? S.active = !0 : S.active = !1;
}
M = "";
if (N.ishupai) {
M = N.action;
N.isKanHu && cc.vv.game.config.is_kanhu && (M += " 砍胡");
N.iszimo && (M += " 自摸");
cc.vv.game.config.isGangfen && !cc.vv.game.config.is_showgangfen && (M += " 杠分:" + j.gangfen_tq);
if (cc.vv.game.config.isTinghougang) {
M += " 听前杠:" + j.gangfen_tq;
M += " 听后杠:" + j.gangfen_th;
}
cc.vv.game.config.is_lastGenZhuangSuccess && j.lastGenZhuangSuccess && (M += " 上局跟庄");
cc.vv.game.config.is_lastLiuJuSuccess && j.lastLiuJuTag && (M += " 上局流局:" + j.lastLiuJuScore);
cc.vv.game.config.isLianzhuang && (M += " 庄分:" + j.lianZhuangFen);
j.ganghua && (M += " 杠上开花");
j.genZhuang && 0 != j.genZhuang && (M += " 跟庄:" + j.genZhuang);
cc.vv.game.config.isXiayu && 0 != j.fish && (M += " 下鱼:" + j.fish);
N.isQiangGangHu && (M += " 抢杠胡");
M += " 胡分:" + j.hufen;
} else {
M = N.action;
cc.vv.game.config.isGangfen && !cc.vv.game.config.is_showgangfen && (M += " 杠分:" + j.gangfen_tq);
if (cc.vv.game.config.isTinghougang) {
M += " 听前杠:" + j.gangfen_tq;
M += " 听后杠:" + j.gangfen_th;
}
cc.vv.game.config.is_lastGenZhuangSuccess && j.lastGenZhuangSuccess && (M += " 上局跟庄");
cc.vv.game.config.is_lastLiuJuSuccess && j.lastLiuJuTag && (M += " 上局流局:" + j.lastLiuJuScore);
cc.vv.game.config.isLianzhuang && (M += " 庄分:" + j.lianZhuangFen);
j.ganghua && (M += " 杠上开花");
j.genZhuang && 0 != j.genZhuang && (M += " 跟庄:" + j.genZhuang);
cc.vv.game.config.isXiayu && 0 != j.fish && (M += " 下鱼:" + j.fish);
N.isQiangGangHu && (M += " 抢杠胡");
M += " 胡分:" + j.hufen;
N = (j = a[N.target]).huinfo[N.index];
}
w.push(M);
cc.vv.game.config.is_showzimo && (N.ishupai && N.iszimo ? y.zimo.active = b : y.win.active = b);
}
}
cc.vv.game.config.is_showzimo || (y.win.active = b);
if (C.lianZhuangNum > 0 && t) {
y.winNum.string = "*" + C.lianZhuangNum;
y.winNum.node.active = !0;
} else y.winNum.node.active = !1;
y.guohu.active = C.isguohu;
cc.vv.game.config.is_sanguiyi && k && (y.win.active = !b);
y.username.string = cc.vv.roomMgr.table.list[n].nickname;
y.userid.string = cc.vv.roomMgr.table.list[n].userid;
y.zhuang.active = cc.vv.mahjongMgr._button == n;
if (0 == f) {
var F = r[f];
F.username.string = cc.vv.roomMgr.table.list[n].nickname;
F.userid.string = cc.vv.roomMgr.table.list[n].userid;
F.zhuang.active = cc.vv.mahjongMgr._button == n;
F.img.getComponent("ImageLoader").loadImg(C.headimg);
F.ting.active = 1 == C.baoting;
if (C.score >= 0) {
F.score.font = i.winFont;
F.score.string = "+" + C.score;
} else {
F.score.font = i.lostFont;
F.score.string = C.score;
}
}
if (cc.vv.game.config.is_showgangfen) {
y.gangscore.string = C.gangfen_tq;
y.score.string = C.score;
y.reason.node.color = new cc.Color(66, 21, 0);
y.reason.string = w.join(" ");
} else if (C.score >= 0) {
y.score.font = i.winFont;
y.score.string = "+" + C.score;
y.reason.node.color = new cc.Color(255, 73, 73);
y.reason.string = w.join(" ");
} else {
y.score.font = i.lostFont;
y.score.string = C.score;
y.reason.node.color = new cc.Color(132, 255, 75);
y.reason.string = w.join(" ");
}
for (var B = 0; B < y.mahjongs.childrenCount; ++B) {
(P = y.mahjongs.children[B]).active = !1;
}
var T = cc.vv.mahjongMgr._magicPai, A = cc.vv.mahjongMgr._magicPai2;
cc.vv.mahjongMgr.sortMJ(C.holds, T, A);
var I = C.angangs.length + C.wangangs.length + C.diangangs.length, X = 3 * (C.pengs.length + I);
for (B = 0; B < C.holds.length; ++B) {
var P, D = C.holds[B];
(P = y.mahjongs.children[B + X]).active = !0;
P.getChildByName("MyMahJongPai").getComponent(cc.Sprite).spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID("M_", D);
S = P.getChildByName("magic_mash");
D == cc.vv.mahjongMgr._magicPai || D == cc.vv.mahjongMgr._magicPai2 ? S.active = !0 : S.active = !1;
}
for (B = 0; B < y._pengandgang.length; ++B) y._pengandgang[B].active = !1;
var Y = -1, L = 0, R = C.angangs, E = cc.vv.roomMgr.viewChairID(C.seatIndex), H = cc.vv.mahjongMgr.getSide(E);
for (B = 0; B < R.length; ++B) {
Y = cc.vv.mahjongMgr.getTargetSide(C, R[B][0]);
var G = [ R[B][1], R[B][2], R[B][3], R[B][4] ];
this.initPengAndGangsAndChi(y, H, Y, L, G, "angang");
L++;
}
for (R = C.diangangs, B = 0; B < R.length; ++B) {
Y = cc.vv.mahjongMgr.getTargetSide(C, R[B][0]);
G = [ R[B][1], R[B][2], R[B][3], R[B][4] ];
this.initPengAndGangsAndChi(y, H, Y, L, G, "diangang");
L++;
}
for (R = C.wangangs, B = 0; B < R.length; ++B) {
Y = cc.vv.mahjongMgr.getTargetSide(C, R[B][0]);
G = [ R[B][1], R[B][2], R[B][3], R[B][4] ];
this.initPengAndGangsAndChi(y, H, Y, L, G, "wangang");
L++;
}
var O = C.pengs;
if (O) for (B = 0; B < O.length; ++B) {
Y = cc.vv.mahjongMgr.getTargetSide(C, O[B][0]);
G = [ O[B][1], O[B][1], O[B][1] ];
this.initPengAndGangsAndChi(y, H, Y, L, G, "peng");
L++;
}
}
this.unschedule(this.otherTimeUpdate);
cc.vv.mahjongMgr.reset();
this.reset();
},
game_report: function(e) {
this.table = cc.vv.game.table;
this.nodeReport.active = !0;
this.nodeJiesuan.active = !1;
null != this.table._winDissroom && (this.table._winDissroom.active = !0);
this.table.hide_dismiss_room();
for (var i = this.nodeReport.getChildByName("list1"), t = 0; t < i.childrenCount; t++) {
(h = i.getChildByName("s" + (t + 1))).active = !1;
}
this.nodeReport.getChildByName("roomid").getComponent(cc.Label).string = e.roomid;
this.nodeReport.getChildByName("time").getComponent(cc.Label).string = e.time;
cc.find("Canvas/open/see_ting_Pai").active = !1;
cc.vv.popMgr.get_open("Pwb_tips") && cc.vv.popMgr.del_open("Pwb_tips");
this.nodeReport.getChildByName("roomwanfa").getComponent(cc.Label).string = cc.vv.roomMgr.enter.desc;
for (var a = 0, n = 0; n < e.list.length; ++n) cc.vv.userMgr.userid == e.list[n].userid && (this.nodeReport.getChildByName("score").getChildByName("score").getComponent(cc.Label).string = "+" + e.list[n].coins);
for (n = 0; n < e.list.length; ++n) if (parseFloat(e.list[n].result_score) > parseFloat(a)) {
a = e.list[n].result_score;
n;
}
var s = 0;
for (n = 0; n < e.list.length; ++n) if (parseFloat(e.list[n].result_score) < parseFloat(s)) {
s = e.list[n].result_score;
n;
}
var c = 0;
for (n = 0; n < e.list.length; ++n) {
cc.vv.roomMgr.getSeatIndexByID(e.list[n].userid) == cc.vv.roomMgr.seatid && (c = n);
}
for (n = 0; n < e.list.length; ++n) if (0 != e.list[n].userid) {
var o = 0;
n == c ? o = 0 : n < c ? o = n + 1 : n > c && (o = n);
var h, r = {
name: e.list[n].name,
userid: e.list[n].userid,
headimg: e.list[n].headimg,
score: e.list[n].result_score,
lose_count: e.list[n].shupai,
win_count: e.list[n].hupai,
crad_maxtype: e.list[n].paixing,
dayingjia: e.list[n].result_score == a,
tuhao: e.list[n].result_score == s
};
0 == a && (r.dayingjia = !1);
0 == s && (r.tuhao = !1);
(h = i.getChildByName("s" + (o + 1))).active = !0;
h.getChildByName("MJReportItem").emit("info", r);
}
},
stage: function(e) {
this.isStage = !0;
},
game_chupaiLast: function() {
var e = this;
if (cc.vv.roomMgr.is_replay) {
.05;
0;
}
for (var i = this._chupaiArr, t = i.length, a = 0; a < t; a++) {
var n = (C = i[a]).split("_"), s = parseInt(n[0]), c = cc.vv.roomMgr.realChairID(s), o = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], h = cc.vv.utils.deepCopy(o[s].folds), r = this.getHoldParent(s, "folds"), l = r.getChildByName("list"), d = this.getHoldParent(s, "holds"), g = 0, u = 0;
if (0 == cc.vv.mahjongMgr._seats.length) return;
for (var _ = cc.vv.mahjongMgr._seats[c].folds, v = _.length - 1, p = _[v], m = 0; m <= v; m++) {
g += h.distance[m] * h.scale;
u += h.distanceH[m] * h.scale;
}
h.x, r.scaleX, l.scaleX, d.scaleX, h.y, r.scaleY, l.scaleY, d.scaleY;
var f = {
viewid: s,
pai: p,
index: v,
callback: function(i) {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_dapai");
var t = i.index + 1, a = cc.vv.mahjongMgr.getMahjongPai(i.pai);
e.showFolds(i.viewid, i.index, a, t, function() {
var e = cc.vv.roomMgr.realChairID(i.viewid);
cc.vv.folds.setSpritePointer(e, i.index, !0);
});
}
}, y = this.getHoldParent(s, "holdschupai");
this.send_card_emit(y, "nodeDestroy", f, C);
}
for (a = 0; a < t; a++) {
var C = i[a];
i.splice(a, 1);
}
},
game_chipeng: function(e, i, t, a) {
var n = this.getHoldParent(e, "penggangs"), s = new cc.Node("nodeChipenggang" + e);
s.myTag = e + "_nodeChipenggang_" + i / 3;
n.addChild(s);
if (e != cc.vv.mahjongMgr.getViewidBySide("myself")) {
var c = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], o = cc.vv.utils.deepCopy(c[e].chiPeng), h = o.destination[i / 3].x, r = o.destination[i / 3].y;
s.x = h;
s.y = r;
}
for (var l = i; l < 4 + i; l++) this.showChiPeng(i, s, e, l, t, 4 + i, a);
},
playBuHua: function(e) {
var i = cc.vv.roomMgr.viewChairID(e), t = cc.vv.mahjongMgr.getSide(i);
switch (t) {
case "myself":
if (this._prefabBuhuaSelf) {
var a = cc.vv.game.config["card_" + cc.vv.roomMgr.ren];
cc.vv.utils.deepCopy(a[i].buhua), this.nodeGameRoot.getChildByName(t).getChildByName("play_efx");
this._prefabBuhuaSelf = cc.instantiate(this.prefabBuhua);
this._playEfxs[t].getChildByName("prefabBuhua").addChild(this._prefabBuhuaSelf);
}
this._prefabBuhuaSelf.getComponent(cc.Animation).play("buhua");
break;

case "right":
if (this._prefabBuhuaRight) {
a = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], cc.vv.utils.deepCopy(a[i].buhua), 
this.nodeGameRoot.getChildByName(t).getChildByName("play_efx");
this._prefabBuhuaRight = cc.instantiate(this.prefabBuhua);
this._playEfxs[t].getChildByName("prefabBuhua").addChild(this._prefabBuhuaRight);
}
this._prefabBuhuaRight.getComponent(cc.Animation).play("buhua");
break;

case "up":
if (this._prefabBuhuaUp) {
a = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], cc.vv.utils.deepCopy(a[i].buhua), 
this.nodeGameRoot.getChildByName(t).getChildByName("play_efx");
this._prefabBuhuaUp = cc.instantiate(this.prefabBuhua);
this._playEfxs[t].getChildByName("prefabBuhua").addChild(this._prefabBuhuaUp);
}
this._prefabBuhuaUp.getComponent(cc.Animation).play("buhua");
break;

case "left":
if (this._prefabBuhuaLeft) {
a = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], cc.vv.utils.deepCopy(a[i].buhua), 
this.nodeGameRoot.getChildByName(t).getChildByName("play_efx");
this._prefabBuhuaLeft = cc.instantiate(this.prefabBuhua);
this._playEfxs[t].getChildByName("prefabBuhua").addChild(this._prefabBuhuaLeft);
}
this._prefabBuhuaLeft.getComponent(cc.Animation).play("buhua");
}
},
showChiPeng: function(e, i, t, a, n, s, c) {
var o = c, h = n[a - e + 1], r = n[0], l = this;
switch (cc.vv.mahjongMgr._sides[t]) {
case "myself":
var d = this.selfhandAtlasThreeD;
break;

case "right":
var g = this.righthandAtlasThreeD;
d = this.lefthandAtlasThreeD;
break;

case "up":
d = this.uphandAtlasThreeD, g = this.selfhandAtlasThreeD;
break;

case "left":
g = this.lefthandAtlasThreeD, d = this.lefthandAtlasThreeD;
}
var u = this.PrefabMajiang, _ = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], v = cc.vv.utils.deepCopy(_[t].holds), p = cc.vv.utils.deepCopy(_[t].chiPeng);
v.x = -p.spacingX + (a - e) * p.spacingX;
v.y = -p.spacingY + (a - e) * p.spacingY;
v.scale = v.scalehide;
v.xhide = -p.spacingX + (a - e) * p.spacingX;
v.yhide = -p.spacingY + (a - e) * p.spacingY;
if (a == s - 1) {
v.x = p.fourPai.x * v.scalehide;
v.y = (p.fourPai.y + 200) * v.scalehide;
v.xhide = p.fourPai.x * v.scalehide;
v.yhide = (p.fourPai.y + 200) * v.scalehide;
}
v.distance = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
v.distanceH = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
v.distancehide = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
v.distanceHhide = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
v.img = v.imgshow;
v.size = v.sizehide;
v.dian = v.dianhide;
v.dianScaleAll = v.dianScalehideAll;
v.scaleItemhide && (v.scaleItemhidescale = v.scaleItemhide);
p.paiIndex && (i.zIndex = p.paiIndex[e / 3]);
h = cc.vv.mahjongMgr.getMahjongPai(h);
var m = {
prefab: u,
atlas: d,
dianAtlas: g,
scriptsName: "KDMajiang",
pos: v,
viewid: t,
end: s,
parent: i,
paiName: "img_cardvalue",
indexK: a,
pai: h,
myTag: "_chipenggang_",
tagall: t + "_chipenggang_" + e / 3 + "_" + (a - e),
callback: function() {
l.AnimationChipeng(i, t, a, e, o);
var n = cc.vv.roomMgr.realChairID(t), s = {
seatid: r,
selfSeatid: n
}, c = t + "_chipenggang_" + e / 3 + "_1";
l.send_card_emit(i, "setArrow", s, c);
}
};
this.showFapai(m);
},
showHoldHoldsreplay: function(e, i, t, a, n) {
switch (cc.vv.mahjongMgr._sides[e]) {
case "myself":
this.showSelfHoldsreplay(i, t, a, n);
break;

case "right":
this.showRightHoldsreplay(i, t, a, n);
break;

case "up":
this.showTopHoldsreplay(i, t, a, n);
break;

case "left":
this.showLeftHoldsreplay(i, t, a, n);
}
},
showSelfHoldsreplay: function(e, i, t) {
var a = cc.vv.mahjongMgr.getViewidBySide("myself"), n = this.selfhandAtlasThreeD, s = this.PrefabMajiang, c = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], o = cc.vv.utils.deepCopy(c[a].holds);
o.scale = o.scalehide;
o.distance = o.distancehide;
o.distanceH = o.distanceHhide;
o.img = o.imgshow;
o.size = o.sizehide;
o.dian = o.dianhide;
o.dianScaleAll = o.dianScalehideAll;
o.scaleItemhide && (o.scaleItemhidescale = o.scaleItemhide);
var h = {
prefab: s,
atlas: n,
scriptsName: "KDMajiang",
pos: o,
viewid: a,
end: t,
parent: this.getHoldParent(a, "holds"),
paiName: "img_cardvalue",
indexK: e,
pai: i = cc.vv.mahjongMgr.getMahjongPai(i),
myTag: "_holds_",
callback: function() {}
};
this.showFapai(h);
},
showLeftHoldsreplay: function(e, i, t) {
var a = cc.vv.mahjongMgr.getViewidBySide("left"), n = this.PrefabMajiang, s = this.lefthandAtlasThreeD, c = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], o = cc.vv.utils.deepCopy(c[a].holds);
o.scale = o.scalehide;
o.distance = o.distancehide;
o.distanceH = o.distanceHhide;
o.img = o.imgshow;
o.size = o.sizehide;
o.dian = o.dianhide;
o.dianScaleAll = o.dianScalehideAll;
var h = this.getHoldParent(a, "holds");
i = cc.vv.mahjongMgr.getMahjongPai(i);
o.scaleItemhide && (o.scaleItemhidescale = o.scaleItemhide);
var r = {
prefab: n,
atlas: s,
scriptsName: "KDMajiang",
pos: o,
viewid: a,
end: t,
parent: h,
paiName: "ing_zuojia_z_",
indexK: e,
pai: i,
myTag: "_holds_",
callback: function() {}
};
this.showFapai(r);
},
showRightHoldsreplay: function(e, i, t) {
var a = cc.vv.mahjongMgr.getViewidBySide("right"), n = this.PrefabMajiang, s = this.lefthandAtlasThreeD, c = this.righthandAtlasThreeD, o = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], h = cc.vv.utils.deepCopy(o[a].holds);
h.scale = h.scalehide;
h.distance = h.distancehide;
h.distanceH = h.distanceHhide;
h.img = h.imgshow;
h.size = h.sizehide;
h.dian = h.dianhide;
h.dianScaleAll = h.dianScalehideAll;
var r = this.getHoldParent(a, "holds");
i = cc.vv.mahjongMgr.getMahjongPai(i);
h.scaleItemhide && (h.scaleItemhidescale = h.scaleItemhide);
var l = {
prefab: n,
atlas: s,
scriptsName: "KDMajiang",
pos: h,
dianAtlas: c,
viewid: a,
end: t,
parent: r,
paiName: "ing_zuojia_z_",
indexK: e,
pai: i,
myTag: "_holds_",
callback: function() {}
};
this.showFapai(l);
},
showTopHoldsreplay: function(e, i, t) {
var a = cc.vv.mahjongMgr.getViewidBySide("up"), n = this.PrefabMajiang, s = this.uphandAtlasThreeD, c = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], o = cc.vv.utils.deepCopy(c[a].holds);
o.scale = o.scalehide;
o.distance = o.distancehide;
o.distanceH = o.distanceHhide;
o.img = o.imgshow;
o.size = o.sizehide;
o.dian = o.dianhide;
o.dianScaleAll = o.dianScalehideAll;
var h = this.getHoldParent(a, "holds");
i = cc.vv.mahjongMgr.getMahjongPai(i);
o.scaleItemhide && (o.scaleItemhidescale = o.scaleItemhide);
var r = {
prefab: n,
atlas: s,
scriptsName: "KDMajiang",
pos: o,
viewid: a,
end: t,
parent: h,
paiName: "img_upcardvalue",
indexK: e,
pai: i,
myTag: "_holds_",
callback: function() {}
};
this.showFapai(r);
},
showSelfHold: function(e, i, t) {
var a = cc.vv.mahjongMgr.getViewidBySide("myself"), n = this.selfhandAtlasThreeD, s = this.PrefabMajiang, c = cc.vv.game.config["card_" + cc.vv.roomMgr.ren];
var o = {
prefab: s,
atlas: n,
scriptsName: "KDMajiang",
pos: cc.vv.utils.deepCopy(c[a].holds),
viewid: a,
end: t,
parent: this.getHoldParent(a, "holds"),
paiName: "img_cardvalue",
indexK: e,
pai: i = cc.vv.mahjongMgr.getMahjongPai(i),
myTag: "_holds_",
callback: function() {}
};
this.showFapai(o);
},
showLeftHold: function(e, i, t, a) {
var n = cc.vv.mahjongMgr.getViewidBySide("left"), s = this.PrefabMajiang, c = this.lefthandAtlasThreeD, o = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], h = cc.vv.utils.deepCopy(o[n].holds), r = this.getHoldParent(n, "holds"), l = this.getHoldParent(n, "holdschupai");
i = i;
if (t && 13 == e) {
var d = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: h,
viewid: n,
end: a,
parent: l,
paiName: "ing_zuojia_z_",
indexK: e,
pai: i,
myTag: "_holds_",
tagall: n + "_chupai_" + t,
callback: function() {}
};
this.showFapai(d);
} else if (t || 13 != e) {
d = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: h,
viewid: n,
end: a,
parent: r,
paiName: "ing_zuojia_z_",
indexK: e,
pai: i,
myTag: "_holds_",
callback: function() {}
};
this.showFapai(d);
} else {
var d = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: h,
viewid: n,
end: a,
parent: l,
paiName: "ing_zuojia_z_",
indexK: e,
pai: i,
myTag: "_holds_",
tagall: n + "_chupai_0",
callback: function() {}
};
this.showFapai(d);
}
},
showTopHold: function(e, i, t, a) {
var n = cc.vv.mahjongMgr.getViewidBySide("up"), s = this.PrefabMajiang, c = this.uphandAtlasThreeD, o = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], h = cc.vv.utils.deepCopy(o[n].holds), r = this.getHoldParent(n, "holds"), l = this.getHoldParent(n, "holdschupai"), d = "img_upcardvalue";
i = i;
if (t && 13 == e) {
var g = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: h,
viewid: n,
end: a,
parent: l,
paiName: d,
indexK: e,
pai: i,
myTag: "_holds_",
tagall: n + "_chupai_" + t,
callback: function() {}
};
this.showFapai(g);
} else if (t || 13 != e) {
g = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: h,
viewid: n,
end: a,
parent: r,
paiName: d,
indexK: e,
pai: i,
myTag: "_holds_",
callback: function() {}
};
this.showFapai(g);
} else {
var g = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: h,
viewid: n,
end: a,
parent: l,
paiName: d,
indexK: e,
pai: i,
myTag: "_holds_",
tagall: n + "_chupai_0",
callback: function() {}
};
this.showFapai(g);
}
},
showRightHold: function(e, i, t, a) {
var n = cc.vv.mahjongMgr.getViewidBySide("right"), s = this.PrefabMajiang, c = this.lefthandAtlasThreeD, o = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], h = cc.vv.utils.deepCopy(o[n].holds), r = this.getHoldParent(n, "holds"), l = this.getHoldParent(n, "holdschupai");
i = i;
if (t && 13 == e) {
var d = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: h,
viewid: n,
end: a,
parent: l,
paiName: "ing_zuojia_z_",
indexK: e,
pai: i,
myTag: "_holds_",
tagall: n + "_chupai_" + t,
callback: function() {}
};
this.showFapai(d);
} else if (t || 13 != e) {
d = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: h,
viewid: n,
end: a,
parent: r,
paiName: "ing_zuojia_z_",
indexK: e,
pai: i,
myTag: "_holds_",
callback: function() {}
};
this.showFapai(d);
} else {
var d = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: h,
viewid: n,
end: a,
parent: l,
paiName: "ing_zuojia_z_",
indexK: e,
pai: i,
myTag: "_holds_",
tagall: n + "_chupai_0",
callback: function() {}
};
this.showFapai(d);
}
},
chupaiShow: function(e, i, t, a, n, s) {
var c = this, o = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], h = (cc.vv.mahjongMgr.getSide(e), 
cc.vv.utils.deepCopy(o[e].chupaiShow)), r = cc.vv.mahjongMgr.getViewidBySide("myself");
cc.vv.roomMgr.is_replay || e != r && (i = 13);
var l = e + "_chupai_" + n, d = this.getHoldParent(e, "holds"), g = this.getHoldParent(e, "holdschupai"), u = cc.vv.mahjongMgr.getViewidBySide("myself"), _ = cc.vv.utils.deepCopy(o[u].chupaiShow), v = (cc.vv.utils.deepCopy(o[u].holds), 
_.size), p = _.dian.position, m = _.dian.size, f = _.dian.img, y = _.dian.skew;
if (e == r) {
for (var C = e + "_holds_" + i, b = (o = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], 
h = cc.vv.utils.deepCopy(o[e].folds), this.getHoldParent(e, "folds")), w = b.getChildByName("list"), x = this.getHoldParent(e, "holds"), z = 0, k = 0, M = n, j = 0; j <= M; j++) {
z += h.distance[j] * h.scale;
k += h.distanceH[j] * h.scale;
}
var N = function(e) {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_dapai");
var i = e.index + 1, t = cc.vv.mahjongMgr.getMahjongPai(e.pai);
c.showFolds(e.viewid, e.index, t, i, function() {
var i = cc.vv.roomMgr.realChairID(e.viewid);
cc.vv.folds.setSpritePointer(i, e.index, !0);
});
var a = cc.vv.roomMgr.realChairID(e.viewid);
s(a, e.indexself);
}, S = (h.x, b.scaleX, w.scaleX, x.scaleX, h.y, b.scaleY, w.scaleY, x.scaleY, {
myTag: l,
callback: function() {
var a = {
viewid: e,
pai: t,
index: M,
indexself: i,
callback: N
};
c.send_card_emit(g, "nodeDestroy", a, l);
c.send_card_emit(g, "setEnabled", {
enabled: !1
}, l);
}
});
this.send_card_emit(d, "setTag", S, C);
} else if (cc.vv.roomMgr.is_replay) {
C = e + "_holds_" + i, S = {
myTag: l,
callback: function() {
var e = {
time: .2,
x: h.x,
y: h.y,
scaleFrom: h.scaleFrom,
scaleTo: h.scaleTo,
spriteBgFrame: c.selfhandAtlasThreeD,
spriteBgName: f,
spriteBgWidth: v.width,
spriteBgHeight: v.height,
spriteDianFrame: c.selfhandAtlasThreeD,
dianX: p.x,
dianY: p.y,
dianWidth: m.width,
dianHeight: m.height,
dianScaleX: h.dianScaleAll,
dianScaleAll: _.dianScaleAll,
spriteDianName: "img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(t),
seatid: a,
index: i,
skew: y,
callback: s
};
c.send_card_emit(g, "chupaiShow", e, l);
c.send_card_emit(g, "setLight", {
isShow: !0
}, l);
c.send_card_emit(g, "setChuLight", {}, l);
c.send_card_emit(g, "setEnabled", {
enabled: !1
}, l);
}
};
this.send_card_emit(d, "setTag", S, C);
this._chupaiArr.push(l);
} else {
if (cc.vv.utils.getChildByTag(g, l)) {
var F = {
time: .2,
x: h.x,
y: h.y,
scaleFrom: h.scaleFrom,
scaleTo: h.scaleTo,
spriteBgFrame: c.selfhandAtlasThreeD,
spriteBgName: f,
spriteBgWidth: v.width,
spriteBgHeight: v.height,
spriteDianFrame: c.selfhandAtlasThreeD,
dianX: p.x,
dianY: p.y,
dianWidth: m.width,
dianHeight: m.height,
dianScaleX: h.dianScaleAll,
dianScaleAll: _.dianScaleAll,
spriteDianName: "img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(t),
seatid: a,
index: i,
skew: y,
callback: s
};
c.send_card_emit(g, "chupaiShow", F, l);
c.send_card_emit(g, "setLight", {
isShow: !0
}, l);
c.send_card_emit(g, "setChuLight", {}, l);
this._chupaiArr.push(l);
} else {
a = cc.vv.roomMgr.realChairID(e);
this.chupaiShowStage(a, t);
}
}
},
showFolds: function(e, i, t, a, n) {
switch (cc.vv.mahjongMgr._sides[e]) {
case "myself":
this.showSelfFolds(i, t, a, n);
break;

case "right":
this.showRightFolds(i, t, a, n);
break;

case "up":
this.showUpFolds(i, t, a, n);
break;

case "left":
this.showLeftFolds(i, t, a, n);
}
},
showSelfFolds: function(e, i, t, a) {
var n = cc.vv.mahjongMgr.getViewidBySide("myself"), s = this.PrefabMajiang, c = this.selfhandAtlasThreeD, o = this.selfhandAtlasThreeD, h = cc.vv.game.config["card_" + cc.vv.roomMgr.ren];
var r = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: cc.vv.utils.deepCopy(h[n].folds),
viewid: n,
indexK: e,
parent: this.getHoldParent(n, "folds").getChildByName("list"),
paiName: "img_cardvalue",
pai: i,
myTag: "_folds_",
end: t,
dianAtlas: o,
callback: function() {
a();
}
};
this.showFapai(r);
},
showLeftFolds: function(e, i, t, a) {
var n = cc.vv.mahjongMgr.getViewidBySide("left"), s = this.PrefabMajiang, c = this.lefthandAtlasThreeD, o = this.lefthandAtlasThreeD, h = cc.vv.game.config["card_" + cc.vv.roomMgr.ren];
var r = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: cc.vv.utils.deepCopy(h[n].folds),
viewid: n,
indexK: e,
parent: this.getHoldParent(n, "folds").getChildByName("list"),
paiName: "img_cardvalue",
pai: i,
myTag: "_folds_",
end: t,
dianAtlas: o,
callback: function() {
a();
}
};
this.showFapai(r);
},
showUpFolds: function(e, i, t, a) {
var n = cc.vv.mahjongMgr.getViewidBySide("up"), s = this.PrefabMajiang, c = this.selfhandAtlasThreeD, o = this.selfhandAtlasThreeD, h = cc.vv.game.config["card_" + cc.vv.roomMgr.ren];
var r = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: cc.vv.utils.deepCopy(h[n].folds),
viewid: n,
indexK: e,
parent: this.getHoldParent(n, "folds").getChildByName("list"),
paiName: "img_cardvalue",
pai: i,
myTag: "_folds_",
end: t,
dianAtlas: o,
callback: function() {
a();
}
};
this.showFapai(r);
},
hideFolds: function(e, i) {
var t = this.getHoldParent(e, "folds").getChildByName("list"), a = e + "_folds_" + i;
this.send_card_emit(t, "nodeDestroy", {}, a);
},
showRightFolds: function(e, i, t, a) {
var n = cc.vv.mahjongMgr.getViewidBySide("right"), s = this.PrefabMajiang, c = this.righthandAtlasThreeD, o = this.righthandAtlasThreeD, h = cc.vv.game.config["card_" + cc.vv.roomMgr.ren];
var r = {
prefab: s,
atlas: c,
scriptsName: "KDMajiang",
pos: cc.vv.utils.deepCopy(h[n].folds),
viewid: n,
indexK: e,
parent: this.getHoldParent(n, "folds").getChildByName("list"),
paiName: "img_cardvalue",
pai: i,
myTag: "_folds_",
end: t,
dianAtlas: o,
callback: function() {
a();
}
};
this.showFapai(r);
},
showFapai: function(e) {
var i = e.prefab, t = e.atlas, a = e.scriptsName, n = cc.vv.utils.deepCopy(e.pos), s = e.viewid, c = e.indexK, o = e.parent, h = e.paiName, r = e.pai, l = e.myTag, d = e.callback, g = n.img, u = e.end, _ = 0, v = 0, p = 0, m = 0;
if (null != n.distance[c]) {
for (var f = 0; f <= c; f++) {
_ += n.distance[f] * n.scale;
v += n.distanceH[f] * n.scale;
p += n.distancehide[f] * n.scalehide;
m += n.distanceHhide[f] * n.scalehide;
}
var y = n.paiIndex, C = n.size, b = cc.instantiate(i), w = b.getChildByName("bg"), x = w.getChildByName("dian"), z = w.getChildByName("type");
if (-3 == r && 0 != s) {
y = n.paiIndex;
C = n.size;
g = n.img;
x.active = !1;
b.getComponent(a);
var k = n.x + _, M = n.y + v;
b.setPosition(k, M);
b.scale = n.scale;
b.zIndex = y[c];
} else {
if (null == r || -1 == r) {
b.active = !1;
c == u - 1 && null != d && d();
return;
}
if (-2 == r) if ("_folds_" == l) {
y = n.paiIndex;
C = n.size;
g = n.imghide;
x.active = !1;
b.getComponent(a), k = n.x + _, M = n.y + v;
b.setPosition(k, M);
n.scale = n.scale;
n.scaleItemhide && (n.scale = n.scaleItemhide[c] * n.scale);
b.scale = n.scale;
b.zIndex = y[c];
} else {
y = n.paiIndexhide;
C = n.sizehide;
g = n.imghide;
x.active = !1;
b.getComponent(a), k = n.xhide + p, M = n.yhide + m;
b.setPosition(k, M);
n.scale = n.scalehide;
n.scaleItemhide && (n.scale = n.scaleItemhide[c] * n.scale);
b.scale = n.scale;
b.zIndex = y[c];
} else {
y = n.paiIndex;
C = n.size;
g = n.img;
var j = n.dian;
e.dianAtlas && (t = e.dianAtlas);
var N = h + r;
n.dianScaleAll && (x.scale = n.dianScaleAll);
if (j) {
j.img && (N = j.img[c] + r);
var S = t.getSpriteFrame(N);
x.getComponent(cc.Sprite).spriteFrame = S;
if (null != j.position[c] && null != j.position) {
x.x = j.position[c].x;
x.y = j.position[c].y;
}
if (null != j.size[c]) {
x.width = j.size[c].width;
x.height = j.size[c].height;
}
if (j.skew) {
x.skewX = j.skew[c].x;
x.skewY = j.skew[c].y;
}
x.active = !0;
j.dianRotation && (x.rotation = j.dianRotation[c]);
if (j.dianScale) {
x.scaleX = j.dianScale[c].scaleX;
x.scaleY = j.dianScale[c].scaleY;
}
if (j.hao) {
z.x = j.hao[c].x;
z.y = j.hao[c].y;
z.skewX = j.hao[c].skewX;
z.skewY = j.hao[c].skewY;
z.rotation = j.hao[c].rotation;
j.haoScale && (z.scale = j.haoScale);
if (j.dianScale) {
z.scaleX = z.scaleX * j.dianScale[c].scaleX;
z.scaleY = z.scaleY * j.dianScale[c].scaleY;
}
}
}
b.getComponent(a), k = n.x + _, M = n.y + v;
b.setPosition(k, M);
n.scaleItemhidescale && (n.scale = n.scaleItemhidescale[c] * n.scale);
b.scale = n.scale;
b.zIndex = y[c];
if (-2 != r && -3 != r && j && j.hao) {
var F = cc.vv.mahjongMgr.getMahjongPaiReturn(r);
-1 != cc.vv.mahjongMgr._magicPai && F == cc.vv.mahjongMgr._magicPai || -1 != cc.vv.mahjongMgr._magicPai2 && F == cc.vv.mahjongMgr._magicPai2 ? z.active = !0 : z.active = !1;
}
}
}
t = e.atlas;
w.getComponent(cc.Sprite).spriteFrame = t.getSpriteFrame(g[c]);
if (n.bgScale) {
w.scaleX = n.bgScale[c].scaleX;
w.scaleY = n.bgScale[c].scaleY;
}
if (C) {
var B = C[c].width, T = C[c].height;
w.width = B;
w.height = T;
}
o.addChild(b);
var A = s + l + c;
b.myTag = A;
e.tagall && (b.myTag = e.tagall);
if (-2 != r && -3 != r) {
var I = {
pai: F = cc.vv.mahjongMgr.getMahjongPaiReturn(r),
index: c
};
b.emit("setValue", I);
var X = -1 != cc.vv.mahjongMgr._magicPai && F == cc.vv.mahjongMgr._magicPai || -1 != cc.vv.mahjongMgr._magicPai2 && F == cc.vv.mahjongMgr._magicPai2;
if (null == l) {
if (X) {
var P = {
isAn: !0
};
b.emit("setColor", P);
}
} else if ("_folds_" != l && X) {
P = {
isAn: !0
};
b.emit("setColor", P);
}
}
null != n.dianScaleY && n.dianScaleY < 0 && (x.scaleY = -x.scaleY);
u && c == u - 1 && null != d && d(e.callbackdata);
}
},
view_ting: function(e) {
if (1 == e.is_view) {
cc.find("Canvas/mgr/hud/oper/btn_ting").active = !0;
if (cc.vv.game.config.is_showtingdown) {
cc.vv.net2.quick("query");
this.onclick_see_ting_hs();
}
} else {
cc.find("Canvas/mgr/hud/oper/btn_ting").active = !1;
if (cc.vv.game.config.is_showtingdown) {
cc.find("Canvas/open/see_ting_Pai_hs").active = !1;
cc.find("Canvas/open/huSprite").active = !1;
}
}
},
guohu: function(e) {
if (cc.vv.roomMgr.is_replay) {
cc.vv.mahjongMgr._sides;
var i = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(i, "guohubg").active = !0;
} else if (e == cc.vv.roomMgr.seatid) {
cc.vv.mahjongMgr._sides, i = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(i, "guohubg").active = !0;
}
},
guopeng: function(e) {
if (cc.vv.roomMgr.is_replay) {
cc.vv.mahjongMgr._sides;
var i = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(i, "guopengbg").active = !0;
} else if (e == cc.vv.roomMgr.seatid) {
cc.vv.mahjongMgr._sides, i = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(i, "guopengbg").active = !0;
}
},
hujiaozhuanyi: function(e) {
var i = e.seatid;
cc.vv.roomMgr.viewChairID(i) == cc.vv.mahjongMgr.getViewidBySide("myself") ? this.initSelfHold() : this.initOtherHold(i);
},
wait_hu: function(e) {
if (e.userid == cc.vv.userMgr.userid) {
this.hideOptions();
this.hideChipaiOpts();
this.hideGangPaiOpts();
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
}
},
hideGuohuOne: function(e) {
var i = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(i, "guohubg").active = !1;
},
hideGuohu: function() {
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
var t = cc.vv.roomMgr.viewChairID(i);
this.getHoldParent(t, "guohubg").active = !1;
}
},
hideGuoPengOne: function(e) {
var i = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(i, "guopengbg").active = !1;
},
hideGuoPeng: function() {
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
var t = cc.vv.roomMgr.viewChairID(i);
this.getHoldParent(t, "guopengbg").active = !1;
}
},
setPaiClick: function(e) {
for (var i = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid], t = cc.vv.game.sortHolds(i), a = t.length, n = cc.vv.game.getStartIndex(t), s = cc.vv.mahjongMgr.getViewidBySide("myself"), c = this.getHoldParent(s, "holds"), o = n; o < n + a; o++) {
var h = {
enabled: e
}, r = s + "_holds_" + o;
this.send_card_emit(c, "setEnabled", h, r);
}
},
hideMagic: function() {
this.spriteMagic.node.parent.active = !1;
},
hideHupai: function() {
for (var e = cc.vv.mahjongMgr._sides, i = 0; i < e.length; ++i) {
var t = e[cc.vv.roomMgr.viewChairID(i)];
this.nodeGameRoot.getChildByName(t).getChildByName("hupai").getChildByName("KDMajiang").active = !1;
}
},
showAllLight: function() {
this._prefabArrow.emit("allLight");
},
setDirection: function() {
this._prefabArrow.emit("setDirection");
},
showAction: function(e) {
if (this._isfristAction) {
this.opts.active && this.hideOptions();
cc.vv.folds.change_color_outcrad(-4);
if (e && (e.hu || e.gang || e.peng || e.chi || e.buhua)) {
this._showActoin_yse_not = !0;
this.opts.active = !0;
e.chi && this.addOption("btnChi", e.pai, e.paiWik);
e.peng && this.addOption("btnPeng", e.pai, null);
if (e.gang) {
var i = e.wik[0];
this.addOptionTmp("btnGang", i[1], e.wik, e.ActPai);
}
if (e.hu) {
cc.vv.game.config.isyipaoduoxiang && this.auto_tips(10, "过");
this.addOption("btnHu", e.pai, null);
}
var t = this.opts.getChildByName("op");
if (t) for (var a = 0; a < t.childrenCount; ++a) {
var n = t.children[a];
"btnGuo" == n.name && (e.guo ? n.active = !0 : n.active = !1);
}
} else this._showActoin_yse_not = !1;
}
},
game_showLight: function(e) {
if (-1 != e) {
var i = cc.vv.roomMgr.viewChairID(e), t = cc.vv.mahjongMgr._sides, a = {
data: {
position: t[i % t.length]
}
};
this._prefabArrow.emit("showLight", a);
}
},
onclick_see_ting: function() {
var e = cc.find("Canvas/open/see_ting_Pai");
cc.find("Canvas/mgr/hud/oper/btn_ting").active = !0;
e.removeAllChildren();
for (var i = 0; i < this._tingpai.length; ++i) {
var t = cc.instantiate(this.tingpaiMJpre);
t.getComponent("ThreeListenCard").show(this._tingpai[i], this._tingpaifan[i]);
cc.vv.game.config.is_tingfan && t.getComponent("ThreeListenCard").fan(this._tingpaifannew[i]);
e.addChild(t);
}
this.onclick_see_ting_hs();
this._tingpai.length <= 5 ? e.width = 20 + 200 * this._tingpai.length : e.width = 1200;
this.setBaoting();
},
onclick_see_ting_hs: function() {
if (cc.vv.game.config.is_showtingdown) {
var e = cc.find("Canvas/open/see_ting_Pai_hs");
e.removeAllChildren();
for (var i = 0; i < this._tingpai.length; ++i) {
var t = cc.instantiate(this.PrefabMajiang), a = this.selfhandAtlasThreeD.getSpriteFrame("img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(this._tingpai[i]));
t.getChildByName("bg").getChildByName("dian").getComponent(cc.Sprite).spriteFrame = a;
e.addChild(t);
}
e.active = !0;
cc.find("Canvas/open/huSprite").active = !0;
}
},
cencelbaoting: function() {
this._baoting = 0;
this._yiting = !1;
cc.find("Canvas/open/tingPaiList").active = !1;
this.nodeGameRoot.getChildByName("baotingops").active = !1;
this.initBaotingHoldCan();
},
initbnaoting: function() {
this._baoting = 1;
this._autoOutCrad = !1;
this._yiting = !0;
this.opts.active = !1;
this.nodeGameRoot.getChildByName("baotingops").active = !0;
this.initBaotingHold();
},
initMahjongs: function(e, i) {
var t = this;
if (13 != i) {
var a = cc.vv.mahjongMgr._magicPai, n = cc.vv.mahjongMgr._magicPai2, s = cc.vv.game.getFourteenTo(a, n), c = cc.vv.roomMgr.viewChairID(e), o = this.getHoldParent(c, "holds"), h = cc.vv.mahjongMgr._seats[e], r = cc.vv.game.sortHolds(h), l = (cc.vv.game.getStartIndex(r), 
cc.vv.game.config["card_" + cc.vv.roomMgr.ren]), d = cc.vv.utils.deepCopy(l[c].holds), g = function(e) {
for (var i = 0, a = 0, n = 0; n <= e; n++) {
i += d.distance[n] * d.scale;
a += d.distanceH[n] * d.scale;
}
var r = d.x + i, l = d.y + a, g = 0, u = 0;
for (n = 0; n <= 13; n++) {
g += d.distance[n] * d.scale;
u += d.distanceH[n] * d.scale;
}
var _ = d.x + g, v = d.y + u, p = d.scale, m = c + "_holds_13", f = {
delayTime: .1,
time: .1,
x: _,
y: v + 130,
scale: p
};
t.send_card_emit(o, "moveTo", f, m);
f = {
delayTime: .2,
time: .1,
x: r,
y: v + 130,
scale: p,
rotation: 10
};
t.send_card_emit(o, "moveTo", f, m);
f = {
delayTime: .3,
time: .1,
x: r,
y: l,
scale: p,
moPaiindex: s,
index: e,
myTag: c + "_holds_" + e,
rotation: 0,
callback: function(e) {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_xuanpai");
cc.vv.game.sortHolds(h);
}
};
t.send_card_emit(o, "chuPaiMoveTo", f, m);
if (cc.vv.mahjongMgr._canChui) {
t.setPaiClick(!0);
}
};
s < i && (s += 1);
if (s > i) for (var u = i; u <= s; u++) {
for (var _ = 0, v = 0, p = u - 1, m = 0; m <= p; m++) {
_ += d.distance[m] * d.scale;
v += d.distanceH[m] * d.scale;
}
var f = {
time: .1,
x: d.x + _,
y: d.y + v,
scale: d.scale,
moPaiindex: s,
index: p,
myTag: c + "_holds_" + p,
callback: u == s ? g : null
}, y = c + "_holds_" + u;
t.send_card_emit(o, "chuPaiMoveTo", f, y);
} else if (s < i) for (u = i; u >= s; u--) {
for (_ = 0, v = 0, p = u + 1, m = 0; m <= p; m++) {
_ += d.distance[m] * d.scale;
v += d.distanceH[m] * d.scale;
}
f = {
time: .1,
x: d.x + _,
y: d.y + v,
scale: d.scale,
moPaiindex: s,
index: p,
myTag: c + "_holds_" + p,
callback: u == s ? g : null
}, y = c + "_holds_" + u;
t.send_card_emit(o, "chuPaiMoveTo", f, y);
} else g(s);
}
},
initOtherMahjongs: function(e) {},
initBaotingHold: function() {
for (var e = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid], i = cc.vv.game.sortHolds(e), t = cc.vv.game.getStartIndex(i), a = i.length, n = t; n < t + a; n++) {
var s = cc.vv.roomMgr.viewChairID(cc.vv.roomMgr.seatid), c = s + "_holds_" + n, o = i[n - t];
if (1 == this._baotingchupai) {
var h = {
keda: 0
};
this.send_card_item_emit("holds", s, "setKeda", h, c);
h = {
isAn: !0
};
this.send_card_item_emit("holds", s, "setColor", h, c);
} else if (1 == this._baoting) {
h = {
isAn: !0
};
this.send_card_item_emit("holds", s, "setColor", h, c);
h = {
keda: 0
};
this.send_card_item_emit("holds", s, "setKeda", h, c);
for (var r = 0; r < this._ting_chupai.length; ++r) if (o == this._ting_chupai[r] && 0 == this._autoOutCrad) {
h = {
isAn: !1
};
this.send_card_item_emit("holds", s, "setColor", h, c);
h = {
keda: 1
};
this.send_card_item_emit("holds", s, "setKeda", h, c);
}
} else {
h = {
isAn: !1
};
this.send_card_item_emit("holds", s, "setColor", h, c);
h = {
keda: 1
};
this.send_card_item_emit("holds", s, "setKeda", h, c);
}
}
},
initBaotingHoldCan: function() {
for (var e = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid], i = cc.vv.game.sortHolds(e), t = cc.vv.game.getStartIndex(i), a = i.length, n = t; n < t + a; n++) {
var s = cc.vv.roomMgr.viewChairID(cc.vv.roomMgr.seatid), c = s + "_holds_" + n, o = {
isAn: !1
};
this.send_card_item_emit("holds", s, "setColor", o, c);
o = {
keda: 1
};
this.send_card_item_emit("holds", s, "setKeda", o, c);
}
},
initBaoting: function() {
this._ting_chupai = [];
this._ting_need = [];
cc.find("Canvas/mgr/hud/oper/btn_ting").active = !1;
if (cc.vv.game.config.is_showtingdown) {
cc.find("Canvas/open/see_ting_Pai_hs").active = !1;
cc.find("Canvas/open/huSprite").active = !1;
}
},
initSelfHold: function() {
var e = cc.vv.mahjongMgr.getViewidBySide("myself");
this.getHoldParent(e, "holds").removeAllChildren();
for (var i = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid], t = cc.vv.game.sortHolds(i), a = cc.vv.game.getStartIndex(t), n = t.length, s = a; s < a + n; s++) this.showSelfHold(s, t[s - a], a + n - 1);
this.initBaotingHold();
},
initRightHold: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(t, "holds").removeAllChildren();
var a = cc.vv.mahjongMgr._seats[e].folds.length, n = 13 - cc.vv.mahjongMgr.getNumberPai(e);
if (i) {
var s = t + "_chupai_" + a, c = this.getHoldParent(t, "holdschupai");
this.send_card_emit(c, "nodeDestroy", {}, s);
}
for (var o = cc.vv.game.getStartIndexByNum(n), h = o; h < o + n; h++) this.showRightHold(h, -3, a, n + o + 1);
},
initUpHold: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(t, "holds").removeAllChildren();
var a = cc.vv.mahjongMgr._seats[e].folds.length, n = 13 - cc.vv.mahjongMgr.getNumberPai(e);
if (i) {
var s = t + "_chupai_" + a, c = this.getHoldParent(t, "holdschupai");
this.send_card_emit(c, "nodeDestroy", {}, s);
}
for (var o = cc.vv.game.getStartIndexByNum(n), h = o; h < o + n; h++) this.showTopHold(h, -3, a, n + o + 1);
},
initLeftHold: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(t, "holds").removeAllChildren();
var a = cc.vv.mahjongMgr._seats[e].folds.length, n = 13 - cc.vv.mahjongMgr.getNumberPai(e);
if (i) {
var s = t + "_chupai_" + a, c = this.getHoldParent(t, "holdschupai");
this.send_card_emit(c, "nodeDestroy", {}, s);
}
for (var o = cc.vv.game.getStartIndexByNum(n), h = o; h < o + n; h++) this.showLeftHold(h, -3, a, n + o + 1);
},
initRightHoldsreplay: function(e) {
var i = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(i, "holds").removeAllChildren();
for (var t = cc.vv.mahjongMgr._seats[e], a = cc.vv.game.sortHolds(t), n = a.length, s = cc.vv.game.getStartIndex(a), c = s; c < s + n; c++) this.showRightHoldsreplay(c, a[c - s], n + s + 1);
},
initUpHoldsreplay: function(e) {
var i = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(i, "holds").removeAllChildren();
for (var t = cc.vv.mahjongMgr._seats[e], a = cc.vv.game.sortHolds(t), n = a.length, s = cc.vv.game.getStartIndex(a), c = s; c < s + n; c++) this.showTopHoldsreplay(c, a[c - s], n + s + 1);
},
initLeftHoldsreplay: function(e) {
var i = cc.vv.roomMgr.viewChairID(e);
this.getHoldParent(i, "holds").removeAllChildren();
for (var t = cc.vv.mahjongMgr._seats[e], a = cc.vv.game.sortHolds(t), n = a.length, s = cc.vv.game.getStartIndex(a), c = s; c < s + n; c++) this.showLeftHoldsreplay(c, a[c - s], n + s + 1);
},
initOtherHold: function(e, i) {
var t = cc.vv.roomMgr.viewChairID(e), a = cc.vv.mahjongMgr._sides[t];
if (cc.vv.roomMgr.is_replay) switch (a) {
case "right":
this.initRightHoldsreplay(e);
break;

case "up":
this.initUpHoldsreplay(e);
break;

case "left":
this.initLeftHoldsreplay(e);
} else switch (a) {
case "right":
this.initRightHold(e, i);
break;

case "up":
this.initUpHold(e, i);
break;

case "left":
this.initLeftHold(e, i);
}
},
initTingPai: function() {},
hideOptions: function(e) {
this.opts.active = !1;
var i = this.opts.getChildByName("op");
i.active = !1;
i.getChildByName("btnPeng").active = !1;
i.getChildByName("btnGang").active = !1;
i.getChildByName("btnTing").active = !1;
i.getChildByName("btnHu").active = !1;
i.getChildByName("btnChi").active = !1;
},
hideChipaiOpts: function(e) {
this.chiopts.active = !1;
for (var i = 0; i < this.chiopts.childrenCount; ++i) {
var t = this.chiopts.children[i];
"op" == t.name && (t.active = !1);
}
},
hideGangPaiOpts: function(e) {
this.gangopts.active = !1;
for (var i = 0; i < this.gangopts.childrenCount; ++i) {
var t = this.gangopts.children[i];
"op" == t.name && (t.active = !1);
}
},
hideTingOpts: function() {
this.tingopts.active = !1;
},
initHupai: function(e, i, t, a) {
var n = this, s = cc.vv.mahjongMgr._sides[e], c = this.nodeGameRoot.getChildByName(s).getChildByName("hupai"), o = e + "_hupai", h = this.selfhandAtlasThreeD, r = "img_cardvalue";
switch (s) {
case "right":
h = this.righthandAtlasThreeD;
r = "ing_youjia_1_";
break;

case "left":
h = this.lefthandAtlasThreeD;
r = "ing_zuojia_1_";
}
var l = {
isActive: !0,
callback: function() {
var e = h.getSpriteFrame(r + cc.vv.mahjongMgr.getMahjongPai(i)), s = {
pai: i,
sprite: e
};
n.send_card_emit(c, "sethu", s, o);
if (-1 != cc.vv.mahjongMgr._magicPai && i == cc.vv.mahjongMgr._magicPai || -1 != cc.vv.mahjongMgr._magicPai2 && i == cc.vv.mahjongMgr._magicPai2) {
var l = {
isActive: !0
};
n.send_card_emit(c, "setType", l, o);
} else {
l = {
isActive: !1
};
n.send_card_emit(c, "setType", l, o);
}
var d = t;
if (-1 != d) {
var g = cc.vv.roomMgr.viewChairID(d), u = g + "_chupai_" + (a - 1), _ = n.getHoldParent(g, "holdschupai"), v = {
callback: function() {
setTimeout(function() {
n.pengGangIsActive(_, {
isActive: !1
}, u);
}, 800);
}
};
n.send_card_emit(_, "sethuLight", v, u);
}
}
};
n.pengGangIsActive(c, l, o);
},
baotingopsUi: function(e) {
cc.find("Canvas/open/tingPaiList").active = e;
this.nodeGameRoot.getChildByName("baotingops").active = e;
},
addOption: function(e, i, t) {
var a = this.opts.getChildByName("op");
a.active = !0;
var n = a.getChildByName(e);
n.active = !0;
n.pai = i;
n.paiWik = t;
},
addOptionTmp: function(e, i, t, a) {
var n = this.opts.getChildByName("op");
n.active = !0;
var s = n.getChildByName(e);
s.active = !0;
s.pai = i;
s.paiWik = t;
s.actpai = a;
},
onGameBeign: function(e) {
if (-1 != cc.vv.mahjongMgr._gamestate && 97 != cc.vv.mahjongMgr._gamestate) {
this.nodeGameRoot.active = !0;
this._isfrist = !0;
this._isfristAction = !0;
this._isfristTingAction = !0;
this._isfristTing1Action = !0;
this.setZhuang();
cc.vv.game.config.is_showHuangZhuang && this.game_huangZhuang();
var i = {
data: {
count: cc.vv.mahjongMgr._numOfMJ
}
};
cc.vv.game.dispatchEvent("mj_count_table", i);
this.chupaiShowStage(cc.vv.mahjongMgr._turn, cc.vv.mahjongMgr._chupai);
if (null != cc.vv.mahjongMgr._curaction) {
this.showAction(cc.vv.mahjongMgr._curaction);
cc.vv.mahjongMgr._curaction = null;
}
for (var t = cc.vv.mahjongMgr._sides, a = 0; a < t.length; ++a) {
for (var n = cc.vv.roomMgr.viewChairID(a), s = cc.vv.roomMgr.realChairID(n), c = cc.vv.mahjongMgr._seats[s], o = c.chipenggang, h = 0; h < o.length; h++) {
var r = o[h];
switch (r[0]) {
case 0:
var l = !1, d = !1, g = [ r[1][0], r[1][1], r[1][2], r[1][3], r[1][2] ];
this.showPengGangAll(h, s, g, l, d);
break;

case 1:
l = !1, d = !1;
var u = r[1][1];
g = [ r[1][0], u, u, u, u ];
this.showPengGangAll(h, s, g, l, d);
break;

case 2:
l = !0, d = !1, u = r[1][1], g = [ r[1][0], -2, -2, -2, u ];
this.showPengGangAll(h, s, g, l, d);
break;

case 3:
l = !0, d = !1, u = r[1][1], g = [ r[1][0], u, u, u, u ];
this.showPengGangAll(h, s, g, l, d);
break;

case 4:
l = !0, d = !0, u = r[1][1], g = [ r[1][0], u, u, u, u ];
this.showPengGangAll(h, s, g, l, d);
}
1 == e.seats[a].guohu ? this.guohu(a) : this.hideGuohuOne(a);
cc.vv.game.config.isGuoPeng && (1 == e.seats[a].guopeng ? this.guopeng(a) : this.hideGuoPengOne(a));
}
if (s == cc.vv.roomMgr.seatid) {
this.initSelfHold();
this.initBaotingHold();
} else this.initOtherHold(s);
var _ = c.folds, v = _.length, p = c.m_bBaoTing_index;
null != p && -1 != p && (_[p] = -2);
for (var m = 0; m < v; m++) {
var f = v, y = (g = _[m], cc.vv.mahjongMgr.getMahjongPai(g));
this.showFolds(n, m, y, f, function() {
s == cc.vv.mahjongMgr._turn && cc.vv.mahjongMgr._turn;
});
}
}
null != e && null != e.myTag && -1 != e.myTag && cc.vv.mahjongMgr._turn != cc.vv.roomMgr.seatid && this.initMopai(cc.vv.mahjongMgr._turn, -3);
this.game_syncTurnChange();
this.game_syncShowAction();
cc.vv.mahjongMgr._canChui = cc.vv.mahjongMgr._turn == cc.vv.roomMgr.seatid;
}
},
showChipai: function(e, i) {
if (1 != i && 2 != i && 4 != i) {
this.hideOptions();
this.chiopts.active = !0;
1 & i && this.addChipai("pai_bottom", 1, e);
2 & i && this.addChipai("pai_bottom", 2, e);
4 & i && this.addChipai("pai_bottom", 4, e);
} else {
var t = {
pai: e,
Wik: i
};
cc.vv.net2.quick("chi", t);
}
},
addChipai: function(e, i, t) {
var a = 0, n = 0, s = 0;
if (1 == i) {
a = t;
n = t + 1;
s = t + 2;
} else if (2 == i) {
a = t - 1;
n = t;
s = t + 1;
} else if (4 == i) {
a = t - 2;
n = t - 1;
s = t;
}
for (var c = 0; c < this.chiopts.childrenCount; ++c) {
var o = this.chiopts.children[c];
if ("op" == o.name && 0 == o.active) {
o.active = !0;
var h = this.selfhandAtlasThreeD, r = "img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(a);
o.getChildByName("opTarget0").children[0].getComponent(cc.Sprite).spriteFrame = h.getSpriteFrame(r);
var l = "img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(n);
o.getChildByName("opTarget1").children[0].getComponent(cc.Sprite).spriteFrame = h.getSpriteFrame(l);
var d = "img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(s);
o.getChildByName("opTarget2").children[0].getComponent(cc.Sprite).spriteFrame = h.getSpriteFrame(d);
var g = o.getChildByName(e);
g.active = !0;
g.pai = actpai;
g.paiWik = i;
return;
}
}
},
showGang: function(e, i, t) {
if (1 != i.length) {
this.hideOptions();
this.gangopts.active = !0;
for (var a = 0; a < i.length; ++a) this.addGangpai("pai_bottom", i[a], e, t[a]);
} else {
var n = {
pai: t[0],
wik: i[0]
};
cc.vv.net2.quick("gang", n);
}
},
addGangpai: function(e, i, t, a) {
for (var n = 0; n < this.gangopts.childrenCount; ++n) {
var s = this.gangopts.children[n];
if ("op" == s.name && 0 == s.active) {
s.active = !0;
var c = this.selfhandAtlasThreeD, o = "img_cardvalue", h = o + cc.vv.mahjongMgr.getMahjongPai(a[0]);
s.getChildByName("opTarget0").children[0].getComponent(cc.Sprite).spriteFrame = c.getSpriteFrame(h);
var r = o + cc.vv.mahjongMgr.getMahjongPai(a[1]);
s.getChildByName("opTarget1").children[0].getComponent(cc.Sprite).spriteFrame = c.getSpriteFrame(r);
var l = o + cc.vv.mahjongMgr.getMahjongPai(a[2]);
s.getChildByName("opTarget2").children[0].getComponent(cc.Sprite).spriteFrame = c.getSpriteFrame(l);
var d = o + cc.vv.mahjongMgr.getMahjongPai(a[3]);
s.getChildByName("opTarget3").children[0].getComponent(cc.Sprite).spriteFrame = c.getSpriteFrame(d);
var g = s.getChildByName(e);
g.active = !0;
g.pai = a;
g.paiWik = i;
return;
}
}
},
hideAllHolds: function() {
for (var e = cc.find("Canvas/mgr/game"), i = cc.vv.mahjongMgr._sides, t = 0; t < i.length; ++t) {
var a = i[t];
e.getChildByName(a).getChildByName("holds").removeAllChildren();
}
},
hideAllChupai: function() {
for (var e = cc.find("Canvas/mgr/game"), i = cc.vv.mahjongMgr._sides, t = 0; t < i.length; ++t) {
var a = i[t];
e.getChildByName(a).getChildByName("holdschupai").removeAllChildren();
}
},
hideAllChiPengGang: function() {
for (var e = cc.find("Canvas/mgr/game"), i = cc.vv.mahjongMgr._sides, t = 0; t < i.length; ++t) {
var a = i[t];
e.getChildByName(a).getChildByName("penggangs").removeAllChildren();
}
},
setSelectDown: function(e) {
for (var i = cc.vv.mahjongMgr.getViewidBySide("myself"), t = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid], a = cc.vv.game.sortHolds(t), n = a.length, s = cc.vv.game.getStartIndex(a), c = s; c < s + n; c++) {
var o = this.getHoldParent(i, "holds"), h = {
enabled: 0
}, r = i + "_holds_" + c;
r != e && this.send_card_emit(o, "setSelect", h, r);
}
},
setZhuang: function() {
for (var e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._zhuang), i = 0; i < cc.vv.mahjongMgr._seats.length; ++i) cc.vv.game.table.seat_emit(i, "dingzhuang", {
seatid: e
});
},
game_huangZhuang: function() {
if (cc.vv.mahjongMgr._lastLiuJu) for (var e = cc.vv.roomMgr.viewChairID(cc.vv.mahjongMgr._lastZhuang), i = 0; i < cc.vv.mahjongMgr._seats.length; ++i) cc.vv.game.table.seat_emit(i, "huangzhuang", {
seatid: e
}); else cc.vv.game.table.seat_emit(null, "huangzhuang", {
seatid: null
});
},
playChipeng: function(e, i, t) {
var a = cc.vv.roomMgr.viewChairID(e), n = cc.vv.mahjongMgr.getNumberPai(e) - 3;
n < 0 || this.game_chipeng(a, n, i, t);
},
AnimationChipeng: function(e, i, t, a, n) {
var s = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], c = cc.vv.utils.deepCopy(s[i].holds), o = cc.vv.utils.deepCopy(s[i].chiPeng), h = -c.distancehide[t - 1] * c.scalehide, r = c.distancehide[t] * c.scalehide, l = -c.distanceHhide[t - 1] * c.scalehide, d = c.distanceHhide[t] * c.scalehide, g = o.scale, u = o.destination[a / 3].x, _ = o.destination[a / 3].y, v = cc.vv.mahjongMgr.getViewidBySide("myself"), p = this, m = i + "_chipenggang_" + a / 3 + "_0", f = {
time: .1,
x: h,
y: l
};
this.send_card_emit(e, "moveTo", f, m);
var y = i + "_chipenggang_" + a / 3 + "_2", C = {
time: .1,
x: r,
y: d,
callback: function() {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_dapai");
var t = cc.instantiate(p.prefabPengganghuTexiao);
e.addChild(t);
t.getComponent(cc.Animation).play("pengganghutexiao");
i == v ? e.runAction(cc.sequence(cc.delayTime(.3), cc.spawn(cc.scaleTo(.2, g, g), cc.moveTo(.2, u, _))), cc.callFunc(function() {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_dapai");
}, this)) : e.scale = g;
}
};
this.send_card_emit(e, "moveTo", C, y);
var b = i + "_chipenggang_" + a / 3 + "_3", w = {
isActive: n
};
this.pengGangIsActive(e, w, b);
this.send_card_emit(e, "setZIndex", {
zIndex: 15
}, b);
n && this.gangAnimation(e, b, i);
},
gangAnimation: function(e, i, t) {
var a = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], n = cc.vv.utils.deepCopy(a[t].chiPeng), s = cc.vv.utils.deepCopy(a[t].holds), c = n.fourPai, o = this, h = {
isActive: !0,
callback: function() {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_dapai");
var t = {
time: .1,
x: c.x * s.scalehide,
y: c.y * s.scalehide
};
o.send_card_emit(e, "moveTo", t, i);
}
};
this.pengGangIsActive(e, h, i);
},
guafengAnimation: function(e) {
var i = this.getHoldParent(e, "guafengxiayu").getChildByName("prefabGuangfengxiayu").getChildByName("guangfeng");
i.getComponent(cc.Animation).play("guangfengAttribute");
i.getChildByName("feng").getComponent(cc.Animation).play("guangfeng");
},
xiayuAnimation: function(e) {
var i = this.getHoldParent(e, "guafengxiayu").getChildByName("prefabGuangfengxiayu").getChildByName("xiayu");
i.getComponent(cc.Animation).play("xiayuAttribute");
i.getChildByName("yu").getComponent(cc.Animation).play("xiayu");
},
chupaiShowStage: function(e, i) {
var t = this;
if (-1 != i && null != i && -1 != e) {
var a = this.PrefabMajiang, n = t.selfhandAtlasThreeD, s = cc.vv.mahjongMgr.getViewidBySide("myself"), c = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], o = cc.vv.utils.deepCopy(c[s].holds), h = cc.vv.roomMgr.viewChairID(e), r = cc.vv.utils.deepCopy(c[h].chupaiShow);
o.distance = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
o.distanceH = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
o.distancehide = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
o.distanceHhide = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
o.x = r.x;
o.y = r.y;
o.scale = r.scaleTo;
o.img = o.imgshow;
o.img[9] = "Frame_ziji_dachupai_4";
o.size = o.sizehide;
o.size[9] = r.size;
o.dian = o.dianhide;
o.dianScaleAll = r.dianScaleAll;
o.dian.position[9] = r.dian.position;
o.dianScaleY = r.dianScaleAll;
var l = this.getHoldParent(h, "holdschupai"), d = cc.vv.mahjongMgr._seats[e].folds;
if (e != cc.vv.roomMgr.seatid) {
i = cc.vv.mahjongMgr.getMahjongPai(i);
var g = h + "_chupai_" + (d.length - 1), u = t.selfhandAtlasThreeD, _ = {
prefab: a,
atlas: n,
scriptsName: "KDMajiang",
pos: o,
viewid: h,
indexK: 9,
parent: l,
paiName: "img_cardvalue",
pai: i,
myTag: "_chupai_",
end: 10,
tagall: g,
dianAtlas: u,
callback: function() {
t.send_card_emit(l, "setLight", {
isShow: !0
}, g);
t.send_card_emit(l, "setChuLight", {}, g);
}
};
t.showFapai(_);
this._chupaiArr.push(g);
} else d.push(i);
}
},
showPengGangAll: function(e, i, t, a, n) {
var s = cc.vv.roomMgr.viewChairID(i), c = this.getHoldParent(s, "penggangs"), o = new cc.Node("nodeChipenggang" + s);
o.myTag = s + "_nodeChipenggang_" + e;
c.addChild(o);
var h = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], r = cc.vv.utils.deepCopy(h[s].chiPeng), l = r.destination[e].x, d = r.destination[e].y;
o.x = l;
o.y = d;
o.scale = r.scale;
for (var g = 3 * e, u = g; u < 4 + g; u++) this.showPengGang(g, o, s, u, t, 4 + g, a, n);
},
showPengGang: function(e, i, t, a, n, s, c, o) {
var h = this, r = n[a - e + 1], l = n[0], d = c;
switch (cc.vv.mahjongMgr._sides[t]) {
case "myself":
var g = this.selfhandAtlasThreeD;
break;

case "right":
var u = this.righthandAtlasThreeD;
g = this.lefthandAtlasThreeD;
break;

case "up":
g = this.uphandAtlasThreeD, u = this.selfhandAtlasThreeD;
break;

case "left":
u = this.lefthandAtlasThreeD, g = this.lefthandAtlasThreeD;
}
var _ = this.PrefabMajiang, v = cc.vv.game.config["card_" + cc.vv.roomMgr.ren], p = cc.vv.utils.deepCopy(v[t].holds), m = cc.vv.utils.deepCopy(v[t].chiPeng);
if (a == e) {
p.x = -p.distancehide[a + 1] * p.scalehide;
p.y = -p.distanceHhide[a + 1] * p.scalehide;
p.xhide = -p.distancehide[a + 1] * p.scalehide;
p.yhide = -p.distanceHhide[a + 1] * p.scalehide;
} else if (a == e + 1) {
p.x = 0;
p.y = 0;
p.xhide = 0;
p.yhide = 0;
} else if (a == e + 2) {
p.x = p.distancehide[a + 1] * p.scalehide;
p.y = p.distanceHhide[a + 1] * p.scalehide;
p.xhide = p.distancehide[a + 1] * p.scalehide;
p.yhide = p.distanceHhide[a + 1] * p.scalehide;
} else if (a == e + 3) {
var f = (m = cc.vv.utils.deepCopy(v[t].chiPeng)).fourPai;
if (d) {
p.x = f.x * p.scalehide;
p.y = f.y * p.scalehide;
p.xhide = f.x * p.scalehide;
p.yhide = f.y * p.scalehide;
} else {
p.x = f.x * p.scalehide;
p.y = f.y * p.scalehide + 200;
p.xhide = f.x * p.scalehide;
p.yhide = f.y * p.scalehide + 200;
}
}
p.scale = p.scalehide;
p.distance = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
p.distanceH = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
p.distancehide = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
p.distanceHhide = [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
p.img = p.imgshow;
p.size = p.sizehide;
p.dian = p.dianhide;
p.dianScaleAll = p.dianScalehideAll;
p.scaleItemhide && (p.scaleItemhidescale = p.scaleItemhide);
m.paiIndex && (i.zIndex = m.paiIndex[e / 3]);
r = cc.vv.mahjongMgr.getMahjongPai(r);
var y = {
prefab: _,
atlas: g,
dianAtlas: u,
scriptsName: "KDMajiang",
pos: p,
viewid: t,
end: s,
parent: i,
paiName: "img_cardvalue",
indexK: a,
pai: r,
myTag: "_chipenggang_",
tagall: t + "_chipenggang_" + e / 3 + "_" + (a - e),
callback: function() {
var a = t + "_chipenggang_" + e / 3 + "_3", n = {
isActive: c
};
h.pengGangIsActive(i, n, a);
var s = cc.vv.roomMgr.realChairID(t), o = {
seatid: l,
selfSeatid: s
}, r = t + "_chipenggang_" + e / 3 + "_1";
h.send_card_emit(i, "setArrow", o, r);
h.send_card_emit(i, "setZIndex", {
zIndex: 15
}, a);
}
};
this.showFapai(y);
},
getisHasTingChupai: function() {
return this._ting_chupai && this._ting_chupai.length;
},
showTingPaiList: function(e, i) {
var t = cc.find("Canvas/open/tingPaiList");
t.removeAllChildren();
if (cc.vv.mahjongMgr._turn != cc.vv.roomMgr.seatid) return !1;
this._tingpai = [];
this._tingpaifan = [];
this._tingpaifannew = [];
for (var a = !1, n = 0; n < this._ting_chupai.length; ++n) if (i == this._ting_chupai[n]) {
a = !0;
break;
}
if (a) {
var s;
for (n = 0; n < this._ting_need.length; ++n) if (i == this._ting_need[n].chupai) {
s = n;
break;
}
for (n = 0; n < this._ting_need[s].tingpai.length; ++n) {
this._tingpai[this._tingpai.length] = this._ting_need[s].tingpai[n].pai;
this._tingpaifan[this._tingpaifan.length] = this._ting_need[s].tingpai[n].left;
cc.vv.game.config.is_tingfan && (this._tingpaifannew[this._tingpaifannew.length] = this._ting_need[s].tingpai[n].fan);
}
t.active = !0;
for (n = 0; n < this._tingpai.length; ++n) {
var c = cc.instantiate(this.tingpaiMJpre);
c.getComponent("ThreeListenCard").show(this._tingpai[n], this._tingpaifan[n]);
cc.vv.game.config.is_tingfan && c.getComponent("ThreeListenCard").fan(this._tingpaifannew[n]);
t.addChild(c);
}
this._tingpai.length <= 5 ? t.width = 20 + 200 * this._tingpai.length : t.width = 1200;
} else t.active = !1;
},
showTing: function(e) {
for (var i = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid], t = cc.vv.game.sortHolds(i), a = t.length, n = cc.vv.game.getStartIndex(t), s = cc.vv.mahjongMgr.getViewidBySide("myself"), c = n; c < a + n; c++) for (var o = 0; o < e.length; o++) if (e[o] == t[c - n]) {
var h = s + "_holds_" + c;
this.send_card_item_emit("holds", s, "setTing", {
isActive: !0
}, h);
}
},
hideting: function() {
for (var e = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid], i = cc.vv.game.sortHolds(e), t = i.length, a = cc.vv.game.getStartIndex(i), n = cc.vv.mahjongMgr.getViewidBySide("myself"), s = a; s < t + a; s++) {
var c = n + "_holds_" + s;
this.send_card_item_emit("holds", n, "setTing", {
isActive: !1
}, c);
}
},
pengGangIsActive: function(e, i, t) {
this.send_card_emit(e, "setActive", i, t);
},
setBaoting: function() {
if (1 == this._baoting) for (var e = cc.vv.mahjongMgr._seats[cc.vv.roomMgr.seatid], i = cc.vv.game.sortHolds(e), t = cc.vv.game.getStartIndex(i), a = i.length, n = t; n < t + a; n++) {
if ((2 == a || 5 == a || 8 == a || 11 == a || 14 == a) && n == t + a - 1) return;
var s = cc.vv.roomMgr.viewChairID(cc.vv.roomMgr.seatid), c = s + "_holds_" + n, o = (i[n - t], 
{
keda: 0
});
this.send_card_item_emit("holds", s, "setKeda", o, c);
o = {
isAn: !0
};
this.send_card_item_emit("holds", s, "setColor", o, c);
}
},
setArrowNum: function(e) {
var i = {
data: {
count: e
}
};
this._prefabArrow.emit("changeNum", i);
},
startArrowNum: function() {
this._prefabArrow.getComponent("arrow").labelLblTime.string = 10;
this.schedule(this.otherTimeUpdate, 1);
},
otherTimeUpdate: function() {
var e = this._prefabArrow.getComponent("arrow").labelLblTime, i = parseInt(e.string);
i -= 1;
this.setArrowNum("0" + i);
if (i <= 0) {
cc.vv.audioMgr.playSFX(cc.vv.game.config.type + "/mj_daojishi");
this.unschedule(this.otherTimeUpdate);
}
},
send_card_emit: function(e, i, t, a) {
if (e) {
var n = cc.vv.utils.getChildByTag(e, a);
n && n.emit(i, t);
}
},
send_card_item_emit: function(e, i, t, a, n) {
switch (e) {
case "holds":
var s = this.getHoldParent(i, "holds");
this.send_card_emit(s, t, a, n);
break;

case "folds":
s = this.getHoldParent(i, "folds").getChildByName("list");
this.send_card_emit(s, t, a, n);
}
},
reset: function() {
this._autoOutCrad = !1;
this._baoting = 0;
this._baotingchupai = !1;
this._myMJArr = [];
this._playEfxs = null;
this._opts = [];
this._ting_chupai = [];
this._ting_tingpai = [];
this._ting_need = [];
this._tingpai = [];
this._tingpaifan = [];
this._tingpaifannew = [];
this._yiting = !1;
this._guo_pai = null;
this._ting_hupai = 0;
this._tinghuhoupai = 0;
this._showActoin_yse_not = !1;
this._select_crad = null;
this._isfrist = !1;
this._isfristAction = !1;
this._isfristTingAction = !1;
this._isfristTing1Action = !1;
this._chupaiArr = [];
this._datating = null;
this._datating1 = null;
},
initTingList: function(e) {
this._ting_need = e;
},
initPengAndGangsAndChi: function(e, i, t, a, n, s) {
var c = null;
if (e._pengandgang.length <= a) {
c = cc.instantiate(cc.vv.mahjongMgr.pengPrefabSelf);
e._pengandgang.push(c);
e.mahjongs.addChild(c);
} else (c = e._pengandgang[a]).active = !0;
for (var o = c.children, h = 0; h < o.length - 2; ++h) {
var r = o[h].getComponent(cc.Sprite), l = o[h].children[0].getComponent(cc.Sprite), d = c.getChildByName("peng_gang_tip");
r.node.color = cc.color(255, 255, 255);
r.node.opacity = 255;
l.node.color = cc.color(255, 255, 255);
if ("gang" == r.node.name) {
var g = "peng" != s && "chi" != s;
r.node.active = g;
r.spriteFrame = cc.vv.mahjongMgr.getBgSpriteFrame("myself");
l.spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID("B_", n[h]);
} else {
"angang" != s && "wangang" != s || (o[5].active = !0);
if ("angang" == s) {
r.spriteFrame = cc.vv.mahjongMgr.getEmptySpriteFrame("myself");
l.spriteFrame = null;
"myself" == i ? d.rotation = 270 : "up" == i ? d.rotation = 90 : "left" == i ? d.rotation = 0 : "right" == i && (d.rotation = 180);
} else {
var u = h;
if ("chi" != s) {
if (t == h) if (2 == u) {
2 == cc.vv.roomMgr.ren ? "myself" == i ? d.rotation = 90 : "up" == i && (d.rotation = 270) : 3 == cc.vv.roomMgr.ren ? "myself" == i ? d.rotation = 180 : "left" == i ? d.rotation = 270 : "right" == i && (d.rotation = 0) : "myself" == i ? d.rotation = 180 : "left" == i ? d.rotation = 270 : "right" == i ? d.rotation = 90 : "up" == i && (d.rotation = 0);
!0;
} else if (1 == u) {
3 == cc.vv.roomMgr.ren ? "myself" == i ? d.rotation = 0 : "right" == i ? d.rotation = 270 : "left" == i && (d.rotation = 180) : "myself" == i ? d.rotation = 90 : "left" == i ? d.rotation = 180 : "right" == i ? d.rotation = 0 : "up" == i && (d.rotation = 270);
!0;
} else if (0 == u) {
2 == cc.vv.roomMgr.ren ? "myself" == i ? d.rotation = 90 : "up" == i && (d.rotation = 270) : 3 == cc.vv.roomMgr.ren ? "myself" == i ? d.rotation = 0 : "left" == i ? d.rotation = 180 : "right" == i && (d.rotation = 270) : "myself" == i ? d.rotation = 0 : "left" == i ? d.rotation = 90 : "right" == i ? d.rotation = 270 : "up" == i && (d.rotation = 180);
!0;
}
} else t == n[h] && !0;
r.spriteFrame = cc.vv.mahjongMgr.getBgSpriteFrame("myself");
l.spriteFrame = cc.vv.mahjongMgr.getSpriteFrameByMJID("B_", n[h]);
}
}
}
c.x = 55 * a * 3 + 30 * a + 100;
},
getNodeByTag: function(e, i) {
return cc.vv.utils.getChildByTag(e, i);
},
playEfx: function(e, i) {
var t = cc.vv.mahjongMgr.getSide(e);
this._playEfxs[t].node.active = !0;
this._playEfxs[t].play(i);
this._playEfxs[t].node.scaleX = .8;
this._playEfxs[t].node.scaleY = .8;
},
PlayEfxAnim: function(e, i, t) {
var a = cc.vv.mahjongMgr.getSide(e), n = this._prefabPlayEfxAnim[a].node;
n.active = !0;
n.scaleX = .8;
n.scaleY = .8;
var s = n.getChildByName("label").getComponent(cc.Sprite), c = n.getChildByName("labelLight").getComponent(cc.Sprite);
switch (i) {
case "play_chi":
s.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_0");
c.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_glow_0");
break;

case "play_peng":
s.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_1");
c.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_glow_1");
break;

case "play_gang":
s.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_2");
c.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_glow_2");
break;

case "play_ting":
s.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_3");
c.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_glow_3");
break;

case "play_hu":
s.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_4");
c.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_glow_4");
break;

case "play_zimo":
s.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_5");
c.spriteFrame = this.majiangbtnAtlasThreeD.getSpriteFrame("ani_special_real_glow_5");
}
this._prefabPlayEfxAnim[a].off("finished");
this._prefabPlayEfxAnim[a].on("finished", function() {
t();
}, this);
this._prefabPlayEfxAnim[a].play("chipengganghu");
},
playSFX: function(e, i) {
var t = cc.vv.roomMgr.userSex(e);
"1" != t && "2" != t && (t = "1");
var a = "mj/" + t + "/" + i;
cc.vv.audioMgr.playSFX(a);
},
getHoldParent: function(e, i) {
var t = cc.vv.mahjongMgr.getSide(e), a = this.nodeGameRoot.getChildByName(t);
if (a) {
return a.getChildByName(i);
}
},
initTuodong: function(e, i) {
this.nodeTuodong.setPosition(e);
var t = this.selfhandAtlasThreeD, a = this.nodeTuodong.getChildByName("MyMahJongPai"), n = t.getSpriteFrame("img_cardvalue" + cc.vv.mahjongMgr.getMahjongPai(i));
a.getComponent(cc.Sprite).spriteFrame = n;
var s = this.nodeTuodong.getChildByName("magic_mash");
i == cc.vv.mahjongMgr._magicPai || i == cc.vv.mahjongMgr._magicPai2 ? s.active = !0 : s.active = !1;
},
setTuodong: function(e) {
this.nodeTuodong.isValid && this.nodeTuodong.setPosition(e);
},
sit: function(e) {
if (e.userid == cc.vv.userMgr.userid) {
cc.vv.roomMgr.seatid = e.seatid;
if (e.seatid != this._oldseatid) {
this.setDirection();
this.isChoose_sit = !0;
this._oldseatid = e.seatid;
}
}
},
table: function(e) {
for (var i = e.list, t = cc.vv.mahjongMgr._fangxiang, a = -1, n = 0; n < i.length; n++) {
var s = i[n], c = s.seatid;
s.userid == cc.vv.userMgr.userid && (a = c);
}
var o = -1 == a;
cc.vv.zuowei.hideBtn();
if (o) {
for (n = 0; n < i.length; n++) 0 != i[n].userid ? cc.vv.zuowei.isActiveBtnone(t[n], !1) : cc.vv.zuowei.isActiveBtnone(t[n], !0);
if (!this.isShowAutoTip) {
this.isShowAutoTip = !0;
this.auto_tips(15, "入座");
}
} else {
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !1;
cc.vv.roomMgr.seatid = a;
cc.vv.zuowei.hideBtn();
this.mgr = this.node.getChildByName("mgr");
this.mgr.getChildByName("ready").opacity = 255;
this.mgr.getChildByName("ready").scale = 1;
if (!this.isChoose_sit && -1 != a && this._oldseatid != a) {
this.setDirection();
this._oldseatid = a;
}
}
},
auto_tips: function(e, i) {
var t = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (e <= 0 || null == e) t.active = !1; else {
this.text = i;
this.auto_time = e;
this.unschedule(this.upd_auto_time);
this.schedule(this.upd_auto_time, 1);
t.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
this.node.getChildByName("mgr").getChildByName("auto_tips").active = !0;
}
},
upd_auto_time: function() {
var e = this.node.getChildByName("mgr").getChildByName("auto_tips");
if (this.auto_time <= 0) {
this.unschedule(this.upd_auto_time);
e.active = !1;
}
this.auto_time--;
e.getComponent(cc.Label).string = this.auto_time + "秒后自动" + this.text;
}
});
cc._RF.pop();
}, {} ],
nn_1000_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "82e0878sL9LUYIMdzlPl5OM", "nn_1000_config");
cc.Class({
extends: cc.Component,
properties: {
dou1: cc.Label,
dou2: cc.Label
},
onLoad: function() {
this.index = 0;
this.tuizhu_index = 0;
this.limit_index = 4;
this.guodi = this.node.getChildByName("feng").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.tuiZhu = this.node.getChildByName("tuiZhu").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.limitQZ = this.node.getChildByName("limitQZ").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.guodiArr = [ "3", "5", "7", "10" ];
this.tuizhuArr = [ "0", "20", "50" ];
this.limitQZArr = [ "0", "50", "100", "200", "300", "400", "500", "600", "700", "800", "900", "1000" ];
this.is_limit_QZ = !0;
this.loadSaveConfig();
},
wenhao_tips: function(e, i) {
switch (e.target.name) {
case "wubeiqieguo":
cc.vv.popMgr.alert("5倍强制切锅：锅底超过原锅底的五倍，游戏强制结算");
break;

case "fengkuangjiabei":
cc.vv.popMgr.alert("疯狂加倍：牛一到牛七2倍，牛八3倍，牛九4倍，牛牛5倍，座子牛一到座子牛七2倍，座子牛八3倍，座子牛九4倍，座子牛牛5倍，顺子牛、同花、葫芦、五小牛6倍，五花牛 7倍，炸弹牛8倍，同花顺  9倍");
break;

case "tuizhu":
cc.vv.popMgr.alert("闲家获胜后，下局可以将所赢得的积分与底注一起下注。最大推注为低分设置的倍数。不可连续推注。");
break;

case "limit":
cc.vv.popMgr.alert("仅晋级赛生效，选0没有限制");
}
},
loadSaveConfig: function() {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6", "满7", "满8", "满9", "满10" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4", "满5" ];
this.auto_ready_list = this.auto_ready_list_5;
var e = cc.sys.localStorage.getItem("last_game_nn_1000");
if (e) {
var i = JSON.parse(e);
switch (i.ju) {
case "10ju":
i.ju = "8ju";
break;

case "20ju":
i.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), i.zhuang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), i.ya);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), i.overflow);
if ("qiang" != i.zhuang) {
this.node.getChildByName("zhuang").getChildByName("qiang").getComponent(cc.Toggle).isChecked && (this.is_limit_QZ = !0);
this.is_limit_QZ = !1;
} else this.is_limit_QZ = !0;
if (i.limitQZ) {
this.limitQZ.string = i.limitQZ;
for (var t = 0; t < this.limitQZArr.length; t++) this.limitQZ.string == this.limitQZArr[t] && (this.limit_index = t);
}
i.open_Ghost && cc.vv.utils.setToggleChecked(this.node.getChildByName("open_Ghost"), i.open_Ghost);
var a, n = i.feng.indexOf("f");
null != i.feng && (this.guodi.string = i.feng.substring(0, n));
for (t = 0; t < this.guodiArr.length; t++) this.guodi.string == this.guodiArr[t] && (this.index = t);
if (i.tuiZhu) {
this.tuiZhu.string = i.tuiZhu;
this._tuizhu = i.tuiZhu;
parseInt(i.tuiZhu) > 0 && i.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), 0);
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
"5ren" == i.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != i.start_mode ? 0 != i.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != i.insane && cc.vv.utils.setToggleChecked(this.node.getChildByName("insane"), i.insane);
null != i.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = i.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
null != i && (this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1");
if (null != i.tuoGuan) {
0 == i.tuoGuan ? a = "不限" : 1 == i.tuoGuan ? a = "15" : 2 == i.tuoGuan ? a = "20" : 3 == i.tuoGuan ? a = "30" : 4 == i.tuoGuan ? a = "60" : 5 == i.tuoGuan ? a = "120" : 6 == i.tuoGuan ? a = "5" : 7 == i.tuoGuan && (a = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = a;
}
null != i.difen && (this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = i.difen);
null != i.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), i.join);
var s = new cc.Event.EventCustom("click", !0);
s.node = this.node.getChildByName("ya").getChildByName(i.ya);
this.onBtnYa(s, i.ya);
}
},
loadSaveConfig2: function(e) {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6", "满7", "满8", "满9", "满10" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4", "满5" ];
this.auto_ready_list = this.auto_ready_list_5;
var i = e.conf;
switch (i.ju) {
case "10ju":
i.ju = "8ju";
break;

case "20ju":
i.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), i.zhuang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), i.ya);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), i.overflow);
"qiang" != i.zhuang ? this.is_limit_QZ = !1 : this.is_limit_QZ = !0;
if (i.limitQZ) {
this.limitQZ.string = i.limitQZ;
for (var t = 0; t < this.limitQZArr.length; t++) this.limitQZ.string == this.limitQZArr[t] && (this.limit_index = t);
}
i.open_Ghost && cc.vv.utils.setToggleChecked(this.node.getChildByName("open_Ghost"), i.open_Ghost);
var a, n = i.feng.indexOf("f");
null != i.feng && (this.guodi.string = i.feng.substring(0, n));
if (i.tuiZhu) {
this.tuiZhu.string = i.tuiZhu;
this._tuizhu = i.tuiZhu;
parseInt(i.tuiZhu) > 0 && i.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), 0);
}
for (t = 0; t < this.guodiArr.length; t++) this.guodi.string == this.guodiArr[t] && (this.index = t);
"5ren" == i.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != i.start_mode ? 0 != i.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != i.insane && cc.vv.utils.setToggleChecked(this.node.getChildByName("insane"), i.insane);
null != i.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = i.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != i.tuoGuan) {
0 == i.tuoGuan ? a = "不限" : 1 == i.tuoGuan ? a = "15" : 2 == i.tuoGuan ? a = "20" : 3 == i.tuoGuan ? a = "30" : 4 == i.tuoGuan ? a = "60" : 5 == i.tuoGuan ? a = "120" : 6 == i.tuoGuan ? a = "5" : 7 == i.tuoGuan && (a = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = a;
}
null != i.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), i.join);
var s = new cc.Event.EventCustom("click", !0);
s.node = this.node.getChildByName("ya").getChildByName(i.ya);
this.onBtnYa(s, i.ya);
},
onBtnClick_limit: function(e, i) {
if (this.is_limit_QZ) {
switch (e.target.name) {
case "add":
this.limit_index += 1;
var t = this.limitQZArr.length, a = this.limitQZArr[this.limit_index % t];
this.limitQZ.string = a;
break;

case "sub":
t = this.limitQZArr.length;
this.limit_index -= 1;
this.limit_index < 0 && (this.limit_index += t);
a = this.limitQZArr[this.limit_index % t];
this.limitQZ.string = a;
}
}
},
onBtnClick_tuizhu: function(e, i) {
if (1 != this.node.getChildByName("feng").active) {
switch (e.target.name) {
case "add":
this.tuizhu_index += 1;
var t = this.tuizhuArr.length, a = this.tuizhuArr[this.tuizhu_index % t];
this.tuiZhu.string = a;
break;

case "sub":
t = this.tuizhuArr.length;
this.tuizhu_index -= 1;
this.tuizhu_index < 0 && (this.tuizhu_index += t);
a = this.tuizhuArr[this.tuizhu_index % t];
this.tuiZhu.string = a;
}
}
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.guodiArr.length, a = this.guodiArr[this.index % t];
this.guodi.string = a;
break;

case "sub":
t = this.guodiArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.guodiArr[this.index % t];
this.guodi.string = a;
}
},
not_limitQZ: function(e, i) {
switch (e.target.name) {
case "qiang":
this.is_limit_QZ = !0;
break;

case "lunliu":
case "fangzhu":
case "niuniu":
this.limit_index = 0;
var t = this.limitQZArr[this.limit_index];
this.limitQZ.string = t;
this.is_limit_QZ = !1;
}
},
difenupd: function(e, i) {
var t = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string);
"0" == i ? t <= 10 && t > 1 ? t-- : 20 == t ? t = 10 : 50 == t ? t = 20 : t <= 1 && (t = 10) : "1" == i && (t < 10 && t >= 1 ? t++ : t >= 10 ? t = 1 : 20 == t ? t = 50 : 50 == t && (t = 1));
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t;
},
onBtnYa: function(e, i) {
var t = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("ya"));
switch (t) {
case "5ren":
this.dou1.string = "2";
this.dou2.string = "4";
for (var n = this.auto_ready_list, s = this.node.getChildByName("autoready").getChildByName("num"), c = s.getComponent(cc.Label).string, o = 0, h = 0; h < n.length; h++) if (n[h] == c) {
o = h;
break;
}
o >= 5 && (o = 4);
s.getComponent(cc.Label).string = n[o];
this.auto_ready_list = this.auto_ready_list_5;
break;

case "10ren":
this.dou1.string = "4";
this.dou2.string = "8";
this.auto_ready_list = this.auto_ready_list_10;
}
var r = !1;
switch (a) {
case "guding":
this.guodi.string = this.guodiArr[this.index % this.guodiArr.length];
r = !0;
this.tuizhu_index = 0;
var l = this.tuizhuArr.length, d = this.tuizhuArr[this.tuizhu_index % l];
this.tuiZhu.string = d;
}
this.node.getChildByName("feng").active = r;
},
btn_tuoguan_click_event: function(e, i) {
var t = this.node.getChildByName("tuoguan").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "5" == a ? a = "10" : "10" == a ? a = "15" : "15" == a ? a = "20" : "20" == a ? a = "30" : "30" == a ? a = "60" : "60" == a ? a = "120" : "120" == a ? a = "不限" : "不限" == a && (a = "5") : "0" == i && ("5" == a ? a = "不限" : "10" == a ? a = "5" : "15" == a ? a = "10" : "20" == a ? a = "15" : "30" == a ? a = "20" : "60" == a ? a = "30" : "120" == a ? a = "60" : "不限" == a && (a = "120"));
t.getComponent(cc.Label).string = a;
},
btn_auto_ready: function(e, i) {
for (var t = this.auto_ready_list, a = this.node.getChildByName("autoready").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
btn_overflow: function(e) {},
Config: function(e) {
for (var i = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("zhuang")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("ya")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("feng")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("join")), h = cc.vv.utils.toggleChecked(this.node.getChildByName("insane")), r = cc.vv.utils.toggleChecked(this.node.getChildByName("open_Ghost")), l = cc.vv.utils.toggleChecked(this.node.getChildByName("overflow")), d = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), g = this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string, u = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string), _ = this.auto_ready_list, v = this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string, p = 0, m = 0; m < _.length; m++) if (_[m] == v) {
p = m;
break;
}
n = this.guodi.string + "feng";
"xuan" == a && (n = "0feng");
var f = [];
f.push("底分" + u);
switch (i) {
case "8ju":
f.push("8局");
break;

default:
f.push("16局");
}
switch (c) {
case "5ren":
f.push("5人场");
break;

case "10ren":
f.push("10人场");
}
switch (n) {
case "0feng":
break;

case "3feng":
f.push("固定3倍");
break;

case "5feng":
f.push("固定5倍");
break;

case "7feng":
f.push("固定7倍");
break;

case "10feng":
f.push("固定10倍");
}
g && "不限" != g && f.push(g + "秒下注");
switch (t) {
case "qiang":
f.push("抢庄");
break;

case "lunliu":
f.push("轮庄");
break;

case "fangzhu":
f.push("霸王庄");
break;

case "niuniu":
f.push("牛牛上庄");
}
switch (s) {
case "ko1":
f.push("扣1张");
break;

case "ko2":
f.push("扣2张");
break;

case "quankou":
f.push("全扣");
}
switch (h) {
case "1":
f.push("疯狂加倍");
}
switch (o) {
case "yes":
f.push("中途加入");
break;

default:
o = "";
}
switch (d) {
case "1":
f.push("防作弊");
}
var y, C = p + 1;
1 == C && (C = 0);
0 == p ? f.push("手动开局") : f.push("满" + C + "人自动开局");
"1" == r && f.push("王癞玩法");
f.push("推注" + this.tuiZhu.string + "倍");
y = 15 == g ? 1 : 20 == g ? 2 : 30 == g ? 3 : 60 == g ? 4 : 120 == g ? 5 : 5 == g ? 6 : 10 == g ? 7 : 0;
"0" != this.limitQZ.string && f.push("低于" + this.limitQZ.string + "不能抢庄");
"1" == l && f.push("不可负分");
return {
name: "nn_1000",
title: "牛元帅",
desc: f,
ju: i,
dizhu: u,
start_mode: C,
ren: c,
insane: h,
wanfa: s,
feng: n,
zhuang: t,
tuoGuan: y,
ya: a,
join: o,
open_Ghost: r,
tuiZhu: this.tuiZhu.string,
limitQZ: this.limitQZ.string,
overflow: l,
fangzuobi: d
};
}
});
cc._RF.pop();
}, {} ],
nn_1001_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "36677bOXQRHT5WZ6P19rfh/", "nn_1001_config");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.index = 2;
this.qieguo_index = 0;
this.guodi = this.node.getChildByName("guodi").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.guodiArr = [ "60", "80", "100", "200", "300", "500" ];
this.qieguo = this.node.getChildByName("qieguo").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.qieguoArr = [ "5", "8" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_nn_1001");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
var t = i.guodi.indexOf("d");
null != i.insane && cc.vv.utils.setToggleChecked(this.node.getChildByName("insane"), i.insane);
null != i.guodi && (this.guodi.string = i.guodi.substring(0, t));
i.fengding && (1 == i.fengding ? this.qieguo.string = "5" : 2 == i.fengding && (this.qieguo.string = "8"));
for (var a = 0; a < this.guodiArr.length; a++) this.guodi.string == this.guodiArr[a] && (this.index = a);
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("guodi"), i.guodi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
var t = i.guodi.indexOf("d");
null != i.insane && cc.vv.utils.setToggleChecked(this.node.getChildByName("insane"), i.insane);
null != i.guodi && (this.guodi.string = i.guodi.substring(0, t));
i.fengding && (1 == i.fengding ? this.qieguo.string = "5" : 2 == i.fengding && (this.qieguo.string = "8"));
for (var a = 0; a < this.guodiArr.length; a++) this.guodi.string == this.guodiArr[a] && (this.index = a);
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.guodiArr.length, a = this.guodiArr[this.index % t];
this.guodi.string = a;
break;

case "sub":
t = this.guodiArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.guodiArr[this.index % t];
this.guodi.string = a;
}
},
onBtnqieguo: function(e, i) {
switch (e.target.name) {
case "add":
this.qieguo_index += 1;
var t = this.qieguoArr.length, a = this.qieguoArr[this.qieguo_index % t];
this.qieguo.string = a;
break;

case "sub":
t = this.qieguoArr.length;
this.qieguo_index -= 1;
this.qieguo_index < 0 && (this.qieguo_index += t);
a = this.qieguoArr[this.qieguo_index % t];
this.qieguo.string = a;
}
},
Config: function() {
var e, i = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), n = (this.node.getChildByName("fengding").getChildByName("qieguo").getComponent(cc.Toggle).isChecked, 
cc.vv.utils.toggleChecked(this.node.getChildByName("insane"))), s = this.guodi.string, c = [];
c.push("锅底" + s + "分");
cc.vv.userMgr.guodi = parseInt(s);
switch (n) {
case "1":
c.push("疯狂加倍");
}
switch (t) {
case "ko1":
c.push("扣1张");
break;

case "ko2":
c.push("扣2张");
break;

case "quankou":
c.push("全扣");
}
if ("5" == this.qieguo.string) {
e = 1;
c.push("5倍强制切锅");
} else if ("8" == this.qieguo.string) {
e = 2;
c.push("8倍强制切锅");
}
switch (a) {
case "1":
c.push("防作弊");
}
return {
name: "nn_1001",
title: "加锅牛元帅",
desc: c,
ju: i,
insane: n,
guodi: s + "di",
wanfa: t,
fengding: e,
ren: "5ren",
fangzuobi: a
};
}
});
cc._RF.pop();
}, {} ],
nn_1002_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "045e15+kYBKS6wDhu5wLwQm", "nn_1002_config");
cc.Class({
extends: cc.Component,
properties: {
dou1: cc.Label,
dou2: cc.Label
},
onLoad: function() {
this.index = 0;
this.guodi = this.node.getChildByName("feng").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.guodiArr = [ "3", "5", "7", "10" ];
this.loadSaveConfig();
},
wenhao_tips: function(e, i) {
switch (e.target.name) {
case "wubeiqieguo":
cc.vv.popMgr.alert("5倍强制切锅：锅底超过原锅底的五倍，游戏强制结算");
break;

case "fengkuangjiabei":
cc.vv.popMgr.alert("疯狂加倍：牛一到牛七2倍，牛八3倍，牛九4倍，牛牛5倍，座子牛一到座子牛七2倍，座子牛八3倍，座子牛九4倍，座子牛牛5倍，顺子牛、同花、葫芦、五小牛6倍，五花牛 7倍，炸弹牛8倍，同花顺  9倍");
}
},
loadSaveConfig: function() {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6", "满7", "满8", "满9", "满10" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4", "满5" ];
this.auto_ready_list = this.auto_ready_list_5;
var e = cc.sys.localStorage.getItem("last_game_nn_1002");
if (e) {
var i = JSON.parse(e);
switch (i.ju) {
case "10ju":
i.ju = "8ju";
break;

case "20ju":
i.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), i.zhuang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), i.ya);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.open_Ghost && cc.vv.utils.setToggleChecked(this.node.getChildByName("open_Ghost"), i.open_Ghost);
var t, a = i.feng.indexOf("f");
null != i.feng && (this.guodi.string = i.feng.substring(0, a));
for (var n = 0; n < this.guodiArr.length; n++) this.guodi.string == this.guodiArr[n] && (this.index = n);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
"5ren" == i.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != i.start_mode ? 0 != i.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != i.insane && cc.vv.utils.setToggleChecked(this.node.getChildByName("insane"), i.insane);
null != i.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = i.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
null != i && (this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1");
if (null != i.tuoGuan) {
0 == i.tuoGuan ? t = "不限" : 1 == i.tuoGuan ? t = "15" : 2 == i.tuoGuan ? t = "20" : 3 == i.tuoGuan ? t = "30" : 4 == i.tuoGuan ? t = "60" : 5 == i.tuoGuan ? t = "120" : 6 == i.tuoGuan ? t = "5" : 7 == i.tuoGuan && (t = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = t;
}
null != i.difen && (this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = i.difen);
null != i.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), i.join);
var s = new cc.Event.EventCustom("click", !0);
s.node = this.node.getChildByName("ya").getChildByName(i.ya);
this.onBtnYa(s, i.ya);
}
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.guodiArr.length, a = this.guodiArr[this.index % t];
this.guodi.string = a;
break;

case "sub":
t = this.guodiArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.guodiArr[this.index % t];
this.guodi.string = a;
}
},
loadSaveConfig2: function(e) {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6", "满7", "满8", "满9", "满10" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4", "满5" ];
this.auto_ready_list = this.auto_ready_list_5;
var i = e.conf;
switch (i.ju) {
case "10ju":
i.ju = "8ju";
break;

case "20ju":
i.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), i.zhuang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), i.ya);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
i.open_Ghost && cc.vv.utils.setToggleChecked(this.node.getChildByName("open_Ghost"), i.open_Ghost);
var t, a = i.feng.indexOf("f");
null != i.feng && (this.guodi.string = i.feng.substring(0, a));
for (var n = 0; n < this.guodiArr.length; n++) this.guodi.string == this.guodiArr[n] && (this.index = n);
"5ren" == i.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != i.start_mode ? 0 != i.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != i.insane && cc.vv.utils.setToggleChecked(this.node.getChildByName("insane"), i.insane);
null != i.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = i.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != i.tuoGuan) {
0 == i.tuoGuan ? t = "不限" : 1 == i.tuoGuan ? t = "15" : 2 == i.tuoGuan ? t = "20" : 3 == i.tuoGuan ? t = "30" : 4 == i.tuoGuan ? t = "60" : 5 == i.tuoGuan ? t = "120" : 6 == i.tuoGuan ? t = "5" : 7 == i.tuoGuan && (t = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = t;
}
null != i.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), i.join);
var s = new cc.Event.EventCustom("click", !0);
s.node = this.node.getChildByName("ya").getChildByName(i.ya);
this.onBtnYa(s, i.ya);
},
difenupd: function(e, i) {
var t = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string);
"0" == i ? t <= 10 && t > 1 ? t-- : 20 == t ? t = 10 : 50 == t ? t = 20 : t <= 1 && (t = 10) : "1" == i && (t < 10 && t >= 1 ? t++ : t >= 10 ? t = 1 : 20 == t ? t = 50 : 50 == t && (t = 1));
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t;
},
onBtnYa: function(e, i) {
var t = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("ya"));
switch (t) {
case "5ren":
this.dou1.string = "2";
this.dou2.string = "4";
for (var n = this.auto_ready_list, s = this.node.getChildByName("autoready").getChildByName("num"), c = s.getComponent(cc.Label).string, o = 0, h = 0; h < n.length; h++) if (n[h] == c) {
o = h;
break;
}
o >= 5 && (o = 4);
s.getComponent(cc.Label).string = n[o];
this.auto_ready_list = this.auto_ready_list_5;
break;

case "10ren":
this.dou1.string = "4";
this.dou2.string = "8";
this.auto_ready_list = this.auto_ready_list_10;
}
var r = !1;
switch (a) {
case "guding":
this.guodi.string = this.guodiArr[this.index];
r = !0;
}
this.node.getChildByName("feng").active = r;
},
btn_tuoguan_click_event: function(e, i) {
var t = this.node.getChildByName("tuoguan").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "5" == a ? a = "10" : "10" == a ? a = "15" : "15" == a ? a = "20" : "20" == a ? a = "30" : "30" == a ? a = "60" : "60" == a ? a = "120" : "120" == a ? a = "不限" : "不限" == a && (a = "5") : "0" == i && ("5" == a ? a = "不限" : "10" == a ? a = "5" : "15" == a ? a = "10" : "20" == a ? a = "15" : "30" == a ? a = "20" : "60" == a ? a = "30" : "120" == a ? a = "60" : "不限" == a && (a = "120"));
t.getComponent(cc.Label).string = a;
},
btn_auto_ready: function(e, i) {
for (var t = this.auto_ready_list, a = this.node.getChildByName("autoready").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
Config: function(e) {
for (var i = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("zhuang")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("ya")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("feng")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("join")), h = cc.vv.utils.toggleChecked(this.node.getChildByName("insane")), r = this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string, l = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string), d = cc.vv.utils.toggleChecked(this.node.getChildByName("open_Ghost")), g = this.auto_ready_list, u = this.node.getChildByName("autoready").getChildByName("num"), _ = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), v = u.getComponent(cc.Label).string, p = 0, m = 0; m < g.length; m++) if (g[m] == v) {
p = m;
break;
}
n = this.guodi.string + "feng";
"xuan" == a && (n = "0feng");
var f = [];
f.push("底分" + l);
switch (i) {
case "8ju":
f.push("8局");
break;

default:
f.push("16局");
}
switch (c) {
case "5ren":
f.push("5人场");
break;

case "10ren":
f.push("10人场");
}
switch (n) {
case "0feng":
break;

case "3feng":
f.push("固定3倍");
break;

case "5feng":
f.push("固定5倍");
break;

case "7feng":
f.push("固定7倍");
break;

case "10feng":
f.push("固定10倍");
}
r && "不限" != r && f.push(r + "秒下注");
switch (t) {
case "qiang":
f.push("抢庄");
break;

case "lunliu":
f.push("轮庄");
break;

case "fangzhu":
f.push("霸王庄");
}
switch (s) {
case "ko1":
f.push("扣1张");
break;

case "ko2":
f.push("扣2张");
break;

case "quankou":
f.push("全扣");
}
switch (h) {
case "1":
f.push("疯狂加倍");
}
switch (o) {
case "yes":
f.push("中途加入");
break;

default:
o = "";
}
switch (_) {
case "1":
f.push("防作弊");
}
var y = p + 1;
1 == y && (y = 0);
0 == p ? f.push("手动开局") : f.push("满" + y + "人自动开局");
"1" == d && f.push("王癞玩法");
return {
name: "nn_1002",
title: "通比牛牛",
desc: f,
ju: i,
dizhu: l,
start_mode: y,
ren: c,
insane: h,
wanfa: s,
feng: n,
tuoGuan: 15 == r ? 1 : 20 == r ? 2 : 30 == r ? 3 : 60 == r ? 4 : 120 == r ? 5 : 5 == r ? 6 : 10 == r ? 7 : 0,
ya: a,
join: o,
open_Ghost: d,
fangzuobi: _
};
}
});
cc._RF.pop();
}, {} ],
nn_1003_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "2b13bVXtm1M8Yt/C4fJZSXl", "nn_1003_config");
cc.Class({
extends: cc.Component,
properties: {
dou1: cc.Label,
dou2: cc.Label
},
onLoad: function() {
this.index = 0;
this.tuizhu_index = 0;
this.limit_index = 4;
this.guodi = this.node.getChildByName("feng").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.tuiZhu = this.node.getChildByName("tuiZhu").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.limitQZ = this.node.getChildByName("limitQZ").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.guodiArr = [ "3", "5", "7", "10" ];
this.tuizhuArr = [ "0", "20", "50" ];
this.limitQZArr = [ "0", "50", "100", "200", "300", "400", "500", "600", "700", "800", "900", "1000" ];
this.is_limit_QZ = !0;
this.loadSaveConfig();
},
wenhao_tips: function(e, i) {
switch (e.target.name) {
case "wubeiqieguo":
cc.vv.popMgr.alert("5倍强制切锅：锅底超过原锅底的五倍，游戏强制结算");
break;

case "fengkuangjiabei":
cc.vv.popMgr.alert("疯狂加倍：牛一到牛七2倍，牛八3倍，牛九4倍，牛牛5倍，座子牛一到座子牛七2倍，座子牛八3倍，座子牛九4倍，座子牛牛5倍，顺子牛、同花、葫芦、五小牛6倍，五花牛 7倍，炸弹牛8倍，同花顺  9倍");
break;

case "tuizhu":
cc.vv.popMgr.alert("闲家获胜后，下局可以将所赢得的积分与底注一起下注。最大推注为低分设置的倍数。不可连续推注。");
break;

case "limit":
cc.vv.popMgr.alert("仅晋级赛生效，选0没有限制");
break;

case "not_fen":
cc.vv.popMgr.alert("玩家胜点不足时，按照从大往小赔！庄家胜点不足，先杀后赔，按照牌面大小依次赔付，赔到胜点不足时，则无需赔付！根据底分大小，闲家进房会有最低分值要求，确保闲家游戏过程中不会出现负分。");
}
},
loadSaveConfig: function() {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6", "满7", "满8", "满9", "满10" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4", "满5" ];
this.auto_ready_list = this.auto_ready_list_5;
var e = cc.sys.localStorage.getItem("last_game_nn_1003");
if (e) {
var i = JSON.parse(e);
switch (i.ju) {
case "10ju":
i.ju = "8ju";
break;

case "20ju":
i.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), i.zhuang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), i.ya);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), i.overflow);
"qiang" != i.zhuang ? this.is_limit_QZ = !1 : this.is_limit_QZ = !0;
if (i.limitQZ) {
this.limitQZ.string = i.limitQZ;
for (var t = 0; t < this.limitQZArr.length; t++) this.limitQZ.string == this.limitQZArr[t] && (this.limit_index = t);
}
i.open_Ghost && cc.vv.utils.setToggleChecked(this.node.getChildByName("open_Ghost"), i.open_Ghost);
var a, n = i.feng.indexOf("f");
null != i.feng && (this.guodi.string = i.feng.substring(0, n));
for (t = 0; t < this.guodiArr.length; t++) this.guodi.string == this.guodiArr[t] && (this.index = t);
if (i.tuiZhu) {
this.tuiZhu.string = i.tuiZhu;
this._tuizhu = i.tuiZhu;
parseInt(i.tuiZhu) > 0 && i.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), 0);
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
"5ren" == i.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != i.start_mode ? 0 != i.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != i.insane && cc.vv.utils.setToggleChecked(this.node.getChildByName("insane"), i.insane);
null != i.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = i.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
null != i && (this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1");
if (null != i.tuoGuan) {
0 == i.tuoGuan ? a = "不限" : 1 == i.tuoGuan ? a = "15" : 2 == i.tuoGuan ? a = "20" : 3 == i.tuoGuan ? a = "30" : 4 == i.tuoGuan ? a = "60" : 5 == i.tuoGuan ? a = "120" : 6 == i.tuoGuan ? a = "5" : 7 == i.tuoGuan && (a = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = a;
}
null != i.difen && (this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = i.difen);
null != i.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), i.join);
var s = new cc.Event.EventCustom("click", !0);
s.node = this.node.getChildByName("ya").getChildByName(i.ya);
this.onBtnYa(s, i.ya);
}
},
loadSaveConfig2: function(e) {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6", "满7", "满8", "满9", "满10" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4", "满5" ];
this.auto_ready_list = this.auto_ready_list_5;
var i = e.conf;
switch (i.ju) {
case "10ju":
i.ju = "8ju";
break;

case "20ju":
i.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), i.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), i.zhuang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), i.overflow);
"qiang" != i.zhuang ? this.is_limit_QZ = !1 : this.is_limit_QZ = !0;
if (i.limitQZ) {
this.limitQZ.string = i.limitQZ;
for (var t = 0; t < this.limitQZArr.length; t++) this.limitQZ.string == this.limitQZArr[t] && (this.limit_index = t);
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), i.ya);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
i.open_Ghost && cc.vv.utils.setToggleChecked(this.node.getChildByName("open_Ghost"), i.open_Ghost);
var a, n = i.feng.indexOf("f");
null != i.feng && (this.guodi.string = i.feng.substring(0, n));
if (i.tuiZhu) {
this.tuiZhu.string = i.tuiZhu;
this._tuizhu = i.tuiZhu;
parseInt(i.tuiZhu) > 0 && i.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), 0);
}
for (t = 0; t < this.guodiArr.length; t++) this.guodi.string == this.guodiArr[t] && (this.index = t);
"5ren" == i.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != i.start_mode ? 0 != i.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[i.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != i.insane && cc.vv.utils.setToggleChecked(this.node.getChildByName("insane"), i.insane);
null != i.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = i.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != i.tuoGuan) {
0 == i.tuoGuan ? a = "不限" : 1 == i.tuoGuan ? a = "15" : 2 == i.tuoGuan ? a = "20" : 3 == i.tuoGuan ? a = "30" : 4 == i.tuoGuan ? a = "60" : 5 == i.tuoGuan ? a = "120" : 6 == i.tuoGuan ? a = "5" : 7 == i.tuoGuan && (a = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = a;
}
null != i.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), i.join);
var s = new cc.Event.EventCustom("click", !0);
s.node = this.node.getChildByName("ya").getChildByName(i.ya);
this.onBtnYa(s, i.ya);
},
onBtnClick_limit: function(e, i) {
if (this.is_limit_QZ) {
switch (e.target.name) {
case "add":
this.limit_index += 1;
var t = this.limitQZArr.length, a = this.limitQZArr[this.limit_index % t];
this.limitQZ.string = a;
break;

case "sub":
t = this.limitQZArr.length;
this.limit_index -= 1;
this.limit_index < 0 && (this.limit_index += t);
a = this.limitQZArr[this.limit_index % t];
this.limitQZ.string = a;
}
}
},
onBtnClick_tuizhu: function(e, i) {
if (1 != this.node.getChildByName("feng").active) {
switch (e.target.name) {
case "add":
this.tuizhu_index += 1;
var t = this.tuizhuArr.length, a = this.tuizhuArr[this.tuizhu_index % t];
this.tuiZhu.string = a;
break;

case "sub":
t = this.tuizhuArr.length;
this.tuizhu_index -= 1;
this.tuizhu_index < 0 && (this.tuizhu_index += t);
a = this.tuizhuArr[this.tuizhu_index % t];
this.tuiZhu.string = a;
}
}
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.guodiArr.length, a = this.guodiArr[this.index % t];
this.guodi.string = a;
break;

case "sub":
t = this.guodiArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.guodiArr[this.index % t];
this.guodi.string = a;
}
},
not_limitQZ: function(e, i) {
switch (e.target.name) {
case "qiang":
this.is_limit_QZ = !0;
break;

case "lunliu":
case "fangzhu":
case "niuniu":
this.limit_index = 0;
var t = this.limitQZArr[this.limit_index];
this.limitQZ.string = t;
this.is_limit_QZ = !1;
}
},
difenupd: function(e, i) {
var t = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string);
"0" == i ? t <= 10 && t > 1 ? t-- : 20 == t ? t = 10 : 50 == t ? t = 20 : t <= 1 && (t = 10) : "1" == i && (t < 10 && t >= 1 ? t++ : t >= 10 ? t = 1 : 20 == t ? t = 50 : 50 == t && (t = 1));
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t;
},
onBtnYa: function(e, i) {
var t = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("ya"));
switch (t) {
case "5ren":
this.dou1.string = "2";
this.dou2.string = "4";
for (var n = this.auto_ready_list, s = this.node.getChildByName("autoready").getChildByName("num"), c = s.getComponent(cc.Label).string, o = 0, h = 0; h < n.length; h++) if (n[h] == c) {
o = h;
break;
}
o >= 5 && (o = 4);
s.getComponent(cc.Label).string = n[o];
this.auto_ready_list = this.auto_ready_list_5;
break;

case "10ren":
this.dou1.string = "4";
this.dou2.string = "8";
this.auto_ready_list = this.auto_ready_list_10;
}
var r = !1;
switch (a) {
case "guding":
this.guodi.string = this.guodiArr[this.index % this.guodiArr.length];
r = !0;
this.tuizhu_index = 0;
var l = this.tuizhuArr.length, d = this.tuizhuArr[this.tuizhu_index % l];
this.tuiZhu.string = d;
}
this.node.getChildByName("feng").active = r;
},
btn_tuoguan_click_event: function(e, i) {
var t = this.node.getChildByName("tuoguan").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "5" == a ? a = "10" : "10" == a ? a = "15" : "15" == a ? a = "20" : "20" == a ? a = "30" : "30" == a ? a = "60" : "60" == a ? a = "120" : "120" == a ? a = "不限" : "不限" == a && (a = "5") : "0" == i && ("5" == a ? a = "不限" : "10" == a ? a = "5" : "15" == a ? a = "10" : "20" == a ? a = "15" : "30" == a ? a = "20" : "60" == a ? a = "30" : "120" == a ? a = "60" : "不限" == a && (a = "120"));
t.getComponent(cc.Label).string = a;
},
btn_auto_ready: function(e, i) {
for (var t = this.auto_ready_list, a = this.node.getChildByName("autoready").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
btn_overflow: function(e) {},
Config: function(e) {
for (var i = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("zhuang")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("ya")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("feng")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("join")), h = cc.vv.utils.toggleChecked(this.node.getChildByName("insane")), r = cc.vv.utils.toggleChecked(this.node.getChildByName("open_Ghost")), l = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), d = cc.vv.utils.toggleChecked(this.node.getChildByName("overflow")), g = this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string, u = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string), _ = this.auto_ready_list, v = this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string, p = 0, m = 0; m < _.length; m++) if (_[m] == v) {
p = m;
break;
}
n = this.guodi.string + "feng";
"xuan" == a && (n = "0feng");
var f = [];
f.push("底分" + u);
switch (i) {
case "8ju":
f.push("8局");
break;

default:
f.push("16局");
}
switch (c) {
case "5ren":
f.push("5人场");
break;

case "10ren":
f.push("10人场");
}
switch (n) {
case "0feng":
break;

case "3feng":
f.push("固定3倍");
break;

case "5feng":
f.push("固定5倍");
break;

case "7feng":
f.push("固定7倍");
break;

case "10feng":
f.push("固定10倍");
}
g && "不限" != g && f.push(g + "秒下注");
switch (t) {
case "qiang":
f.push("抢庄");
break;

case "lunliu":
f.push("轮庄");
break;

case "fangzhu":
f.push("霸王庄");
break;

case "niuniu":
f.push("牛牛上庄");
}
switch (s) {
case "ko1":
f.push("扣1张");
break;

case "ko2":
f.push("扣2张");
break;

case "quankou":
f.push("全扣");
}
switch (h) {
case "1":
f.push("疯狂加倍");
}
switch (o) {
case "yes":
f.push("中途加入");
break;

default:
o = "";
}
switch (l) {
case "1":
f.push("防作弊");
}
var y, C = p + 1;
1 == C && (C = 0);
0 == p ? f.push("手动开局") : f.push("满" + C + "人自动开局");
"1" == r && f.push("王癞玩法");
f.push("推注" + this.tuiZhu.string + "倍");
y = 15 == g ? 1 : 20 == g ? 2 : 30 == g ? 3 : 60 == g ? 4 : 120 == g ? 5 : 5 == g ? 6 : 10 == g ? 7 : 0;
"0" != this.limitQZ.string && f.push("低于" + this.limitQZ.string + "不能抢庄");
"1" == d && f.push("不可负分");
return {
name: "nn_1003",
title: "公牌牛牛",
desc: f,
ju: i,
dizhu: u,
start_mode: C,
ren: c,
insane: h,
wanfa: s,
feng: n,
zhuang: t,
tuoGuan: y,
ya: a,
join: o,
open_Ghost: r,
tuiZhu: this.tuiZhu.string,
limitQZ: this.limitQZ.string,
overflow: d,
fangzuobi: l
};
}
});
cc._RF.pop();
}, {} ],
onSlideHide: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b4948yuh89Fo7tMLAnKafdI", "onSlideHide");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
var e = this.node.getChildByName("btn_back");
null == e && (e = this.node.getChildByName("btns").getChildByName("btn_back"));
cc.vv.utils.addClickEvent(e, this.node, "onSlideHide", "onBtnClicked");
},
onBtnClicked: function(e) {
cc.vv.audioMgr.click();
"btn_back" == e.target.name && this.btn_node_back(this.node);
},
btn_node_back: function(e) {
e.opacity = 255;
e.y = 0;
e.runAction(cc.sequence(cc.spawn(cc.moveTo(.2, cc.v2(0, 750)), cc.fadeTo(.2, 0)), cc.callFunc(function() {
e.active = !1;
e.opacity = 255;
e.y = 0;
})));
}
});
cc._RF.pop();
}, {} ],
pdk_1900_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "dc1c9KjAZZBjrkTpxJ66e4U", "pdk_1900_config");
cc.Class({
extends: cc.Component,
properties: {
difen: cc.Label
},
onLoad: function() {
this.index = 0;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
wenhao_tips: function(e, i) {
switch (e.target.name) {
case "zhuaniao":
cc.vv.popMgr.alert("抓鸟：拿到红桃十的玩家，最后输赢分×2");
}
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_pdk_1900"), i = this.node.getChildByName("wanfa");
if (e) {
var t = JSON.parse(e), a = t.ju;
switch (t.ju) {
case "10ju":
a = "8ju";
break;

case "20ju":
a = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), a);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
this.difen.string = t.difen;
cc.vv.utils.setToggleChecked(i.getChildByName("shouChu"), t.shouChu);
cc.vv.utils.setToggleChecked(i.getChildByName("maxPai"), t.maxPai);
cc.vv.utils.setToggleChecked(i.getChildByName("must"), t.must);
cc.vv.utils.setToggleChecked(i.getChildByName("tAndt"), t.tAndt);
cc.vv.utils.setToggleChecked(i.getChildByName("fAndf"), t.fAndf);
cc.vv.utils.setToggleChecked(i.getChildByName("zhuaNiao"), t.zhuaNiao);
cc.vv.utils.setToggleChecked(i.getChildByName("AAA"), t.AAA);
null != t.tAnddOne && cc.vv.utils.setToggleChecked(i.getChildByName("tAnddOne"), t.tAnddOne);
null != t.AAAMax && cc.vv.utils.setToggleChecked(i.getChildByName("AAAMax"), t.AAAMax);
var n = new cc.Event.EventCustom("click", !0);
n.node = i.getChildByName("AAAMax").getChildByName("1");
this.onBtnAAAMax(n);
var s = new cc.Event.EventCustom("click", !0);
s.node = i.getChildByName("AAA").getChildByName("1");
this.onBtnAAA(s);
null != t.showPais && cc.vv.utils.setToggleChecked(i.getChildByName("showPais"), t.showPais);
null != t.gaobei && cc.vv.utils.setToggleChecked(i.getChildByName("gaobei"), t.gaobei);
for (var c = 0; c < this.difenArr.length; c++) t.difen == this.difenArr[c] && (this.index = c);
} else for (c = 0; c < this.difenArr.length; c++) this.difen.string == this.difenArr[c] && (this.index = c);
},
loadSaveConfig2: function(e) {
var i = e.conf, t = this.node.getChildByName("wanfa"), a = i.ju;
switch (i.ju) {
case "10ju":
a = "8ju";
break;

case "20ju":
a = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), a);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
this.difen.string = i.difen;
cc.vv.utils.setToggleChecked(t.getChildByName("shouChu"), i.shouChu);
cc.vv.utils.setToggleChecked(t.getChildByName("maxPai"), i.maxPai);
cc.vv.utils.setToggleChecked(t.getChildByName("must"), i.must);
cc.vv.utils.setToggleChecked(t.getChildByName("tAndt"), i.tAndt);
cc.vv.utils.setToggleChecked(t.getChildByName("fAndf"), i.fAndf);
cc.vv.utils.setToggleChecked(t.getChildByName("zhuaNiao"), i.zhuaNiao);
cc.vv.utils.setToggleChecked(t.getChildByName("AAA"), i.AAA);
null != i.tAnddOne && cc.vv.utils.setToggleChecked(t.getChildByName("tAnddOne"), i.tAnddOne);
null != i.gaobei && cc.vv.utils.setToggleChecked(t.getChildByName("gaobei"), i.gaobei);
null != i.AAAMax && cc.vv.utils.setToggleChecked(t.getChildByName("AAAMax"), i.AAAMax);
null != i.showPais && cc.vv.utils.setToggleChecked(t.getChildByName("showPais"), i.showPais);
i.fangzuobi && cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
var n = new cc.Event.EventCustom("click", !0);
n.node = t.getChildByName("AAAMax").getChildByName("1");
this.onBtnAAAMax(n);
var s = new cc.Event.EventCustom("click", !0);
s.node = t.getChildByName("AAA").getChildByName("1");
this.onBtnAAA(s);
for (var c = 0; c < this.difenArr.length; c++) i.difen == this.difenArr[c] && (this.index = c);
},
onBtnAAAMax: function(e) {
var i = this.node.getChildByName("wanfa");
switch (e.node.parent.name) {
case "AAAMax":
"1" == cc.vv.utils.toggleChecked(i.getChildByName("AAAMax")) && cc.vv.utils.setToggleChecked(i.getChildByName("AAA"), "1");
}
},
onBtnAAA: function(e) {
var i = this.node.getChildByName("wanfa");
switch (e.node.parent.name) {
case "AAA":
"1" != cc.vv.utils.toggleChecked(i.getChildByName("AAA")) && cc.vv.utils.setToggleChecked(i.getChildByName("AAAMax"), "0");
}
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), t = this.node.getChildByName("wanfa"), a = cc.vv.utils.toggleChecked(t.getChildByName("shouChu")), n = cc.vv.utils.toggleChecked(t.getChildByName("maxPai")), s = cc.vv.utils.toggleChecked(t.getChildByName("must")), c = cc.vv.utils.toggleChecked(t.getChildByName("tAndt")), o = (cc.vv.utils.toggleChecked(t.getChildByName("tAndd")), 
cc.vv.utils.toggleChecked(t.getChildByName("fAndf"))), h = cc.vv.utils.toggleChecked(t.getChildByName("zhuaNiao")), r = cc.vv.utils.toggleChecked(t.getChildByName("AAA")), l = cc.vv.utils.toggleChecked(t.getChildByName("gaobei")), d = cc.vv.utils.toggleChecked(t.getChildByName("showPais")), g = cc.vv.utils.toggleChecked(t.getChildByName("AAAMax")), u = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), _ = cc.vv.utils.toggleChecked(t.getChildByName("tAnddOne")), v = [];
switch (e) {
case "8ju":
v.push("8局");
break;

case "16ju":
v.push("16局");
}
switch (i) {
case "2ren":
v.push("2人场");
break;

case "3ren":
v.push("3人场");
break;

case "4ren":
v.push("4人场");
}
v.push("底分" + this.difen.string);
switch (l) {
case "0":
v.push("全关2倍");
break;

case "1":
v.push("全关4倍");
}
switch (a) {
case "3":
v.push("红桃3先出");
break;

case "0":
v.push("赢家先出");
}
n;
switch (s) {
case "1":
v.push("有管必管");
break;

default:
s = 0;
}
switch (_) {
case "1":
v.push("三带一");
break;

default:
_ = 0;
}
switch (c) {
case "1":
v.push("三带二");
break;

default:
c = 0;
}
switch (o) {
case "1":
v.push("四带三");
break;

default:
o = 0;
}
switch (h) {
case "1":
v.push("抓鸟");
break;

default:
h = 0;
}
switch (r) {
case "1":
v.push("3A当炸弹");
break;

default:
r = 0;
}
switch (d) {
case "1":
v.push("显示牌数");
break;

default:
d = 0;
}
switch (g) {
case "1":
v.push("3A最大");
break;

default:
g = 0;
}
switch (u) {
case "1":
v.push("防作弊");
}
return {
name: "pdk_1900",
title: "跑得快",
desc: v,
ju: e,
ren: i,
difen: this.difen.string,
shouChu: a,
maxPai: 0,
must: s,
tAndt: c,
tAndd: 0,
fAndf: o,
zhuaNiao: h,
AAA: r,
gaobei: l,
showPais: d,
AAAMax: g,
fangzuobi: u,
tAnddOne: _
};
}
});
cc._RF.pop();
}, {} ],
ra_1910_2_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "6b449lW849C0JNLrd26lYfP", "ra_1910_2_config");
cc.Class({
extends: cc.Component,
properties: {
difen: cc.Label,
_view: null
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_ra_1910_2");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
},
onGangToggle: function(e, i) {
var t = e.isChecked;
t && (this.node.getChildByName("baoting").getChildByName("baoting").getComponent(cc.Toggle).isChecked = t);
},
onBaoTingToggle: function(e, i) {
var t = e.isChecked;
t || (this.node.getChildByName("gang").getChildByName("gang").getComponent(cc.Toggle).isChecked = t);
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("baoting")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("daifeng")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("zimo")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("gang")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("haozi")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("hupai")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), h = (e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), 
cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi"))), r = [];
switch (e) {
case "4ju":
r.push("4局");
break;

case "8ju":
r.push("8局");
break;

case "16ju":
r.push("16局");
}
switch (o) {
case "2ren":
r.push("2人场");
break;

case "3ren":
r.push("3人场");
break;

default:
r.push("4人场");
}
r.push("底分" + this.difen.string);
switch (i) {
case "baoting":
r.push("报听");
break;

default:
r.push("不报听");
}
switch (t) {
case "daifeng":
r.push("带风");
break;

default:
r.push("不带风");
}
switch (a) {
case "zimo":
r.push("自摸糊");
}
switch (n) {
case "gang":
r.push("改听不能杠");
}
switch (s) {
case "haozi":
r.push("耗子");
break;

case "hongzhonghaozi":
r.push("红中耗子");
}
switch (c) {
case "pinghu":
r.push("平胡");
break;

default:
r.push("大胡");
}
switch (h) {
case "1":
r.push("防作弊");
}
return {
name: "ra_1910",
title: "推倒胡",
desc: r,
baoting: i,
daifeng: t,
zimo: a,
ju: e,
gang: n,
ren: o,
haozi: s,
hupai: c,
difen: this.difen.string,
fangzuobi: h
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
ra_1910_3_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "a5188hzKR9AIqHWe/QkJynF", "ra_1910_3_config");
cc.Class({
extends: cc.Component,
properties: {
difen: cc.Label,
_view: null
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_ra_1910_3");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
},
onGangToggle: function(e, i) {
var t = e.isChecked;
t && (this.node.getChildByName("baoting").getChildByName("baoting").getComponent(cc.Toggle).isChecked = t);
},
onBaoTingToggle: function(e, i) {
var t = e.isChecked;
t || (this.node.getChildByName("gang").getChildByName("gang").getComponent(cc.Toggle).isChecked = t);
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("baoting")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("daifeng")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("zimo")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("gang")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("haozi")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("hupai")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), h = (e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), 
cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi"))), r = [];
switch (e) {
case "4ju":
r.push("4局");
break;

case "8ju":
r.push("8局");
break;

case "16ju":
r.push("16局");
}
switch (o) {
case "2ren":
r.push("2人场");
break;

case "3ren":
r.push("3人场");
break;

default:
r.push("4人场");
}
r.push("底分" + this.difen.string);
switch (i) {
case "baoting":
r.push("报听");
break;

default:
r.push("不报听");
}
switch (t) {
case "daifeng":
r.push("带风");
break;

default:
r.push("不带风");
}
switch (a) {
case "zimo":
r.push("自摸糊");
}
switch (n) {
case "gang":
r.push("改听不能杠");
}
switch (s) {
case "haozi":
r.push("耗子");
break;

case "hongzhonghaozi":
r.push("红中耗子");
}
switch (c) {
case "pinghu":
r.push("平胡");
break;

default:
r.push("大胡");
}
switch (h) {
case "1":
r.push("防作弊");
}
return {
name: "ra_1910",
title: "推倒胡",
desc: r,
baoting: i,
daifeng: t,
zimo: a,
ju: e,
gang: n,
ren: o,
haozi: s,
hupai: c,
difen: this.difen.string,
fangzuobi: h
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
ra_1910_4_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "2f4f6oKIGJJLpJWPtZxyHB2", "ra_1910_4_config");
cc.Class({
extends: cc.Component,
properties: {
difen: cc.Label,
_view: null
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_ra_1910_4");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
},
onGangToggle: function(e, i) {
var t = e.isChecked;
t && (this.node.getChildByName("baoting").getChildByName("baoting").getComponent(cc.Toggle).isChecked = t);
},
onBaoTingToggle: function(e, i) {
var t = e.isChecked;
t || (this.node.getChildByName("gang").getChildByName("gang").getComponent(cc.Toggle).isChecked = t);
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("baoting")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("daifeng")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("zimo")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("gang")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("haozi")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("hupai")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), h = (e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), 
cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi"))), r = [];
switch (e) {
case "4ju":
r.push("4局");
break;

case "8ju":
r.push("8局");
break;

case "16ju":
r.push("16局");
}
switch (o) {
case "2ren":
r.push("2人场");
break;

case "3ren":
r.push("3人场");
break;

default:
r.push("4人场");
}
r.push("底分" + this.difen.string);
switch (i) {
case "baoting":
r.push("报听");
break;

default:
r.push("不报听");
}
switch (t) {
case "daifeng":
r.push("带风");
break;

default:
r.push("不带风");
}
switch (a) {
case "zimo":
r.push("自摸糊");
}
switch (n) {
case "gang":
r.push("改听不能杠");
}
switch (s) {
case "haozi":
r.push("耗子");
break;

case "hongzhonghaozi":
r.push("红中耗子");
}
switch (c) {
case "pinghu":
r.push("平胡");
break;

default:
r.push("大胡");
}
switch (h) {
case "1":
r.push("防作弊");
}
return {
name: "ra_1910",
title: "推倒胡",
desc: r,
baoting: i,
daifeng: t,
zimo: a,
ju: e,
gang: n,
ren: o,
haozi: s,
hupai: c,
difen: this.difen.string,
fangzuobi: h
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
ssz_1100_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "2097ezZCnBA/JPYrCxzHaYt", "ssz_1100_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null
},
onLoad: function() {
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_ssz_1100");
if (e) {
e = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), e.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("wanfa"), e.wanfa);
cc.vv.utils.setToggleChecked(this.node.getChildByName("mapai"), e.mapai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fufei"), e.fufei);
cc.vv.utils.setToggleChecked(this.node.getChildByName("quanleida"), e.quanleida);
var i = 0 != e.mapai;
this.node.getChildByName("daima").getComponent(cc.Toggle).isChecked = i;
var t = new cc.Event.EventCustom("click", !0);
t.isChecked = i;
this.onSSZMapaiToggle(t, null);
}
},
onSSZMapaiToggle: function(e, i) {
for (var t = e.isChecked, a = this.node.getChildByName("mapai"), n = 0; n < a.children.length - 1; ++n) {
var s = a.children[n].getComponent(cc.Toggle);
t || (s.isChecked = t);
s.interactable = t;
}
0 == t ? a.getChildByName("x").getComponent(cc.Toggle).isChecked = !0 : t && a.getChildByName("x").getComponent(cc.Toggle).isChecked && (a.getChildByName("1").getComponent(cc.Toggle).isChecked = !0);
},
onBtnSSZContorl: function(e, i) {
var t = this.node, a = cc.vv.utils.toggleChecked(t.getChildByName("daqiang")), n = cc.vv.utils.toggleChecked(t.getChildByName("quanleida")), s = cc.vv.utils.toggleChecked(t.getChildByName("ren")), c = cc.vv.utils.toggleChecked(t.getChildByName("jiase"));
switch (e.target.parent.name) {
case "6ren":
cc.vv.utils.setToggleChecked(t.getChildByName("jiase"), "jia2");
break;

case "5ren":
"bujia" == c && cc.vv.utils.setToggleChecked(t.getChildByName("jiase"), "jia1");
break;

case "bujia":
"6ren" != s && "5ren" != s || cc.vv.utils.setToggleChecked(t.getChildByName("ren"), "4ren");
break;

case "jia1":
"6ren" == s && cc.vv.utils.setToggleChecked(t.getChildByName("ren"), "5ren");
break;

case "cheng2":
"quanleida" == e.target.parent.parent.name && "cheng2" == n && cc.vv.utils.setToggleChecked(t.getChildByName("daqiang"), "cheng2");
"daqiang" == e.target.parent.parent.name && void 0 == a && cc.vv.utils.setToggleChecked(t.getChildByName("quanleida"), "");
}
},
Config: function() {
cc.vv.utils.toggleChecked(this.node.getChildByName("ju"));
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("fufei")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("mapai")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("daqiang")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("quanleida"));
0 == this.node.getChildByName("daima").getComponent(cc.Toggle).isChecked && (t = 0);
return {
name: "ssz_1100",
wanfa: e,
fufei: i,
daqiang: a,
mapai: t,
jys: "",
quanleida: n
};
}
});
cc._RF.pop();
}, {} ],
tdh_1600_2_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "87cc4RNSOJH06QaVxte4a+o", "tdh_1600_2_config");
cc.Class({
extends: cc.Component,
properties: {
difen: cc.Label,
_view: null
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_tdh_1600_2");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
},
onGangToggle: function(e, i) {
var t = e.isChecked;
t && (this.node.getChildByName("baoting").getChildByName("baoting").getComponent(cc.Toggle).isChecked = t);
},
onBaoTingToggle: function(e, i) {
var t = e.isChecked;
t || (this.node.getChildByName("gang").getChildByName("gang").getComponent(cc.Toggle).isChecked = t);
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("baoting")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("daifeng")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("zimo")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("gang")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("haozi")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("hupai")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), h = (e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), 
cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi"))), r = [];
switch (e) {
case "4ju":
r.push("4局");
break;

case "8ju":
r.push("8局");
break;

case "16ju":
r.push("16局");
}
switch (o) {
case "2ren":
r.push("2人场");
break;

case "3ren":
r.push("3人场");
break;

default:
r.push("4人场");
}
r.push("底分" + this.difen.string);
switch (i) {
case "baoting":
r.push("报听");
break;

default:
r.push("不报听");
}
switch (t) {
case "daifeng":
r.push("带风");
break;

default:
r.push("不带风");
}
switch (a) {
case "zimo":
r.push("自摸糊");
}
switch (n) {
case "gang":
r.push("改听不能杠");
}
switch (s) {
case "haozi":
r.push("耗子");
break;

case "hongzhonghaozi":
r.push("红中耗子");
}
switch (c) {
case "pinghu":
r.push("平胡");
break;

default:
r.push("大胡");
}
switch (h) {
case "1":
r.push("防作弊");
}
return {
name: "tdh_1600",
title: "推倒胡",
desc: r,
baoting: i,
daifeng: t,
zimo: a,
ju: e,
gang: n,
ren: o,
haozi: s,
hupai: c,
difen: this.difen.string,
fangzuobi: h
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
tdh_1600_3_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "e0695nZLKdBSIeG7dwut+9Z", "tdh_1600_3_config");
cc.Class({
extends: cc.Component,
properties: {
difen: cc.Label,
_view: null
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_tdh_1600_3");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
},
onGangToggle: function(e, i) {
var t = e.isChecked;
t && (this.node.getChildByName("baoting").getChildByName("baoting").getComponent(cc.Toggle).isChecked = t);
},
onBaoTingToggle: function(e, i) {
var t = e.isChecked;
t || (this.node.getChildByName("gang").getChildByName("gang").getComponent(cc.Toggle).isChecked = t);
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("baoting")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("daifeng")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("zimo")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("gang")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("haozi")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("hupai")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), h = (e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), 
cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi"))), r = [];
switch (e) {
case "4ju":
r.push("4局");
break;

case "8ju":
r.push("8局");
break;

case "16ju":
r.push("16局");
}
switch (o) {
case "2ren":
r.push("2人场");
break;

case "3ren":
r.push("3人场");
break;

default:
r.push("4人场");
}
r.push("底分" + this.difen.string);
switch (i) {
case "baoting":
r.push("报听");
break;

default:
r.push("不报听");
}
switch (t) {
case "daifeng":
r.push("带风");
break;

default:
r.push("不带风");
}
switch (a) {
case "zimo":
r.push("自摸糊");
}
switch (n) {
case "gang":
r.push("改听不能杠");
}
switch (s) {
case "haozi":
r.push("耗子");
break;

case "hongzhonghaozi":
r.push("红中耗子");
}
switch (c) {
case "pinghu":
r.push("平胡");
break;

default:
r.push("大胡");
}
switch (h) {
case "1":
r.push("防作弊");
}
return {
name: "tdh_1600",
title: "推倒胡",
desc: r,
baoting: i,
daifeng: t,
zimo: a,
ju: e,
gang: n,
ren: o,
haozi: s,
hupai: c,
difen: this.difen.string,
fangzuobi: h
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
tdh_1600_4_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "2526a2GR71JU6MKUIH8yyt4", "tdh_1600_4_config");
cc.Class({
extends: cc.Component,
properties: {
difen: cc.Label,
_view: null
},
onLoad: function() {
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_tdh_1600_4");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baoting"), i.baoting);
cc.vv.utils.setToggleChecked(this.node.getChildByName("daifeng"), i.daifeng);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zimo"), i.zimo);
cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), i.gang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("haozi"), i.haozi);
cc.vv.utils.setToggleChecked(this.node.getChildByName("hupai"), i.hupai);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("difen"), i.difen);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
i.baoting || cc.vv.utils.setToggleChecked(this.node.getChildByName("gang"), !1);
if (i.difen) {
var t = i.difen;
this.difen.string = t;
for (var a = 0; a < this.difenArr.length; a++) t == this.difenArr[a] && (this.index = a);
}
},
onGangToggle: function(e, i) {
var t = e.isChecked;
t && (this.node.getChildByName("baoting").getChildByName("baoting").getComponent(cc.Toggle).isChecked = t);
},
onBaoTingToggle: function(e, i) {
var t = e.isChecked;
t || (this.node.getChildByName("gang").getChildByName("gang").getComponent(cc.Toggle).isChecked = t);
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("baoting")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("daifeng")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("zimo")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("gang")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("haozi")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("hupai")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), h = (e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), 
cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi"))), r = [];
switch (e) {
case "4ju":
r.push("4局");
break;

case "8ju":
r.push("8局");
break;

case "16ju":
r.push("16局");
}
switch (o) {
case "2ren":
r.push("2人场");
break;

case "3ren":
r.push("3人场");
break;

default:
r.push("4人场");
}
r.push("底分" + this.difen.string);
switch (i) {
case "baoting":
r.push("报听");
break;

default:
r.push("不报听");
}
switch (t) {
case "daifeng":
r.push("带风");
break;

default:
r.push("不带风");
}
switch (a) {
case "zimo":
r.push("自摸糊");
}
switch (n) {
case "gang":
r.push("改听不能杠");
}
switch (s) {
case "haozi":
r.push("耗子");
break;

case "hongzhonghaozi":
r.push("红中耗子");
}
switch (c) {
case "pinghu":
r.push("平胡");
break;

default:
r.push("大胡");
}
switch (h) {
case "1":
r.push("防作弊");
}
return {
name: "tdh_1600",
title: "推倒胡",
desc: r,
baoting: i,
daifeng: t,
zimo: a,
ju: e,
gang: n,
ren: o,
haozi: s,
hupai: c,
difen: this.difen.string,
fangzuobi: h
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
tjd_1300_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "c2405xBXv1GkJKRhgmqMudg", "tjd_1300_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null
},
onLoad: function() {
this.limit_index = 4;
this.limitQZ = this.node.getChildByName("limitQZ").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.limitQZArr = [ "0", "50", "100", "200", "300", "400", "500", "600", "700", "800", "900", "1000" ];
this.is_limit_QZ = !0;
this.loadSaveConfig();
},
wenhao_tips: function(e, i) {
switch (e.target.name) {
case "erbagang":
cc.vv.popMgr.alert("二八杠；2筒与8筒的组合3倍底分");
break;

case "erdao":
cc.vv.popMgr.alert("两道：八点上两道");
break;

case "sandao":
cc.vv.popMgr.alert("三道：九点上三道");
break;

case "duhong":
cc.vv.popMgr.alert("独红：四人场满四人可选择独红，庄家通赔就表示压中独红");
break;

case "yaruan":
cc.vv.popMgr.alert("押软：四人场满四人可选择押软，两名闲家大于庄家就表示压中押软");
break;

case "limit":
cc.vv.popMgr.alert("仅晋级赛生效，选0没有限制");
break;

case "not_fen":
cc.vv.popMgr.alert("玩家胜点不足时，按照从大往小赔！庄家胜点不足，先杀后赔，按照牌面大小依次赔付，赔到胜点不足时，则无需赔付！根据底分大小，闲家进房会有最低分值要求，确保闲家游戏过程中不会出现负分。");
}
},
loadSaveConfig: function() {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4" ];
this.auto_ready_list = this.auto_ready_list_5;
var e = cc.sys.localStorage.getItem("last_game_tjd_1300");
if (e) {
var i, t = JSON.parse(e);
switch (t.ju) {
case "10ju":
t.ju = "8ju";
break;

case "20ju":
t.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("dao"), t.dao);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), t.zhuang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("yaruan"), t.yaruan);
cc.vv.utils.setToggleChecked(this.node.getChildByName("duhong"), t.duhong);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("yaoshaizi"), t.auto, 1);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
t.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), t.overflow);
"qiang" != t.zhuang || "lunliu" != t.zhuang || "lun" != t.zhuang ? this.is_limit_QZ = !1 : this.is_limit_QZ = !0;
if (t.limitQZ) {
this.limitQZ.string = t.limitQZ;
for (var a = 0; a < this.limitQZArr.length; a++) this.limitQZ.string == this.limitQZArr[a] && (this.limit_index = a);
}
"4ren" == t.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != t.start_mode ? 0 != t.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != t.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != t.tuoGuan) {
0 == t.tuoGuan ? i = "不限" : 1 == t.tuoGuan ? i = "15" : 2 == t.tuoGuan ? i = "20" : 3 == t.tuoGuan ? i = "30" : 4 == t.tuoGuan ? i = "60" : 5 == t.tuoGuan ? i = "120" : 6 == t.tuoGuan ? i = "5" : 7 == t.tuoGuan && (i = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = i;
}
null != t.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), t.join);
var n = new cc.Event.EventCustom("click", !0);
n.node = this.node.getChildByName("ren").getChildByName(t.ren);
this.onBtnRen(n);
}
},
loadSaveConfig2: function(e) {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4" ];
this.auto_ready_list = this.auto_ready_list_5;
var i, t = e.conf;
switch (t.ju) {
case "10ju":
t.ju = "8ju";
break;

case "20ju":
t.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("dao"), t.dao);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), t.zhuang);
cc.vv.utils.setToggleChecked(this.node.getChildByName("yaruan"), t.yaruan);
cc.vv.utils.setToggleChecked(this.node.getChildByName("duhong"), t.duhong);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("yaoshaizi"), t.auto, 1);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
t.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), t.overflow);
"qiang" != t.zhuang || "lunliu" != t.zhuang || "lun" != t.zhuang ? this.is_limit_QZ = !1 : this.is_limit_QZ = !0;
if (t.limitQZ) {
this.limitQZ.string = t.limitQZ;
for (var a = 0; a < this.limitQZArr.length; a++) this.limitQZ.string == this.limitQZArr[a] && (this.limit_index = a);
}
"4ren" == t.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != t.start_mode ? 0 != t.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != t.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != t.tuoGuan) {
0 == t.tuoGuan ? i = "不限" : 1 == t.tuoGuan ? i = "15" : 2 == t.tuoGuan ? i = "20" : 3 == t.tuoGuan ? i = "30" : 4 == t.tuoGuan ? i = "60" : 5 == t.tuoGuan ? i = "120" : 6 == t.tuoGuan ? i = "5" : 7 == t.tuoGuan && (i = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = i;
}
null != t.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), t.join);
var n = new cc.Event.EventCustom("click", !0);
n.node = this.node.getChildByName("ren").getChildByName(t.ren);
this.onBtnRen(n);
},
onBtnClick_limit: function(e, i) {
if (this.is_limit_QZ) {
switch (e.target.name) {
case "add":
this.limit_index += 1;
var t = this.limitQZArr.length, a = this.limitQZArr[this.limit_index % t];
this.limitQZ.string = a;
break;

case "sub":
t = this.limitQZArr.length;
this.limit_index -= 1;
this.limit_index < 0 && (this.limit_index += t);
a = this.limitQZArr[this.limit_index % t];
this.limitQZ.string = a;
}
}
},
difenupd: function(e, i) {
var t = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string);
"0" == i ? t <= 10 && t > 1 ? t-- : 20 == t ? t = 10 : 50 == t ? t = 20 : t <= 1 && (t = 10) : "1" == i && (t < 10 && t >= 1 ? t++ : t >= 10 ? t = 1 : 20 == t ? t = 50 : 50 == t && (t = 1));
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t;
},
not_limitQZ: function(e, i) {
switch (e.target.name) {
case "lun":
case "lunliu":
case "qiang":
this.is_limit_QZ = !0;
break;

case "fangzhu":
case "niuniu":
this.limit_index = 0;
var t = this.limitQZArr[this.limit_index];
this.limitQZ.string = t;
this.is_limit_QZ = !1;
}
},
btn_tuoguan_click_event: function(e, i) {
var t = this.node.getChildByName("tuoguan").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "5" == a ? a = "10" : "10" == a ? a = "15" : "15" == a ? a = "20" : "20" == a ? a = "30" : "30" == a ? a = "60" : "60" == a ? a = "120" : "120" == a ? a = "不限" : "不限" == a && (a = "5") : "0" == i && ("5" == a ? a = "不限" : "10" == a ? a = "5" : "15" == a ? a = "10" : "20" == a ? a = "15" : "30" == a ? a = "20" : "60" == a ? a = "30" : "120" == a ? a = "60" : "不限" == a && (a = "120"));
t.getComponent(cc.Label).string = a;
},
onBtnRen: function(e) {
if (null != e.node) {
var i = !0;
switch (e.node.name) {
case "6ren":
this.dou1 = this.node.getChildByName("ju").getChildByName("8ju").getChildByName("tips").getChildByName("num").getComponent(cc.Label);
this.dou2 = this.node.getChildByName("ju").getChildByName("16ju").getChildByName("tips").getChildByName("num").getComponent(cc.Label);
this.dou1.string = "4";
this.dou2.string = "7";
i = !1;
this.auto_ready_list = this.auto_ready_list_10;
break;

case "4ren":
this.dou1 = this.node.getChildByName("ju").getChildByName("8ju").getChildByName("tips").getChildByName("num").getComponent(cc.Label);
this.dou2 = this.node.getChildByName("ju").getChildByName("16ju").getChildByName("tips").getChildByName("num").getComponent(cc.Label);
this.dou1.string = "3";
this.dou2.string = "5";
for (var t = this.auto_ready_list, a = this.node.getChildByName("autoready").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
s >= 4 && (s = 3);
a.getComponent(cc.Label).string = t[s];
this.auto_ready_list = this.auto_ready_list_5;
}
this.node.getChildByName("yaruan").active = i;
this.node.getChildByName("duhong").active = i;
}
},
btn_auto_ready: function(e, i) {
for (var t = this.auto_ready_list, a = this.node.getChildByName("autoready").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("zhuang")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("dao")), a = "", n = "";
this.node.getChildByName("yaruan").active && (a = cc.vv.utils.toggleChecked(this.node.getChildByName("duhong")));
this.node.getChildByName("duhong").active && (n = cc.vv.utils.toggleChecked(this.node.getChildByName("yaruan")));
for (var s = this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string, c = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("yaoshaizi")), h = cc.vv.utils.toggleChecked(this.node.getChildByName("join")), r = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string), l = (cc.vv.utils.toggleChecked(this.node.getChildByName("overflow")), 
cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi"))), d = this.auto_ready_list, g = this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string, u = 0, _ = 0; _ < d.length; _++) if (d[_] == g) {
u = _;
break;
}
var v = [];
v.push("底分" + r);
switch (e) {
case "10ju":
v.push("10局");
break;

case "20ju":
v.push("20局");
}
switch (c) {
case "4ren":
v.push("4人场");
break;

case "6ren":
v.push("6人场");
}
switch (t) {
case "3dao":
v.push("三道");
break;

case "2dao":
v.push("两道");
}
switch (a) {
case "duhong":
v.push("独红");
}
switch (n) {
case "yaruan":
v.push("押软");
}
switch (l) {
case "1":
v.push("防作弊");
}
switch (i) {
case "qiang":
v.push("抢庄");
break;

case "lun":
v.push("轮庄");
break;

case "fangzhu":
v.push("霸王庄");
}
switch (o) {
case "shaizi":
v.push("自动摇骰子");
}
var p = 0;
o && (p = 1);
s && "不限" != s && v.push(s + "秒下注");
switch (h) {
case "yes":
v.push("中途加入");
break;

default:
h = "";
}
var m = u + 1;
1 == m && (m = 0);
0 == u ? v.push("手动开局") : v.push("满" + m + "人自动开局");
"0" != this.limitQZ.string && v.push("低于" + this.limitQZ.string + "不能抢庄");
return {
name: "tjd_1300",
title: "推锅",
desc: v,
ju: e,
ren: c,
dao: t,
dizhu: r,
yaruan: n,
duhong: a,
start_mode: m,
zhuang: i,
tuoGuan: 15 == s ? 1 : 20 == s ? 2 : 30 == s ? 3 : 60 == s ? 4 : 120 == s ? 5 : 5 == s ? 6 : 10 == s ? 7 : 0,
auto: p,
join: h,
limitQZ: this.limitQZ.string,
fangzuobi: l
};
}
});
cc._RF.pop();
}, {} ],
tjd_1301_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "84795jtwk1HIr0C9MNLNjYu", "tjd_1301_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
guodi: cc.Label
},
onLoad: function() {
this.index = 2;
this.qieguo_index = 0;
this.guodiArr = [ "60", "80", "100", "200", "300", "500" ];
this.qieguo = this.node.getChildByName("qieguo").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.qieguoArr = [ "5", "8" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_tjd_1301");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("dao"), i.dao);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("yaoshaizi"), i.auto, 1);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
null != i.guo && (this.guodi.string = i.guo);
i.fengding && (1 == i.fengding ? this.qieguo.string = "5" : 2 == i.fengding && (this.qieguo.string = "8"));
for (var t = 0; t < this.guodiArr.length; t++) this.guodi.string == this.guodiArr[t] && (this.index = t);
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("dao"), i.dao);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("yaoshaizi"), i.auto, 1);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
null != i.guo && (this.guodi.string = i.guo);
i.fengding && (1 == i.fengding ? this.qieguo.string = "5" : 2 == i.fengding && (this.qieguo.string = "8"));
for (var t = 0; t < this.guodiArr.length; t++) this.guodi.string == this.guodiArr[t] && (this.index = t);
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.guodiArr.length, a = this.guodiArr[this.index % t];
this.guodi.string = a;
break;

case "sub":
t = this.guodiArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.guodiArr[this.index % t];
this.guodi.string = a;
}
},
onBtnqieguo: function(e, i) {
switch (e.target.name) {
case "add":
this.qieguo_index += 1;
var t = this.qieguoArr.length, a = this.qieguoArr[this.qieguo_index % t];
this.qieguo.string = a;
break;

case "sub":
t = this.qieguoArr.length;
this.qieguo_index -= 1;
this.qieguo_index < 0 && (this.qieguo_index += t);
a = this.qieguoArr[this.qieguo_index % t];
this.qieguo.string = a;
}
},
Config: function() {
var e, i = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), a = (this.node.getChildByName("fengding").getChildByName("qieguo").getComponent(cc.Toggle).isChecked, 
cc.vv.utils.toggleChecked(this.node.getChildByName("dao"))), n = cc.vv.utils.toggleChecked(this.node.getChildByName("yaoshaizi")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), c = [], o = this.guodi.string;
c.push("锅底" + o + "分");
cc.vv.userMgr.guodi = parseInt(o);
switch (t) {
case "4ren":
c.push("4人场");
break;

case "6ren":
c.push("6人场");
}
switch (a) {
case "3dao":
c.push("三道");
break;

case "2dao":
c.push("两道");
}
if ("5" == this.qieguo.string) {
e = 1;
c.push("5倍强制切锅");
} else if ("8" == this.qieguo.string) {
e = 2;
c.push("8倍强制切锅");
}
switch (n) {
case "shaizi":
c.push("自动摇骰子");
}
switch (s) {
case "1":
c.push("防作弊");
}
var h = 0;
n && (h = 1);
return {
name: "tjd_1301",
title: "加锅推锅",
desc: c,
ju: i,
guo: o,
dao: a,
fengding: e,
ren: t,
auto: h,
fangzuobi: s
};
}
});
cc._RF.pop();
}, {} ],
ttz_1400_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "58dfa6yo8xFAovCJxa4r/Pu", "ttz_1400_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null
},
onLoad: function() {
this.limit_index = 4;
this.limitQZ = this.node.getChildByName("limitQZ").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.limitQZArr = [ "0", "50", "100", "200", "300", "400", "500", "600", "700", "800", "900", "1000" ];
this.is_limit_QZ = !0;
this.loadSaveConfig();
},
loadSaveConfig: function() {
this.auto_ready_list = [ "手动", "满2", "满3", "满4", "满5" ];
var e = cc.sys.localStorage.getItem("last_game_ttz_1400");
if (e) {
var i, t = JSON.parse(e);
switch (t.ju) {
case "10ju":
t.ju = "8ju";
break;

case "20ju":
t.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), t.zhuang);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("yaoshaizi"), t.auto, 1);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("wanfa"), t.cond, 1);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
t.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), t.overflow);
"qiang" != t.zhuang || "lunliu" != t.zhuang || "lun" != t.zhuang ? this.is_limit_QZ = !1 : this.is_limit_QZ = !0;
if (t.limitQZ) {
this.limitQZ.string = t.limitQZ;
for (var a = 0; a < this.limitQZArr.length; a++) this.limitQZ.string == this.limitQZArr[a] && (this.limit_index = a);
}
null != t.start_mode ? 0 != t.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != t.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), t.join);
null != t.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != t.tuoGuan) {
0 == t.tuoGuan ? i = "不限" : 1 == t.tuoGuan ? i = "15" : 2 == t.tuoGuan ? i = "20" : 3 == t.tuoGuan ? i = "30" : 4 == t.tuoGuan ? i = "60" : 5 == t.tuoGuan ? i = "120" : 6 == t.tuoGuan ? i = "5" : 7 == t.tuoGuan && (i = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = i;
}
var n = new cc.Event.EventCustom("click", !0);
n.node = this.node.getChildByName("ren").getChildByName(t.ren);
this.onBtnRen(n);
}
},
loadSaveConfig2: function(e) {
this.auto_ready_list = [ "手动", "满2", "满3", "满4", "满5" ];
var i, t = e.conf;
switch (t.ju) {
case "10ju":
t.ju = "8ju";
break;

case "20ju":
t.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), t.zhuang);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("yaoshaizi"), t.auto);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("wanfa"), t.cond);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
t.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), t.overflow);
"qiang" != t.zhuang || "lunliu" != t.zhuang || "lun" != t.zhuang ? this.is_limit_QZ = !1 : this.is_limit_QZ = !0;
if (t.limitQZ) {
this.limitQZ.string = t.limitQZ;
for (var a = 0; a < this.limitQZArr.length; a++) this.limitQZ.string == this.limitQZArr[a] && (this.limit_index = a);
}
null != t.start_mode ? 0 != t.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != t.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), t.join);
null != t.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != t.tuoGuan) {
0 == t.tuoGuan ? i = "不限" : 1 == t.tuoGuan ? i = "15" : 2 == t.tuoGuan ? i = "20" : 3 == t.tuoGuan ? i = "30" : 4 == t.tuoGuan ? i = "60" : 5 == t.tuoGuan ? i = "120" : 6 == t.tuoGuan ? i = "5" : 7 == t.tuoGuan && (i = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = i;
}
var n = new cc.Event.EventCustom("click", !0);
n.node = this.node.getChildByName("ren").getChildByName(t.ren);
this.onBtnRen(n);
},
onBtnClick_limit: function(e, i) {
if (this.is_limit_QZ) {
switch (e.target.name) {
case "add":
this.limit_index += 1;
var t = this.limitQZArr.length, a = this.limitQZArr[this.limit_index % t];
this.limitQZ.string = a;
break;

case "sub":
t = this.limitQZArr.length;
this.limit_index -= 1;
this.limit_index < 0 && (this.limit_index += t);
a = this.limitQZArr[this.limit_index % t];
this.limitQZ.string = a;
}
}
},
not_limitQZ: function(e, i) {
switch (e.target.name) {
case "lun":
case "lunliu":
case "qiang":
this.is_limit_QZ = !0;
break;

case "fangzhu":
case "niuniu":
this.limit_index = 0;
var t = this.limitQZArr[this.limit_index];
this.limitQZ.string = t;
this.is_limit_QZ = !1;
}
},
difenupd: function(e, i) {
var t = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string);
"0" == i ? t <= 10 && t > 1 ? t-- : 20 == t ? t = 10 : 50 == t ? t = 20 : t <= 1 && (t = 10) : "1" == i && (t < 10 && t >= 1 ? t++ : t >= 10 ? t = 1 : 20 == t ? t = 50 : 50 == t && (t = 1));
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t;
},
btn_tuoguan_click_event: function(e, i) {
var t = this.node.getChildByName("tuoguan").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "5" == a ? a = "10" : "10" == a ? a = "15" : "15" == a ? a = "20" : "20" == a ? a = "30" : "30" == a ? a = "60" : "60" == a ? a = "120" : "120" == a ? a = "不限" : "不限" == a && (a = "5") : "0" == i && ("5" == a ? a = "不限" : "10" == a ? a = "5" : "15" == a ? a = "10" : "20" == a ? a = "15" : "30" == a ? a = "20" : "60" == a ? a = "30" : "120" == a ? a = "60" : "不限" == a && (a = "120"));
t.getComponent(cc.Label).string = a;
},
onBtnRen: function(e) {
if (null != e.node) {
switch (e.node.name) {
case "6ren":
!1;
}
}
},
btn_auto_ready: function(e, i) {
for (var t = this.auto_ready_list, a = this.node.getChildByName("autoready").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
Config: function() {
for (var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("zhuang")), t = (cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), 
cc.vv.utils.toggleChecked(this.node.getChildByName("yaoshaizi"))), a = cc.vv.utils.toggleChecked(this.node.getChildByName("join")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), s = this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string, c = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string), o = cc.vv.utils.toggleChecked(this.node.getChildByName("overflow")), h = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), r = 0, l = this.auto_ready_list, d = this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string, g = 0, u = 0; u < l.length; u++) if (l[u] == d) {
g = u;
break;
}
var _ = [];
_.push("底分" + c);
switch (e) {
case "10ju":
_.push("10局");
break;

case "20ju":
_.push("20局");
}
_.push("5人场");
switch (n) {
case "28g":
_.push("二八杠");
}
r = n ? 1 : 0;
switch (i) {
case "qiang":
_.push("抢庄");
break;

case "lun":
_.push("轮庄");
break;

case "fangzhu":
_.push("霸王庄");
}
switch (t) {
case "shaizi":
_.push("自动摇骰子");
}
switch (h) {
case "1":
_.push("防作弊");
}
var v = 0;
t && (v = 1);
s && "不限" != s && _.push(s + "秒下注");
switch (a) {
case "yes":
_.push("中途加入");
break;

default:
a = "";
}
var p, m = g + 1;
1 == m && (m = 0);
0 == g ? _.push("手动开局") : _.push("满" + m + "人自动开局");
"0" != this.limitQZ.string && _.push("低于" + this.limitQZ.string + "不能抢庄");
p = 15 == s ? 1 : 20 == s ? 2 : 30 == s ? 3 : 60 == s ? 4 : 120 == s ? 5 : 5 == s ? 6 : 10 == s ? 7 : 0;
"1" == o && _.push("不可负分");
return {
name: "ttz_1400",
title: "推饼子",
desc: _,
ju: e,
cond: r,
dizhu: c,
start_mode: m,
tuoGuan: p,
ren: "5ren",
zhuang: i,
auto: v,
join: a,
limitQZ: this.limitQZ.string,
overflow: o,
fangzuobi: h
};
}
});
cc._RF.pop();
}, {} ],
ttz_1401_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "8e736qxdSNKYaz+AcDx7fu8", "ttz_1401_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null,
guodi: cc.Label
},
onLoad: function() {
this.index = 2;
this.qieguo_index = 4;
this.guodiArr = [ "60", "80", "100", "200", "300", "500" ];
this.qieguo = this.node.getChildByName("qieguo").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.qieguoArr = [ "5", "8" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_ttz_1401");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("wanfa"), i.cond, 1);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("yaoshaizi"), i.auto, 1);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
null != i.guo && (this.guodi.string = i.guo);
i.fengding && (1 == i.fengding ? this.qieguo.string = "5" : 2 == i.fengding && (this.qieguo.string = "8"));
for (var t = 0; t < this.guodiArr.length; t++) this.guodi.string == this.guodiArr[t] && (this.index = t);
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), i.ren);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("wanfa"), i.cond, 1);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("yaoshaizi"), i.auto, 1);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), i.fangzuobi);
null != i.guo && (this.guodi.string = i.guo);
i.fengding && (1 == i.fengding ? this.qieguo.string = "5" : 2 == i.fengding && (this.qieguo.string = "8"));
for (var t = 0; t < this.guodiArr.length; t++) this.guodi.string == this.guodiArr[t] && (this.index = t);
},
onBtnqieguo: function(e, i) {
switch (e.target.name) {
case "add":
this.qieguo_index += 1;
var t = this.qieguoArr.length, a = this.qieguoArr[this.qieguo_index % t];
this.qieguo.string = a;
break;

case "sub":
t = this.qieguoArr.length;
this.qieguo_index -= 1;
this.qieguo_index < 0 && (this.qieguo_index += t);
a = this.qieguoArr[this.qieguo_index % t];
this.qieguo.string = a;
}
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.guodiArr.length, a = this.guodiArr[this.index % t];
this.guodi.string = a;
break;

case "sub":
t = this.guodiArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.guodiArr[this.index % t];
this.guodi.string = a;
}
},
Config: function() {
var e, i = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), t = (cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), 
this.node.getChildByName("fengding").getChildByName("qieguo").getComponent(cc.Toggle).isChecked, 
cc.vv.utils.toggleChecked(this.node.getChildByName("yaoshaizi"))), a = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), s = 0, c = [], o = this.guodi.string;
c.push("锅底" + o + "分");
cc.vv.userMgr.guodi = parseInt(o);
c.push("5人场");
switch (a) {
case "28g":
c.push("二八杠");
}
s = a ? 1 : 0;
if ("5" == this.qieguo.string) {
e = 1;
c.push("5倍强制切锅");
} else if ("8" == this.qieguo.string) {
e = 2;
c.push("8倍强制切锅");
}
switch (t) {
case "shaizi":
c.push("自动摇骰子");
}
switch (n) {
case "1":
c.push("防作弊");
}
var h = 0;
t && (h = 1);
return {
name: "ttz_1401",
title: "加锅推饼子",
desc: c,
ju: i,
cond: s,
guo: o,
fengding: e,
ren: "5ren",
auto: h,
fangzuobi: n
};
}
});
cc._RF.pop();
}, {} ],
ttz_1402_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "07b2aM/4j1H1JY8xxuKEgL5", "ttz_1402_config");
cc.Class({
extends: cc.Component,
properties: {
_view: null
},
onLoad: function() {
this.limit_index = 4;
this.limitQZ = this.node.getChildByName("limitQZ").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label);
this.limitQZArr = [ "0", "50", "100", "200", "300", "400", "500", "600", "700", "800", "900", "1000" ];
this.is_limit_QZ = !0;
this.loadSaveConfig();
},
loadSaveConfig: function() {
this.auto_ready_list = [ "手动", "满2", "满3", "满4", "满5" ];
var e = cc.sys.localStorage.getItem("last_game_ttz_1402");
if (e) {
var i, t = JSON.parse(e);
switch (t.ju) {
case "10ju":
t.ju = "8ju";
break;

case "20ju":
t.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), t.zhuang);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("yaoshaizi"), t.auto, 1);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("wanfa"), t.cond, 1);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
t.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), t.overflow);
"qiang" != t.zhuang || "lunliu" != t.zhuang || "lun" != t.zhuang ? this.is_limit_QZ = !1 : this.is_limit_QZ = !0;
if (t.limitQZ) {
this.limitQZ.string = t.limitQZ;
for (var a = 0; a < this.limitQZArr.length; a++) this.limitQZ.string == this.limitQZArr[a] && (this.limit_index = a);
}
0 == t.rule ? cc.vv.utils.setToggleChecked(this.node.getChildByName("rule"), t.rule, 0) : cc.vv.utils.setToggleChecked(this.node.getChildByName("rule"), t.rule, 1);
null != t.start_mode ? 0 != t.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != t.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), t.join);
null != t.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != t.tuoGuan) {
0 == t.tuoGuan ? i = "不限" : 1 == t.tuoGuan ? i = "15" : 2 == t.tuoGuan ? i = "20" : 3 == t.tuoGuan ? i = "30" : 4 == t.tuoGuan ? i = "60" : 5 == t.tuoGuan ? i = "120" : 6 == t.tuoGuan ? i = "5" : 7 == t.tuoGuan && (i = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = i;
}
var n = new cc.Event.EventCustom("click", !0);
n.node = this.node.getChildByName("ren").getChildByName(t.ren);
this.onBtnRen(n);
}
},
loadSaveConfig2: function(e) {
this.auto_ready_list = [ "手动", "满2", "满3", "满4", "满5" ];
var i, t = e.conf;
switch (t.ju) {
case "10ju":
t.ju = "8ju";
break;

case "20ju":
t.ju = "16ju";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), t.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), t.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), t.zhuang);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("yaoshaizi"), t.auto);
cc.vv.utils.setToggleChecked2(this.node.getChildByName("wanfa"), t.cond);
cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), t.fangzuobi);
t.overflow && cc.vv.utils.setToggleChecked(this.node.getChildByName("overflow"), t.overflow);
"qiang" != t.zhuang || "lunliu" != t.zhuang || "lun" != t.zhuang ? this.is_limit_QZ = !1 : this.is_limit_QZ = !0;
if (t.limitQZ) {
this.limitQZ.string = t.limitQZ;
for (var a = 0; a < this.limitQZArr.length; a++) this.limitQZ.string == this.limitQZArr[a] && (this.limit_index = a);
}
0 == t.rule ? cc.vv.utils.setToggleChecked(this.node.getChildByName("rule"), t.rule, 0) : cc.vv.utils.setToggleChecked(this.node.getChildByName("rule"), t.rule, 1);
null != t.start_mode ? 0 != t.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[t.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
null != t.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), t.join);
null != t.dizhu ? this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t.dizhu : this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = "1";
if (null != t.tuoGuan) {
0 == t.tuoGuan ? i = "不限" : 1 == t.tuoGuan ? i = "15" : 2 == t.tuoGuan ? i = "20" : 3 == t.tuoGuan ? i = "30" : 4 == t.tuoGuan ? i = "60" : 5 == t.tuoGuan ? i = "120" : 6 == t.tuoGuan ? i = "5" : 7 == t.tuoGuan && (i = "10");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = i;
}
var n = new cc.Event.EventCustom("click", !0);
n.node = this.node.getChildByName("ren").getChildByName(t.ren);
this.onBtnRen(n);
},
onBtnClick_limit: function(e, i) {
if (this.is_limit_QZ) {
switch (e.target.name) {
case "add":
this.limit_index += 1;
var t = this.limitQZArr.length, a = this.limitQZArr[this.limit_index % t];
this.limitQZ.string = a;
break;

case "sub":
t = this.limitQZArr.length;
this.limit_index -= 1;
this.limit_index < 0 && (this.limit_index += t);
a = this.limitQZArr[this.limit_index % t];
this.limitQZ.string = a;
}
}
},
not_limitQZ: function(e, i) {
switch (e.target.name) {
case "lunliu":
case "lun":
case "qiang":
this.is_limit_QZ = !0;
break;

case "fangzhu":
case "niuniu":
this.limit_index = 0;
var t = this.limitQZArr[this.limit_index];
this.limitQZ.string = t;
this.is_limit_QZ = !1;
}
},
difenupd: function(e, i) {
var t = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string);
"0" == i ? t <= 10 && t > 1 ? t-- : 20 == t ? t = 10 : 50 == t ? t = 20 : t <= 1 && (t = 10) : "1" == i && (t < 10 && t >= 1 ? t++ : t >= 10 ? t = 1 : 20 == t ? t = 50 : 50 == t && (t = 1));
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = t;
},
btn_tuoguan_click_event: function(e, i) {
var t = this.node.getChildByName("tuoguan").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "5" == a ? a = "10" : "10" == a ? a = "15" : "15" == a ? a = "20" : "20" == a ? a = "30" : "30" == a ? a = "60" : "60" == a ? a = "120" : "120" == a ? a = "不限" : "不限" == a && (a = "5") : "0" == i && ("5" == a ? a = "不限" : "10" == a ? a = "5" : "15" == a ? a = "10" : "20" == a ? a = "15" : "30" == a ? a = "20" : "60" == a ? a = "30" : "120" == a ? a = "60" : "不限" == a && (a = "120"));
t.getComponent(cc.Label).string = a;
},
onBtnRen: function(e) {
if (null != e.node) {
switch (e.node.name) {
case "6ren":
!1;
}
}
},
btn_auto_ready: function(e, i) {
for (var t = this.auto_ready_list, a = this.node.getChildByName("autoready").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
Config: function() {
for (var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("zhuang")), t = (cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), 
cc.vv.utils.toggleChecked(this.node.getChildByName("yaoshaizi"))), a = cc.vv.utils.toggleChecked(this.node.getChildByName("join")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("wanfa")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("rule")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), o = this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string, h = parseInt(this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string), r = cc.vv.utils.toggleChecked(this.node.getChildByName("overflow")), l = 0, d = this.auto_ready_list, g = this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string, u = 0, _ = 0; _ < d.length; _++) if (d[_] == g) {
u = _;
break;
}
var v = [];
v.push("底分" + h);
switch (e) {
case "10ju":
v.push("10局");
break;

case "20ju":
v.push("20局");
}
v.push("5人场");
switch (n) {
case "28g":
v.push("二八杠");
}
l = n ? 1 : 0;
switch (i) {
case "qiang":
v.push("抢庄");
break;

case "lun":
v.push("轮庄");
break;

case "fangzhu":
v.push("霸王庄");
}
switch (t) {
case "shaizi":
v.push("自动摇骰子");
}
switch (c) {
case "1":
v.push("防作弊");
}
var p = 0;
t && (p = 1);
o && "不限" != o && v.push(o + "秒下注");
switch (a) {
case "yes":
v.push("中途加入");
break;

default:
a = "";
}
var m, f = u + 1;
1 == f && (f = 0);
0 == u ? v.push("手动开局") : v.push("满" + f + "人自动开局");
if ("0" == s) {
v.push("同点数比点");
s = 0;
} else {
v.push("同点数庄大");
s = 1;
}
"0" != this.limitQZ.string && v.push("低于" + this.limitQZ.string + "不能抢庄");
m = 15 == o ? 1 : 20 == o ? 2 : 30 == o ? 3 : 60 == o ? 4 : 120 == o ? 5 : 5 == o ? 6 : 10 == o ? 7 : 0;
"1" == r && v.push("不可负分");
return {
name: "ttz_1402",
title: "推筒子",
desc: v,
ju: e,
cond: l,
dizhu: h,
start_mode: f,
tuoGuan: m,
ren: "5ren",
zhuang: i,
auto: p,
join: a,
rule: s,
limitQZ: this.limitQZ.string,
overflow: r,
fangzuobi: c
};
}
});
cc._RF.pop();
}, {} ],
watch_list_view: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "26854o56HFOMrSSMSbnciQB", "watch_list_view");
cc.Class({
extends: cc.Component,
properties: {
watch_item: cc.Prefab
},
start: function() {},
show_list: function(e) {
if (cc.vv.roomMgr.guanzhan_table) {
var i = this.node.getChildByName("view").getChildByName("content");
i.removeAllChildren();
for (var t = !0, a = 0; a < e.length; a++) if (0 != e[a].userid) {
1 == t && (t = !1);
var n = cc.instantiate(this.watch_item);
n.getChildByName("head").getComponent(cc.Sprite).spriteFrame = n.getChildByName("head").getComponent("ImageLoader").loadImg(e[a].headimg);
n.getChildByName("name").getComponent(cc.Label).string = cc.vv.utils.cutString(e[a].nickname, 6);
n.getChildByName("id").getComponent(cc.Label).string = "ID: " + e[a].userid;
i.addChild(n);
}
this.node.getChildByName("tips").active = t;
}
},
onBtnClicked: function(e, i) {
switch (e.target.name) {
case "Mask":
this.node.active = !1;
}
}
});
cc._RF.pop();
}, {} ],
yaoshaizi: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "414edaHLjdL1IHE8OUjS2fw", "yaoshaizi");
cc.Class({
extends: cc.Component,
properties: {
nodeShaizi1: cc.Node,
nodeShaizi2: cc.Node,
shaiziAnimation: cc.Node,
shaiziAtlas: {
default: null,
type: cc.SpriteAtlas
}
},
onLoad: function() {
this.shaiziSprite1 = this.nodeShaizi1.getComponent(cc.Sprite);
this.shaiziSprite2 = this.nodeShaizi2.getComponent(cc.Sprite);
this.animation = this.shaiziAnimation.getComponent(cc.Animation);
},
start: function() {
var e = this;
this.animation.on("finished", function() {
e.nodeShaizi1.active = !0;
e.nodeShaizi2.active = !0;
e.shaiziAnimation.active = !1;
});
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("yaoshaizi", function(i) {
i = i.data;
e.node.active = !0;
e.shaiziAnimation.active = !0;
e.nodeShaizi1.active = !1;
e.nodeShaizi2.active = !1;
var t = i.num1, a = i.num2;
e.shaiziSprite1.spriteFrame = e.shaiziAtlas.getSpriteFrame("sezi_value" + t);
e.shaiziSprite2.spriteFrame = e.shaiziAtlas.getSpriteFrame("sezi_value" + a);
e.animation.play("shaizi");
});
this.node.on("hideshaizi", function() {
e.shaiziAnimation.active = !1;
e.nodeShaizi1.active = !1;
e.nodeShaizi2.active = !1;
});
}
});
cc._RF.pop();
}, {} ],
ysz_2300_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "fd5bfjyZkFHf5dKsljKc1F6", "ysz_2300_config");
cc.Class({
extends: cc.Component,
properties: {
dou1: cc.Label,
dou2: cc.Label,
dou3: cc.Label,
fangzuobiNode: cc.Node
},
onLoad: function() {
this.loadSaveConfig();
this.waibuy_time = [ "120", "180", "300", "480", "600", "1200" ];
this.baozi_score = [ "0", "10", "20", "30", "40", "50", "60", "70", "80", "90", "100" ];
this.toujiabimanNumber = [ "1", "2", "3", "4", "5" ];
this.toujiabimanNumberFengkuang = [ "1", "2", "3", "4", "5", "8", "10" ];
},
wenhao_tips: function(e, i) {
switch (e.target.name) {
case "yszfengkuangjiabei":
cc.vv.popMgr.alert("疯狂加倍：加注功能添加8倍底分与10倍底分");
}
},
loadSaveConfig: function() {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6", "满7", "满8" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4", "满5" ];
this.auto_ready_list = this.auto_ready_list_5;
var e = cc.sys.localStorage.getItem("last_game_ysz_2300");
if (e) {
var i, t, a = JSON.parse(e);
switch (a.ju) {
case "10":
a.ju = "8";
break;

case "20":
a.ju = "16";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), a.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), a.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("minPai"), a.minPai);
cc.vv.utils.setToggleChecked(this.fangzuobiNode, a.fangzuobi);
a.sCompareT && cc.vv.utils.setToggleChecked(this.node.getChildByName("sCompareT"), a.sCompareT);
this.node.getChildByName("dizhu").getChildByName("num").getComponent(cc.Label).string = a.dizhu;
"30" == a.maxLun && a.maxLun;
"0" == a.maxfen && (a.maxfen = "不限");
a.waitbuy && (this.node.getChildByName("waitbuy").getChildByName("num").getComponent(cc.Label).string = a.waitbuy);
a.baozi && (this.node.getChildByName("baozi").getChildByName("num").getComponent(cc.Label).string = a.baozi);
this.node.getChildByName("maxLun").getChildByName("num").getComponent(cc.Label).string = a.maxLun;
this.node.getChildByName("biLun").getChildByName("num").getComponent(cc.Label).string = a.biLun;
this.node.getChildByName("anLun").getChildByName("num").getComponent(cc.Label).string = a.anLun;
1 == a.showWin ? cc.vv.utils.setToggleChecked(this.node.getChildByName("showWin"), a.showWin, 1) : cc.vv.utils.setToggleChecked(this.node.getChildByName("showWin"), a.showWin, 0);
a.maxfen && (this.node.getChildByName("maxfen").getChildByName("num").getComponent(cc.Label).string = a.maxfen);
a.MinKeep && cc.vv.utils.setToggleChecked(this.node.getChildByName("MinKeep"), a.MinKeep);
"5ren" == a.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != a.start_mode ? 0 != a.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[a.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[a.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
a.bipower ? this.node.getChildByName("bipower").getChildByName("num").getComponent(cc.Label).string = a.bipower : this.node.getChildByName("bipower").getChildByName("num").getComponent(cc.Label).string = "4";
a.fengKuang && cc.vv.utils.setToggleChecked(this.node.getChildByName("fengKuang"), a.fengKuang);
null != a.tuoGuan ? 0 == a.tuoGuan ? i = "不限" : 1 == a.tuoGuan ? i = "15" : 2 == a.tuoGuan ? i = "20" : 3 == a.tuoGuan ? i = "30" : 4 == a.tuoGuan ? i = "60" : 5 == a.tuoGuan && (i = "120") : i = "不限";
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = i;
t = 1 == a.Birule;
a.jiaZhu && cc.vv.utils.setToggleChecked(this.node.getChildByName("toujiabiman"), a.jiaZhu);
a.beishu && (this.node.getChildByName("toujiabimanNumber").getChildByName("num").getComponent(cc.Label).string = a.beishu);
cc.vv.utils.setToggleChecked(this.node.getChildByName("Birule"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baozi"), a.baozi);
var n = new cc.Event.EventCustom("click", !0);
this.onBtnYa(n, a.ya);
null != a.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), a.join);
}
},
loadSaveConfig2: function(e) {
this.auto_ready_list = [];
this.auto_ready_list_10 = [ "手动", "满2", "满3", "满4", "满5", "满6", "满7", "满8" ];
this.auto_ready_list_5 = [ "手动", "满2", "满3", "满4", "满5" ];
this.auto_ready_list = this.auto_ready_list_5;
var i, t, a = e.conf;
switch (a.ju) {
case "10":
a.ju = "8";
break;

case "20":
a.ju = "16";
}
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), a.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ren"), a.ren);
cc.vv.utils.setToggleChecked(this.node.getChildByName("minPai"), a.minPai);
cc.vv.utils.setToggleChecked(this.fangzuobiNode, a.fangzuobi);
a.sCompareT && cc.vv.utils.setToggleChecked(this.node.getChildByName("sCompareT"), a.sCompareT);
this.node.getChildByName("dizhu").getChildByName("num").getComponent(cc.Label).string = a.dizhu;
"30" == a.maxLun && a.maxLun;
1 == a.showWin ? cc.vv.utils.setToggleChecked(this.node.getChildByName("showWin"), a.showWin, 1) : cc.vv.utils.setToggleChecked(this.node.getChildByName("showWin"), a.showWin, 0);
a.waitbuy && (this.node.getChildByName("waitbuy").getChildByName("num").getComponent(cc.Label).string = a.waitbuy);
a.baozi && (this.node.getChildByName("baozi").getChildByName("num").getComponent(cc.Label).string = a.baozi);
this.node.getChildByName("maxLun").getChildByName("num").getComponent(cc.Label).string = a.maxLun;
this.node.getChildByName("biLun").getChildByName("num").getComponent(cc.Label).string = a.biLun;
this.node.getChildByName("anLun").getChildByName("num").getComponent(cc.Label).string = a.anLun;
this.node.getChildByName("bipower").getChildByName("num").getComponent(cc.Label).string = a.bipower;
"5ren" == a.ren ? this.auto_ready_list = this.auto_ready_list_5 : this.auto_ready_list = this.auto_ready_list_10;
null != a.start_mode ? 0 != a.start_mode ? this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[a.start_mode - 1] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[a.start_mode] : this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string = this.auto_ready_list[0];
a.fengKuang && cc.vv.utils.setToggleChecked(this.node.getChildByName("fengKuang"), a.fengKuang);
a.MinKeep && cc.vv.utils.setToggleChecked(this.node.getChildByName("MinKeep"), a.MinKeep);
null != a.tuoGuan ? 0 == a.tuoGuan ? i = "无限" : 1 == a.tuoGuan ? i = "15" : 2 == a.tuoGuan ? i = "20" : 3 == a.tuoGuan ? i = "30" : 4 == a.tuoGuan ? i = "60" : 5 == a.tuoGuan && (i = "120") : i = "无限";
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = i;
t = 1 == a.Birule;
a.jiaZhu && cc.vv.utils.setToggleChecked(this.node.getChildByName("toujiabiman"), a.jiaZhu);
cc.vv.utils.setToggleChecked(this.node.getChildByName("Birule"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("baozi"), a.baozi);
null != a.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), a.join);
var n = new cc.Event.EventCustom("click", !0);
this.onBtnYa(n, a.ya);
},
onBtnYa: function(e, i) {
switch (cc.vv.utils.toggleChecked(this.node.getChildByName("ren"))) {
case "5ren":
this.dou1.string = "3";
this.dou2.string = "5";
this.dou3.string = "4";
for (var t = this.auto_ready_list, a = this.node.getChildByName("autoready").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
s >= 5 && (s = 4);
a.getComponent(cc.Label).string = t[s];
this.auto_ready_list = this.auto_ready_list_5;
break;

case "8ren":
this.dou1.string = "4";
this.dou2.string = "7";
this.dou3.string = "5";
this.auto_ready_list = this.auto_ready_list_10;
}
if (null != e.node) {
switch (e.node.name) {
case "guding":
!0;
}
}
},
btn_dizhu_click_event: function(e, i) {
var t = this.node.getChildByName("dizhu").getChildByName("num"), a = parseInt(t.getComponent(cc.Label).string);
"0" == i ? a <= 10 && a > 1 ? a-- : 20 == a ? a = 10 : 50 == a ? a = 20 : a <= 1 ? a = 10 : 100 == a && (a = 50) : "1" == i && (a < 10 && a >= 1 ? a++ : a >= 10 ? a = 1 : 20 == a ? a = 50 : 50 == a ? a = 100 : 100 == a && (a = 1));
t.getComponent(cc.Label).string = a;
},
btn_bilun_click_event: function(e, i) {
var t = this.node.getChildByName("biLun").getChildByName("num"), a = parseInt(t.getComponent(cc.Label).string);
"1" == i ? a >= 3 ? a = 0 : a++ : "0" == i && (a <= 0 ? a = 3 : a--);
t.getComponent(cc.Label).string = a;
},
btn_anLun_click_event: function(e, i) {
var t = this.node.getChildByName("anLun").getChildByName("num"), a = parseInt(t.getComponent(cc.Label).string);
"1" == i ? 0 == a ? a = 1 : 1 == a ? a = 3 : 3 == a ? a = 5 : 5 == a && (a = 0) : "0" == i && (0 == a ? a = 5 : 1 == a ? a = 0 : 3 == a ? a = 1 : 5 == a && (a = 3));
t.getComponent(cc.Label).string = a;
},
btn_maxLun_click_event: function(e, i) {
var t = this.node.getChildByName("maxLun").getChildByName("num"), a = parseInt(t.getComponent(cc.Label).string);
"1" == i ? 5 == a ? a = 10 : 10 == a ? a = 15 : 15 == a ? a = 20 : 20 == a && (a = 5) : "0" == i && (5 == a ? a = 20 : 10 == a ? a = 5 : 15 == a ? a = 10 : 20 == a && (a = 15));
t.getComponent(cc.Label).string = a;
},
btn_tuoguan_click_event: function(e, i) {
var t = this.node.getChildByName("tuoguan").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "15" == a ? a = "20" : "20" == a ? a = "30" : "30" == a ? a = "60" : "60" == a ? a = "120" : "120" == a ? a = "不限" : "不限" != a && "无限" != a || (a = "15") : "0" == i && ("15" == a ? a = "不限" : "20" == a ? a = "15" : "30" == a ? a = "20" : "60" == a ? a = "30" : "120" == a ? a = "60" : "不限" != a && "无限" != a || (a = "120"));
t.getComponent(cc.Label).string = a;
},
btn_maxfen_click_event: function(e, i) {
var t = this.node.getChildByName("maxfen").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "200" == a ? a = "300" : "300" == a ? a = "500" : "500" == a ? a = "800" : "800" == a ? a = "1000" : "1000" == a ? a = "不限" : "不限" == a && (a = "200") : "0" == i && ("不限" == a ? a = "1000" : "1000" == a ? a = "800" : "800" == a ? a = "500" : "500" == a ? a = "300" : "300" == a ? a = "200" : "200" == a && (a = "不限"));
t.getComponent(cc.Label).string = a;
},
btn_bipower_click_event: function(e, i) {
var t = this.node.getChildByName("bipower").getChildByName("num"), a = parseInt(t.getComponent(cc.Label).string);
a = 2 == a ? 4 : 2;
t.getComponent(cc.Label).string = a;
},
btn_auto_ready: function(e, i) {
for (var t = this.auto_ready_list, a = this.node.getChildByName("autoready").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
waibuytime: function(e, i) {
for (var t = this.waibuy_time, a = this.node.getChildByName("waitbuy").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
baozi_list: function(e, i) {
for (var t = this.baozi_score, a = this.node.getChildByName("baozi").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
btn_shoujiabimenAdd: function(e, i) {
var t = this.toujiabimanNumber;
if (1 == cc.vv.utils.toggleChecked(this.node.getChildByName("fengKuang"))) t = this.toujiabimanNumberFengkuang;
for (var a = this.node.getChildByName("toujiabimanNumber").getChildByName("num"), n = a.getComponent(cc.Label).string, s = 0, c = 0; c < t.length; c++) if (t[c] == n) {
s = c;
break;
}
"1" == i ? ++s >= t.length && (s = 0) : --s < 0 && (s = t.length - 1);
a.getComponent(cc.Label).string = t[s];
},
btn_fengkuang: function() {
if (1 != cc.vv.utils.toggleChecked(this.node.getChildByName("fengKuang"))) {
this.node.getChildByName("toujiabimanNumber").getChildByName("num").getComponent(cc.Label).string = "1";
}
},
Config: function(e) {
for (var i = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("ren")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("maxLun")), n = cc.vv.utils.toggleChecked(this.node.getChildByName("biLun")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("anLun")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("dizhu")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("tuoguan")), h = cc.vv.utils.toggleChecked(this.node.getChildByName("join")), r = cc.vv.utils.toggleChecked(this.node.getChildByName("minPai")), l = cc.vv.utils.toggleChecked(this.node.getChildByName("sCompareT")), d = cc.vv.utils.toggleChecked(this.node.getChildByName("fengKuang")), g = cc.vv.utils.toggleChecked(this.node.getChildByName("MinKeep")), u = cc.vv.utils.toggleChecked(this.node.getChildByName("showWin")), _ = cc.vv.utils.toggleChecked(this.fangzuobiNode), v = this.node.getChildByName("Birule").getChildByName("1").getComponent(cc.Toggle).isChecked, p = [], m = (c = this.node.getChildByName("dizhu").getChildByName("num").getComponent(cc.Label).string, 
n = this.node.getChildByName("biLun").getChildByName("num").getComponent(cc.Label).string, 
s = this.node.getChildByName("anLun").getChildByName("num").getComponent(cc.Label).string, 
a = this.node.getChildByName("maxLun").getChildByName("num").getComponent(cc.Label).string, 
o = this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string, 
this.node.getChildByName("bipower").getChildByName("num").getComponent(cc.Label).string), f = this.node.getChildByName("maxfen").getChildByName("num").getComponent(cc.Label).string, y = this.node.getChildByName("waitbuy").getChildByName("num").getComponent(cc.Label).string, C = this.node.getChildByName("baozi").getChildByName("num").getComponent(cc.Label).string, b = this.auto_ready_list, w = this.node.getChildByName("autoready").getChildByName("num").getComponent(cc.Label).string, x = cc.vv.utils.toggleChecked(this.node.getChildByName("toujiabiman")), z = this.node.getChildByName("toujiabimanNumber").getChildByName("num").getComponent(cc.Label).string, k = 0, M = 0; M < b.length; M++) if (b[M] == w) {
k = M;
break;
}
t;
switch (i) {
case "8":
p.push("8局");
break;

case "12":
p.push("12局");
break;

case "16":
p.push("16局");
}
c && p.push("底注" + c + "分");
n && p.push(n + "轮比牌");
s && p.push(s + "轮闷牌");
a && p.push(a + "轮开牌");
!o || "无限" == o && "不限" == o || p.push(o + "秒弃牌");
v && p.push("比牌限制");
m && p.push("已看牌比牌" + m + "倍");
0 != (C = parseFloat(C)) && p.push("豹子奖励" + C + "分");
switch (h) {
case "yes":
p.push("中途加入");
break;

default:
h = "";
}
switch (d) {
case "1":
p.push("疯狂加倍");
}
switch (x) {
case "1":
p.push("首家必满");
p.push("首轮倍数" + z + "倍");
break;

default:
z = "1";
}
switch (_) {
case "1":
p.push("防作弊");
}
"0" == r && p.push("235不吃豹子");
var j, N = k + 1;
1 == N && (N = 0);
0 == k ? p.push("手动开局") : p.push("满" + N + "人自动开局");
1 == l && p.push("顺子大过金花");
1 != l && (l = 0);
j = 15 == o ? 1 : 20 == o ? 2 : 30 == o ? 3 : 60 == o ? 4 : 120 == o ? 5 : 0;
"不限" == f ? f = "0" : p.push(f + "分封顶");
1 == g && p.push("123最小");
(y = parseFloat(y)) >= 60 ? p.push("加胜点等待" + y / 60 + "分") : p.push("加胜点等待" + y + "秒");
1 == u && p.push("赢家不翻牌");
return {
name: "ysz_2300",
title: "欢乐斗",
desc: p,
ju: i,
minPai: r,
sCompareT: l,
ren: t,
maxLun: a,
start_mode: N,
biLun: n,
bipower: m,
anLun: s,
baozi: C,
dizhu: c,
Birule: 1 == v ? 1 : 0,
tuoGuan: j,
join: h,
fengKuang: d,
maxfen: f,
MinKeep: g,
waitbuy: y,
showWin: u,
jiaZhu: x,
beishu: z,
fangzuobi: _
};
}
});
cc._RF.pop();
}, {} ],
ysz_ReportItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "b939dsjA01O+6uyFeqe695D", "ysz_ReportItem");
cc.Class({
extends: cc.Component,
properties: {
nodeDayingjia: cc.Node,
nodeDatuhao: cc.Node,
lblName: cc.Label,
lblId: cc.Label,
spriteFlg: cc.Sprite,
spriteHeadimg: cc.Sprite,
lblScore: cc.Label,
checkmark: cc.Node,
sing_max_score: cc.Label,
max_card_type: cc.Label,
sj_count: cc.Label,
bz_count: cc.Label,
win_lost_count: cc.Label,
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
reportAtlas: {
default: null,
type: cc.SpriteAtlas
}
},
fonty: function() {
this.node.getChildByName("score").y = this.node.getChildByName("score").y + 10;
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("info", function(i) {
e.nodeDayingjia.active = i.dayingjia;
e.nodeDatuhao.active = i.datuhao;
e.checkmark.active = i.userid == cc.vv.userMgr.userid;
e.lblName.string = i.name;
e.lblId.string = "ID:" + i.userid;
e.sing_max_score.string = i.sing_max_score;
e.max_card_type.string = i.max_card_type;
e.sj_count.string = i.sj_count;
e.bz_count.string = i.bz_count;
e.win_lost_count.string = i.win_lost_count;
e.spriteHeadimg.getComponent("ImageLoader").loadImg(i.headimg);
if (i.score > 0) {
e.lblScore.font = e.winFont;
e.lblScore.string = "+" + i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
e.fonty();
} else if (i.score < 0) {
e.lblScore.font = e.lostFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_lose");
} else {
e.lblScore.font = e.winFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
}
});
}
});
cc._RF.pop();
}, {} ],
zgz_3300_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "63a72j+vopKfqVK7JKb94Zs", "zgz_3300_config");
cc.Class({
extends: cc.Component,
properties: {
dou1: cc.Label,
dou2: cc.Label,
difen: cc.Label
},
onLoad: function() {
this.index = 0;
this.difenArr = [ "1", "2", "3", "4", "5" ];
this.loadSaveConfig();
},
wenhao_tips: function(e, i) {
switch (e.target.name) {
case "threeredtip":
cc.vv.popMgr.alert("捉红三：方三必亮，红三可选亮或不亮");
}
},
formateData: function(e) {
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), e.ju);
e.sanHong && cc.vv.utils.setToggleChecked(this.node.getChildByName("sanhong"), e.sanHong);
e.fangzuobi && cc.vv.utils.setToggleChecked(this.node.getChildByName("fangzuobi"), e.fangzuobi);
if (null != e.difen) {
this.difen.string = e.difen;
for (var i = 0; i < this.difenArr.length; i++) e.difen == this.difenArr[i] && (this.index = i);
} else this.difen.string = "1";
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_zgz_2300");
if (e) {
var i = JSON.parse(e);
this.formateData(i);
}
},
loadSaveConfig2: function(e) {
var i = e.conf;
this.formateData(i);
},
Config: function() {
var e = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), i = cc.vv.utils.toggleChecked(this.node.getChildByName("sanhong")), t = cc.vv.utils.toggleChecked(this.node.getChildByName("fangzuobi")), a = [];
switch (e) {
case "8":
a.push("8局");
break;

case "12":
a.push("12局");
break;

case "16":
a.push("16局");
}
switch (i) {
case "1":
a.push("捉三红");
}
switch (t) {
case "1":
a.push("防作弊");
}
a.push("底分" + this.difen.string);
return {
name: "zgz_3300",
title: "扎股子",
desc: a,
ju: e,
ren: "5ren",
difen: this.difen.string,
sanHong: i || 0,
fangzuobi: t
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.difen.string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.difen.string = a;
}
}
});
cc._RF.pop();
}, {} ],
zgz_ReportItem: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "cf2f4AxEnVKv6KGsQB2WuOx", "zgz_ReportItem");
cc.Class({
extends: cc.Component,
properties: {
nodeDayingjia: cc.Node,
nodeDatuhao: cc.Node,
lblName: cc.Label,
lblId: cc.Label,
spriteFlg: cc.Sprite,
spriteHeadimg: cc.Sprite,
lblScore: cc.Label,
checkmark: cc.Node,
winFont: {
default: null,
type: cc.Font
},
lostFont: {
default: null,
type: cc.Font
},
reportAtlas: {
default: null,
type: cc.SpriteAtlas
}
},
fonty: function() {
this.node.getChildByName("score").y = this.node.getChildByName("score").y + 10;
},
onLoad: function() {
this.initEventHandlers();
},
initEventHandlers: function() {
var e = this;
this.node.on("info", function(i) {
e.nodeDayingjia.active = i.dayingjia;
e.nodeDatuhao.active = i.datuhao;
e.checkmark.active = i.userid == cc.vv.userMgr.userid;
e.lblName.string = i.name;
e.lblId.string = "ID:" + i.userid;
e.spriteHeadimg.getComponent("ImageLoader").loadImg(i.headimg);
if (i.score > 0) {
e.lblScore.font = e.winFont;
e.lblScore.string = "+" + i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
e.fonty();
} else if (i.score < 0) {
e.lblScore.font = e.lostFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_lose");
} else {
e.lblScore.font = e.winFont;
e.lblScore.string = i.score;
e.spriteFlg.spriteFrame = e.reportAtlas.getSpriteFrame("img_win");
}
});
}
});
cc._RF.pop();
}, {} ],
zpj_2800_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "4d8f57DS51EWKL8fsBm5fyr", "zpj_2800_config");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.init();
},
init: function() {
this.indexfeng = 0;
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.gudingfenArr = [ "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_zpj_2800");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("dao"), i.dao);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), i.zhuang);
var t = "guding";
0 == i.Gdfen && (t = "xuan");
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhadan"), i.typeZd);
cc.vv.utils.setToggleChecked(this.node.getChildByName("dijiuniangniang"), i.typeDj);
cc.vv.utils.setToggleChecked(this.node.getChildByName("guizi"), i.typeGz);
cc.vv.utils.setToggleChecked(this.node.getChildByName("tianwangjiu"), i.typeTj);
cc.vv.utils.setToggleChecked(this.node.getChildByName("auto"), i.auto);
var a = "不限";
if (null != i.tuoGuan) {
0 == i.tuoGuan ? a = "不限" : 1 == i.tuoGuan ? a = "15" : 2 == i.tuoGuan ? a = "20" : 3 == i.tuoGuan ? a = "30" : 4 == i.tuoGuan ? a = "60" : 5 == i.tuoGuan && (a = "120");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = a;
}
var n = "不亮";
if (null != i.mingpai) {
"0" == i.mingpai ? n = "不亮" : "1" == i.mingpai ? n = "1" : "2" == i.mingpai ? n = "2" : "3" == i.mingpai && (n = "3");
this.node.getChildByName("wanfa").getChildByName("num").getComponent(cc.Label).string = n;
}
this.onBtnYa();
if (null != i.Gdfen && 0 != i.Gdfen) {
var s = i.Gdfen;
cc.vv.utils.setToggleChecked(this.node.getChildByName("feng"), s);
for (var c = 0; c < this.gudingfenArr.length; c++) s == this.gudingfenArr[h] && (this.indexfeng = c);
}
null != i.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), i.join);
new cc.Event.EventCustom("click", !0).node = this.node.getChildByName("ya").getChildByName(t);
if (i.difen) {
var o = i.difen;
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string;
for (var h = 0; h < this.difenArr.length; h++) o == this.difenArr[h] && (this.index = h);
}
}
},
loadSaveConfig2: function(e) {
this.init();
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("dao"), i.dao);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), i.zhuang);
var t = "guding";
0 == i.Gdfen && (t = "xuan");
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), i.ya);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhadan"), i.typeZd);
cc.vv.utils.setToggleChecked(this.node.getChildByName("dijiuniangniang"), i.typeDj);
cc.vv.utils.setToggleChecked(this.node.getChildByName("guizi"), i.typeGz);
cc.vv.utils.setToggleChecked(this.node.getChildByName("tianwangjiu"), i.typeTj);
cc.vv.utils.setToggleChecked(this.node.getChildByName("auto"), i.auto);
var a = "不限";
if (null != i.tuoGuan) {
0 == i.tuoGuan ? a = "不限" : 1 == i.tuoGuan ? a = "15" : 2 == i.tuoGuan ? a = "20" : 3 == i.tuoGuan ? a = "30" : 4 == i.tuoGuan ? a = "60" : 5 == i.tuoGuan && (a = "120");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = a;
}
var n = "不亮";
if (null != i.wanfa) {
"0" == i.wanfa ? n = "不亮" : "1" == i.wanfa ? n = "1" : "2" == i.wanfa ? n = "2" : "3" == i.wanfa && (n = "3");
this.node.getChildByName("wanfa").getChildByName("num").getComponent(cc.Label).string = n;
}
this.onBtnYa();
if (null != i.Gdfen && 0 != i.Gdfen) {
var s = i.Gdfen;
cc.vv.utils.setToggleChecked(this.node.getChildByName("feng"), s);
for (var c = 0; c < this.gudingfenArr.length; c++) s == this.gudingfenArr[h] && (this.indexfeng = c);
}
null != i.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), i.join);
new cc.Event.EventCustom("click", !0).node = this.node.getChildByName("ya").getChildByName(t);
if (i.difen) {
var o = i.difen;
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = o;
for (var h = 0; h < this.difenArr.length; h++) o == this.difenArr[h] && (this.index = h);
}
},
onBtnYa: function() {
var e = !1;
switch (cc.vv.utils.toggleChecked(this.node.getChildByName("ya"))) {
case "guding":
e = !0;
}
this.node.getChildByName("feng").active = e;
},
btn_tuoguan_click_event: function(e, i) {
var t = this.node.getChildByName("tuoguan").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "15" == a ? a = "20" : "20" == a ? a = "30" : "30" == a ? a = "60" : "60" == a ? a = "120" : "120" == a ? a = "不限" : "不限" == a && (a = "15") : "0" == i && ("15" == a ? a = "不限" : "20" == a ? a = "15" : "30" == a ? a = "20" : "60" == a ? a = "30" : "120" == a ? a = "60" : "不限" == a && (a = "120"));
t.getComponent(cc.Label).string = a;
},
btn_wanfa_click_event: function(e, i) {
var t = this.node.getChildByName("wanfa").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "1" == a ? a = "2" : "2" == a ? a = "3" : "3" == a ? a = "不亮" : "不亮" == a && (a = "1") : "0" == i && ("1" == a ? a = "不亮" : "2" == a ? a = "1" : "3" == a ? a = "2" : "不亮" == a && (a = "3"));
t.getComponent(cc.Label).string = a;
},
btn_gudingfen_click_event: function(e, i) {
switch (e.target.name) {
case "add":
this.indexfeng += 1;
var t = this.gudingfenArr.length, a = this.gudingfenArr[this.indexfeng % t];
this.node.getChildByName("feng").getChildByName("num").getComponent(cc.Label).string = a;
break;

case "sub":
t = this.gudingfenArr.length;
this.indexfeng -= 1;
this.indexfeng < 0 && (this.indexfeng += t);
a = this.gudingfenArr[this.indexfeng % t];
this.node.getChildByName("feng").getChildByName("num").getComponent(cc.Label).string = a;
}
},
Config: function(e) {
var i, t = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), a = cc.vv.utils.toggleChecked(this.node.getChildByName("dao")), n = this.node.getChildByName("wanfa").getChildByName("num").getComponent(cc.Label).string, s = cc.vv.utils.toggleChecked(this.node.getChildByName("zhuang")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("ya")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("feng")), h = cc.vv.utils.toggleChecked(this.node.getChildByName("zhadan")), r = cc.vv.utils.toggleChecked(this.node.getChildByName("dijiuniangniang")), l = cc.vv.utils.toggleChecked(this.node.getChildByName("guizi")), d = cc.vv.utils.toggleChecked(this.node.getChildByName("tianwangjiu")), g = cc.vv.utils.toggleChecked(this.node.getChildByName("join")), u = this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string, _ = cc.vv.utils.toggleChecked(this.node.getChildByName("auto")), v = [], p = this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string;
switch (t) {
case "12ju":
v.push("12局");
break;

default:
v.push("24局");
}
v.push("底分" + p);
u && "不限" != u && v.push(u + "秒下注");
switch (a) {
case "2":
v.push("两道杠");
break;

case "3":
v.push("三道杠");
}
switch (_) {
case "1":
v.push("自动摇色子");
}
switch (s) {
case "qiang":
v.push("抢庄");
break;

case "lun":
v.push("轮庄");
break;

case "fangzhu":
v.push("霸王庄");
}
"xuan" == c && (o = "0");
0 != o && v.push("固定" + o + "分");
switch (h) {
case "1":
v.push("炸弹");
}
switch (r) {
case "1":
v.push("地九娘娘");
}
switch (l) {
case "1":
v.push("鬼子");
}
switch (d) {
case "1":
v.push("天王九");
}
switch (g) {
case "yes":
v.push("中途加入");
break;

default:
g = "";
}
i = 15 == u ? 1 : 20 == u ? 2 : 30 == u ? 3 : 60 == u ? 4 : 120 == u ? 5 : 0;
n && "不亮" != n && v.push("庄家亮" + n + "张");
n && "不亮" == n && (n = "0");
return {
name: "zpj_2800",
title: "骨牌推锅",
desc: v,
ren: "4ren",
ju: t,
dao: a,
mingpai: n,
auto: _,
zhuang: s,
Gdfen: o,
typeZd: h,
typeDj: r,
typeGz: l,
typeTj: d,
tuoGuan: i,
difen: p,
join: g
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = a;
}
}
});
cc._RF.pop();
}, {} ],
zpj_2801_config: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "d3615g0psNOV5b1F8dh5Y1P", "zpj_2801_config");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
this.init();
},
init: function() {
this.indexfeng = 0;
this.index = 9;
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
this.gudingfenArr = [ "1", "2", "3", "4", "5", "10", "20", "50" ];
this.loadSaveConfig();
},
loadSaveConfig: function() {
var e = cc.sys.localStorage.getItem("last_game_zpj_2801");
if (e) {
var i = JSON.parse(e);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), i.zhuang);
var t = "guding";
0 == i.Gdfen && (t = "xuan");
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhadan"), i.typeZd);
cc.vv.utils.setToggleChecked(this.node.getChildByName("dijiuniangniang"), i.typeDj);
cc.vv.utils.setToggleChecked(this.node.getChildByName("guizi"), i.typeGz);
cc.vv.utils.setToggleChecked(this.node.getChildByName("tianwangjiu"), i.typeTj);
cc.vv.utils.setToggleChecked(this.node.getChildByName("auto"), i.auto);
var a = "不限";
if (null != i.tuoGuan) {
0 == i.tuoGuan ? a = "不限" : 1 == i.tuoGuan ? a = "15" : 2 == i.tuoGuan ? a = "20" : 3 == i.tuoGuan ? a = "30" : 4 == i.tuoGuan ? a = "60" : 5 == i.tuoGuan && (a = "120");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = a;
}
var n = "不亮";
if (null != i.mingpai) {
"0" == i.mingpai ? n = "不亮" : "1" == i.mingpai ? n = "1" : "2" == i.mingpai ? n = "2" : "3" == i.mingpai && (n = "3");
this.node.getChildByName("wanfa").getChildByName("num").getComponent(cc.Label).string = n;
}
this.onBtnYa();
if (null != i.Gdfen && 0 != i.Gdfen) {
var s = i.Gdfen;
cc.vv.utils.setToggleChecked(this.node.getChildByName("feng"), s);
for (var c = 0; c < this.gudingfenArr.length; c++) s == this.gudingfenArr[h] && (this.indexfeng = c);
}
null != i.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), i.join);
new cc.Event.EventCustom("click", !0).node = this.node.getChildByName("ya").getChildByName(t);
if (i.difen) {
var o = i.difen;
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string;
for (var h = 0; h < this.difenArr.length; h++) o == this.difenArr[h] && (this.index = h);
}
}
},
loadSaveConfig2: function(e) {
this.init();
this.difenArr = [ "0.1", "0.2", "0.3", "0.4", "0.5", "0.6", "0.7", "0.8", "0.9", "1", "2", "3", "4", "5", "10", "20", "50" ];
var i = e.conf;
cc.vv.utils.setToggleChecked(this.node.getChildByName("ju"), i.ju);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhuang"), i.zhuang);
var t = "guding";
0 == i.Gdfen && (t = "xuan");
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), t);
cc.vv.utils.setToggleChecked(this.node.getChildByName("ya"), i.ya);
cc.vv.utils.setToggleChecked(this.node.getChildByName("zhadan"), i.typeZd);
cc.vv.utils.setToggleChecked(this.node.getChildByName("dijiuniangniang"), i.typeDj);
cc.vv.utils.setToggleChecked(this.node.getChildByName("guizi"), i.typeGz);
cc.vv.utils.setToggleChecked(this.node.getChildByName("tianwangjiu"), i.typeTj);
cc.vv.utils.setToggleChecked(this.node.getChildByName("auto"), i.auto);
var a = "不限";
if (null != i.tuoGuan) {
0 == i.tuoGuan ? a = "不限" : 1 == i.tuoGuan ? a = "15" : 2 == i.tuoGuan ? a = "20" : 3 == i.tuoGuan ? a = "30" : 4 == i.tuoGuan ? a = "60" : 5 == i.tuoGuan && (a = "120");
this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string = a;
}
var n = "不亮";
if (null != i.wanfa) {
"0" == i.wanfa ? n = "不亮" : "1" == i.wanfa ? n = "1" : "2" == i.wanfa ? n = "2" : "3" == i.wanfa && (n = "3");
this.node.getChildByName("wanfa").getChildByName("num").getComponent(cc.Label).string = n;
}
this.onBtnYa();
if (null != i.Gdfen && 0 != i.Gdfen) {
var s = i.Gdfen;
cc.vv.utils.setToggleChecked(this.node.getChildByName("feng"), s);
for (var c = 0; c < this.gudingfenArr.length; c++) s == this.gudingfenArr[h] && (this.indexfeng = c);
}
null != i.join && cc.vv.utils.setToggleChecked(this.node.getChildByName("join"), i.join);
new cc.Event.EventCustom("click", !0).node = this.node.getChildByName("ya").getChildByName(t);
if (i.difen) {
var o = i.difen;
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = o;
for (var h = 0; h < this.difenArr.length; h++) o == this.difenArr[h] && (this.index = h);
}
},
onBtnYa: function() {
var e = !1;
switch (cc.vv.utils.toggleChecked(this.node.getChildByName("ya"))) {
case "guding":
e = !0;
}
this.node.getChildByName("feng").active = e;
},
btn_tuoguan_click_event: function(e, i) {
var t = this.node.getChildByName("tuoguan").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "15" == a ? a = "20" : "20" == a ? a = "30" : "30" == a ? a = "60" : "60" == a ? a = "120" : "120" == a ? a = "不限" : "不限" == a && (a = "15") : "0" == i && ("15" == a ? a = "不限" : "20" == a ? a = "15" : "30" == a ? a = "20" : "60" == a ? a = "30" : "120" == a ? a = "60" : "不限" == a && (a = "120"));
t.getComponent(cc.Label).string = a;
},
btn_wanfa_click_event: function(e, i) {
var t = this.node.getChildByName("wanfa").getChildByName("num"), a = t.getComponent(cc.Label).string;
"1" == i ? "1" == a ? a = "2" : "2" == a ? a = "3" : "3" == a ? a = "不亮" : "不亮" == a && (a = "1") : "0" == i && ("1" == a ? a = "不亮" : "2" == a ? a = "1" : "3" == a ? a = "2" : "不亮" == a && (a = "3"));
t.getComponent(cc.Label).string = a;
},
btn_gudingfen_click_event: function(e, i) {
switch (e.target.name) {
case "add":
this.indexfeng += 1;
var t = this.gudingfenArr.length, a = this.gudingfenArr[this.indexfeng % t];
this.node.getChildByName("feng").getChildByName("num").getComponent(cc.Label).string = a;
break;

case "sub":
t = this.gudingfenArr.length;
this.indexfeng -= 1;
this.indexfeng < 0 && (this.indexfeng += t);
a = this.gudingfenArr[this.indexfeng % t];
this.node.getChildByName("feng").getChildByName("num").getComponent(cc.Label).string = a;
}
},
Config: function(e) {
var i, t = cc.vv.utils.toggleChecked(this.node.getChildByName("ju")), a = this.node.getChildByName("wanfa").getChildByName("num").getComponent(cc.Label).string, n = cc.vv.utils.toggleChecked(this.node.getChildByName("zhuang")), s = cc.vv.utils.toggleChecked(this.node.getChildByName("ya")), c = cc.vv.utils.toggleChecked(this.node.getChildByName("feng")), o = cc.vv.utils.toggleChecked(this.node.getChildByName("zhadan")), h = cc.vv.utils.toggleChecked(this.node.getChildByName("dijiuniangniang")), r = cc.vv.utils.toggleChecked(this.node.getChildByName("guizi")), l = cc.vv.utils.toggleChecked(this.node.getChildByName("tianwangjiu")), d = cc.vv.utils.toggleChecked(this.node.getChildByName("join")), g = this.node.getChildByName("tuoguan").getChildByName("num").getComponent(cc.Label).string, u = cc.vv.utils.toggleChecked(this.node.getChildByName("auto")), _ = [], v = this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string;
switch (t) {
case "12ju":
_.push("12局");
break;

default:
_.push("24局");
}
_.push("底分" + v);
g && "不限" != g && _.push(g + "秒下注");
switch (u) {
case "1":
_.push("自动摇色子");
}
switch (n) {
case "qiang":
_.push("抢庄");
break;

case "lun":
_.push("轮庄");
break;

case "fangzhu":
_.push("霸王庄");
}
"xuan" == s && (c = "0");
0 != c && _.push("固定" + c + "分");
switch (o) {
case "1":
_.push("炸弹");
}
switch (h) {
case "1":
_.push("地九娘娘");
}
switch (r) {
case "1":
_.push("鬼子");
}
switch (l) {
case "1":
_.push("天王九");
}
switch (d) {
case "yes":
_.push("中途加入");
break;

default:
d = "";
}
i = 15 == g ? 1 : 20 == g ? 2 : 30 == g ? 3 : 60 == g ? 4 : 120 == g ? 5 : 0;
a && "不亮" != a && _.push("庄家亮" + a + "张");
a && "不亮" == a && (a = "0");
return {
name: "zpj_2801",
title: "推小九",
desc: _,
ren: "4ren",
ju: t,
mingpai: a,
auto: u,
zhuang: n,
Gdfen: c,
typeZd: o,
typeDj: h,
typeGz: r,
typeTj: l,
tuoGuan: i,
difen: v,
join: d
};
},
onBtnClick: function(e, i) {
switch (e.target.name) {
case "add":
this.index += 1;
var t = this.difenArr.length, a = this.difenArr[this.index % t];
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = a;
break;

case "sub":
t = this.difenArr.length;
this.index -= 1;
this.index < 0 && (this.index += t);
a = this.difenArr[this.index % t];
this.node.getChildByName("difen").getChildByName("bg").getChildByName("difennum").getComponent(cc.Label).string = a;
}
}
});
cc._RF.pop();
}, {} ],
zuowei: [ function(e, i, t) {
"use strict";
cc._RF.push(i, "9f5c9ZJL6NCw7qtJnbCXE07", "zuowei");
cc.Class({
extends: cc.Component,
properties: {},
onLoad: function() {
cc.vv.zuowei = this;
},
start: function() {},
onBtnClick: function(e, i) {
var t = e.target.name, a = cc.vv.mahjongMgr.getSeatidByFangxiang(t);
switch (t) {
case "dong":
case "xi":
case "bei":
case "nan":
this.hideBtn();
cc.vv.net2.quick("sit", {
room_id: cc.vv.roomMgr.roomid,
location: cc.vv.global.latitude + "," + cc.vv.global.longitude,
sit: a
});
}
},
hideBtn: function() {
this.node.getChildByName("nan").active = !1;
this.node.getChildByName("bei").active = !1;
this.node.getChildByName("xi").active = !1;
this.node.getChildByName("dong").active = !1;
},
isActiveBtnone: function(e, i) {
this.node.getChildByName(e).active = 1 == i;
}
});
cc._RF.pop();
}, {} ]
}, {}, [ "Config", "ImageLoader", "IphoneX", "MainAction", "OnHide", "OnPop", "OnRemove", "Platform", "RunningTip", "DDZPoker", "DQPoker", "DSGPoker", "NNPoker", "TJDPai", "YSZPoker", "ZGZPoker", "KDMajiang", "TJDMajiang", "ZPJMajiang", "onSlideHide", "Alert", "DismissRoom", "DismissRoomItem", "HotUpdate", "IpCheck", "Kuaixun", "Loading", "LoadingTip", "Login", "Setting", "Share", "ShowPai", "Tip", "WaitingConnection", "AdminSet", "ApplyManage", "ClubAddAdm", "ClubAddPws", "ClubAliebiao", "ClubDetail", "ClubFriend", "ClubGameList", "ClubHistory", "ClubInputCode", "ClubInputPwz", "ClubInviteNotice", "ClubItem", "ClubMain", "ClubMaster", "ClubMember", "ClubMemberFriScroll", "ClubMemberItem", "ClubMemberList", "ClubMemberStaScroll", "ClubMemberStatus", "ClubMessage", "ClubNewRule", "ClubPwbItem", "ClubPwbList", "ClubPwz", "ClubRateTable", "ClubRoomItem", "ClubRoomList", "ClubRule", "ClubRuleSelect", "ClubSeat", "ClubSelectType", "ClubSetRule", "ClubSetting", "ClucRuleNameEdit", "JoinClub", "NoMaterUsersList", "NormalUsersList", "PwsRuleItem", "UserManager", "arrow", "baopai", "yaoshaizi", "ClubLayer", "CreateRoom", "CreateRoomRule", "Feedback", "GameHelp", "GameInAddPwb", "HIstoryItem", "History", "JoinRoom", "Message", "MessageContent", "MessageItem", "MoreGame", "MyInfo", "OpenExChange", "PhoneBind", "PhoneLogin", "RealName", "Replay", "Shopping", "ShowUserInfo", "Tickct", "majiangTable", "zuowei", "OpenedItem", "OpenedRoom", "Chat", "ChatEmojiItem", "ChatQuickItem", "GoodLuck", "Inputpwb", "Location", "MJReportItem", "MJReportItemThreeOther", "MJReportItemThreeSelf", "Ready", "ReportItem", "ReportItemMin", "RoomHub", "SView_tips", "Seat", "Table", "UserInfo", "gameWanfa", "ThreeListenCard", "BZQGame", "ListenCard", "MahjongFolds", "MahjongMgr", "MahjongPengGangs", "MahjongReplayMgr", "MahjongTimePointer", "PDKGame", "ReplayCtrl", "BZQBaiPai", "DDZ1800Const", "DDZ1800Game", "DDZ1800Mgr", "DDZ1800ReplayMgr", "DDZ1801Const", "DDZ1801Game", "DDZ1801Mgr", "DDZ1801ReplayMgr", "DDZ1803Const", "DDZ1803Game", "DDZ1803Mgr", "DDZ1803ReplayMgr", "ddz_1800_config", "ddz_1801_config", "ddz_1803_config", "DQ2700Const", "DQ2700Game", "DQ2700Mgr", "DQ2700ReplayMgr", "dq_2700_config", "dq_ReportItem", "DSG2100Const", "DSG2100Game", "DSG2100Mgr", "DSG2100ReplayMgr", "DSG2101Const", "DSG2101Game", "DSG2101Mgr", "DSG2101ReplayMgr", "dsg_2100_config", "dsg_2101_config", "GSJ2500Const", "GSJ2500Folds", "GSJ2500Game", "GSJ2500Mgr", "GSJ2500ReplayMgr", "gsj_2500_config", "HS3100Const", "HS3100Folds", "HS3100Game", "HS3100Mgr", "HS3100ReplayMgr", "hs_3100_config", "KD1700Const", "KD1700Folds", "KD1700Game", "KD1700Mgr", "KD1700ReplayMgr", "KD1702Const", "KD1702Folds", "KD1702Game", "KD1702Mgr", "KD1702ReplayMgr", "kd_1700_2_config", "kd_1700_3_config", "kd_1700_4_config", "kd_1702_config", "NN1000Const", "NN1000Game", "NN1000Mgr", "NN1000ReplayMgr", "NN1001Const", "NN1001Game", "NN1001Mgr", "NN1001ReplayMgr", "NN1002Const", "NN1002Game", "NN1002Mgr", "NN1002ReplayMgr", "NN1003Const", "NN1003Game", "NN1003Mgr", "NN1003ReplayMgr", "nn_1000_config", "nn_1001_config", "nn_1002_config", "nn_1003_config", "PDK1900Const", "PDK1900Game", "PDK1900Mgr", "PDK1900ReplayMgr", "pdk_1900_config", "RA1910Const", "RA1910Folds", "RA1910Game", "RA1910Mgr", "RA1910ReplayMgr", "ra_1910_2_config", "ra_1910_3_config", "ra_1910_4_config", "SSZ1100Game", "SSZBaiPai", "SSZBaiPaiCard", "TableCardAttri", "ssz_1100_config", "watch_list_view", "TDH1600Const", "TDH1600Folds", "TDH1600Game", "TDH1600Mgr", "TDH1600ReplayMgr", "tdh_1600_2_config", "tdh_1600_3_config", "tdh_1600_4_config", "TJD1300Const", "TJD1300Game", "TJD1300KiaPai", "TJD1300Mgr", "TJD1300ReplayMgr", "TJD1301Const", "TJD1301Game", "TJD1301Mgr", "TJD1301ReplayMgr", "TJDReportItem", "TJDXipai", "tjd_1300_config", "tjd_1301_config", "TTZ1400Const", "TTZ1400Game", "TTZ1400KiaPai", "TTZ1400Mgr", "TTZ1400ReplayMgr", "TTZ1401Const", "TTZ1401Game", "TTZ1401Mgr", "TTZ1401ReplayMgr", "TTZ1402Const", "TTZ1402Game", "TTZ1402KiaPai", "TTZ1402Mgr", "TTZ1402ReplayMgr", "ttz_1400_config", "ttz_1401_config", "ttz_1402_config", "YSZ2300Const", "YSZ2300Game", "YSZ2300Mgr", "YSZ2300ReplayMgr", "baozi_action", "ysz_2300_config", "ysz_ReportItem", "ZGZ3300Const", "ZGZ3300Game", "ZGZ3300Mgr", "ZGZ3300ReplayMgr", "zgz_3300_config", "zgz_ReportItem", "ZPJ2800Const", "ZPJ2800Game", "ZPJ2800Mgr", "ZPJ2800ReplayMgr", "ZPJXipai", "zpj_2800_config", "zpj_2801_config", "ClubLogic", "HallLogic", "LoginLogic", "SplashLogic", "AudioMgr", "Breathinglamp", "GameClubMgr", "GameNetMgr", "PopMgr", "RoomMgr", "ScrollViewMgr", "TempDataMgr", "UserMgr", "VoiceMgr", "FitSize", "G3Plugin", "GameConst", "Global", "HTTP", "List", "ListItem", "Log", "MD5", "Net", "Utils" ]);